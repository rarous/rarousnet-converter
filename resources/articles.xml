<?xml version="1.0" encoding="UTF-8" ?>
<articles>
  <article>
    <id>1</id>
    <title>Vítejte</title>
    <description>Připoutejte se, začínáme.</description>
    <html xml:space="preserve">
&lt;p&gt;Tak po týdnu jsem konečně dokončil práce na rozšiřování mého
redakčního systému Gryphoon pro potřeby blogu. Oproti minulé verzi
přibyla možnost komentovat příspěvky, může přispívat více autorů,
vytvořil jsem archiv článků a dodělal další drobnosti. Ještě mi
zbývá udělat pořádný editor příspěvků a rozšířit možnosti editoru
komentářů.&lt;/p&gt;

&lt;p&gt;Mám přislíbenu spoluúčast mých kamarádů na obsahu blogu, takže by se
zde měly objevit pestřejší témata, než jen ta má. Tak přeji nám hodně
štěstí a ať se staneme pro pár lidí oblíbenými.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Tak po týdnu jsem konečně dokončil práce na rozšiřování mého redakčního systému Gryphoon pro potřeby blogu. Oproti minulé verzi přibyla možnost komentovat příspěvky, může přispívat více autorů, vytvořil jsem archiv článků a dodělal další drobnosti. Ještě mi zbývá udělat pořádný editor příspěvků a rozšířit možnosti editoru komentářů.

Mám přislíbenu spoluúčast mých kamarádů na obsahu blogu, takže by se zde měly objevit pestřejší témata, než jen ta má. Tak přeji nám hodně štěstí a ať se staneme pro pár lidí oblíbenými.</raw>
    <author>Aleš Roubíček</author>
    <published>2004-02-14T10:00:00</published>
    <url>vitejte</url>
    <category>Gryphoon</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>2</id>
    <title>Nikola v Hegeši</title>
    <description>Návštěva Hegeše se zdařila.</description>
    <html xml:space="preserve">
&lt;p&gt;Včera jsem po dlouhé době navštívil &lt;a
href="http://www.discoheges.cz"&gt;Hegeš&lt;/a&gt;. Je to diskotéka Honzy Bažanta
v&amp;#160;Janově Dole. Hostem večera byla zpěvačka Nikola. Díky tomu tam bylo
docela narváno. Přišli i&amp;#160;někteří spolužáci ze základky, a tak
jsme si docela dobře popovídali. Vždyť jsem je od července neviděl.&lt;/p&gt;

&lt;p&gt;Nikola mě docela překvapila, je to docela milá holka, a ani není tak
vyzáblá jak to vypadá v&amp;#160;televizi. Zazpívala asi šest písniček, pak
udělala karaoke soutěž na píseň šedá. Byl to docela děs. Přihlásili
se tři vožralí chlapci, kteří ani neznali slova a do melodie se vůbec
netrefili :) Bylo slyšet akorát jalové bučení &amp;#8222;šedá, šš
šedá&amp;#8220;&amp;#8230;&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Včera jsem po dlouhé době navštívil Hegeš:[http://www.discoheges.cz]. Je to diskotéka Honzy Bažanta v Janově Dole. Hostem večera byla zpěvačka Nikola. Díky tomu tam bylo docela narváno. Přišli i někteří spolužáci ze základky, a tak jsme si docela dobře popovídali. Vždyť jsem je od července neviděl.

Nikola mě docela překvapila, je to docela milá holka, a ani není tak vyzáblá jak to vypadá v televizi. Zazpívala asi šest písniček, pak udělala karaoke soutěž na píseň šedá. Byl to docela děs. Přihlásili se tři vožralí chlapci, kteří ani neznali slova a do melodie se vůbec netrefili :) Bylo slyšet akorát jalové bučení "šedá, šš šedá"...
</raw>
    <author>Aleš Roubíček</author>
    <published>2004-02-14T14:00:00</published>
    <url>nikola-v-hegesi</url>
    <category>Muzika</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>3</id>
    <title>Mimořádná schůze</title>
    <description>Výsledky mimořádné schůze SDH Druzcov.</description>
    <html xml:space="preserve">
&lt;p&gt;Tak jsem dneska pořádal Mimořádnou členskou schůzi SDH jehož jsem
jednatelem. Podle očekávání skoro nikdo nepřišel. Sešlo se nás jen
pět. Vymysleli jsme aspoň předběžné datum, kdy budeme pořádat
výroční soutěž, když slavíme těch &lt;strong&gt;140 let&lt;/strong&gt; od
založení.&lt;/p&gt;

&lt;p&gt;Snad se mi příští schůze povede lépe, doufejme že taky někdo
přijde.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Tak jsem dneska pořádal Mimořádnou členskou schůzi SDH jehož jsem jednatelem. Podle očekávání skoro nikdo nepřišel. Sešlo se nás jen pět. Vymysleli jsme aspoň předběžné datum, kdy budeme pořádat výroční soutěž, když slavíme těch **140 let** od založení.

Snad se mi příští schůze povede lépe, doufejme že taky někdo přijde.</raw>
    <author>Aleš Roubíček</author>
    <published>2004-02-14T18:00:00</published>
    <url>mimoradna-schuze</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>5</id>
    <title>Materiály</title>
    <description>Dnes jsem započal soustavné učení se na zkoušku.</description>
    <html xml:space="preserve">
&lt;p&gt;Dnes jsem započal soustavné učení se na zkoušku z&amp;#160;materiálů. Je
to opravdu záživná látka, ale musí to být, jinak se nedostanu na
toužený obor, viď. No mám na to ještě šest dnů, tak snad ve mě něco
uvízne. Dneska jsem provedl další interní změny v&amp;#160;Gryphoonu, tak jsem
zvědav, jak to bude fungovat :)&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Dnes jsem započal soustavné učení se na zkoušku z materiálů. Je to opravdu záživná látka, ale musí to být, jinak se nedostanu na toužený obor, viď. No mám na to ještě šest dnů, tak snad ve mě něco uvízne. Dneska jsem provedl další interní změny v Gryphoonu, tak jsem zvědav, jak to bude fungovat :)</raw>
    <author>Aleš Roubíček</author>
    <published>2004-02-16T18:31:46</published>
    <url>materialy</url>
    <category>Škola</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>6</id>
    <title>Od Frontpage k Dreamweaveru</title>
    <description>Promo akce k vydání MX 2004</description>
    <html xml:space="preserve">
&lt;p&gt;Náhodou jsem narazil na &lt;a
href="http://www.adobe.com/devnet/dreamweaver/articles/frontpage_to_dw8_05.html"&gt;článek&lt;/a&gt;,
kde se radí jak bezbolestně přejít z Frontpage na nový Dreamweaver. Já
osobně jsem si na Frontpage nikdy nezvykl, připadá mi jako Word a ten není
pro dělání stránek to nejvhodnější. No nebudu nikomu nic vnucovat, ať si
každý dělá, v čem se mu chce, ale já nedám na Dreama dopustit.&lt;/p&gt;

&lt;p&gt;Teď se dokonce dá verze MX &lt;a
href="http://obchod.digitalmedia.cz/eshop/produkt.aspx?id=ADDWW090C10"&gt;koupit&lt;/a&gt;
spolu s Fireworksem a Flashem za 6 390 Kč bez daně, což je oproti
samotnému MX 2004 za polovinu. Opravdu přesvědčivé.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Náhodou jsem narazil na "článek":[migration], kde se radí jak bezbolestně přejít z Frontpage na nový Dreamweaver. Já osobně jsem si na Frontpage nikdy nezvykl, připadá mi jako Word a ten není pro dělání stránek to nejvhodnější. No nebudu nikomu nic vnucovat, ať si každý dělá, v čem se mu chce, ale já nedám na Dreama dopustit.

Teď se dokonce dá verze MX "koupit":[shop] spolu s Fireworksem a Flashem za 6 390 Kč bez daně, což je oproti samotnému MX 2004 za polovinu. Opravdu přesvědčivé.

[migration]: http://www.adobe.com/devnet/dreamweaver/articles/frontpage_to_dw8_05.html
[shop]: http://obchod.digitalmedia.cz/eshop/produkt.aspx?id=ADDWW090C10</raw>
    <author>Aleš Roubíček</author>
    <published>2004-02-18T09:13:00</published>
    <url>od-frontpage-k-dreamweaveru</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-04-19T18:30:59.287</edited>
  </article>
  <article>
    <id>7</id>
    <title>Zkoušky</title>
    <description>Výsledek mých zkoušek.</description>
    <html xml:space="preserve">
&lt;p&gt;Konečně mám za sebou zkoušky, v&amp;#160;pondělí jsem udělal obávané
materiály za tři. No skoro jsem dostal za dvě, ale nevzpomněl jsem si, co
je BHmax.&lt;/p&gt;

&lt;p&gt;Taky už jsem konečně dostal bydlení na koleji – na Orlíku.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Konečně mám za sebou zkoušky, v pondělí jsem udělal obávané materiály za tři. No skoro jsem dostal za dvě, ale nevzpomněl jsem si, co je BHmax.

Taky už jsem konečně dostal bydlení na koleji – na Orlíku.</raw>
    <author>Aleš Roubíček</author>
    <published>2004-02-28T09:00:00</published>
    <url>zkousky</url>
    <category>Škola</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>8</id>
    <title>Last week</title>
    <description>O mojí poslední práci.</description>
    <html xml:space="preserve">
&lt;p&gt;Za poslední týden jsem předělal úvodní stránku &lt;a
href="http://druzcov.wz.cz/"&gt;druzcovských stránek&lt;/a&gt;, vypozoroval jsem
zmenšení na 25% z původní velikosti tabulkového layoutu. Tak teď už snad
mám všechno ve stylech.&lt;/p&gt;

&lt;p&gt;Co mě ale pořád straší je &lt;a
href="http://www.osecna.info/"&gt;Osečná&lt;/a&gt;. Tam mě ještě pořád čeká dost
práce. Ale snad to bude stát za to. Můžu tam dobře zužitkovat zkušenosti,
které jsem získal při vývoji tohoto webu, který už mám z 95%
hotový.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Za poslední týden jsem předělal úvodní stránku "druzcovských stránek":[druzcov], vypozoroval jsem zmenšení na 25% z původní velikosti tabulkového layoutu. Tak teď už snad mám všechno ve stylech.

Co mě ale pořád straší je [osecna]. Tam mě ještě pořád čeká dost práce. Ale snad to bude stát za to. Můžu tam dobře zužitkovat zkušenosti, které jsem získal při vývoji tohoto webu, který už mám z 95% hotový.

[druzcov]: http://druzcov.wz.cz/
[osecna]: http://www.osecna.info/ Osečná</raw>
    <author>Aleš Roubíček</author>
    <published>2004-02-28T20:00:00</published>
    <url>last-week</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-04-19T18:31:37.130</edited>
  </article>
  <article>
    <id>9</id>
    <title>Nová MobilMania</title>
    <description>Nepovedený redesign Mobilmánie.</description>
    <html xml:space="preserve">
&lt;p&gt;Po delší době jsem navštívil stránky &lt;a
href="http://www.mobilmania.cz"&gt;mobilmánie&lt;/a&gt; a užasl jsem. Pravděpodobně
je předělali do stylů, nebo co to mělo znamenat? Když pominu milion DIVů
a tabulkovou hlavičku, tak ten web hodně ztratil na přístupnosti. Ta
minulá verze byla opravdu mnohem použitelnější a nejde jen o&amp;#160;nezvyk.
Jestli se autoři snažili o&amp;#160;něco, co se stalo na &lt;a
href="http://mobil.idnes.cz"&gt;Mobil.cz&lt;/a&gt;, tak se jim to opravdu nepovedlo, to
nemají na nějakého profíka? Znám plno amatérských webů, které, jsou na
mnohem větší úrovni.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Po delší době jsem navštívil stránky "mobilmánie":[mmania] a užasl jsem. Pravděpodobně je předělali do stylů, nebo co to mělo znamenat? Když pominu milion DIVů a tabulkovou hlavičku, tak ten web hodně ztratil na přístupnosti. Ta minulá verze byla opravdu mnohem použitelnější a nejde jen o nezvyk. Jestli se autoři snažili o něco, co se stalo na [mobil], tak se jim to opravdu nepovedlo, to nemají na nějakého profíka? Znám plno amatérských webů, které, jsou na mnohem větší úrovni.

[mmania]: http://www.mobilmania.cz
[mobil]: http://mobil.idnes.cz Mobil.cz</raw>
    <author>Aleš Roubíček</author>
    <published>2004-03-04T10:00:00</published>
    <url>nova-mobilmania</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>10</id>
    <title>GiGi RuleZ (aktualizace)</title>
    <description>Gigi vydává dva nové singly.</description>
    <html xml:space="preserve">
&lt;p&gt;Tak jsem se dnes &lt;a
href="http://www.scody.net/ggdag/forum/topic.asp?TOPIC_ID=13540"&gt;dočetl&lt;/a&gt;,
že &lt;a href="http://www.gigidagostino.com"&gt;Gigi D'Agostino&lt;/a&gt; bude vydávat
další singl &amp;#8211; Complex (visione Inedita) &amp;#8211; a na singlu mají být
další čtyři nové tracky. Tak jsem zvědav. Vyjít by měla 23.&amp;#160;3.
společně s&amp;#160;&lt;strong&gt;Con il nastro rosa&lt;/strong&gt;, kterou Gigi remixoval
společně s&amp;#160;&lt;a href="http://www.molella.com"&gt;Molellou&lt;/a&gt;. Ta bude mít
6&amp;#160;tracků &amp;#8211; dva mixy od Gigiho a jeden od Mollyho a jejich rádio
verze.&lt;/p&gt;

&lt;h3&gt;Oprava&lt;/h3&gt;

&lt;p&gt;Tak Complex ještě není nový singl, ale MediaRecords vydávají sampler,
na kterém budou tyto tracky:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Gigi D'Agostino &amp;#8211; Complex (Versione Inedita)&lt;/li&gt;

	&lt;li&gt;Gipsy &amp;#8211; Gipsy (Original mix)&lt;/li&gt;

	&lt;li&gt;Tom Neville &amp;#8211; Just fuck (Deep down dirty original mix)&lt;/li&gt;

	&lt;li&gt;Mario Piu &amp;#8211; Champ Elysées (Plus mix)&lt;/li&gt;

	&lt;li&gt;Cappella &amp;#8211; Angel (Mas mix)&lt;/li&gt;
&lt;/ol&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Tak jsem se dnes "dočetl":[forum], že [gigi] bude vydávat další singl - Complex (visione Inedita)  -  a na singlu mají být další čtyři nové tracky. Tak jsem zvědav. Vyjít by měla 23. 3. společně s **Con il nastro rosa**, kterou Gigi remixoval společně s "Molellou":[molella]. Ta bude mít 6 tracků - dva mixy od Gigiho a jeden od Mollyho a jejich rádio verze.

== Oprava

Tak Complex ještě není nový singl, ale MediaRecords vydávají sampler, na kterém budou tyto tracky:

1) Gigi D'Agostino - Complex (Versione Inedita)
2) Gipsy - Gipsy (Original mix)
3) Tom Neville - Just fuck (Deep down dirty original mix)
4) Mario Piu - Champ Elysées (Plus mix)
5) Cappella - Angel (Mas mix)

[forum]: http://www.scody.net/ggdag/forum/topic.asp?TOPIC_ID=13540
[gigi]: http://www.gigidagostino.com Gigi D'Agostino
[molella]: http://www.molella.com
[mediarec]: http://www.mediarec.it

</raw>
    <author>Aleš Roubíček</author>
    <published>2004-03-18T21:00:00</published>
    <url>gigi-rulez-aktualizace</url>
    <category>Muzika</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>12</id>
    <title>Zajímavé čtení</title>
    <description>Pár tipů na dobré čtení.</description>
    <html xml:space="preserve">
&lt;p&gt;Na DevNetu vyšly zajímavé články pro webdesignery začínající
s CSS.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a
	href="http://www.adobe.com/devnet/dreamweaver/articles/css_gradually.html"&gt;Gradually
	Implementing CSS in Your Site&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a
	href="http://www.adobe.com/macromedia/events/max/sessions/sa302w.html"&gt;CSS
	Killer Tips for Dreamweaver&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Dále na intervalu vyšel článek o tvorbě layoutu, i když s nim
úplně nesouhlasím, tak je to zajímavé čtení.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a
	href="http://interval.cz/clanky/tvorba-layoutu-webu-teoreticky-uvod/"&gt;Tvorba
	layoutu webu – teoretický úvod&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a
	href="http://interval.cz/clanky/tvorba-layoutu-webu-prakticky-prehled/"&gt;Tvorba
	layoutu webu – praktický přehled&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;No a teď už jdu radši na Tělocvik. Nejen čtením živ je člověk.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Na DevNetu vyšly zajímavé články pro webdesignery začínající s CSS.

- [gradually]
- [killer]

Dále na intervalu vyšel článek o tvorbě layoutu, i když s nim úplně nesouhlasím, tak je to zajímavé čtení.

- [teorie]
- [praxe]

No a teď už jdu radši na Tělocvik. Nejen čtením živ je člověk.

[gradually]: http://www.adobe.com/devnet/dreamweaver/articles/css_gradually.html Gradually Implementing CSS in Your Site
[killer]: http://www.adobe.com/macromedia/events/max/sessions/sa302w.html CSS Killer Tips for Dreamweaver
[teorie]: http://interval.cz/clanky/tvorba-layoutu-webu-teoreticky-uvod/ Tvorba layoutu webu - teoretický úvod
[praxe]: http://interval.cz/clanky/tvorba-layoutu-webu-prakticky-prehled/ Tvorba layoutu webu - praktický přehled</raw>
    <author>Aleš Roubíček</author>
    <published>2004-03-18T09:00:00</published>
    <url>zajimave-cteni</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-04-19T18:38:44.583</edited>
  </article>
  <article>
    <id>13</id>
    <title>Maturitní ples SPŠ SE</title>
    <description>Report z akce.</description>
    <html xml:space="preserve">
&lt;p&gt;26. března jsme byli na plese SPŠ SE v&amp;#160;Liberci, jako její absolventi
jsme se tam po roce opět sešli a to docela v&amp;#160;hojném počtu. Nálada
byla, myslím, skvělá a určitě jsme si to užili mnohem lépe než
loni.&lt;/p&gt;

&lt;p&gt;Pro ty, co tam nebyli, tu mám nějaký &lt;a
href="http://www.pslib.cz/podrobne.php?id=237"&gt;fotky na serveru prumky&lt;/a&gt; a na
&lt;a
href="http://pluto.pslib.cz/malym/fotky/spsse/?show=2004-03-maturitak04"&gt;Mikově
webu&lt;/a&gt;.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">26. března jsme byli na plese SPŠ SE v Liberci, jako její absolventi jsme se tam po roce opět sešli a to docela v hojném počtu. Nálada byla, myslím, skvělá a určitě jsme si to užili mnohem lépe než loni.

Pro ty, co tam nebyli, tu mám nějaký "fotky na serveru prumky":[sorm] a na "Mikově webu":[mike].

[sorm]: http://www.pslib.cz/podrobne.php?id=237
[mike]: http://pluto.pslib.cz/malym/fotky/spsse/?show=2004-03-maturitak04</raw>
    <author>Aleš Roubíček</author>
    <published>2004-04-20T10:00:00</published>
    <url>maturitni-ples-sps-se</url>
    <category>Škola</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>14</id>
    <title>VeLiKoNoCe</title>
    <description>Malé Velikonoční povídání.</description>
    <html xml:space="preserve">
&lt;p&gt;Už je tomu tak, Velikonoce máme, někteří více, někteří méně,
úspěšně za sebou. U&amp;#160;nás se určitě povedly a díky plánovanému
hospodaření s&amp;#160;alkoholem nebylo moc lidí, kteří by boj neustáli.
Jeden se ale našel &amp;#8211; Aleš Hrdina, ten co toho vydrží nejvíc &amp;#8211;
a neustál.&lt;/p&gt;

&lt;p&gt;Plán byl jasný, já jsem pít nemohl, protože jsem jel odpoledne busem na
kolej a Martin pro změnu řídil, opili jsme se tedy už v&amp;#160;neděli :)
Uspořádal jsem v&amp;#160;klubovně hasičárny malou sešlost, která se nakonec
rozrostla ve větší party. Lůďa koupil ňáký vína, já donesl slivku,
Pepa něco, Martin něco a už to bylo. Brrr.&lt;/p&gt;

&lt;p&gt;Hráli jsme prší a kdo prohrál, musel chlastat :) No já u&amp;#160;toho
ještě topil, tak jsem ji měl hned. Lůďa vzal ještě ňákej hipec a
mostecký systémy a jelo se až do rána. Myslím, že tolik lidí
s&amp;#160;kocovinou nikdy na koledu ještě nešlo. A&amp;#160;co vy, &lt;strong&gt;jaký
byly Velikonoce?&lt;/strong&gt;&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Už je tomu tak, Velikonoce máme, někteří více, někteří méně, úspěšně za sebou. U nás se určitě povedly a díky plánovanému hospodaření s alkoholem nebylo moc lidí, kteří by boj neustáli. Jeden se ale našel - Aleš Hrdina, ten co toho vydrží nejvíc - a neustál.

Plán byl jasný, já jsem pít nemohl, protože jsem jel odpoledne busem na kolej a Martin pro změnu řídil, opili jsme se tedy už v neděli :) Uspořádal jsem v klubovně hasičárny malou sešlost, která se nakonec rozrostla ve větší party. Lůďa koupil ňáký vína, já donesl slivku, Pepa něco, Martin něco a už to bylo. Brrr.

Hráli jsme prší a kdo prohrál, musel chlastat :) No já u toho ještě topil, tak jsem ji měl hned. Lůďa vzal ještě ňákej hipec a mostecký systémy a jelo se až do rána. Myslím, že tolik lidí s kocovinou nikdy na koledu ještě nešlo. A co vy, **jaký byly Velikonoce?**</raw>
    <author>Aleš Roubíček</author>
    <published>2004-04-20T18:40:00</published>
    <url>velikonoce</url>
    <category>Kamarádi</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>15</id>
    <title>ADSL a Tiscali</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Služba ADSL je u&amp;#160;nás již pěknou chvilku. Existuje řada providerů
&amp;#8211; od Českého telecomu, přes GTS, Nextru, až třeba po
Tiscali&amp;#8230;&lt;/p&gt;

&lt;p&gt;Mám možnost pozorovat, jak se věci mají právě v&amp;#160;Tiscali, takže
své úvahy budu směřovat pouze k&amp;#160;této firmě. Pro Tiscali je stále
nejlepším zdrojem příjmů klasické připojení přes Dial-Up. ADSL, ač
jsou na něj solidní reklamy, je stále jen méněcennou službou.
A&amp;#160;podle toho tato služba taky vypadá. Připojení je pomalé(agregační
poměr je značný, takže na solidní brouzdání je nutná aspoň 1024),
spojení často vypadává a nakonec můj oblíbený problém s&amp;#160;Asus
routerem, který Tiscali prodává. Tento router funguje u&amp;#160;všech
providerů naprosto bezproblémově &amp;#8211; pouze u&amp;#160;Tiscali se seká,
zapomíná nastavení, nelze se na něj vůbec připojit, často na něm padá
synchronizace a mnoho dalších problémů&amp;#8230; To už se vůbec nezmiňuji
o&amp;#160;fair politice, která je zaměřena proti stahovačům&amp;#8230; (Pokud
budete stahovat moc(3GB/měsíc na 512), tak vám snížíme prioritu
paketů.)&lt;/p&gt;

&lt;p&gt;Závěrem snad jen tolik, že ADSL je dobrá myšlenka, pokud se ale
rozhodnete pro Tiscali, tak budete proklínat den, kdy Vás napadla :)&lt;/p&gt;

&lt;p&gt;Takže užívejte a nezuřte. :)&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Služba ADSL je u nás již pěknou chvilku. Existuje řada providerů - od Českého telecomu, přes GTS, Nextru, až třeba po Tiscali...

Mám možnost pozorovat, jak se věci mají právě v Tiscali, takže své úvahy budu směřovat pouze k této firmě. Pro Tiscali je stále nejlepším zdrojem příjmů klasické připojení přes Dial-Up. ADSL, ač jsou na něj solidní reklamy, je stále jen méněcennou službou. A podle toho tato služba taky vypadá. Připojení je pomalé(agregační poměr je značný, takže na solidní brouzdání je nutná aspoň 1024), spojení často vypadává a nakonec můj oblíbený problém s Asus routerem, který Tiscali prodává. Tento router funguje u všech providerů naprosto bezproblémově - pouze u Tiscali se seká, zapomíná nastavení, nelze se na něj vůbec připojit, často na něm padá synchronizace a mnoho dalších problémů... To už se vůbec nezmiňuji o fair politice, která je zaměřena proti stahovačům... (Pokud budete stahovat moc(3GB/měsíc na 512), tak vám snížíme prioritu paketů.)

Závěrem snad jen tolik, že ADSL je dobrá myšlenka, pokud se ale rozhodnete
pro Tiscali, tak budete proklínat den, kdy Vás napadla :)

Takže užívejte a nezuřte. :)
</raw>
    <author>jaques</author>
    <published>2004-04-22T09:16:55</published>
    <url>adsl-a-tiscali</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>19</id>
    <title>Gigi's Good Night</title>
    <description>Nový Gigiho singl.</description>
    <html xml:space="preserve">
&lt;p&gt;Pravě se mi do rukou dostal noví singl od &lt;a
href="http://www.ggdag.com/"&gt;Gigiho&lt;/a&gt;, spolupracoval na něm s&amp;#160;&lt;a
href="http://www.angelopandolfi.com/"&gt;Pandolfim&lt;/a&gt;. Je to opravdu výborná
práce, starej dobrej Gigi v&amp;#160;novým soundu. Do toho ještě perfektní
samply &lt;em&gt;Eins, Zwei Polizei&lt;/em&gt; a nádherný vokály. Prostě super. Tohle
musíte slyšet!&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Pravě se mi do rukou dostal noví singl od "Gigiho":[gigi], spolupracoval na něm s "Pandolfim":[pandolfi]. Je to opravdu výborná práce, starej dobrej Gigi v novým soundu. Do toho ještě perfektní samply *Eins, Zwei Polizei* a nádherný vokály. Prostě super. Tohle musíte slyšet!

[gigi]: http://www.ggdag.com/
[pandolfi]: http://www.angelopandolfi.com/</raw>
    <author>Aleš Roubíček</author>
    <published>2004-05-01T19:13:00</published>
    <url>gigis-good-night</url>
    <category>Muzika</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>20</id>
    <title>First May</title>
    <description>Něco slov o prvním máji.</description>
    <html xml:space="preserve">
&lt;p&gt;Včera bylo opravdu pěkně, po vydařených čarodějnicích, které jsme si
museli zorganizovat na poslední chvíli úplně sami, jsme prožili další
výborný den. Uklidili jsme u hřiště, hráli pinec a večer jsme pak šli
do &lt;a href="http://www.discodubnice.cz/"&gt;Dubnice&lt;/a&gt;. Tahákem večera byla &lt;a
href="http://www.verona-music.cz/"&gt;Verona&lt;/a&gt;, ale nějak moc extra to nebylo,
ukázali se tam tak na 25 min a zase letěli. Ale to je fuk :) Nechal jsem si
zahrát &lt;strong&gt;Gigi's Good Night&lt;/strong&gt; a myslím, že to mělo úspěch.
Možná budou i nějaký fotky.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Včera bylo opravdu pěkně, po vydařených čarodějnicích, které jsme si museli zorganizovat na poslední chvíli úplně sami, jsme prožili další výborný den. Uklidili jsme u hřiště, hráli pinec a večer jsme pak šli do [dubnice]. Tahákem večera byla [verona], ale nějak moc extra to nebylo, ukázali se tam tak na 25 min a zase letěli. Ale to je fuk :) Nechal jsem si zahrát **Gigi's Good Night** a myslím, že to mělo úspěch. Možná budou i nějaký fotky.

[dubnice]: http://www.discodubnice.cz/ Dubnice
[verona]: http://www.verona-music.cz/ Verona</raw>
    <author>Aleš Roubíček</author>
    <published>2004-05-02T19:12:00</published>
    <url>first-may</url>
    <category>Kamarádi</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-04-19T18:41:41.917</edited>
  </article>
  <article>
    <id>21</id>
    <title>Něco pro čtení</title>
    <description>Tipy pro čtení.</description>
    <html xml:space="preserve">
&lt;p&gt;Po dlouhé době vyšly na &lt;a href="http://interval.cz/"&gt;Intervalu&lt;/a&gt; zase
nějaké články, které mě zaujaly. Za prvé je to &lt;a
href="http://interval.cz/clanky/jak-psat-css-prehledne-a-logicky/"&gt;Jak psát CSS
přehledně a logicky&lt;/a&gt;, kde se dozvíte, jak byste mohli formátovat CSS, aby
bylo lépe čitelné. Déle je to článek &lt;a
href="http://interval.cz/clanky/webdesignerovy-poznamky-z-typografie/"&gt;Webdesignerovy
poznámky z typografie&lt;/a&gt;, který vás zasvětí do tajů webové typografie.
Doporučuji přečíst i hutnou diskusi k článku.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Po dlouhé době vyšly na Intervalu:[interval] zase nějaké články, které mě zaujaly. Za prvé je to [css], kde se dozvíte, jak byste mohli formátovat CSS, aby bylo lépe čitelné. Déle je to článek [typo], který vás zasvětí do tajů webové typografie. Doporučuji přečíst i hutnou diskusi k článku.

[interval]: http://interval.cz/
[css]: http://interval.cz/clanky/jak-psat-css-prehledne-a-logicky/ Jak psát CSS přehledně a logicky
[typo]: http://interval.cz/clanky/webdesignerovy-poznamky-z-typografie/ Webdesignerovy poznámky z typografie</raw>
    <author>Aleš Roubíček</author>
    <published>2004-05-29T21:06:01</published>
    <url>neco-pro-cteni</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-04-19T18:44:58.260</edited>
  </article>
  <article>
    <id>22</id>
    <title>WellStyled</title>
    <description>Pixy spustil svoje nové stránky.</description>
    <html xml:space="preserve">
&lt;p&gt;&lt;a href="http://www.pixy.cz/"&gt;Pixy&lt;/a&gt; spustil svoje nové stránky
s názvem &lt;a href="http://www.wellstyled.com/"&gt;WellStyled.com&lt;/a&gt;. Je to
studnice kvalitních řešení v CSS, vhodná jak pro začátečníky, tak
i pro inspiraci pokročilým. Web je zajímavě řešen v dvojjazyčné
podobě. Designově i obsahově je tedy web velice povedený a už ho mám
zabookmarkovaný.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">[pixy] spustil svoje nové stránky s názvem [wellstyled]. Je to studnice kvalitních řešení v CSS, vhodná jak pro začátečníky, tak i pro inspiraci pokročilým. Web je zajímavě řešen v dvojjazyčné podobě. Designově i obsahově je tedy web velice povedený a už ho mám zabookmarkovaný.

[pixy]: http://www.pixy.cz/ Pixy
[wellstyled]: http://www.wellstyled.com/ WellStyled.com</raw>
    <author>Aleš Roubíček</author>
    <published>2004-05-29T22:00:00</published>
    <url>wellstyled</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-04-19T18:45:23.950</edited>
  </article>
  <article>
    <id>23</id>
    <title>Zkoušky</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Přesto, že mám zkouškové období, upravuju tyhle stránky dál.
Dolaďuju nový styl a připravuju nový věci. Těd třeba jsem předělal a
zprovoznil sekci Školní práce, kde jsou zatím moje semestrálky.&lt;/p&gt;

&lt;p&gt;No a v&amp;#160;pondělí jsem dělal první zkoušku, byla z&amp;#160;Elektroniky a
dostal jsem za čtyři, takže to musim zkusit znovu. Co se dá dělat, už aby
byly prázdniny :) Ale do těch je ještě daleko.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Přesto, že mám zkouškové období, upravuju tyhle stránky dál. Dolaďuju nový styl a připravuju nový věci. Těd třeba jsem předělal a zprovoznil sekci Školní práce, kde jsou zatím moje semestrálky.

No a v pondělí jsem dělal první zkoušku, byla z Elektroniky a dostal jsem za čtyři, takže to musim zkusit znovu. Co se dá dělat, už aby byly prázdniny :) Ale do těch je ještě daleko.</raw>
    <author>Aleš Roubíček</author>
    <published>2004-06-10T11:51:45</published>
    <url>zkousky</url>
    <category>Škola</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>24</id>
    <title>Firefox</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Brzy má vyjít nová verze &lt;a href="http://firefox.czilla.cz/"&gt;Firefoxu&lt;/a&gt;
0.9. Tak jsem se podíval na release candidate. Hned mě překvapilo
zeštíhlení instalačního balíčku na 4,8&amp;#160;MiB, dále nový vzhled
Firefoxu. Nicméně mě nový vzled moc neuchvátil, líbí se mi více ten, co
má &lt;a href="http://www.opera.com/"&gt;Opera&lt;/a&gt; 7.51. No nevím jestli se
k&amp;#160;foxu vrátím, Opera si mě zatím drží svým IRC clientem a
některejma vychytávkama, bohužel zase ale nemá takovou personalizaci jako
Firefox. Doufám, že verze 1.0&amp;#160;bude tak vychytaná a že bude kombinovat
to nejlepší ze všech v&amp;#160;použitelném celku.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Brzy má vyjít nová verze "Firefoxu":[firefox] 0.9. Tak jsem se podíval na release candidate. Hned mě překvapilo zeštíhlení instalačního balíčku na 4,8 MiB, dále nový vzhled Firefoxu. Nicméně mě nový vzled moc neuchvátil, líbí se mi více ten, co má [opera] 7.51. No nevím jestli se k foxu vrátím, Opera si mě zatím drží svým IRC clientem a některejma vychytávkama, bohužel zase ale nemá takovou personalizaci jako Firefox. Doufám, že verze 1.0 bude tak vychytaná a že bude kombinovat to nejlepší ze všech v použitelném celku.

[firefox]: http://firefox.czilla.cz/
[opera]: http://www.opera.com/ Opera</raw>
    <author>Aleš Roubíček</author>
    <published>2004-06-10T10:00:00</published>
    <url>firefox</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>26</id>
    <title>Běžešelemovací řůčovičky</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;&lt;a
href="http://www.pixy.cz/blogg/clanky/bezeselemovaci-rucovicky.html"&gt;Běžešelemovací
řůčovičky&lt;/a&gt; je nová hra pro úspěšné SEO obdorníky, aby si dokázali
jak jsou dobří. Zbytečná ztráta času…&lt;/p&gt;

&lt;h3&gt;Update&lt;/h3&gt;

&lt;p&gt;Je zajímavé sledovat souboj na Googlu. Včera byl Pixy až na druhé
stránce, dnes už sedí na prvním místě, je vidět jakou podporu má
v české internetové komunitě. Takže pokud se Pixy do soutěže
něpřihlásí, pravděpodobně nebude mít soutěž žádného výherce na
prvním místě :)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">[rucovicky] je nová hra pro úspěšné SEO obdorníky, aby si dokázali jak jsou dobří. Zbytečná ztráta času...

== Update

Je zajímavé sledovat souboj na Googlu. Včera byl Pixy až na druhé stránce, dnes už sedí na prvním místě, je vidět jakou podporu má v české internetové komunitě. Takže pokud se Pixy do soutěže něpřihlásí, pravděpodobně nebude mít soutěž žádného výherce na prvním místě :)

[rucovicky]: http://www.pixy.cz/blogg/clanky/bezeselemovaci-rucovicky.html Běžešelemovací řůčovičky</raw>
    <author>Aleš Roubíček</author>
    <published>2004-08-18T20:00:00</published>
    <url>bezeselemovaci-rucovicky</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-04-19T18:48:57.203</edited>
  </article>
  <article>
    <id>28</id>
    <title>fireworks.help</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Jsem rád, že můžu blognout nový web, na který jsem narazil. Blognu ho
ale jedině pro to že opravdu stojí za to. Jedná se o &lt;a
href="http://fireworks.jakpsatweb.cz/"&gt;fireworks.help&lt;/a&gt;, velice užitečné
stránky, pro lidi, kteří – stejně jako já – dělají grafiku ve
Fireworksech. Najdete zde popis tří základních formátů pro web (GIF,
JPEG, PNG), popis práce s&amp;#160;nimi, doporučení jak dělat grafiku pro web a
samozřejmě také popis práce s&amp;#160;Firewoksem. Jen si to hezky přečtěte,
určitě to stojí za to…&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Jsem rád, že můžu blognout nový web, na který jsem narazil. Blognu ho ale jedině pro to že opravdu stojí za to. Jedná se o [fwhelp], velice užitečné stránky, pro lidi, kteří – stejně jako já – dělají grafiku ve Fireworksech. Najdete zde popis tří základních formátů pro web (GIF, JPEG, PNG), popis práce s nimi, doporučení jak dělat grafiku pro web a samozřejmě také popis práce s Firewoksem. Jen si to hezky přečtěte, určitě to stojí za to…

[fwhelp]: http://fireworks.jakpsatweb.cz/ fireworks.help</raw>
    <author>Aleš Roubíček</author>
    <published>2004-08-22T11:00:00</published>
    <url>fireworks-help</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>29</id>
    <title>Písky sutě</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Právě jsem pověsil aktualizaci stránek &lt;a
href="http://www.pisky-sute.cz/"&gt;Písky, sutě&lt;/a&gt; na web. Zároveň jsem
provedl registraci na seznamu, snad se brzo zaindexuje a bude mít dobrý
život. V semestru mi snad i zbyde trochu času, abych vytvořil nějakej
design.&lt;/p&gt;

&lt;p&gt;Tak tfuj, tfuj, tfuj, ať si tě Googlebot brzo najde…&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Právě jsem pověsil aktualizaci stránek [pisky] na web. Zároveň jsem provedl registraci na seznamu, snad se brzo zaindexuje a bude mít dobrý život. V semestru mi snad i zbyde trochu času, abych vytvořil nějakej design.

Tak tfuj, tfuj, tfuj, ať si tě Googlebot brzo najde…

[pisky]: http://www.pisky-sute.cz/ Písky, sutě </raw>
    <author>Aleš Roubíček</author>
    <published>2004-08-26T20:00:00</published>
    <url>pisky-sute</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-04-19T18:50:05.953</edited>
  </article>
  <article>
    <id>30</id>
    <title>Polemika o semantice</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Nedávno se na Well Done (&lt;a
href="http://hulan.info/blog/item/xhtml-a-semanticky-kod-versus-realita"&gt;http://hulan&amp;#173;.info/&amp;#8230;rsus-realita&lt;/a&gt;)
diskutovalo, zda je semanticky lepší řadit komentáře do DIVů nebo do
OL-LI číslovaného seznamu. Podle mě, je to ale plácání do vody…&lt;/p&gt;

&lt;p&gt;HTML, potažmo XHTML, není jazyk vytvořený k&amp;#160;tvoření webových
aplikací, nýbrž k&amp;#160;formátování (logickému členění)&amp;#160;textu a
jeho provázání pomocí hypertextových odkazů. To že se časem nabalily
k&amp;#160;HTML formuláře, aplety a jiné objekty je smutná realita. Pokud ale
někdo chce tvrdit že jeho webová aplikace je semanticky v&amp;#160;pořádku
(né-li nejlepší na webu), neberu ho vážně pokud je to celé čistě
v&amp;#160;XHTML. Na takové věci se mají používat XForms, RDF, a další
vhodnější XML aplikace.&lt;/p&gt;

&lt;p&gt;Jenže žijeme v&amp;#160;divné době, kdy toto nechápou ani výrobci
prohlížečů&amp;#160; (na těch záleží nejvíce), ani někteří rádoby
prorokové a guruové internetu. Ale až jednou budou tyto doporučení
fungovat v&amp;#160;praxi, můžeme se začít o&amp;#160;nějaké sémantice
bavit.&lt;/p&gt;

&lt;p&gt;Dnes ale mame jiné možnosti:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Dělat po &amp;#8222;staru&amp;#8220; a nedávat najevo nějakou svoji pochybnou
	dokonalost&lt;/li&gt;

	&lt;li&gt;Napsat si vlastní semanticky lepsi XML aplikace a ty pak používat spolu
	s&amp;#160;XHTML 1.1&amp;#160;a CSS, s&amp;#160;tím že asi budou problémy ve straších
	prohlížečích (IE6 je taky starej prohlížeč)&lt;/li&gt;

	&lt;li&gt;Bod č. 1 + Testovat a učit se nové metody, až příjde čas budou se
	hodit a kdo dřív příjde, ten dřív mele…&lt;/li&gt;
&lt;/ol&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Nedávno se na Well Done (http://hulan.info/blog/item/xhtml-a-semanticky-kod-versus-realita) diskutovalo, zda je semanticky lepší řadit komentáře do DIVů nebo do OL-LI číslovaného seznamu. Podle mě, je to ale plácání do vody…

HTML, potažmo XHTML, není jazyk vytvořený k tvoření webových aplikací, nýbrž k formátování (logickému členění)&amp;nbsp;textu a jeho provázání pomocí hypertextových odkazů. To že se časem nabalily k HTML formuláře, aplety a jiné objekty je smutná realita. Pokud ale někdo chce tvrdit že jeho webová aplikace je semanticky v pořádku (né-li nejlepší na webu), neberu ho vážně pokud je to celé čistě v XHTML. Na takové věci se mají používat XForms, RDF, a další vhodnější XML aplikace.

Jenže žijeme v divné době, kdy toto nechápou ani výrobci prohlížečů&amp;nbsp; (na těch záleží nejvíce), ani někteří rádoby prorokové a guruové internetu. Ale až jednou budou tyto doporučení fungovat v praxi, můžeme se začít o nějaké sémantice bavit.

Dnes ale mame jiné možnosti:

1) Dělat po "staru" a nedávat najevo nějakou svoji pochybnou dokonalost
2) Napsat si vlastní semanticky lepsi XML aplikace a ty pak používat spolu s XHTML 1.1 a CSS, s tím že asi budou problémy ve straších prohlížečích (IE6 je taky starej prohlížeč)
3) Bod č. 1 + Testovat a učit se nové metody, až příjde čas budou se hodit a kdo dřív příjde, ten dřív mele…</raw>
    <author>Aleš Roubíček</author>
    <published>2004-08-31T00:00:00</published>
    <url>polemika-o-semantice</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T15:58:28.500</edited>
  </article>
  <article>
    <id>31</id>
    <title>Jak umlčet 13 letou holku?</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Právě jsem na návštěvě u&amp;#160;strejdy, kterej má 13&amp;#160;letou dceru.
To je neštěstí&amp;#8230; Poradtě prosím někdo jak ji umlčet.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Právě jsem na návštěvě u strejdy, kterej má 13 letou dceru. To je neštěstí... Poradtě prosím někdo jak ji umlčet.</raw>
    <author>Aleš Roubíček</author>
    <published>2004-09-22T00:00:00</published>
    <url>jak-umlcet-13-letou-holku</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T15:52:22.130</edited>
  </article>
  <article>
    <id>32</id>
    <title>Nový styl</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Dneska jsem připravil nový styl pro tyhle stránky. Zátím je nastaven
jako alternativní a jen pro tuto stránku. Takže pokud máte &lt;a
href="http://www.mozilla.org/"&gt;Mozillu&lt;/a&gt; nebo &lt;a
href="http://www.opera.com/"&gt;Operu&lt;/a&gt;, zkuste se na to mrknou a hodit feedback
co je špatně, zatim to ještě ladim…&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Dneska jsem připravil nový styl pro tyhle stránky. Zátím je nastaven jako alternativní a jen pro tuto stránku. Takže pokud máte "Mozillu":[mozilla] nebo "Operu":[opera], zkuste se na to mrknou a hodit feedback co je špatně, zatim to ještě ladim...

[mozilla]: http://www.mozilla.org/
[opera]: http://www.opera.com/</raw>
    <author>Aleš Roubíček</author>
    <published>2004-10-16T00:00:00</published>
    <url>novy-styl</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-04-19T18:50:56.483</edited>
  </article>
  <article>
    <id>33</id>
    <title>Rychle a zběsile</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Určitě nikomu neuniklo, že včéra dávali na Nově film &lt;strong&gt;Rychle a
zběsile&lt;/strong&gt;. Bohužel je tento film důkazem toho, jak se dokáže
negativně podepsat dabing na kvalitě filmu. Originál je fakt dobrej, ale
dabing ho opravdu zničil. Nejen projev dabérů, ale i&amp;#160;některé hlášky
v&amp;#160;češtině mě doháněli k&amp;#160;slzám a v&amp;#160;půlce jsem to raději
vypnul a šel spát. Škoda&amp;#8230;&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Určitě nikomu neuniklo, že včéra dávali na Nově film **Rychle a zběsile**. Bohužel je tento film důkazem toho, jak se dokáže negativně podepsat dabing na kvalitě filmu. Originál je fakt dobrej, ale dabing ho opravdu zničil. Nejen projev dabérů, ale i některé hlášky v češtině mě doháněli k slzám a v půlce jsem to raději vypnul a šel spát. Škoda...</raw>
    <author>Aleš Roubíček</author>
    <published>2004-10-17T00:00:00</published>
    <url>rychle-a-zbesile</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T15:51:30.940</edited>
  </article>
  <article>
    <id>34</id>
    <title>Vzkaz</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Omlouvám se, že jsem dlouho nic nepsal, ale neměl jsem na to zrovna moc
času. V&amp;#160;poslední době mám docela dost práce:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Začal jsem učit na základní škole tvorbu webových stránek&lt;/li&gt;

	&lt;li&gt;Ve škole začíná být dusno. Začínaj se psát písemnky, musim
	dodělávat semestrálku ap.&lt;/li&gt;

	&lt;li&gt;Dělal jsem design &lt;a href="http://www.unierozhodcu.cz/"&gt;Unie rozhodců&lt;/a&gt;
	a předělal jsem kompletně design firemních stránek &lt;a
	href="http://pbsoftware.cz/"&gt;PB software&lt;/a&gt;, ještě se bude muset opravit
	pár chybyček v&amp;#160;XHTML a aktualizovat obsah, ale to už není moje práce
	:)&lt;/li&gt;
&lt;/ol&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Omlouvám se, že jsem dlouho nic nepsal, ale neměl jsem na to zrovna moc času. V poslední době mám docela dost práce:

1) Začal jsem učit na základní škole tvorbu webových stránek
2) Ve škole začíná být dusno. Začínaj se psát písemnky, musim dodělávat semestrálku ap.
3) Dělal jsem design "Unie rozhodců":[unie] a předělal jsem kompletně design firemních stránek "PB software":[pbs], ještě se bude muset opravit pár chybyček v XHTML a aktualizovat obsah, ale to už není moje práce :)

[unie]: http://www.unierozhodcu.cz/
[pbs]: http://pbsoftware.cz/</raw>
    <author>Aleš Roubíček</author>
    <published>2004-11-15T00:00:00</published>
    <url>vzkaz</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T15:51:08.300</edited>
  </article>
  <article>
    <id>35</id>
    <title>Šťastné a veselé</title>
    <description>Přeji šťastné a veselé prožití svátků Vánočních všem lidem dobré vůle i těm ostatním. </description>
    <html xml:space="preserve">
&lt;p&gt;Přeji šťastné a veselé prožití svátků Vánočních všem lidem
dobré vůle i&amp;#160;těm ostatním.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Přeji šťastné a veselé prožití svátků Vánočních všem lidem dobré vůle i těm ostatním. </raw>
    <author>Aleš Roubíček</author>
    <published>2004-12-24T00:00:00</published>
    <url>stastne-a-vesele</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T15:49:49.440</edited>
  </article>
  <article>
    <id>36</id>
    <title>Ale budu...</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Dnes ráno mě probudilo naléhavé zvonění telefonu. Chytli stopu
Winklyho. Winkly je bastard, který v posledním měsíci zabil čtyři lidi,
vysmíval se policii do obličeje a až do této chvíle nepozorovaně utíkal
silám zákona – nám. Proto Vás nepřekvapí, že jsem byl v autě za dvě
minuty dvacet sedm vteřin, nový rekord.&lt;/p&gt;

&lt;p&gt;Byla mlha. Dojel jsem před stanici, kde už na mě čekal můj kolega Phil,
který jen naskočil do auta a už jsme se podle jeho instrukcí řítili do
severní části města – přístav, jatka, skladiště – nic víc,
nic míň.&lt;/p&gt;

&lt;p&gt;Winklyho si všiml policista, kterému právě končila noční šichta –
ohlásil to a už mu skončila i ta životní šichta. To se k obětem
nepočítalo, už jen z loajality jednoho policisty k druhému. Winkly nás
měl na svědomí už necelý tucet.&lt;/p&gt;

&lt;p&gt;To, co přidávalo plyn, jak jsme to valili k přístavu jsem nebyl já, ale
moji dva nájemníci. Třímetrová hromada svalů s rudě podlitýma očima a
malá černooká postavička s obrovským sekáčkem na maso – Zuřivost a
Pomsta.&lt;/p&gt;

&lt;p&gt;Maják houkal hlasitěji, než jindy a jestli ne, tak v mé mysli určitě
ano. Malé kapky se začaly rozprskávat o přední sklo.&lt;/p&gt;

&lt;p&gt;Už jsme tam byli – celá oblast byla dokonale obklíčená nervózními
kolegy. Od bosse Remory jsem se dozvěděl, že on je tam někde uvnitř.
A také, že potřebuje dobrovolníka, který ho půjde tam dovnitř ulovit,
protože tohle nemůže nikomu nařídit – na inteligentního zabijáka
policistů Winklyho kalibru to prostě nejde.&lt;/p&gt;

&lt;p&gt;Co čekáte? Šel jsem a Phil se mnou.&lt;/p&gt;

&lt;p&gt;S vytaženými odjištěnými zbraněmi jsme opatrně pročesávali ulici za
ulicí. Nebylo jich tam moc a těch pár lidí, co tu pracovali už bylo za
bezpečnou hranicí policistů. Ale, zkuste postavit obranou zeď z balónků,
když je útočník ostrým špendlíkem.&lt;/p&gt;

&lt;p&gt;Pořádně se rozpršelo.&lt;/p&gt;

&lt;p&gt;Odhadoval jsem, že v přístavu asi není. Sklady byly zase dost
obyčejné. Zamířili jsme na jatka.&lt;/p&gt;

&lt;p&gt;Vešli jsme zadem. Smrdělo to tam tak, jak si to člověk na jatkách
představuje – zápach krve, krys a smrti. Prošli jsme kanceláře a
zamířili do vykonavatelny. A on tam byl. Chtělo se mi zvracet. Od pusy mu
ztékaly potůčky čerstvé krve.&lt;/p&gt;

&lt;p&gt;Naneštěstí stál hned vedle sloupu a během mžiku oka už byl za ním.
Ani Philův výstřel tomu nepomohl, netrefil.&lt;/p&gt;

&lt;p&gt;Během následujících dvou vteřin Phil vyběhl směrem k Winklymu,
snažil jsem se ho zadržet, ale marně, a jakmile se dostal ke sloupu, natáhl
obě ruce dopředu, upustil pistoli a zapotácel se zpět.&lt;/p&gt;

&lt;p&gt;Z hrudi mu koukal velký nůž. Tak jich má na svědomí už
celý tucet.&lt;/p&gt;

&lt;p&gt;Zatímco jsem držel Phila, Winkly utekl. Žádné slzy, žádné útěchy.
Jen dva páry očí, mluvící o tom stejném.&lt;/p&gt;

&lt;p&gt;Malému nájemníkovi se zvětšil a otupil nástroj. Tak to víc bolí.&lt;/p&gt;

&lt;p&gt;Vyrazil jsem jeho směrem. A měl jsem štěstí, schovával se za velkou
bednou uprostřed obrovské prázdné místnosti. Až doteď se mu dařila
taktika: Schovej se tam, kde tě budou hledat nejdřív. Ale tentokrát mu to
nevyšlo, hledal jsem ho tam.&lt;/p&gt;

&lt;p&gt;A teď klečí dva metry přede mnou s rukama za hlavou, na kterou
mu mířím.&lt;/p&gt;

&lt;p&gt;„Tak, a teď jste mě dostal. Cha, chá!“ zasmál se. „Dostal! Mě!
Cha, chá! Sám víte, že mě nedostane nikdo, když to nechci,
cha, chá!“&lt;/p&gt;

&lt;p&gt;V tom se nad námi propadl strop a místnost počal zavlažovat hustý
déšť.Na nás nespadlo nic, jen okolo pár palubek a krytiny.&lt;/p&gt;

&lt;p&gt;Ale on se nepohnul – nevyužil šance.&lt;/p&gt;

&lt;p&gt;Začala se mi třást ruka. Obrovitý nájemník mi trhal uši
svým řevem.&lt;/p&gt;

&lt;p&gt;„Ale ne, vy mě nezabijete, nemáte na to. Cha, chá!“&lt;/p&gt;

&lt;p&gt;Nebudu, jako on, nezabiju ho. Nejsem vrah, to on. Stal bych se jím. A to
nechci. Nebudu jako on.&lt;/p&gt;

&lt;p&gt;„Cha, chá!“ smál se pronikavým smíchem, který mi před očima
promítal všech dvanáct kolegů. Klečel tam v mokrém bahně a
smál se.&lt;/p&gt;

&lt;p&gt;Nebudu jako on.&lt;/p&gt;

&lt;p&gt;Velký nájemník přestal nechápavě křičet a ten druhý ho poslal pryč.
Teď jsme tady jen mi tři. Černooké postavičce se rozkýval sekáček
v rukou. Nebudu jako on.&lt;/p&gt;

&lt;p&gt;Také jsem se usmál.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Dnes ráno mě probudilo naléhavé zvonění telefonu. Chytli stopu
Winklyho. Winkly je bastard, který v posledním měsíci zabil čtyři lidi, vysmíval se policii do obličeje a až do této chvíle nepozorovaně utíkal silám zákona – nám. Proto Vás nepřekvapí, že jsem byl v autě za dvě minuty dvacet sedm vteřin, nový rekord.

Byla mlha. Dojel jsem před stanici, kde už na mě čekal můj kolega Phil, který jen naskočil do auta a už jsme se podle jeho instrukcí řítili do severní části města – přístav, jatka, skladiště – nic víc, nic míň.

Winklyho si všiml policista, kterému právě končila noční šichta – ohlásil to a už mu skončila i ta životní šichta. To se k obětem nepočítalo, už jen z loajality jednoho policisty k druhému. Winkly nás měl na svědomí už necelý tucet.

To, co přidávalo plyn, jak jsme to valili k přístavu jsem nebyl já, ale moji dva nájemníci. Třímetrová hromada svalů s rudě podlitýma očima a malá černooká postavička s obrovským sekáčkem na maso – Zuřivost a Pomsta.

Maják houkal hlasitěji, než jindy a jestli ne, tak v mé mysli určitě ano. Malé kapky se začaly rozprskávat o&amp;#160;přední sklo.

Už jsme tam byli – celá oblast byla dokonale obklíčená nervózními
kolegy. Od bosse Remory jsem se dozvěděl, že on je tam někde uvnitř. A také, že potřebuje dobrovolníka, který ho půjde tam dovnitř ulovit, protože tohle nemůže nikomu nařídit – na inteligentního zabijáka policistů Winklyho kalibru to prostě nejde.

Co čekáte? Šel jsem a Phil se mnou.

S vytaženými odjištěnými zbraněmi jsme opatrně pročesávali ulici za ulicí. Nebylo jich tam moc a těch pár lidí, co tu pracovali už bylo za bezpečnou hranicí policistů. Ale, zkuste postavit obranou zeď z balónků, když je útočník ostrým špendlíkem.

Pořádně se rozpršelo.

Odhadoval jsem, že v přístavu asi není. Sklady byly zase dost obyčejné. Zamířili jsme na jatka.

Vešli jsme zadem. Smrdělo to tam tak, jak si to člověk na jatkách
představuje – zápach krve, krys a smrti. Prošli jsme kanceláře a
zamířili do vykonavatelny. A on tam byl. Chtělo se mi zvracet. Od pusy mu ztékaly potůčky čerstvé krve.

Naneštěstí stál hned vedle sloupu a během mžiku oka už byl za ním.
Ani Philův výstřel tomu nepomohl, netrefil.

Během následujících dvou vteřin Phil vyběhl směrem k Winklymu,
snažil jsem se ho zadržet, ale marně, a jakmile se dostal ke sloupu, natáhl obě ruce dopředu, upustil pistoli a zapotácel se zpět.

Z hrudi mu koukal velký nůž. Tak jich má na svědomí už celý
tucet.

Zatímco jsem držel Phila, Winkly utekl. Žádné slzy, žádné útěchy.
Jen dva páry očí, mluvící o&amp;#160;tom stejném.

Malému nájemníkovi se zvětšil a otupil nástroj. Tak to víc bolí.

Vyrazil jsem jeho směrem. A měl jsem štěstí, schovával se za
velkou bednou uprostřed obrovské prázdné místnosti. Až doteď se mu
dařila taktika: Schovej se tam, kde tě budou hledat nejdřív. Ale tentokrát mu to nevyšlo, hledal jsem ho tam.

A teď klečí dva metry přede mnou s rukama za hlavou, na kterou
mu mířím.

„Tak, a teď jste mě dostal. Cha, chá!“ zasmál se. „Dostal! Mě!
Cha, chá! Sám víte, že mě nedostane nikdo, když to nechci, cha,
chá!“

V tom se nad námi propadl strop a místnost počal zavlažovat hustý
déšť.Na nás nespadlo nic, jen okolo pár palubek a krytiny.

Ale on se nepohnul – nevyužil šance.

Začala se mi třást ruka. Obrovitý nájemník mi trhal uši svým
řevem.

„Ale ne, vy mě nezabijete, nemáte na to. Cha, chá!“

Nebudu, jako on, nezabiju ho. Nejsem vrah, to on. Stal bych se jím.
A to nechci. Nebudu jako on.

„Cha, chá!“ smál se pronikavým smíchem, který mi před očima
promítal všech dvanáct kolegů. Klečel tam v mokrém bahně a smál se.

Nebudu jako on.

Velký nájemník přestal nechápavě křičet a ten druhý ho poslal pryč.
Teď jsme tady jen mi tři. Černooké postavičce se rozkýval sekáček
v rukou. Nebudu jako on.

Také jsem se usmál.</raw>
    <author>dekan</author>
    <published>2005-01-17T20:09:23</published>
    <url>ale-budu</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-04-19T18:57:26.613</edited>
  </article>
  <article>
    <id>37</id>
    <title>Změny</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Právě mám zkouškové období a hned jak mi zkoušky zkončí vrhnu se do
práce. Čeká mě brigáda v&amp;#160;Benteleru. Budu dodělávat Skladovou
aplikaci, kterou jsem jim programoval v&amp;#160;srpnu. Za tu dobu se objevili,
některé věci, které je třeba doplnit nebo upravit. Hlavní věcí bude
udělat tiskové sestavy a protože je to celý psaný v&amp;#160;ASP.NET, tak to
snad nebude taková práce. Budu muset udělat a odladit tiskový styly pro
databázový reporty.&lt;/p&gt;

&lt;p&gt;Možná jste si všimli, že začal přispívat můj kamarád
&lt;strong&gt;dekan&lt;/strong&gt;. Bude psát převážně svoje povídky, je fakt dobrej.
Proto chci předělat admin sekci. Nevyhovuje už dnešním požadavkům.
Hlavně potřebuju udělat uživatelské role a doplnit některé věci, které
mě za ten rok napadly. Možná udělám přispívání pomocí Webové služby
a e-mailu, ale to závisí na čase, který mi na to zbyde.&lt;/p&gt;

&lt;p&gt;Drobné změny jsem provedl na serveru. Mám hodně přístupů, kvůli
semestrálním pracem a školním věcem vůbec, ale některé requesty jsou na
adresy, které jsem používal před třičtvrtě rokem, kdy jsem udělal
restrukturalizaci adresářové struktury. Tak jsem udělal přesměrování ze
starých adres na nové. Taky jsem přidal robots.txt a další drobnůstky,
které nejsou na venek vidět.&lt;/p&gt;

&lt;p&gt;Tak přeji pěknou zimu a zachvejte mi přízeň.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Právě mám zkouškové období a hned jak mi zkoušky zkončí vrhnu se do práce. Čeká mě brigáda v Benteleru. Budu dodělávat Skladovou aplikaci, kterou jsem jim programoval v srpnu. Za tu dobu se objevili, některé věci, které je třeba doplnit nebo upravit. Hlavní věcí bude udělat tiskové sestavy a protože je to celý psaný v ASP.NET, tak to snad nebude taková práce. Budu muset udělat a odladit tiskový styly pro databázový reporty.

Možná jste si všimli, že začal přispívat můj kamarád **dekan**. Bude psát převážně svoje povídky, je fakt dobrej. Proto chci předělat admin sekci. Nevyhovuje už dnešním požadavkům. Hlavně potřebuju udělat uživatelské role a doplnit některé věci, které mě za ten rok napadly. Možná udělám přispívání pomocí Webové služby a e-mailu, ale to závisí na čase, který mi na to zbyde.

Drobné změny jsem provedl na serveru. Mám hodně přístupů, kvůli semestrálním pracem a školním věcem vůbec, ale některé requesty jsou na adresy, které jsem používal před třičtvrtě rokem, kdy jsem udělal restrukturalizaci adresářové struktury. Tak jsem udělal přesměrování ze starých adres na nové. Taky jsem přidal robots.txt a další drobnůstky, které nejsou na venek vidět.

Tak přeji pěknou zimu a zachvejte mi přízeň.</raw>
    <author>Aleš Roubíček</author>
    <published>2005-01-22T22:10:00</published>
    <url>zmeny</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>38</id>
    <title>Zkoušky</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;To slovo, zkoušky, ve mě probouzí velice divný pocit. Zlášť
v&amp;#160;tuhle dobu, kdy venku sněží. Místo toho abych se učil, tak pařim
Lord of the Rings: Battle for the Middle-earth :) Jak na to?&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">To slovo, zkoušky, ve mě probouzí velice divný pocit. Zlášť v tuhle dobu, kdy venku sněží. Místo toho abych se učil, tak pařim Lord of the Rings: Battle for the Middle-earth :) Jak na to?</raw>
    <author>Aleš Roubíček</author>
    <published>2005-01-24T00:00:00</published>
    <url>zkousky</url>
    <category>Škola</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T15:49:12.580</edited>
  </article>
  <article>
    <id>39</id>
    <title>Percentualita</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Tmavé skladiště – nikde se nic nehýbe. Ticho. Je to skladiště
těkavých látek. A&amp;#160;uprostřed velké haly stojí dva největší barely.
Co obsahují? Asi nějakou kyselinu – na tom nezáleží.&lt;/p&gt;

&lt;p&gt;Nikde se nic nehýbe. Nikde se nic nehýbalo. Víte jak vypadá světluška?
Je to taková hnusná věcička mezi housenkou a broukem, které svítí
prdelka. Tak to, co se tady hýbalo vypadalo, jako kdyby se nějaké té
světlušce zadeček sám utrhnul a samovolně si poletoval ve vzduchu. Právě
okolo těch nádrží. Létalo a kroužilo a kroužilo a zpomalovalo.&lt;/p&gt;

&lt;p&gt;Teď vyselo ve vzduchu asi dva a půl metru nad zemí a začalo kolmo
přistávat. Přitom za sebou nechávalo nemizející stopu. Níž a níž, až
se dotklo studené betonové podlahy a zajelo do ní.&lt;/p&gt;

&lt;p&gt;Nyní byl mezi nádržemi slabý sloup světla – ona stopa, co za sebou
světélko nechávalo. Sloup se začal cukavě rozpínat, ale vždy, jakoby mu
to nevydrželo a vrátil se zpět do původní polohy. Rozpínání bylo
pokaždé do dvou rozměrů, ale nepravidelně do jiných dvou.&lt;/p&gt;

&lt;p&gt;Jak se projeví imploze s&amp;#160;normálním tlakem v&amp;#160;okolí? Mě se
neptejte, nejsem fyzik, ale tak nějak to následující vypadalo. Jako imploze
neimploze – těžko říct. Kouř odvál průvan a prach sedl.&lt;/p&gt;

&lt;p&gt;Mezi kovovými sudy stálo stvoření, na které když pohlédne slabší
nátura, tak má v&amp;#160;kalhotách i&amp;#160;to, co měli k&amp;#160;snídani
kolemstojící. Byla to humanoidní příšera s&amp;#160;rudou šlachovitou
kůží a třemi a půl rohy na hlavě (a kde je ta půlka? Zmrzačení je
odpověď. Ale v&amp;#160;tom lepším slova smyslu – totiž, když jste
zmrzačení tím správným způsobem, jste třikrát děsivější, než ve
vyžehleném saku).&lt;/p&gt;

&lt;p&gt;Vydala mocný hrdelní řev a pak, světe div se, se zmateně rozhlédla
kolem sebe, vypoulila oči, po nechápavém výrazu se podívala ke svým
nohám a svěsila ramena.&lt;/p&gt;

&lt;p&gt;„Stop!“ zakřičel jakýsi hlas. „Ty idiote! Kdy se to konečně
naučíš, co?!“&lt;/p&gt;

&lt;p&gt;„Sory šéfe,“ zaduněla příšera.&lt;/p&gt;

&lt;p&gt;Řvací hlas pokračoval: „To bylo pořád samý: Já sem skvjelej, šéfe!
Nenajdete nikoho lepšího, šéfe! K&amp;#160;čemu sou ve filmu speciální
efekty, když můžete mít pravýho démona. Šéfe!“ ječel ječící na
ječeného.&lt;/p&gt;

&lt;p&gt;„Fakt rejžo, promiň – mě ten vejškovej rozměr furt nějak nejde,“
omlouval se démon.&lt;/p&gt;

&lt;p&gt;Metr čtyřicet postavička přistoupila k&amp;#160;třímetrové (tedy
v&amp;#160;současné chvíli dva a půl metrové, protože onen zbývající
půlmetr byl zapuštěn do podlahy) hroudě šlach a svalů: „Ale to už mi
řikáš podvacátý! To, abych si na další záběr přived svojí matku,
protože už mi nestačej prsty! Dyť plochu už si zvlád – už nekončíš
v&amp;#160;těch nádržích, tak proč nedokážeš přistát na podlaze?! Ani
v&amp;#160;podlaze, ani nad podlahou, ale na podlaze! Copak je t tak
složitý?!“&lt;/p&gt;

&lt;p&gt;„Ne, neni šéfe, ale když já mam tu špatnou prostorovou orientaci a
koor- koordi- koortininácii,“ tvor měl stále sklopené oči a dodal:
„Ale nad podlahou bych to zvládnul, opravdu.“&lt;/p&gt;

&lt;p&gt;„Ne! Ty bys to možná zvládnul, ale já to nechci! Dokážeš si to
představit?! Lítáš tady jako malý nevinný světýlko a v&amp;#160;tom se tady
zjevíš půl metru nad zemí! Ty! Voči sice na zadku nemáš, ale kdybys
měl, tak by sis je pěkně narazil! A&amp;#160;víš vo co?! Vo podlahu ve
sklepě! Protože tam by ses s&amp;#160;tou tvojí tlustou prdelí touhle podlahou
propad!“ a čtyřikrát vztekle zaskákal. „Doneste někdo tu sbíječku a
dostaňte ho z&amp;#160;tý podlahy,“ zavolal do éteru a otočil se zpět
k&amp;#160;poděsovi: „A ať je ten další záběr poslední!“&lt;/p&gt;

&lt;p&gt;Režisérovi někdo nervózně klepnul na rameno: „Promiňte rejžo.“&lt;/p&gt;

&lt;p&gt;„Coje?“ otočil se mužík a uviděl před sebou jednoho z&amp;#160;mnoha
svých pomocníků.&lt;/p&gt;

&lt;p&gt;Chlápek si mírně povolil kravatu: „No, máme tady jednu zájemkyni
o&amp;#160;práci. Je to jedna z&amp;#160;nich pa-“&lt;/p&gt;

&lt;p&gt;„Vyhoď jí, ať je to kdo chce,“ přerušil ho nadřízený.&lt;/p&gt;

&lt;p&gt;„Ale pane, ona se odvolává na zákon o&amp;#160;tom, že každý podnik musí
zaměstnávat určité procento nadpřirozených a mýtických… jaksi osob,
pane.“&lt;/p&gt;

&lt;p&gt;„Ale dyť my máme určitý procento – mám je tady dva. Santu Clause
a,“ otočil se a ukázal na démona: „A tohodle magora. A&amp;#160;dva
odpovídá těm vládním požadavkům.“&lt;/p&gt;

&lt;p&gt;Asistentova nervozita teď sama znervózněla: „To ano, pane, ale ona se
v&amp;#160;tom tak trochu šťourala a zjistila, že každý nadpřirozený, či
mýtický… osoba buď má zaměstnání, anebo mu musíme umožnit se
v&amp;#160;určité percentualitě se jako nechat zaměstnat, pane.“&lt;/p&gt;

&lt;p&gt;„A?“&lt;/p&gt;

&lt;p&gt;„No, a zjistila, že Santa vlastně furt pracuje tam s&amp;#160;elfama
v&amp;#160;borovym háji, či kde, a dělá dárky na vánoce a tudíž má tohle
jako takovou bokovku – zkrátka, podle zákona není vše potřebné
obsazené a říká něco o&amp;#160;úřadech, jak nás práskne, když jí
nepřijmeme a jak má kámoše krakena, kterej je opravdu celkem přerostlý
zviřátko a tak, pane.“&lt;/p&gt;

&lt;p&gt;Režisér svěsil ramena: „Ach, jo. Tak kde je?“&lt;/p&gt;

&lt;p&gt;„Tady za tou kulisou, ale radím vám pane, abyste se tam nekou-“
&lt;br /&gt;Režisér vykřikl a to bylo to poslední, co kdy udělal.&lt;/p&gt;

&lt;p&gt;Asistent smutně dodal: „-kal, protože je to Medúza a zkameníte, když
se jí podíváte do očí.“&lt;/p&gt;

&lt;p&gt;Zpoza kulisy se ozvalo: „P-p-promiňte, to-to-to tosemiještě
ne-ne-nestalo. To-to-to budeasi ta-ta-ta tr-tréma.
S-s-s-s-sssssssssssss&amp;#173;ssssssssss. Do-do-dostanu tu práci?“&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Tmavé skladiště – nikde se nic nehýbe. Ticho. Je to skladiště těkavých látek. A uprostřed velké haly stojí dva největší barely. Co obsahují? Asi nějakou kyselinu – na tom nezáleží.

Nikde se nic nehýbe. Nikde se nic nehýbalo. Víte jak vypadá světluška? Je to taková hnusná věcička mezi housenkou a broukem, které svítí prdelka. Tak to, co se tady hýbalo vypadalo, jako kdyby se nějaké té světlušce zadeček sám utrhnul a samovolně si poletoval ve vzduchu. Právě okolo těch nádrží. Létalo a kroužilo a kroužilo a zpomalovalo.

Teď vyselo ve vzduchu asi dva a půl metru nad zemí a začalo kolmo přistávat. Přitom za sebou nechávalo nemizející stopu. Níž a níž, až se dotklo studené betonové podlahy a zajelo do ní.

Nyní byl mezi nádržemi slabý sloup světla – ona stopa, co za sebou světélko nechávalo. Sloup se začal cukavě rozpínat, ale vždy, jakoby mu to nevydrželo a vrátil se zpět do původní polohy. Rozpínání bylo pokaždé do dvou rozměrů, ale nepravidelně do jiných dvou.

Jak se projeví imploze s normálním tlakem v okolí? Mě se neptejte, nejsem fyzik, ale tak nějak to následující vypadalo. Jako imploze neimploze – těžko říct. Kouř odvál průvan a prach sedl.

Mezi kovovými sudy stálo stvoření, na které když pohlédne slabší nátura, tak má v kalhotách i to, co měli k snídani kolemstojící. Byla to humanoidní příšera s rudou šlachovitou kůží a třemi a půl rohy na hlavě (a kde je ta půlka? Zmrzačení je odpověď. Ale v tom lepším slova smyslu – totiž, když jste zmrzačení tím správným způsobem, jste třikrát děsivější, než ve vyžehleném saku).

Vydala mocný hrdelní řev a pak, světe div se, se zmateně rozhlédla kolem sebe, vypoulila oči, po nechápavém výrazu se podívala ke svým nohám a svěsila ramena.

„Stop!“ zakřičel jakýsi hlas. „Ty idiote! Kdy se to konečně naučíš, co?!“

„Sory šéfe,“ zaduněla příšera.

Řvací hlas pokračoval: „To bylo pořád samý: Já sem skvjelej, šéfe! Nenajdete nikoho lepšího, šéfe! K čemu sou ve filmu speciální efekty, když můžete mít pravýho démona. Šéfe!“ ječel ječící na ječeného.

„Fakt rejžo, promiň – mě ten vejškovej rozměr furt nějak nejde,“ omlouval se démon.

Metr čtyřicet postavička přistoupila k třímetrové (tedy v současné chvíli dva a půl metrové, protože onen zbývající půlmetr byl zapuštěn do podlahy) hroudě šlach a svalů: „Ale to už mi řikáš podvacátý! To, abych si na další záběr přived svojí matku, protože už mi nestačej prsty! Dyť plochu už si zvlád – už nekončíš v těch nádržích, tak proč nedokážeš přistát na podlaze?! Ani v podlaze, ani nad podlahou, ale na podlaze! Copak je t tak složitý?!“

„Ne, neni šéfe, ale když já mam tu špatnou prostorovou orientaci a koor- koordi- koortininácii,“ tvor měl stále sklopené oči a dodal: „Ale nad podlahou bych to zvládnul, opravdu.“

„Ne! Ty bys to možná zvládnul, ale já to nechci! Dokážeš si to představit?! Lítáš tady jako malý nevinný světýlko a v tom se tady zjevíš půl metru nad zemí! Ty! Voči sice na zadku nemáš, ale kdybys měl, tak by sis je pěkně narazil! A víš vo co?! Vo podlahu ve sklepě! Protože tam by ses s tou tvojí tlustou prdelí touhle podlahou propad!“ a čtyřikrát vztekle zaskákal. „Doneste někdo tu sbíječku a dostaňte ho z tý podlahy,“ zavolal do éteru a otočil se zpět k poděsovi: „A ať je ten další záběr poslední!“

Režisérovi někdo nervózně klepnul na rameno: „Promiňte rejžo.“

„Coje?“ otočil se mužík a uviděl před sebou jednoho z mnoha svých pomocníků.

Chlápek si mírně povolil kravatu: „No, máme tady jednu zájemkyni o práci. Je to jedna z nich pa-“

„Vyhoď jí, ať je to kdo chce,“ přerušil ho nadřízený.

„Ale pane, ona se odvolává na zákon o tom, že každý podnik musí zaměstnávat určité procento nadpřirozených a mýtických… jaksi osob, pane.“

„Ale dyť my máme určitý procento – mám je tady dva. Santu Clause a,“ otočil se a ukázal na démona: „A tohodle magora. A dva odpovídá těm vládním požadavkům.“

Asistentova nervozita teď sama znervózněla: „To ano, pane, ale ona se v tom tak trochu šťourala a zjistila, že každý nadpřirozený, či mýtický… osoba buď má zaměstnání, anebo mu musíme umožnit se v určité percentualitě se jako nechat zaměstnat, pane.“

„A?“

„No, a zjistila, že Santa vlastně furt pracuje tam s elfama v borovym háji, či kde, a dělá dárky na vánoce a tudíž má tohle jako takovou bokovku – zkrátka, podle zákona není vše potřebné obsazené a říká něco o úřadech, jak nás práskne, když jí nepřijmeme a jak má kámoše krakena, kterej je opravdu celkem přerostlý zviřátko a tak, pane.“

Režisér svěsil ramena: „Ach, jo. Tak kde je?“

„Tady za tou kulisou, ale radím vám pane, abyste se tam nekou-“
 Režisér vykřikl a to bylo to poslední, co kdy udělal.

Asistent smutně dodal: „-kal, protože je to Medúza a zkameníte, když se jí podíváte do očí.“

Zpoza kulisy se ozvalo: „P-p-promiňte, to-to-to tosemiještě ne-ne-nestalo. To-to-to budeasi ta-ta-ta tr-tréma. S-s-s-s-sssssssssssssssssssssss. Do-do-dostanu tu práci?“ </raw>
    <author>dekan</author>
    <published>2005-01-24T11:27:12</published>
    <url>percentualita</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>41</id>
    <title>Desktopsidebar</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Od té doby, co jsem připojen na internet více méně permanentně, jsem
začal používat několik užitečných aplikací s&amp;#160;on-line životem
spojených. Jenže těch aplikací začínalo být mnoho a ve změti okének
jsem se začal pomalu ztrácet. Po tom, co jsem viděl screenshoty
z&amp;#160;budoucích Windows Longhorn, mi padl do oka sidebar a hledal jsem něco
podobného, co by fungovalo v&amp;#160;mých XP.&lt;/p&gt;

&lt;p&gt;Po dlouhém hledání a zkoušení různých imitací, jsem narazil na &lt;a
href="http://www.desktopsidebar.com/"&gt;Desktop Sidebar&lt;/a&gt;. Je to freeware se
silnou uživatelskou podporou. V&amp;#160;základní instalaci získáte několik
panelů, skinů, editor skinů a SDK. Další skiny a panely se dají stáhnou
na &lt;a href="http://www.desktopsidebar.com/fileforum.php"&gt;Extension Exchange
Page&lt;/a&gt;.&lt;/p&gt;

&lt;h3&gt;Panely, které mě zaujaly&lt;/h3&gt;

&lt;p&gt;V&amp;#160;první řadě, každého zaujmou analogové hodiny. Panel
&lt;strong&gt;hodiny&lt;/strong&gt; má dva módy – analog a digital. V&amp;#160;digital modu
můžete zobrazovat buďto pouze hodiny, nebo si nechat zobrazit datum.
Podporuje rovněž standardní zástupné znaky, pro vlastní formát
zobrazovaného času a data.&lt;/p&gt;

&lt;p&gt;Dále tam mám panel &lt;strong&gt;počasí&lt;/strong&gt;, který zobrazuje aktuální a
budoucí počasí, dokonce podporuje i&amp;#160;česká města. Klasika je panel
&lt;strong&gt;snadného spuštění&lt;/strong&gt;, který je ekvivalentní s&amp;#160;tím co
je ve Windowsech. Pak používám ve stacku tyto panely, mezi kterými si
přepínám pro lepší přehlednost.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;&lt;strong&gt;Novinky&lt;/strong&gt; – Geniální RSS čtečka, novinky máte hned po
	ruce, bez překlikávání.&lt;/li&gt;

	&lt;li&gt;&lt;strong&gt;Kalendář&lt;/strong&gt; – Napojení na Outlook Kalendář&lt;/li&gt;

	&lt;li&gt;&lt;strong&gt;Úkoly&lt;/strong&gt; – Napojení na Outlook Úkoly&lt;/li&gt;

	&lt;li&gt;&lt;strong&gt;Poznámky&lt;/strong&gt; – Napojení na Outlook Poznámky&lt;/li&gt;

	&lt;li&gt;&lt;strong&gt;Miranda&lt;/strong&gt; – Mám po ruce všechny své kontakty, které
	jsou on-line (existuje i&amp;#160;panel ICQ a MS Messenger)&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Já ještě používám panel &lt;strong&gt;zatížení systému,&lt;/strong&gt; kde je
pěkně vidět, jak můj stroj trápí.&lt;/p&gt;

&lt;p&gt;Pro Desktop Sidebar existuje spousta dalších panelů, já jsem tu popsal
pouze ty, které se mi časem osvědčily. Namátkou z&amp;#160;těch které jsem
kdy zkoušel: MediaPlayer, WinAMP, Azureus, IP Address, Color Picker,
Shutdown.&lt;/p&gt;

&lt;p&gt;Aplikace je lokalizovaná i&amp;#160;do češtiny a funguje na Windows 98&amp;#160;a
novějších. Pokud máte dostatek paměti (RAM) a trochu času na vyladění
podle vlastních potřeb, odměna ve smyslu urychlení vaší práce vás
nemine. Je to opravdu užitečná aplikace.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Od té doby, co jsem připojen na internet více méně permanentně, jsem začal používat několik užitečných aplikací s on-line životem
spojených. Jenže těch aplikací začínalo být mnoho a ve změti okének jsem se začal pomalu ztrácet. Po tom, co jsem viděl screenshoty z budoucích Windows Longhorn, mi padl do oka sidebar a hledal jsem něco podobného, co by fungovalo v mých XP.

Po dlouhém hledání a zkoušení různých imitací, jsem narazil
na [sidebar]. Je to freeware se silnou uživatelskou podporou. V základní instalaci získáte několik panelů, skinů, editor skinů a SDK. Další skiny a panely se dají stáhnou na [exchange].

== Panely, které mě zaujaly

V první řadě, každého zaujmou analogové hodiny. Panel **hodiny** má dva módy – analog a digital. V digital modu můžete zobrazovat buďto pouze hodiny, nebo si nechat zobrazit datum. Podporuje rovněž standardní zástupné znaky, pro vlastní formát zobrazovaného času a data.

Dále tam mám panel **počasí**, který zobrazuje aktuální a budoucí počasí, dokonce podporuje i česká města. Klasika je panel **snadného spuštění**, který je ekvivalentní s tím co je ve Windowsech. Pak používám ve stacku tyto panely, mezi kterými si přepínám pro lepší přehlednost.

1) **Novinky** – Geniální RSS čtečka, novinky máte hned po ruce, bez překlikávání.
2) **Kalendář** – Napojení na Outlook Kalendář
3) **Úkoly** – Napojení na Outlook Úkoly
4) **Poznámky** – Napojení na Outlook Poznámky
5) **Miranda** – Mám po ruce všechny své kontakty, které jsou on-line (existuje i panel ICQ a MS Messenger)

Já ještě používám panel **zatížení systému,** kde je pěkně vidět, jak můj stroj trápí.

Pro Desktop Sidebar existuje spousta dalších panelů, já jsem
tu popsal pouze ty, které se mi časem osvědčily. Namátkou z těch které jsem kdy zkoušel: MediaPlayer, WinAMP, Azureus, IP Address, Color Picker, Shutdown.

Aplikace je lokalizovaná i do češtiny a funguje na Windows 98 a novějších. Pokud máte dostatek paměti (RAM) a trochu času na vyladění podle vlastních potřeb, odměna ve smyslu urychlení vaší práce vás nemine. Je to opravdu užitečná aplikace.

[sidebar]: http://www.desktopsidebar.com/ Desktop Sidebar
[exchange]: http://www.desktopsidebar.com/fileforum.php Extension Exchange Page
</raw>
    <author>Aleš Roubíček</author>
    <published>2005-01-27T00:00:00</published>
    <url>desktopsidebar</url>
    <category>Tuning</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T15:48:51.830</edited>
  </article>
  <article>
    <id>43</id>
    <title>Vzpomínky na Godotha (jednoaktovka)</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;
&lt;br /&gt;Ahoj.
&lt;br /&gt;&lt;em&gt;Čau.&lt;/em&gt;
&lt;br /&gt;Jak to dneska jde?
&lt;br /&gt;&lt;em&gt; Dobrý.&lt;/em&gt;
&lt;br /&gt;Tak to je dobrý.
&lt;br /&gt;&lt;em&gt; To jo.&lt;/em&gt;
&lt;br /&gt;Hmm…
&lt;br /&gt;&lt;em&gt; A&amp;#160;jak ty?&lt;/em&gt;
&lt;br /&gt;Jako co?
&lt;br /&gt;&lt;em&gt; Co, jako co?&lt;/em&gt;
&lt;br /&gt;No?
&lt;br /&gt;&lt;em&gt; Hmm?&lt;/em&gt;
&lt;br /&gt;Nechápu.
&lt;br /&gt;&lt;em&gt;Jo.&lt;/em&gt;
&lt;br /&gt;Aha.
&lt;br /&gt;&lt;em&gt; Co teď?&lt;/em&gt;
&lt;br /&gt;Nevim.
&lt;br /&gt;&lt;em&gt; Co tím myslíš?&lt;/em&gt;
&lt;br /&gt;Co tím myslím?
&lt;br /&gt;&lt;em&gt; Nevim.&lt;/em&gt;
&lt;br /&gt;Aha.
&lt;br /&gt;&lt;em&gt; Hmm…&lt;/em&gt;
&lt;br /&gt;Hmm…
&lt;br /&gt;&lt;em&gt; Říkal si něco?&lt;/em&gt;
&lt;br /&gt;Já?
&lt;br /&gt;&lt;em&gt; Kdo?&lt;/em&gt;
&lt;br /&gt;Ty?
&lt;br /&gt;&lt;em&gt; Já?&lt;/em&gt;
&lt;br /&gt;Jo.
&lt;br /&gt;&lt;em&gt; Ne.&lt;/em&gt;
&lt;br /&gt;Aha.
&lt;br /&gt;&lt;em&gt;Tak kdo?&lt;/em&gt;
&lt;br /&gt;Nevim.
&lt;br /&gt;&lt;em&gt; Víš.&lt;/em&gt;
&lt;br /&gt;Co?
&lt;br /&gt;&lt;em&gt; Co, co?&lt;/em&gt;
&lt;br /&gt;Coco?
&lt;br /&gt;&lt;em&gt; Coby?&lt;/em&gt;
&lt;br /&gt;Já nevim.
&lt;br /&gt;&lt;em&gt; Aha.&lt;/em&gt;
&lt;br /&gt;No jo.
&lt;br /&gt;&lt;em&gt; Jak se má žena?&lt;/em&gt;
&lt;br /&gt;Čí?
&lt;br /&gt;&lt;em&gt; Čí asi?&lt;/em&gt;
&lt;br /&gt;To se právě ptam.
&lt;br /&gt;&lt;em&gt; Aha.&lt;/em&gt;
&lt;br /&gt;Tak čí?
&lt;br /&gt;&lt;em&gt; Co?&lt;/em&gt;
&lt;br /&gt;Hmm?
&lt;br /&gt;&lt;em&gt; Žralok.&lt;/em&gt;
&lt;br /&gt;Co?
&lt;br /&gt;&lt;em&gt; Žralok!&lt;/em&gt;
&lt;br /&gt;Proč?
&lt;br /&gt;&lt;em&gt; Proč ne?&lt;/em&gt;
&lt;br /&gt;Aha.
&lt;br /&gt;&lt;em&gt; Jo.&lt;/em&gt;
&lt;br /&gt;Tak to jo.
&lt;br /&gt;&lt;em&gt; Co?&lt;/em&gt;
&lt;br /&gt;Agama.
&lt;br /&gt;&lt;em&gt; Co?&lt;/em&gt;
&lt;br /&gt;Agama!
&lt;br /&gt;&lt;em&gt; Co to je?&lt;/em&gt;
&lt;br /&gt;Co?
&lt;br /&gt;&lt;em&gt; Agama.&lt;/em&gt;
&lt;br /&gt;Nevim.
&lt;br /&gt;&lt;em&gt; Aha.&lt;/em&gt;
&lt;br /&gt;Přesně!
&lt;br /&gt;&lt;em&gt; Jo.&lt;/em&gt;
&lt;br /&gt;Aha.
&lt;br /&gt;&lt;em&gt; Hmm…&lt;/em&gt;
&lt;br /&gt;Co tady vůbec děláme?&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">		&lt;p&gt;
				&lt;br /&gt;Ahoj.&lt;br /&gt;&lt;em&gt;Čau.&lt;/em&gt;&lt;br /&gt;
	Jak to dneska jde?&lt;br /&gt;&lt;em&gt;
	Dobrý.&lt;/em&gt;&lt;br /&gt;
	Tak to je dobrý.&lt;br /&gt;&lt;em&gt;
	To jo.&lt;/em&gt;&lt;br /&gt;
	Hmm…&lt;br /&gt;&lt;em&gt;
	A jak ty?&lt;/em&gt;&lt;br /&gt;
	Jako co?&lt;br /&gt;&lt;em&gt;
	Co, jako co?&lt;/em&gt;&lt;br /&gt;
	No?&lt;br /&gt;&lt;em&gt;
	Hmm?&lt;/em&gt;&lt;br /&gt;
	Nechápu.&lt;br /&gt;&lt;em&gt;Jo.&lt;/em&gt;&lt;br /&gt;
	Aha.&lt;br /&gt;&lt;em&gt;
	Co teď?&lt;/em&gt;&lt;br /&gt;
	Nevim.&lt;br /&gt;&lt;em&gt;
	Co tím myslíš?&lt;/em&gt;&lt;br /&gt;
	Co tím myslím?&lt;br /&gt;&lt;em&gt;
	Nevim.&lt;/em&gt;&lt;br /&gt;
	Aha.&lt;br /&gt;&lt;em&gt;
	Hmm…&lt;/em&gt;&lt;br /&gt;
	Hmm…&lt;br /&gt;&lt;em&gt;
	Říkal si něco?&lt;/em&gt;&lt;br /&gt;
	Já?&lt;br /&gt;&lt;em&gt;
	Kdo?&lt;/em&gt;&lt;br /&gt;
	Ty?&lt;br /&gt;&lt;em&gt;
	Já?&lt;/em&gt;&lt;br /&gt;
	Jo.&lt;br /&gt;&lt;em&gt;
	Ne.&lt;/em&gt;&lt;br /&gt;
	Aha.&lt;br /&gt;&lt;em&gt;Tak kdo?&lt;/em&gt;&lt;br /&gt;
	Nevim.&lt;br /&gt;&lt;em&gt;
	Víš.&lt;/em&gt;&lt;br /&gt;
	Co?&lt;br /&gt;&lt;em&gt;
	Co, co?&lt;/em&gt;&lt;br /&gt;
	Coco?&lt;br /&gt;&lt;em&gt;
	Coby?&lt;/em&gt;&lt;br /&gt;
	Já nevim.&lt;br /&gt;&lt;em&gt;
	Aha.&lt;/em&gt;&lt;br /&gt;
	No jo.&lt;br /&gt;&lt;em&gt;
	Jak se má žena?&lt;/em&gt;&lt;br /&gt;
	Čí?&lt;br /&gt;&lt;em&gt;
	Čí asi?&lt;/em&gt;&lt;br /&gt;
	To se právě ptam.&lt;br /&gt;&lt;em&gt;
	Aha.&lt;/em&gt;&lt;br /&gt;
	Tak čí?&lt;br /&gt;&lt;em&gt;
	Co?&lt;/em&gt;&lt;br /&gt;
	Hmm?&lt;br /&gt;&lt;em&gt;
	Žralok.&lt;/em&gt;&lt;br /&gt;
	Co?&lt;br /&gt;&lt;em&gt;
	Žralok!&lt;/em&gt;&lt;br /&gt;
	Proč?&lt;br /&gt;&lt;em&gt;
	Proč ne?&lt;/em&gt;&lt;br /&gt;
	Aha.&lt;br /&gt;&lt;em&gt;
	Jo.&lt;/em&gt;&lt;br /&gt;
	Tak to jo.&lt;br /&gt;&lt;em&gt;
	Co?&lt;/em&gt;&lt;br /&gt;
	Agama.&lt;br /&gt;&lt;em&gt;
	Co?&lt;/em&gt;&lt;br /&gt;
	Agama!&lt;br /&gt;&lt;em&gt;
	Co to je?&lt;/em&gt;&lt;br /&gt;
	Co?&lt;br /&gt;&lt;em&gt;
	Agama.&lt;/em&gt;&lt;br /&gt;
	Nevim.&lt;br /&gt;&lt;em&gt;
	Aha.&lt;/em&gt;&lt;br /&gt;
	Přesně!&lt;br /&gt;&lt;em&gt;
	Jo.&lt;/em&gt;&lt;br /&gt;
	Aha.&lt;br /&gt;&lt;em&gt;
	Hmm…&lt;/em&gt;&lt;br /&gt;
	Co tady vůbec děláme?&lt;/p&gt;
</raw>
    <author>dekan</author>
    <published>2005-01-28T10:37:54</published>
    <url>vzpominky-na-godotha-jednoaktovka</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>44</id>
    <title>Programátorská soutěž</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Dnes mi přišel e-mail od &lt;a href="http://www.aspweb.cz"&gt;ASPWEBu&lt;/a&gt;, že
pořádají s&amp;#160;&lt;a href="http://www.microsoft.com"&gt;Microsoftem&lt;/a&gt; soutěž
v&amp;#160;programování webových služeb. To mi přišlo vhod, právě
provádím rekonstrukci svého redakčního systému Gryphoon a plánuji
i&amp;#160;publikování prostřednictvím WS a e-mailu. Tak to je pro mě aspoň
o&amp;#160;důvod víc se do toho pustit. :)&lt;/p&gt;

&lt;p&gt;Navíc je nyní možné na ASPWEBu provozovat &amp;#8222;dvojkové&amp;#8220;
aplikace! Tak se mi z&amp;#160;plánováného upgradu redakčního systému
Gryphoon vyklubala kompletní migrace na ASP.NET 2.0! To mám radost. Tak teď
hůrá do práce.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Dnes mi přišel e-mail od "ASPWEBu":[aspweb], že pořádají s "Microsoftem":[microsoft] soutěž v programování webových služeb. To mi přišlo vhod, právě provádím rekonstrukci svého redakčního systému Gryphoon a plánuji i publikování prostřednictvím WS a e-mailu. Tak to je pro mě aspoň o důvod víc se do toho pustit. :)

Navíc je nyní možné na ASPWEBu provozovat "dvojkové" aplikace! Tak se mi z plánováného upgradu redakčního systému Gryphoon vyklubala kompletní migrace na ASP.NET 2.0! To mám radost. Tak teď hůrá do práce.

[aspweb]: http://www.aspweb.cz
[microsoft]: http://www.microsoft.com
</raw>
    <author>Aleš Roubíček</author>
    <published>2005-02-02T00:00:00</published>
    <url>programatorska-soutez</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T15:48:32.923</edited>
  </article>
  <article>
    <id>45</id>
    <title>mike bloguje</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Můj kamarád mike si konečně pořídil blog, ale není to blog obyčejný,
ale zcela vyjímečný. Je totiž věnován dění u nás na bytě a věřte
tomu, že se tam toho neděje málo. ;) Zatim tam je informace o poslední
akci, ale časem prý přibudou další, tak nezbývá než popřát hodně
informačního štěstí.&lt;/p&gt;

&lt;h3&gt;Update&lt;/h3&gt;

&lt;p&gt;Tenhle web dlouho nevydržel, protože jsme s mikem udělali ještě
speciálnější stránky &lt;a href="http://mikemaly.net"&gt;http://mikemaly.net&lt;/a&gt;.
Let's go!&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Můj kamarád mike si konečně pořídil blog, ale není to blog
obyčejný, ale zcela vyjímečný. Je totiž věnován dění u nás na bytě a věřte tomu, že se tam toho neděje málo. ;) Zatim tam je informace o poslední akci, ale časem prý přibudou další, tak nezbývá než popřát hodně informačního štěstí.

== Update

Tenhle web dlouho nevydržel, protože jsme s mikem udělali ještě speciálnější stránky [mike]. Let's go!

[mike]: http://mikemaly.net
</raw>
    <author>Aleš Roubíček</author>
    <published>2005-01-30T00:00:00</published>
    <url>mike-bloguje</url>
    <category>Kamarádi</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-04-19T19:01:31.367</edited>
  </article>
  <article>
    <id>46</id>
    <title>Změny 2</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Pokračování seriálu o&amp;#160;změnách začnu pro mě změnou
nejdůležitější a tou je změna mého zevnějšku. Už jsem začal
přemýšlet o&amp;#160;tom že budu muset měnit fotku na titulní stráce,
protože jsem vypadal už úplně jinak, ale nakonec jsem zvolil cestu
jednodušší. Vrátil jsme se ke svému starému osvědčenému vzhledu,
takžeje ta fotka zase aktuální :) Pro porovnání se můžete podívat jak
jsem byl zarostlej na &lt;a
href="http://pluto.pslib.cz/malym/fotky/krutec/?show=2005-01-25-svatba"&gt;mikových
stránkách&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Další změnu jsem avizoval již v&amp;#160;předchozích spotech. Pracuju na
kompletním přepracování těchto stránek. Už mám připravenou databázi a
napsanou větší část bussiness logiky nové verze redakčního systému
Gryphoon. Ta bude umět vést několik blogů zároveň &amp;#8211; prozradim jen,
že připravuji novou sekci věnovanou muzice &amp;#8211; lepší podporu pro
publikování několika autorů zároveň včetně uživatelských rolí.
Systém by měl být velice odolný proti komentářovému spamu, bude
podporovat dynamickou správu stylů a bude mít zcela nový editor
příspěvků. Publikování bude možné z&amp;#160;webového rozhranní, e-mailem
nebo pomocí webové služby prakticky jakkoliv. No a celé to poběží na
ASP.NET 2. Tak ja se jdu učit na zkoušku z&amp;#160;X36DSA.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Pokračování seriálu o změnách začnu pro mě změnou nejdůležitější a tou je změna mého zevnějšku. Už jsem začal přemýšlet o tom že budu muset měnit fotku na titulní stráce, protože jsem vypadal už úplně jinak, ale nakonec jsem zvolil cestu jednodušší. Vrátil jsme se ke svému starému osvědčenému vzhledu, takžeje ta fotka zase aktuální :) Pro porovnání se můžete podívat jak jsem byl zarostlej na "mikových stránkách":[svatba].

Další změnu jsem avizoval již v předchozích spotech. Pracuju na
kompletním přepracování těchto stránek. Už mám připravenou databázi a napsanou větší část bussiness logiky nové verze redakčního systému Gryphoon. Ta bude umět vést několik blogů zároveň - prozradim jen, že připravuji novou sekci věnovanou muzice - lepší podporu pro publikování několika autorů zároveň včetně uživatelských rolí. Systém by měl být velice odolný proti komentářovému spamu, bude podporovat dynamickou správu stylů a bude mít zcela nový editor příspěvků. Publikování bude možné z webového rozhranní,  e-mailem nebo pomocí webové služby prakticky jakkoliv. No a celé to poběží na ASP.NET 2. Tak ja se jdu učit na zkoušku z X36DSA.

[svatba]: http://pluto.pslib.cz/malym/fotky/krutec/?show=2005-01-25-svatba
</raw>
    <author>Aleš Roubíček</author>
    <published>2005-02-06T12:00:00</published>
    <url>zmeny-2</url>
    <category>Gryphoon</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>47</id>
    <title>Termíny</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Je tomu bohužel tak, termíny svazují náš život :) A&amp;#160;když jsem si
myslel, že během zkouškového období stihnu přepsat redakční systém
Gryphoon, tak jsem se šeredně přepočítal. Od posledního příspěvku jsem
nenapsal ani řádku nového kódu :( Může za to hodně práce a do toho
ještě zkouška z&amp;#160;Diskrétní matematiky a logiky, kterou dělám
zítra.&lt;/p&gt;

&lt;p&gt;Jednou z&amp;#160;těch prací je příprava nového designu pro &lt;a
href="http://ggdag.euweb.cz"&gt;GiGi D'AGOSTiNO Czech fan pages&lt;/a&gt;, trochu jsem
se začal angažovat v&amp;#160;českém fanklubu. Když jsme u&amp;#160;tý muziky,
v&amp;#160;sobotu 19.&amp;#160;2. bude v&amp;#160;&lt;a
href="http://www.discodubnice.cz"&gt;Dubnici&lt;/a&gt; (u&amp;#160;Stráže pod Ralskem) &lt;a
href="http://www.djorbith.com"&gt;DJ Orbith&lt;/a&gt;, takže tímto zvu všechny
příznivce taneční muziky na pořádnou kalbu. Určitě budu o&amp;#160;této
akci ještě referovat a možná přihodím i&amp;#160;nějakej obrázek.&lt;/p&gt;

&lt;p&gt;Další práce je ta pro &lt;a href="http://www.benteler.cz"&gt;Benteler&lt;/a&gt;.
Dodělal jsem Sklad a teď pracuju na databázi revizí strojů. Základ je
úplně stejnej jako u&amp;#160;Skladu, akorát je to dělaný pro víc závodů
najednou. No mám na to ještě tejden a půl a ještě nemám funkční kus,
pouze kostry stránek s&amp;#160;náznakem funkčnosti. Pak se to celé musí
odladit a otestovat, to zase bude fofr, už se na to těšim :)&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Je tomu bohužel tak, termíny svazují náš život :) A když jsem si
myslel, že během zkouškového období stihnu přepsat redakční systém Gryphoon, tak jsem se šeredně přepočítal. Od posledního příspěvku jsem nenapsal ani řádku nového kódu :( Může za to hodně práce a do toho ještě zkouška z Diskrétní matematiky a logiky, kterou dělám zítra.

Jednou z těch prací je příprava nového designu pro [ggdagcz], trochu jsem se začal angažovat v českém fanklubu. Když jsme u tý muziky, v sobotu 19. 2. bude v "Dubnici":[dubnice] (u Stráže pod Ralskem) "DJ Orbith":[orbith], takže tímto zvu všechny příznivce taneční muziky na pořádnou kalbu. Určitě budu o této akci ještě referovat a možná přihodím i nějakej obrázek.

Další práce je ta pro "Benteler":[benteler]. Dodělal jsem Sklad a teď pracuju na databázi revizí strojů. Základ je úplně stejnej jako u Skladu, akorát je to dělaný pro víc závodů najednou. No mám na to ještě tejden a půl a ještě nemám funkční kus, pouze kostry stránek s náznakem funkčnosti. Pak se to celé musí odladit a otestovat, to zase bude fofr, už se na to těšim :)

[ggdagcz]: http://ggdag.euweb.cz GiGi D'AGOSTiNO Czech fan pages
[dubnice]: http://www.discodubnice.cz
[orbith]: http://www.djorbith.com
[benteler]: http://www.benteler.cz
</raw>
    <author>Aleš Roubíček</author>
    <published>2005-02-15T00:00:00</published>
    <url>terminy</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T15:46:22.750</edited>
  </article>
  <article>
    <id>48</id>
    <title>Hlavně diskrétně</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Včéra jsem podruhé absolvoval zkoušku z&amp;#160;Diskrétní matematiky a
logiky. Nevím jestli jsem nebyl dostatečně diskrétní, ale v&amp;#160;důsledku
jsem zase vyhořel :( což není moc povzbudivé. Obvzvlášť, když další
termíny jsou plně obsazené. Nu což čeká mě oprava v&amp;#160;létě, do tý
doby všechno krásně zapomenu (otázkou je jestli je co zapomenout).&lt;/p&gt;

&lt;p&gt;Po písemné části jsem měl takový dobrý pocit, že už by to za tu
lidovku mohlo být, ale paní prof. Demlová tento pocit nezdílela. Když jsme
čekali na ústní část, dozvěděl jsem se od pár lidí, že už tam jsou
potřetí, hmm.&lt;/p&gt;

&lt;p&gt;Pak přišla ona a začala číst jména, bylo jich hodně.
&amp;#8222;Aha,&amp;#8220; říkal jsem si, &amp;#8222;asi čte ty, co to dali.&amp;#8220;
Pozorně jsem poslouchal a vtom uslyšel své jméno, ale nevěděl jsem
přesně, co to znamená. Pak jsme se odebrali do místnosti, kde nám rozdala
písemky. &amp;#8222;Hmm, tak zase nic.&amp;#8220; Na deskách se vyjímalo hodnocení
1 1/4 bodu. Závěrem zbývá podotknout, že na zmánku &lt;em&gt;dobře&lt;/em&gt; je
zapotřebí zisku alespoň 3&amp;#160;bodů.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Včéra jsem podruhé absolvoval zkoušku z Diskrétní matematiky a logiky. Nevím jestli jsem nebyl dostatečně diskrétní, ale v důsledku jsem zase vyhořel :( což není moc povzbudivé. Obvzvlášť, když další termíny jsou plně obsazené. Nu což čeká mě oprava v létě, do tý doby všechno krásně zapomenu (otázkou je jestli je co zapomenout).

Po písemné části jsem měl takový dobrý pocit, že už by to za tu lidovku mohlo být, ale paní prof. Demlová tento pocit nezdílela. Když jsme čekali na ústní část, dozvěděl jsem se od pár lidí, že už tam jsou potřetí, hmm.

Pak přišla ona a začala číst jména, bylo jich hodně.
"Aha,"  říkal jsem si, "asi čte ty, co to dali." Pozorně jsem
poslouchal a vtom uslyšel své jméno, ale nevěděl jsem přesně, co to
znamená. Pak jsme se odebrali do místnosti, kde nám rozdala písemky.
"Hmm, tak zase nic." Na deskách se vyjímalo hodnocení 1 1/4 bodu.
Závěrem zbývá podotknout, že na zmánku *dobře* je zapotřebí zisku alespoň 3 bodů.
</raw>
    <author>Aleš Roubíček</author>
    <published>2005-02-17T00:00:00</published>
    <url>hlavne-diskretne</url>
    <category>Škola</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T15:54:29.427</edited>
  </article>
  <article>
    <id>49</id>
    <title>Válka browserů - hlavně bezpečně</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Microsoft nedávno anoncoval vydání betaverze Internet Exploreru 7, které
by mělo proběhnout někdy v&amp;#160;létě. Spousta lidí to komentovala na
svých blozích, není třeba to rozebírat. Netscape dnes odložil vydání
betaverze Netscape Browseru 8.0&amp;#160;na konec února. Netscape Browser má být
postaven na Firefoxu, který si stáhlo již 25&amp;#160;mil. lidí na světě. To
je stručné vnesení do začínající druhé světové války prohlížečů
internetového obsahu.&lt;/p&gt;

&lt;p&gt;Připomeňme, že tu první světovou vyhrál Microsoft se svým Internet
Explorerem. V&amp;#160;první světové šlo hlavně o&amp;#160;to, kdo dokáže
přečíst větší kodérskou prasárnu a kdo má víc vlastních
technologií, které jsou navzájem nekompatibilní. Vzešlo z&amp;#160;toho
i&amp;#160;něco dobrého, uchytili se technologie jako JavaScript nebo kaskádní
styly, web v&amp;#160;té době začal být dynamický.&lt;/p&gt;

&lt;p&gt;Po válce se sešly moudré hlavy, aby zjistily, že spoušť, kterou za
sebou tahle válka nechala, je třeba uklidit. A&amp;#160;tak začalo období
evangelizace. V&amp;#160;tomto období spousta tvůrců webu začala zjišťovat,
že existují webové standardy &amp;#8211; které vymyslely moudré hlavy &amp;#8211;
a něketří je začali dodržovat. Bohužel Microsoftí Internet Explorer si
se standardy zcela nerozumí a začíná pouštět vedle sebe pohrobka Netscape
Comunicatoru: Mozillu a Operu, prohlížeče, které standardům rozumí daleko
víc a navíc přinášejí rozšířenou funkcionalitu oproti
zastarávajícímu Internet Exploreru.&lt;/p&gt;

&lt;p&gt;Jenže Mozilla je moc velká a práce s&amp;#160;ní není zrovna
nejjednodušší, proto nemůže konkurovat Internet Exploreru na poli
domácích uživatelů. Tak vznikl projekt Phoenix, později Firebird a dnes
Firefox, který má přivést Mozillu do domácích počítačů. Vsází na
jednoduchost ovládání a podobný vzhled jako IE. Marketingově je jeho
vypuštění zvládnuté na jedničku a dnes má Firefox skoro 10% podíl na
trhu. Jeho hlavním heslem je bezpečnost.&lt;/p&gt;

&lt;p&gt;Microsoft si jistě všiml, že z&amp;#160;malého OpenSource projektu se stává
vážná konkurence a proto vydal zprávu, že chystá nový browser, který
bude zaměřen na bezpečnost, kdo by to byl řekl. Dnes měla vyjít betaverze
Netscape Browseru 8.0&amp;#160;a hádejte, proč byla odložena, protože hlavním
cílem vývojářů je bezpečnost nového produktu. Proč to jen nikoho
nenapadlo dřív?&lt;/p&gt;

&lt;p&gt;Odpověď je nasnadě. Dnes má k&amp;#160;internetu přístup skoro každý
&amp;#8211; samozřejmě počítám lidi z &amp;#8222;vyspělé části světa&amp;#8220;
&amp;#8211; a s&amp;#160;jeho masovostí a složitostí služeb jim zprostředkovaných
roste i&amp;#160;možnost útoků, podvodů, ztráty dat a jiných nepěkných
věcí. Toho, že je Internet Explorer nejrozšířenější, využívají
lidé, kteří na vás chtějí zaútočit, můžou využít jednu díru nebo
technologii k&amp;#160;útoku s&amp;#160;vysokou efektivitou.&lt;/p&gt;

&lt;p&gt;Firefox hlásá, že je bezpečnější než IE, ale zlatý oči. S&amp;#160;tím
jak jeho popularita roste poroste i&amp;#160;počet útoků na jeho uživatele.
Proto není obranou využívat slabin nepřítele ke svému posílení, ale
soustavná práce na prevenci a maximálním zabezpečení produktů. Nechme se
překvapit, co přinese jaro.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Microsoft nedávno anoncoval vydání betaverze Internet Exploreru 7,
které by mělo proběhnout někdy v létě. Spousta lidí to komentovala na svých blozích, není třeba to rozebírat. Netscape dnes odložil vydání betaverze Netscape Browseru 8.0 na konec února. Netscape Browser má být postaven na Firefoxu, který si stáhlo již 25 mil. lidí na světě. To je stručné vnesení do začínající druhé světové války prohlížečů internetového obsahu.

Připomeňme, že tu první světovou vyhrál Microsoft se svým Internet
Explorerem. V první světové šlo hlavně o to, kdo dokáže přečíst větší kodérskou prasárnu a kdo má víc vlastních technologií, které jsou navzájem nekompatibilní. Vzešlo z toho i něco dobrého, uchytili se technologie jako JavaScript nebo kaskádní styly, web v té době začal být dynamický.

Po válce se sešly moudré hlavy, aby zjistily, že spoušť, kterou za
sebou tahle válka nechala, je třeba uklidit. A tak začalo období
evangelizace. V tomto období spousta tvůrců webu začala zjišťovat, že existují webové standardy - které vymyslely moudré hlavy - a něketří je začali dodržovat. Bohužel Microsoftí Internet Explorer si se standardy zcela nerozumí a začíná pouštět vedle sebe pohrobka Netscape Comunicatoru: Mozillu a Operu, prohlížeče, které standardům rozumí daleko víc a navíc přinášejí rozšířenou funkcionalitu oproti zastarávajícímu Internet Exploreru.

Jenže Mozilla je moc velká a práce s ní není zrovna nejjednodušší,
proto nemůže konkurovat Internet Exploreru na poli domácích uživatelů. Tak vznikl projekt Phoenix, později Firebird a dnes Firefox, který má přivést Mozillu do domácích počítačů. Vsází na jednoduchost ovládání a podobný vzhled jako IE. Marketingově je jeho vypuštění zvládnuté na jedničku a dnes má Firefox skoro 10% podíl na trhu. Jeho hlavním heslem je bezpečnost.

Microsoft si jistě všiml, že z malého OpenSource projektu se stává
vážná konkurence a proto vydal zprávu, že chystá nový browser, který bude zaměřen na bezpečnost, kdo by to byl řekl. Dnes měla vyjít betaverze Netscape Browseru 8.0 a hádejte, proč byla odložena, protože hlavním cílem vývojářů je bezpečnost nového produktu. Proč to jen nikoho nenapadlo dřív?

Odpověď je nasnadě. Dnes má k internetu přístup skoro každý -
samozřejmě počítám lidi z "vyspělé části světa" - a s jeho masovostí a složitostí služeb jim zprostředkovaných roste i možnost útoků, podvodů, ztráty dat a jiných nepěkných věcí. Toho, že je Internet Explorer nejrozšířenější, využívají lidé, kteří na vás chtějí zaútočit, můžou využít jednu díru nebo technologii k útoku s vysokou efektivitou.

Firefox hlásá, že je bezpečnější než IE, ale zlatý oči. S tím jak jeho popularita roste poroste i počet útoků na jeho uživatele. Proto není obranou využívat slabin nepřítele ke svému posílení, ale soustavná práce na prevenci a maximálním zabezpečení produktů. Nechme se překvapit, co přinese jaro.
</raw>
    <author>Aleš Roubíček</author>
    <published>2005-02-18T00:00:00</published>
    <url>valka-browseru-hlavne-bezpecne</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T15:54:57.660</edited>
  </article>
  <article>
    <id>50</id>
    <title>NoiseMaker rules</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Chlapci z&amp;#160;labelu NoiseMaker pod vedením &lt;a
href="http://www.ggdag.com"&gt;Gigiho D'Agostina&lt;/a&gt; se opět vytáhli! Ve
čtvrtek vyšel nový singl &lt;cite&gt;DJ Pandolfiho&lt;/cite&gt; &lt;strong&gt;Forever&lt;/strong&gt;
a &lt;cite&gt;Elettrogangu&lt;/cite&gt; &lt;strong&gt;Once upon the time&lt;/strong&gt;. Oba sigly jsou
díla velice zdařilá, ale to co příjde již brzo je velice zdrcující :)
Schválně si poslechněte na &lt;a
href="http://www.gigidagostino.com"&gt;www.gigidagos&amp;#173;tino.com&lt;/a&gt; ukázky (?)
nových věcí, které nás, doufám, čekájí na nové kompilaci
&lt;strong&gt;Laboratorio 2&lt;/strong&gt;. Připravme se na &lt;em
title="Lento Violento"&gt;pomalé rozleptání&lt;/em&gt; touto deskou.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Chlapci z labelu NoiseMaker pod vedením "Gigiho D'Agostina":[gigi] se opět vytáhli! Ve čtvrtek vyšel nový singl ~~DJ Pandolfiho~~ **Forever** a ~~Elettrogangu~~ **Once upon the time**. Oba sigly jsou díla velice zdařilá, ale to co příjde již brzo je velice zdrcující :) Schválně si poslechněte na www.gigidagostino.com ukázky
(?) nových věcí, které nás, doufám, čekájí na nové kompilaci **Laboratorio 2**. Připravme se na *pomalé rozleptání .(Lento Violento)* touto deskou.

[gigi]: http://www.ggdag.com
</raw>
    <author>Aleš Roubíček</author>
    <published>2005-02-19T00:00:00</published>
    <url>noisemaker-rules</url>
    <category>Muzika</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T15:55:20.300</edited>
  </article>
  <article>
    <id>51</id>
    <title>DJ Orbith v Dubnici</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;U&amp;#160;nás pod Ještědem jsou jen dvě místa, kde se dá o&amp;#160;víkendu
zapařit. &lt;a href="http://www.discoheges.cz"&gt;V&amp;#160;pátek v&amp;#160;Hegeši&lt;/a&gt; a
&lt;a href="htt://www.discodubnice.cz"&gt;v&amp;#160;sobotu v&amp;#160;Dubnici&lt;/a&gt;. Obě
diskotéky patřej moderátorovi &lt;a href="http://www.deejay.cz"&gt;Radia
Deejay&lt;/a&gt; Honzovi Bažantovi. No a tuhle sobotu tam hrál &lt;a
href="http://www.djorbith.com"&gt;DJ Orbith&lt;/a&gt;, tak jsem po dlouhé době
navštívil diskotéku :)&lt;/p&gt;

&lt;p&gt;Od desíti asi do půl dvanáctý hrál Vítek Červený, taky z&amp;#160;RD.
Míchal spíš hausovější úpravy známejch věcí a pak trochu přitvrdil
víc k&amp;#160;elektru &amp;#8211; Geht's&amp;#160;Noch? &amp;#8211; aby připravil půdu pro
Orbitha. Ten rozjel tu pravou elektro taneční atmosféru, pořádnej mazec :)
Takhle z&amp;#160;hlavy si nevzpomenu co všechno hrál, ale dost tracků je &lt;a
href="http://www.djorbith.com/downloads/02electro.wma"&gt;ke stažení&lt;/a&gt;
v&amp;#160;setu &lt;strong&gt;Elektopop&lt;/strong&gt; na stránkách DJ Orbitha.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">U nás pod Ještědem jsou jen dvě místa, kde se dá o víkendu zapařit. "V pátek v Hegeši":[heges] a "v sobotu v Dubnici":[dubnice]. Obě diskotéky patřej moderátorovi "Radia Deejay":[deejay] Honzovi Bažantovi. No a tuhle sobotu tam hrál [orbith], tak jsem po dlouhé době navštívil diskotéku :)

Od desíti asi do půl dvanáctý hrál Vítek Červený, taky z RD. Míchal
spíš hausovější úpravy známejch věcí a pak trochu přitvrdil víc k
elektru - Geht's Noch? - aby připravil půdu pro Orbitha. Ten rozjel tu pravou elektro taneční atmosféru, pořádnej mazec :) Takhle z hlavy si nevzpomenu co všechno hrál, ale dost tracků je "ke stažení":[set] v setu **Elektopop** na stránkách DJ Orbitha.

[heges]: http://www.discoheges.cz
[dubnice]: htt://www.discodubnice.cz
[deejay]: http://www.deejay.cz
[orbith]: http://www.djorbith.com DJ Orbith
[set]: http://www.djorbith.com/downloads/02electro.wma</raw>
    <author>Aleš Roubíček</author>
    <published>2005-02-21T00:00:00</published>
    <url>dj-orbith-v-dubnici</url>
    <category>Muzika</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T15:55:49.050</edited>
  </article>
  <article>
    <id>52</id>
    <title>Konkurenční boj, ve kterém prohrál zákazník</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;ČSAD Liberec a.s. byla dlouho monopolním dopravcem na lince Praha-Liberec.
Já jsem jejich služeb využíval cestami za vzděláním do Prahy, kde
studuji. Když před rokem zvedli cenu jízdenky, docela mě to zamrzelo, ale co
se dalo dělat, byla to jediná možnost jak se do školy dostat. Zažíval jsem
boje o místo v autobuse, mnohokrát jsem celou cestu musel stát, ale byl
jsem rád, že vůbec jedu. Dopravce si pravděpodobně tento problém
uvědomoval, proto nakoupil dva autobusy Karosa Ares, kam se vejde mnohem více
lidí. V důsledku toho se cestování stalo komfortnějším, protože se
některé spoje odlehčily.&lt;/p&gt;

&lt;p&gt;V listopadu loňského roku však dostal licenci na tento spoj pražský
dopravce Hotliner a nedostal brněnský Student Agency. Díky Hotlineru už boje
o místo v autobuse skončili a myslím si, že to byla zdravá konkurence.
Student Agency ale celou věc medializovalo a domáhalo se svého práva
o licenci. Spousta nezasvěcených ČSAD odsoudilo, že je to zloděj a monopol
a že nechce pustit konkurenci, přitom už konkurenci měl v podobě
Hotlinera.&lt;/p&gt;

&lt;p&gt;Nakonec Student Agency licenci dostal a začal boj o ceny. Kvůli tomu
muselo ČSAD snížit cenu jízdenky. Dobrý krok pro cestující na lince
Praha-Liberec. Bohužel ČSAD nejezdí pouze na této trase, ale zabezpečuje
dopravní obslužnost ve vesničkách po celém Libereckém okrese. Tyto linky
jsou pro dopravce ztrátové, protože na nich nejezdí tolik lidí. Ztrátovost
těchto linek kompenzovalo ziskem z linky Praha-Liberec, teď když kvůli
Student Agency museli snížit cenu jízdenky do Prahy nebudou zisky stačit na
pokrytí ztrátových linek a ty budou v důsledku toho zrušeny.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">ČSAD Liberec a.s. byla dlouho monopolním dopravcem na lince Praha-Liberec. Já jsem jejich služeb využíval cestami za vzděláním do Prahy, kde studuji. Když před rokem zvedli cenu jízdenky, docela mě to zamrzelo, ale co se dalo dělat, byla to jediná možnost jak se do školy dostat. Zažíval jsem boje o místo v autobuse, mnohokrát jsem celou cestu musel stát, ale byl jsem rád, že vůbec jedu. Dopravce si pravděpodobně tento problém uvědomoval, proto nakoupil dva autobusy Karosa Ares, kam se vejde mnohem více lidí. V důsledku toho se cestování stalo komfortnějším, protože se některé spoje odlehčily.

V listopadu loňského roku však dostal licenci na tento spoj pražský dopravce Hotliner a nedostal brněnský Student Agency. Díky Hotlineru už boje o místo v autobuse skončili a myslím si, že to byla zdravá konkurence. Student Agency ale celou věc medializovalo a domáhalo se svého práva o licenci. Spousta nezasvěcených ČSAD odsoudilo, že je to zloděj a monopol a že nechce pustit konkurenci, přitom už konkurenci měl v podobě Hotlinera.

Nakonec Student Agency licenci dostal a začal boj o ceny. Kvůli tomu muselo ČSAD snížit cenu jízdenky. Dobrý krok pro cestující na lince Praha-Liberec. Bohužel ČSAD nejezdí pouze na této trase, ale zabezpečuje dopravní obslužnost ve vesničkách po celém Libereckém okrese. Tyto linky jsou pro dopravce ztrátové, protože na nich nejezdí tolik lidí. Ztrátovost těchto linek kompenzovalo ziskem z linky Praha-Liberec, teď když kvůli Student Agency museli snížit cenu jízdenky do Prahy nebudou zisky stačit na pokrytí ztrátových linek a ty budou v důsledku toho zrušeny.</raw>
    <author>Aleš Roubíček</author>
    <published>2005-03-07T16:00:00</published>
    <url>konkurencni-boj-ve-kterem-prohral-zakaznik</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-04-10T09:57:08.073</edited>
  </article>
  <article>
    <id>53</id>
    <title>Luther 646</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Oční kontakt. To se Lutherovi nikdy nelíbilo, když se snažili udržet
oční kontakt. Znamenalo to, že je vydíraný a nic s&amp;#160;tím nemůže
udělat.
&lt;br /&gt;3128&amp;#160;1028&amp;#160;1600 Parlament Spojené Země přijímá pořádkový
zákon.
&lt;br /&gt;3128&amp;#160;1111&amp;#160;0800 65% obyvatelstva Spojené Země se bouří proti
pořádkovému zákonu.
&lt;br /&gt;Číslo dvacet sedm se na Luthera dlouze zadíval svýma temnýma očima a
snažil se něco říct, nemohl. Ne snad, že by mu to nějak ublížilo, nebo
by mu to někdo zakázal, to ne. Nemohl, protože už mu někdo ublížil a on
nemohl otevřít ústa, aby vypověděl, co zažil, co si myslí, nebo cokoliv
jiného. Navíc byl za plexisklem, takže by ho stejně nikdo neslyšel.
&lt;br /&gt;3128&amp;#160;1112&amp;#160;0800 V&amp;#160;zemích Spojené Země začíná akce
Pořádek.
&lt;br /&gt;3128&amp;#160;1112&amp;#160;1200 81% obyvatelstva Spojené Země se bouří proti
pořádkovému zákonu.
&lt;br /&gt;Každý něco dělal. Číslo dvacet dva se strašlivě rozčilovala,
číslo patnáct nechápala, číslo dvě pomočil plexisklo ve výšce
Lutherova obličeje, číslo osmnáct omdlel, číslo dvacet sedm se snažil
něco říct.
&lt;br /&gt;3128&amp;#160;1119&amp;#160;1815 Prezident Spojené Země ruší pořádkový
zákon.
&lt;br /&gt;3128&amp;#160;1120&amp;#160;0800 Obyvatelstvo Spojené Země vyšlo slavit do
ulic.
&lt;br /&gt;Každý něco dělal, kromě čísla jedna. Číslo jedna přišel do
bílé místnosti a posadil se na židli. Místnost byla bílá
s&amp;#160;kruhovým otvorem na východní stěně a stejným otvorem na západní
stěně. V&amp;#160;jižní stěně byly dveře, kudy všichni přicházeli a
v&amp;#160;severní stěně plexisklo, za kterým seděl Luther, se kterým se
každý snažil o&amp;#160;interakci. Každý kromě čísla jedna. Ten tam jen
seděl na přišroubované kovové židli a vypadalo to, jako když pozoruje
vzduch vzdálený třicet centimetrů od jeho očí. Občas se podrbal za
uchem, ale jinak pokračoval v&amp;#160;apatii.
&lt;br /&gt;3128&amp;#160;1223&amp;#160;2000 Prezident Spojené Země umírá.
&lt;br /&gt;3128&amp;#160;1224&amp;#160;0800 Parlament Spojené Země volí nového prezidenta
Spojené Země.
&lt;br /&gt;Luther se potil a věděl moc dobře proč. Horkem to nebylo, ačkoliv za
plexisklem byla co chvíli teplota přesahující patnáct tisíc stupňů
celsia, v&amp;#160;jeho místnosti byl celkem příjemný chládek. To to
tlačítko, v&amp;#160;tom to bylo. Musel ho zmáčknout, nechtěl, ale musel.
Číslo dvacet devět, třicet sedm, devadesát dva, sto patnáct. Každý
unikátní a přitom nikdo jako jedna.
&lt;br /&gt;3128&amp;#160;1224&amp;#160;0815 Dvacátý pátý prezident Spojené Země
nastupuje do funkce.
&lt;br /&gt;3129&amp;#160;0101&amp;#160;0800 Prezident Spojené Země zkritizoval politiku
dvacátého čtvrtého prezidenta Spojené Země.
&lt;br /&gt;3129&amp;#160;0101&amp;#160;1000 Parlament Spojené Země přijímá pořádkový
zákon.
&lt;br /&gt;Jednička Luthera děsila. Kdo určil, že jednička půjde jako první?
Kdo si dovolil tam jedničku vůbec přivést?
&lt;br /&gt;3129&amp;#160;0102&amp;#160;0800 85% obyvatelstva Spojené Země se bouří proti
pořádkovému zákonu.
&lt;br /&gt;3129&amp;#160;0109&amp;#160;1600 Parlament Spojené Země přijímá novelu
pořádkového zákona.
&lt;br /&gt;3129&amp;#160;0201&amp;#160;1200 V&amp;#160;zemích Spojené Země údajně fungují
skupiny na svržení systému.
&lt;br /&gt;Sto šedesát čtyři. Otevřené dveře. Dvě stě. Příchod. Dvě stě
dvacet pět. Zavřené dveře. Dvě stě sedmdesát devět. Třicet vteřin.
Tři sta deset. Stisk tlačítka. Tři sta osmdesát jedna. Patnáct tisíc
stupňů celsia. Pět set dva. Vyčištění. Šest set čtyřicet čtyři.
Další. Šest set čtyřicet pět.
&lt;br /&gt;3129&amp;#160;0422&amp;#160;1615 Bojovníci za Svobodu ukázali svou tvář.
&lt;br /&gt;3129&amp;#160;1130&amp;#160;1200 Po měsících strachu se situace zklidňuje.
&lt;br /&gt;Oheň hořel vždy pět vteřin. Smrt nastala okamžitě.
&lt;br /&gt;3129&amp;#160;1202&amp;#160;0800 Pořádková policie pochytala a uvěznila
poslední členy Bojovníků za Svobodu.
&lt;br /&gt;Země Spojené Země jsou konečně opět bezpečné.
&lt;br /&gt;3129&amp;#160;1202&amp;#160;0801 Otci revoluce byl udělen nejvyšší trest.
&lt;br /&gt;Klik. Ozvalo se krátké zadunění a zabublání. V&amp;#160;mžiku oka byla
místnost plná všepožírajících plamenů zkázy. Mělo to být vše, mělo
přijít vyčištění a číslo dvě. Ale ještě předtím se
u&amp;#160;průhledné přepážky vynořila z&amp;#160;plamenů zpuchýřovaná ruka a
napsala na sklo čtyři písmena, užívajíc sebe samé namísto inkoustu.
&lt;br /&gt;Luther se na nápis zadíval a pozpátku ho přečetl. Z&amp;#160;oka mu
vytekla jediná slza.
&lt;br /&gt;OTČE&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Oční kontakt. To se Lutherovi nikdy nelíbilo, když se snažili udržet
oční kontakt. Znamenalo to, že je vydíraný a nic s tím nemůže udělat.
 3128 1028 1600 Parlament Spojené Země přijímá pořádkový zákon.
 3128 1111 0800 65% obyvatelstva Spojené Země se bouří proti pořádkovému zákonu.
 Číslo dvacet sedm se na Luthera dlouze zadíval svýma temnýma očima a
snažil se něco říct, nemohl. Ne snad, že by mu to nějak ublížilo, nebo
by mu to někdo zakázal, to ne. Nemohl, protože už mu někdo ublížil a on
nemohl otevřít ústa, aby vypověděl, co zažil, co si myslí, nebo cokoliv
jiného. Navíc byl za plexisklem, takže by ho stejně nikdo neslyšel.
 3128 1112 0800 V zemích Spojené Země začíná akce Pořádek.
 3128 1112 1200 81% obyvatelstva Spojené Země se bouří proti pořádkovému zákonu.
 Každý něco dělal. Číslo dvacet dva se strašlivě rozčilovala, číslo
patnáct nechápala, číslo dvě pomočil plexisklo ve výšce Lutherova
obličeje, číslo osmnáct omdlel, číslo dvacet sedm se snažil něco říct.
 3128 1119 1815 Prezident Spojené Země ruší pořádkový zákon.
 3128 1120 0800 Obyvatelstvo Spojené Země vyšlo slavit do ulic.
 Každý něco dělal, kromě čísla jedna. Číslo jedna přišel do bílé
místnosti a posadil se na židli. Místnost byla bílá s kruhovým otvorem
na východní stěně a stejným otvorem na západní stěně. V jižní stěně
byly dveře, kudy všichni přicházeli a v severní stěně plexisklo, za
kterým seděl Luther, se kterým se každý snažil o interakci. Každý kromě
čísla jedna. Ten tam jen seděl na přišroubované kovové židli a vypadalo
to, jako když pozoruje vzduch vzdálený třicet centimetrů od jeho očí.
Občas se podrbal za uchem, ale jinak pokračoval v apatii.
 3128 1223 2000 Prezident Spojené Země umírá.
 3128 1224 0800 Parlament Spojené Země volí nového prezidenta Spojené Země.
 Luther se potil a věděl moc dobře proč. Horkem to nebylo, ačkoliv za
plexisklem byla co chvíli teplota přesahující patnáct tisíc stupňů
celsia, v jeho místnosti byl celkem příjemný chládek. To to tlačítko, v
tom to bylo. Musel ho zmáčknout, nechtěl, ale musel. Číslo dvacet
devět, třicet sedm, devadesát dva, sto patnáct. Každý unikátní a přitom
nikdo jako jedna.
 3128 1224 0815 Dvacátý pátý prezident Spojené Země nastupuje do funkce.
 3129 0101 0800 Prezident Spojené Země zkritizoval politiku dvacátého čtvrtého prezidenta Spojené Země.
 3129 0101 1000 Parlament Spojené Země přijímá pořádkový zákon.
 Jednička Luthera děsila. Kdo určil, že jednička půjde jako první? Kdo si dovolil tam jedničku vůbec přivést?
 3129 0102 0800 85% obyvatelstva Spojené Země se bouří proti pořádkovému zákonu.
 3129 0109 1600 Parlament Spojené Země přijímá novelu pořádkového zákona.
 3129 0201 1200 V zemích Spojené Země údajně fungují skupiny na svržení systému.
 Sto šedesát čtyři. Otevřené dveře. Dvě stě. Příchod. Dvě stě dvacet
pět. Zavřené dveře. Dvě stě sedmdesát devět. Třicet vteřin. Tři sta
deset. Stisk tlačítka. Tři sta osmdesát jedna. Patnáct tisíc stupňů
celsia. Pět set dva. Vyčištění. Šest set čtyřicet čtyři. Další. Šest
set čtyřicet pět.
 3129 0422 1615 Bojovníci za Svobodu ukázali svou tvář.
 3129 1130 1200 Po měsících strachu se situace zklidňuje.
 Oheň hořel vždy pět vteřin. Smrt nastala okamžitě.
 3129 1202 0800 Pořádková policie pochytala a uvěznila poslední členy Bojovníků za Svobodu.
 Země Spojené Země jsou konečně opět bezpečné.
 3129 1202 0801 Otci revoluce byl udělen nejvyšší trest.
 Klik. Ozvalo se krátké zadunění a zabublání. V mžiku oka byla místnost
plná všepožírajících plamenů zkázy. Mělo to být vše, mělo přijít
vyčištění a číslo dvě. Ale ještě předtím se u průhledné přepážky
vynořila z plamenů zpuchýřovaná ruka a napsala na sklo čtyři písmena,
užívajíc sebe samé namísto inkoustu.
 Luther se na nápis zadíval a pozpátku ho přečetl. Z oka mu vytekla jediná slza.
 OTČE
</raw>
    <author>dekan</author>
    <published>2005-03-10T08:17:20</published>
    <url>luther-646</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>54</id>
    <title>Gigi D'Agostino Czech fan pages</title>
    <description>Pozvánka na prohlídku nových stránek, na kterých jsem dělal.</description>
    <html xml:space="preserve">
&lt;p&gt;Po dvou měsících usilovné práce jsem dnes konečně spustil novou verzi
&lt;a href="http://ggdag.euweb.cz/"&gt;Gigi D'Agostino Czech fan pages&lt;/a&gt;. Nová
verze má zcela nový design z&amp;#160;mých rukou a běží na redakčním
systému &lt;a href="http://textpattern.com/"&gt;Textpattern&lt;/a&gt;. Doufám, že bude
stejně úspěšná jako ta předchozí a že se bude líbit&amp;#8230;&lt;/p&gt;

&lt;p&gt;Spuštěním to ale ještě nekončí. Máme ještě spoustu práce. Musim
doladit styl, protože jse zjistil, že v&amp;#160;Opeře není úplně takový
jaký má být, navíc mám v&amp;#160;textu připraveno několik classů, které
ještě nejsou implementovány. Potom ještě musim dosypat texty do
discografie a založit další sekce. No je toho ještě dost&amp;#8230;&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Po dvou měsících usilovné práce jsem dnes konečně spustil novou verzi [ggdagcz]. Nová verze má zcela nový design z mých rukou a běží na redakčním systému [textpattern]. Doufám, že bude stejně úspěšná jako ta předchozí a že se bude líbit...

Spuštěním to ale ještě nekončí. Máme ještě spoustu práce. Musim doladit styl, protože jse zjistil, že v Opeře není úplně takový jaký má být, navíc mám v textu připraveno několik classů, které ještě nejsou implementovány. Potom ještě musim dosypat texty do discografie a založit další sekce. No je toho ještě dost...

[ggdagcz]: http://ggdag.euweb.cz/ Gigi D'Agostino Czech fan pages
[textpattern]: http://textpattern.com/ Textpattern</raw>
    <author>Aleš Roubíček</author>
    <published>2005-03-27T00:00:00</published>
    <url>gigi-dagostino-czech-fan-pages</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>55</id>
    <title>Poslední dobou</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Poslední dobou jsem udělal několik webů. Po zprovoznění &lt;a
href="http://ggdag.euweb.cz/"&gt;Gigi D'Agostino Czech fan pages&lt;/a&gt; jsem udělal
jednoduché stránky pro náš &lt;a href="http://team.kvalitne.cz/"&gt;projekt
v předmětu Softwarové inženýrství&lt;/a&gt;. Minulý víkend jsem udělal
kompletní návrh webu pro &lt;a href="http://www.inkasni.cz"&gt;Inkasní
družstvo&lt;/a&gt; a teď čekám, jak se k tomu vyjádří. Dále jsme s mikem
konečně zprovoznily jeho stránky, takže vás tímto &lt;a
href="http://mikemaly.net/"&gt;zvu na prohlídku…&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href="http://www.microsoft.com"&gt;Microsoft&lt;/a&gt; konečně uvolnil druhou
betaverzi &lt;a href="http://lab.msdn.microsoft.com/vs2005"&gt;Visual Studia
2005&lt;/a&gt; a já se pomalu pouštím do rekonstrukce těchto stránek. Prvním
krokem bylo převedení frontendu blogu do Masteru. Taky jsem přidal do
pravého sloupce výpis mikových článků z jeho webu. Je to generovaný
z RSS pomocí XSLT…&lt;/p&gt;

&lt;p&gt;Po dlouhé době vyšla &lt;a href="http://my.opera.com/rarous/affiliate/"&gt;nová
verze Opery&lt;/a&gt;, prvního prohlížeče s podporou SVG – vektorové grafiky
zapisované v XML. Opera dělá promo akci, pokud přivedu 250 unikátních
návštěvníků na jejich stránky, dostanu registraci zdarma, tak prosím
klikněte na banner v horní části stránky, naoplátku pro vás taky něco
udělám. Dík, je to &lt;a href="http://my.opera.com/rarous/affiliate/"&gt;jenom
jedno kliknutí…&lt;/a&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Poslední dobou jsem udělal několik webů. Po zprovoznění [ggdagcz] jsem udělal jednoduché stránky pro náš "projekt v předmětu Softwarové inženýrství":[team]. Minulý víkend jsem udělal kompletní návrh webu pro [inkasni] a teď čekám, jak se k tomu vyjádří. Dále jsme s mikem konečně zprovoznily jeho stránky, takže vás tímto "zvu na prohlídku...":[mike]

[microsoft] konečně uvolnil druhou betaverzi "Visual Studia 2005":[vs2005] a já se pomalu pouštím do rekonstrukce těchto stránek. Prvním krokem bylo převedení frontendu blogu do Masteru. Taky jsem přidal do pravého sloupce výpis mikových článků z jeho webu. Je to generovaný z RSS pomocí XSLT...

Po dlouhé době vyšla "nová verze Opery":[opera], prvního prohlížeče s podporou SVG - vektorové grafiky zapisované v XML. Opera dělá promo akci, pokud přivedu 250 unikátních návštěvníků na jejich stránky, dostanu registraci zdarma, tak prosím klikněte na banner v horní části stránky, naoplátku pro vás taky něco udělám. Dík, je to "jenom jedno kliknutí...":[opera]

[ggdagcz]: http://ggdag.euweb.cz/ Gigi D'Agostino Czech fan pages
[team]: http://team.kvalitne.cz/
[inkasni]: http://www.inkasni.cz Inkasní družstvo
[mike]: http://mikemaly.net/
[microsoft]: http://www.microsoft.com Microsoft
[vs2005]: http://lab.msdn.microsoft.com/vs2005
[opera]: http://my.opera.com/rarous/affiliate/
</raw>
    <author>Aleš Roubíček</author>
    <published>2005-04-24T21:06:00</published>
    <url>posledni-dobou</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-04-19T19:04:06.447</edited>
  </article>
  <article>
    <id>56</id>
    <title>Služba Svátky</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Vytvořil jsem jednoduchou webovou službu, která vrací jména
z&amp;#160;kalendáře. Má dvě metody:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;&lt;a href="/ws/svatky.asmx?op=Dnesni"&gt;Dnesni&lt;/a&gt; &amp;#8211; vrací aktuální
	svátek k&amp;#160;dnešnímu dni&lt;/li&gt;

	&lt;li&gt;&lt;a href="/ws/svatky.asmx?op=PodleData"&gt;PodleData&lt;/a&gt; &amp;#8211; vrací svátek
	k&amp;#160;datumu předávaného parametrem &lt;strong&gt;datum&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Jak vidíte jde o&amp;#160;velice jednoduchou službu, která se dotazuje do
databáze svátků. I&amp;#160;přes její jednoduchost jsem narazil na zajímavou
věc, o&amp;#160;které jsem dosud netušil, a to, že pokud službu zavoláte
pomocí protokolu HTTP-GET nebo HTTP-POST, tak dojde k&amp;#160;chybě, místo
vrácení výsledku. Po hodině hledání jsem přišel na to, že ASP.NET
1.1&amp;#160;a novější maj tyto protokoly pro &lt;acronym title="web service"
lang="en"&gt;WS&lt;/acronym&gt; defaultně zablokované. Řešení je ale jednoduché,
stačí upravit soubor web.config a vše by mělo fungovat, jak má.&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-markup"&gt;&amp;lt;configuration&amp;gt;
  &amp;lt;system.web&amp;gt;

    &amp;lt;!-- povolení protokolů GET a POST pro WS --&amp;gt;
    &amp;lt;webservices&amp;gt;
      &amp;lt;protocols&amp;gt;
        &amp;lt;add name="HttpGet" /&amp;gt;
        &amp;lt;add name="HttpPost" /&amp;gt;
      &amp;lt;/protocols&amp;gt;
    &amp;lt;/webservices&amp;gt;

  &amp;lt;/system.web&amp;gt;
&amp;lt;/configuration&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Vytvořil jsem jednoduchou webovou službu, která vrací jména z kalendáře. Má dvě metody:

1) "Dnesni":/ws/svatky.asmx?op=Dnesni - vrací aktuální svátek k dnešnímu dni
2) "PodleData":/ws/svatky.asmx?op=PodleData - vrací svátek k datumu předávaného parametrem **datum**

Jak vidíte jde o velice jednoduchou službu, která se dotazuje do
databáze svátků. I přes její jednoduchost jsem narazil na zajímavou věc, o které jsem dosud netušil, a to, že pokud službu zavoláte pomocí protokolu HTTP-GET nebo HTTP-POST, tak dojde k chybě, místo vrácení výsledku. Po hodině hledání jsem přišel na to, že ASP.NET 1.1 a novější maj tyto protokoly pro &lt;acronym title="web service" lang="en"&gt;WS&lt;/acronym&gt; defaultně zablokované. Řešení je ale jednoduché, stačí upravit soubor web.config a vše by mělo fungovat, jak má.

/--- code xml
&lt;configuration&gt;
  &lt;system.web&gt;

    &lt;!-- povolení protokolů GET a POST pro WS --&gt;
    &lt;webservices&gt;
      &lt;protocols&gt;
        &lt;add name="HttpGet" /&gt;
        &lt;add name="HttpPost" /&gt;
      &lt;/protocols&gt;
    &lt;/webservices&gt;

  &lt;/system.web&gt;
&lt;/configuration&gt;
\--- code
</raw>
    <author>Aleš Roubíček</author>
    <published>2005-04-28T10:27:00</published>
    <url>sluzba-svatky</url>
    <category>Webové služby</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>57</id>
    <title>PHP2ASP.NET konvertor</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Začal jsem předělávat &lt;a href="http://www.texy.info/"&gt;Texy!&lt;/a&gt; syntax
converter do .net. Opět jsem narazil na menší problém, nerozunim php, ve
kterém je Texy! napsané a navíc se mi nechtělo implementovat 140kB
zdrojových kódů od znovu. Naštěstí jsem našel &lt;a
href="http://www.asp.net/migrationassistants/php2aspnet.aspx?tabindex=0&amp;amp;tabid=1"&gt;nástroj
od Microsoftu&lt;/a&gt;, který konvertuje PHP do ASP.NET, konkrétně do C# :)
Takže většinu těžké práce mám za sebou, teď musim odchytat chyby (cca
260), které vznikly při převodu a pak odladit&amp;#8230;&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Začal jsem předělávat [texy] syntax converter do .net. Opět jsem narazil na menší problém, nerozunim php, ve kterém je Texy! napsané a navíc se mi nechtělo implementovat 140kB zdrojových kódů od znovu. Naštěstí jsem našel "nástroj od Microsoftu":[php2asp], který konvertuje PHP do ASP.NET, konkrétně do C# :) Takže většinu těžké práce mám za sebou, teď musim odchytat chyby (cca 260), které vznikly při převodu a pak odladit...

[texy]: http://www.texy.info/ Texy!
[php2asp]: http://www.asp.net/migrationassistants/php2aspnet.aspx?tabindex=0&amp;amp;tabid=1
</raw>
    <author>Aleš Roubíček</author>
    <published>2005-04-28T13:20:00</published>
    <url>php2asp-net-konvertor</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>58</id>
    <title>Bezpečnější brouzdání</title>
    <description>Návod na to, jak brouzdat bezpečněji.</description>
    <html xml:space="preserve">
&lt;p&gt;Dnes vám poradím, jak zbezpečnit brouzdání po stránkách Internetu, kde
na vás čekají nejrůznější bezpečnostní nástrahy. Předem upozorňuji,
že provedené změny v&amp;#160;systému děláte na vlastní nebezpečí.&lt;/p&gt;

&lt;p&gt;Pokud používáte systém Windows 2000&amp;#160;nebo XP a brouzdáte Internetem
v&amp;#160;uživatelské roli Administrátor, zakládáte si na pěkný malér,
neboť všechny aplikace mají přístup do systémových složek a registrů,
kde je systém nejzranitelnější. Já vám přináším řešení, kterým
můžete omezit práva vybraným aplikacím.&lt;/p&gt;

&lt;p&gt;Nejprve si vytvořte soubor &lt;strong&gt;prava.reg&lt;/strong&gt; a do něho vložte
následující řádky:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[HKEY_LOCAL_MACHINE\SOFTWARE\Policies\Microsoft\Windows\Safer\CodeIdentifiers]
"Levels"=dword:00020000&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Uložte ho a potom ho spusťte – zanesete tím novou položku do registrů.
Tato položka vám umožní omezit práva některých aplikací.
V&amp;#160;dalším kroku si spusťte &lt;strong&gt;Místní zásady
zabezpečení&lt;/strong&gt; (najdete ho v &amp;#8218;Ovládací panely &amp;gt; Nástroje
pro správu&amp;#8216;).&lt;/p&gt;

&lt;p&gt;Zde si otevřete složku &lt;strong&gt;Zásady omezení softwaru&lt;/strong&gt; a
v&amp;#160;ní &lt;strong&gt;Další pravidla&lt;/strong&gt;. Nyní klepněte na menu
&lt;strong&gt;Akce&lt;/strong&gt; a vyberte &lt;strong&gt;Nové pravidlo cesty&lt;/strong&gt;. Nyní se
vám otevře dialog, kde si vyberete soubor kterému chcete omezit oprávnění
(např. &amp;#8218;C:\Program Files\Mozilla Firefox\firefox&amp;#173;.exe&amp;#8216;) a
&lt;em&gt;Úroveň zabezpečení&lt;/em&gt; nastavíte na &lt;strong&gt;Běžný
uživatel&lt;/strong&gt; &amp;#8211; tato položka přibyla po aplikaci souboru
&lt;em&gt;prava.reg&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Osobně doporučuji snížit takto práva všem aplikacím, které
přistupují na Internet a mohou přijímat škodlivý software. Na tomto
místě můžete také některé aplikace úplně zakázat. Stačí nastavit
úroveň zabezpečení na &lt;strong&gt;Nepovoleno&lt;/strong&gt; a milá aplikace pouze
vyhodí chybovou hlášku a konec.&lt;/p&gt;

&lt;p&gt;Na závěr ještě návod, jak vše vrátit. Postup je stejný, jen úroveň
oprávnění nastavíte na &lt;strong&gt;Bez omezení&lt;/strong&gt;. Toť vše
přátelé.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Dnes vám poradím, jak zbezpečnit brouzdání po stránkách Internetu, kde na vás čekají nejrůznější bezpečnostní nástrahy. Předem upozorňuji, že provedené změny v systému děláte na vlastní nebezpečí.

Pokud používáte systém Windows 2000 nebo XP a brouzdáte Internetem v uživatelské roli Administrátor, zakládáte si na pěkný malér, neboť všechny aplikace mají přístup do systémových složek a registrů, kde je systém nejzranitelnější. Já vám přináším řešení, kterým  můžete omezit práva vybraným aplikacím.

Nejprve si vytvořte soubor **prava.reg** a do něho vložte následující řádky:

/--- code
[HKEY_LOCAL_MACHINE\SOFTWARE\Policies\Microsoft\Windows\Safer\CodeIdentifiers]
"Levels"=dword:00020000
\--- code

Uložte ho a potom ho spusťte – zanesete tím novou položku do registrů. Tato položka vám umožní omezit práva některých aplikací. V dalším kroku si spusťte **Místní zásady zabezpečení** (najdete ho v 'Ovládací panely &gt; Nástroje pro správu').

Zde si otevřete složku **Zásady omezení softwaru** a v ní **Další pravidla**. Nyní klepněte na menu **Akce** a vyberte **Nové pravidlo cesty**. Nyní se vám otevře dialog, kde si vyberete soubor kterému chcete omezit oprávnění (např. 'C:\Program Files\Mozilla Firefox\firefox.exe') a *Úroveň zabezpečení* nastavíte na **Běžný uživatel** - tato položka přibyla po aplikaci souboru *prava.reg*.

Osobně doporučuji snížit takto práva všem aplikacím, které přistupují na Internet a mohou přijímat škodlivý software. Na tomto místě můžete také některé aplikace úplně zakázat. Stačí nastavit úroveň zabezpečení na **Nepovoleno** a milá aplikace pouze vyhodí chybovou hlášku a konec.

Na závěr ještě návod, jak vše vrátit. Postup je stejný, jen úroveň oprávnění nastavíte na **Bez omezení**. Toť vše přátelé.</raw>
    <author>Aleš Roubíček</author>
    <published>2005-05-09T00:00:00</published>
    <url>bezpecnejsi-brouzdani</url>
    <category>Tuning</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>59</id>
    <title>Now Playing na stránkách</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Dnes jsem přidal další box do pravého panelu. Jmenuje se &lt;strong&gt;Právě
poslouchám&lt;/strong&gt; a zobrazuje aktuální přehrávanou písničku nebo video
v&amp;#160;mém počítači. Funguje to díky plug-inu &lt;a
href="/files/SongWriter.zip"
title="stáhnout archív s instalací plug-inu"&gt;SongWriter&lt;/a&gt; pro &lt;a
href="http://www.windowsmedia.com/"&gt;Windows Media Player&lt;/a&gt; 9&amp;#160;a
novější, ten uploaduje přes FTP XML s&amp;#160;požadovanými informacemi, a
vlastnímu controlu pro výpis těchto informací.&lt;/p&gt;

&lt;h3&gt;Jak na to&lt;/h3&gt;

&lt;p&gt;Nejprve je nutné si nainstalovat plugin SongWriter a nastavit si co a kam se
má generovat. Okno s&amp;#160;nastavením na vás vyskočí po instalaci pluginu a
zapnutí Media Playeru. Pokud by nevyskočilo najdete ho v&amp;#160;menu Možnosti
\ Nastavení \ Moduly Plug-in, Kategorie: Pozadí, SongWriter Plugin,
Vlastnosti. Tady si navolíte vlastnosti, které chcete zobrazit, zvolíte
formát XML a nastavíte vlastnosti FTP připojení (cesta nesmí končit
lomítkem).&lt;/p&gt;

&lt;p&gt;Zkuzte, jestli je vše správně nakonfigurováno, nejlépe testem přímo na
serveru, soubor se jmenuje &lt;strong&gt;songout.xml&lt;/strong&gt;. Pro ty, co jsou ve
zpracování XML, zde článek končí, neboť si data zpracují sami :)
Ostatní nechť směle pokračují ve čtení.&lt;/p&gt;

&lt;p&gt;Nyní přistoupíme k&amp;#160;tvorbě controlu. Předem upozorňuju, že je
napsanej v&amp;#160;ASP.NET 2 (beta 2), takže nemusí a ani nebude fungovat ve
starších verzích.&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-csharp"&gt;using System;
using System.Data;
using System.Configuration;
using System.Collections;
using System.IO;
using System.Web;
using System.Web.Security;
using System.Web.UI;
using System.Web.UI.WebControls;
using System.Web.UI.WebControls.WebParts;
using System.Web.UI.HtmlControls;
using System.Xml;

public partial class NowPlaying : System.Web.UI.UserControl
{
  public string Src
  {
    set
    {
      ViewState["nowplayingsrc"] = value;
    }
    get
    {
      return ViewState["nowplayingsrc"].ToString();
    }
  }

  protected void Page_Load(object sender, EventArgs e)
  {
    NactiData();
  }

  protected void NactiData()
  {
    string path = Server.MapPath(Src);
    XmlDocument doc = new XmlDocument();
    doc.Load(path);

    XmlNodeList media = doc.GetElementsByTagName("media");
    XmlNode posledni = media[0];
    XmlNode autor = posledni.SelectSingleNode("artist");
    XmlNode pisen = posledni.SelectSingleNode("title");
    XmlNode album = posledni.SelectSingleNode("album");

    if (autor != null) {
      if (autor.InnerText.ToLower() == "stopped") {
        NowPlayingOut.Text = "&amp;lt;p&amp;gt;Zrovna nic.&amp;lt;/p&amp;gt;";
      } else {
        if ((pisen != null) &amp;amp;&amp;amp; (album != null))
          NowPlayingOut.Text = String.Format("&amp;lt;dl&amp;gt;&amp;lt;dt&amp;gt;Autor&amp;lt;/dt&amp;gt;&amp;lt;dd&amp;gt;{0}&amp;lt;/dd&amp;gt;&amp;lt;dt&amp;gt;Píseň&amp;lt;/dt&amp;gt;&amp;lt;dd&amp;gt;{1}&amp;lt;/dd&amp;gt;&amp;lt;dt&amp;gt;Album&amp;lt;/dt&amp;gt;&amp;lt;dd&amp;gt;{2}&amp;lt;/dd&amp;gt;&amp;lt;/dl&amp;gt;", autor.InnerText, pisen.InnerText, album.InnerText);
        else if ((pisen != null))
          NowPlayingOut.Text = String.Format("&amp;lt;dl&amp;gt;&amp;lt;dt&amp;gt;Autor&amp;lt;/dt&amp;gt;&amp;lt;dd&amp;gt;{0}&amp;lt;/dd&amp;gt;&amp;lt;dt&amp;gt;Píseň&amp;lt;/dt&amp;gt;&amp;lt;dd&amp;gt;{1}&amp;lt;/dd&amp;gt;&amp;lt;/dl&amp;gt;", autor.InnerText, pisen.InnerText);
      }
    } else {
      if ((pisen != null))
        NowPlayingOut.Text = String.Format("&amp;lt;p&amp;gt;{0}&amp;lt;/p&amp;gt;", pisen.InnerText.Replace('_',' '));
    }
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;No a teď prezentační část.&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-markup"&gt;&amp;lt;%@ Control Language="C#" AutoEventWireup="true" CodeFile="NowPlaying.ascx.cs" Inherits="NowPlaying"&amp;gt;
&amp;lt;div class="box nowplaying"&amp;gt;
&amp;lt;h2&amp;gt;Právě poslouchám&amp;lt;/h2&amp;gt;
&amp;lt;asp:Literal ID="NowPlayingOut" runat="server"&amp;gt;&amp;lt;/asp:Literal&amp;gt;
&amp;lt;/div&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Přeju hodně zábavy.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Dnes jsem přidal další box do pravého panelu. Jmenuje se **Právě poslouchám** a zobrazuje aktuální přehrávanou písničku nebo video v mém počítači. Funguje to díky plug-inu [songwriter] pro [wmp] 9 a novější, ten uploaduje přes FTP XML s požadovanými informacemi, a vlastnímu controlu pro výpis těchto informací.

=== Jak na to

Nejprve je nutné si nainstalovat plugin SongWriter a nastavit si co a kam se má generovat. Okno s nastavením na vás vyskočí po instalaci pluginu a zapnutí Media Playeru. Pokud by nevyskočilo najdete ho v menu Možnosti \ Nastavení \ Moduly Plug-in, Kategorie: Pozadí, SongWriter Plugin, Vlastnosti. Tady si navolíte vlastnosti, které chcete zobrazit, zvolíte formát XML a nastavíte vlastnosti FTP připojení (cesta nesmí končit lomítkem).

Zkuzte, jestli je vše správně nakonfigurováno, nejlépe testem přímo na serveru, soubor se jmenuje **songout.xml**. Pro ty, co jsou ve zpracování XML, zde článek končí, neboť si data zpracují sami :) Ostatní nechť směle pokračují ve čtení.

Nyní přistoupíme k tvorbě controlu. Předem upozorňuju, že je napsanej v ASP.NET 2 (beta 2), takže nemusí a ani nebude fungovat ve starších verzích.

/--- code csharp
using System;
using System.Data;
using System.Configuration;
using System.Collections;
using System.IO;
using System.Web;
using System.Web.Security;
using System.Web.UI;
using System.Web.UI.WebControls;
using System.Web.UI.WebControls.WebParts;
using System.Web.UI.HtmlControls;
using System.Xml;

public partial class NowPlaying : System.Web.UI.UserControl
{
  public string Src
  {
    set
    {
      ViewState["nowplayingsrc"] = value;
    }
    get
    {
      return ViewState["nowplayingsrc"].ToString();
    }
  }

  protected void Page_Load(object sender, EventArgs e)
  {
    NactiData();
  }

  protected void NactiData()
  {
    string path = Server.MapPath(Src);
    XmlDocument doc = new XmlDocument();
    doc.Load(path);

    XmlNodeList media = doc.GetElementsByTagName("media");
    XmlNode posledni = media[0];
    XmlNode autor = posledni.SelectSingleNode("artist");
    XmlNode pisen = posledni.SelectSingleNode("title");
    XmlNode album = posledni.SelectSingleNode("album");

    if (autor != null) {
      if (autor.InnerText.ToLower() == "stopped") {
        NowPlayingOut.Text = "&lt;p&gt;Zrovna nic.&lt;/p&gt;";
      } else {
        if ((pisen != null) &amp;&amp; (album != null))
          NowPlayingOut.Text = String.Format("&lt;dl&gt;&lt;dt&gt;Autor&lt;/dt&gt;&lt;dd&gt;{0}&lt;/dd&gt;&lt;dt&gt;Píseň&lt;/dt&gt;&lt;dd&gt;{1}&lt;/dd&gt;&lt;dt&gt;Album&lt;/dt&gt;&lt;dd&gt;{2}&lt;/dd&gt;&lt;/dl&gt;", autor.InnerText, pisen.InnerText, album.InnerText);
        else if ((pisen != null))
          NowPlayingOut.Text = String.Format("&lt;dl&gt;&lt;dt&gt;Autor&lt;/dt&gt;&lt;dd&gt;{0}&lt;/dd&gt;&lt;dt&gt;Píseň&lt;/dt&gt;&lt;dd&gt;{1}&lt;/dd&gt;&lt;/dl&gt;", autor.InnerText, pisen.InnerText);
      }
    } else {
      if ((pisen != null))
        NowPlayingOut.Text = String.Format("&lt;p&gt;{0}&lt;/p&gt;", pisen.InnerText.Replace('_',' '));
    }
  }
}
\--- code

No a teď prezentační část.

/--- code xml
&lt;%@ Control Language="C#" AutoEventWireup="true" CodeFile="NowPlaying.ascx.cs" Inherits="NowPlaying"&gt;
&lt;div class="box nowplaying"&gt;
&lt;h2&gt;Právě poslouchám&lt;/h2&gt;
&lt;asp:Literal ID="NowPlayingOut" runat="server"&gt;&lt;/asp:Literal&gt;
&lt;/div&gt;
\--- code

Přeju hodně zábavy.

[songwriter]: /files/SongWriter.zip SongWriter .(stáhnout archív s instalací plug-inu)
[wmp]: http://www.windowsmedia.com/ Windows Media Player</raw>
    <author>Aleš Roubíček</author>
    <published>2005-06-01T20:32:00</published>
    <url>now-playing-na-strankach</url>
    <category>Webové služby</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>60</id>
    <title>Top 6</title>
    <description>Mých šest nejoblíbenějších písniček za poslední dobu.</description>
    <html xml:space="preserve">
&lt;ol&gt;
	&lt;li&gt;Deep Dish &amp;#8211; Stay Gold&lt;/li&gt;

	&lt;li&gt;Dottor DAG &amp;#8211; La Batteria della Mente&lt;/li&gt;

	&lt;li&gt;Marcus Storc &amp;amp; Eric Prydz &amp;#8211; Bass-Ism&lt;/li&gt;

	&lt;li&gt;P. Diddy &amp;amp; Felix Da Housecat &amp;#8211; Jack U&lt;/li&gt;

	&lt;li&gt;Rockefeller &amp;#8211; Do It 2&amp;#160;Nite&lt;/li&gt;

	&lt;li&gt;Steve Angello &amp;amp; Sebastian Ingrosso &amp;#8211; 82&amp;#8211;83&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Pořadí je abecední.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">1) Deep Dish - Stay Gold
2) Dottor DAG - La Batteria della Mente
3) Marcus Storc &amp;amp; Eric Prydz - Bass-Ism
4) P. Diddy &amp;amp; Felix Da Housecat - Jack U
5) Rockefeller - Do It 2 Nite
6) Steve Angello &amp;amp; Sebastian Ingrosso - 82-83

Pořadí je abecední.</raw>
    <author>Aleš Roubíček</author>
    <published>2005-06-09T00:00:00</published>
    <url>top-6</url>
    <category>Muzika</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>61</id>
    <title>Omluva</title>
    <description>Omluva za nefunkční stránky.</description>
    <html xml:space="preserve">
&lt;p&gt;Omlouvám se všem, že mi přes týden nefungoval blog, ale vyskytl se
problém v&amp;#160;databázi a dlouho mi trvalo, než jsem přišel na to, kde
přesně chyba je. Teď už by mělo být vše v&amp;#160;pořádku.
V&amp;#160;průběhu týdne se ale ještě bude měnit databázový stroj, takže
dojde ještě k&amp;#160;jednomu výpadku, ale ten snad nebude tak dlouhý.&lt;/p&gt;

&lt;p&gt;Jako satisfakci přijměte letecký snímek mého bydliště.&lt;/p&gt;

&lt;div class="center image"&gt;&lt;img src="/images/druzcov.jpg"
alt="letecký snímek Druzcova" /&gt;
	&lt;p&gt;foto &amp;copy; ISR, T-Mapy spol. s&amp;#160;r. o., GEODIS, EuroGraphisc 2005&lt;/p&gt;
&lt;/div&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Omlouvám se všem, že mi přes týden nefungoval blog, ale vyskytl se problém v databázi a dlouho mi trvalo, než jsem přišel na to, kde přesně chyba je. Teď už by mělo být vše v pořádku. V průběhu týdne se ale ještě bude měnit databázový stroj, takže dojde ještě k jednomu výpadku, ale ten snad nebude tak dlouhý.

Jako satisfakci přijměte letecký snímek mého bydliště.

[* /images/druzcov.jpg .(letecký snímek Druzcova) *] *** foto &amp;copy; ISR, T-Mapy spol. s r. o., GEODIS, EuroGraphisc 2005 .[center] </raw>
    <author>Aleš Roubíček</author>
    <published>2005-06-25T00:00:00</published>
    <url>omluva</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>62</id>
    <title>Top albums</title>
    <description>Moje oblíbená alba za poslední dobu</description>
    <html xml:space="preserve">
&lt;ol&gt;
	&lt;li&gt;Dave Clarke &amp;#8211; World Service 2&lt;/li&gt;

	&lt;li&gt;Elektrofon Compilation #1&lt;/li&gt;

	&lt;li&gt;Subliminal Sessions 8&lt;/li&gt;

	&lt;li&gt;Funky House Sessions&lt;/li&gt;

	&lt;li&gt;Felix Da Housecat &amp;#8211; Devine Dazzel &amp;amp; The Neon Fever&lt;/li&gt;
&lt;/ol&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">1) Dave Clarke - World Service 2
2) Elektrofon Compilation #1
3) Subliminal Sessions 8
4) Funky House Sessions
5) Felix Da Housecat - Devine Dazzel &amp; The Neon Fever
</raw>
    <author>Aleš Roubíček</author>
    <published>2005-07-04T00:00:00</published>
    <url>top-albums</url>
    <category>Muzika</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>63</id>
    <title>Windows Vista</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Microsoft konečně oznámil komerční název jeho &lt;em&gt;Longhornu&lt;/em&gt;,
příštího operačního systému z&amp;#160;dílny &lt;a
href="http://www.microsoft.com"&gt;Microsoftu&lt;/a&gt;. Byla oznámena i&amp;#160;data
vydání beta verzí a kandidátů na vydání. První beta verze vyjde 3.
srpna tohoto roku a měla by přinést hlavně nové prvky pro programátory,
souhrnně nazývané WinFX. Je to managed framevork, který by měl nahradit
Win32, i&amp;#160;když toto by mělo být zachováno.&lt;/p&gt;

&lt;p&gt;Důležitou částí WinFX bude Indigo, zajišťující volání
distribuovaných služeb, které staví na standardech WS-xxx, WSDL a SOAP
z&amp;#160;dílny &lt;a href="http://www.w3.org"&gt;W3C&lt;/a&gt;. To by mělo zajistit, že
v&amp;#160;brzké budoucnosti se nebudou aplikace instalovat do počítače, ale
budete používat logiku, která je někde na nějaké adrese napsaná
v&amp;#160;nějakém jazyku běžícím na nějaké platformě… Doufám, že se
podpora pro Webové služby dostane (na úrovni systémového API) i&amp;#160;do
dalších operačních systémů.&lt;/p&gt;

&lt;p&gt;Další důležitou částí je Avalon. Jedná se o&amp;#160;API, díky kterému
si můžete libovolně hrát s&amp;#160;&lt;acronym title="Graphic User Interface"
lang="en"&gt;GUI&lt;/acronym&gt;. Popis GUI je ve formátu MS XAML, takže distribuce
budoucích aplikací na váš počítač bude zprostředkována pomocí XML a
protokolů, které jeho přenos podporují, především HTTP.&lt;/p&gt;

&lt;p&gt;Tohle jsou základní stavební kameny nového systému, na které se nejvíc
těším, protože to je problematika, která mě hodně zajímá a ve které
se snažím získat co nejvíc zkušeností. V&amp;#160;brzké době, bych se měl
stát členem mini teamu, ve kterém budeme řešit dotazování do Foxovských
databází z&amp;#160;jedné stránky. Databáze je decentralizovaná a navíc
není přístupná z&amp;#160;venku, ale pouze přes VPN. Jedním z&amp;#160;řešení,
na kterém budu dělat, je dotazování pomocí XML webových služeb.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Microsoft konečně oznámil komerční název jeho *Longhornu*, příštího operačního systému z dílny "Microsoftu":[microsoft]. Byla oznámena i data vydání beta verzí a kandidátů na vydání. První beta verze vyjde 3. srpna tohoto roku a měla by přinést hlavně nové prvky pro programátory, souhrnně nazývané WinFX. Je to managed framevork, který by měl nahradit Win32, i když toto by mělo být zachováno.

Důležitou částí WinFX bude Indigo, zajišťující volání distribuovaných služeb, které staví na standardech WS-xxx, WSDL a SOAP z dílny "W3C":[w3]. To by mělo zajistit, že v brzké budoucnosti se nebudou aplikace instalovat do počítače, ale budete používat logiku, která je někde na nějaké adrese napsaná v nějakém jazyku běžícím na nějaké platformě… Doufám, že se podpora pro Webové služby dostane (na úrovni systémového API) i do dalších operačních systémů.

Další důležitou částí je Avalon. Jedná se o API, díky kterému si můžete libovolně hrát s &lt;acronym title="Graphic User Interface" lang="en"&gt;GUI&lt;/acronym&gt;. Popis GUI je ve formátu MS XAML, takže distribuce budoucích aplikací na váš počítač bude zprostředkována pomocí XML a protokolů, které jeho přenos podporují, především HTTP.

Tohle jsou základní stavební kameny nového systému, na které se nejvíc těším, protože to je problematika, která mě hodně zajímá a ve které se snažím získat co nejvíc zkušeností. V brzké době, bych se měl stát členem mini teamu, ve kterém budeme řešit dotazování do Foxovských databází z jedné stránky. Databáze je decentralizovaná a navíc není přístupná z venku, ale pouze přes VPN. Jedním z řešení, na kterém budu dělat, je dotazování pomocí XML webových služeb.

[microsoft]: http://www.microsoft.com
[w3]: http://www.w3.org</raw>
    <author>Aleš Roubíček</author>
    <published>2005-07-24T00:00:00</published>
    <url>windows-vista</url>
    <category>Tuning</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>64</id>
    <title>Texy! Web Service (WS)</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Již dlouhou dobu používám &lt;a href="http://texy.info/"&gt;Texy!&lt;/a&gt;
v&amp;#160;několika webových projektech, které používají redakční systém
&lt;a href="http://www.textpattern.com"&gt;TextPattern&lt;/a&gt;. Na syntax Texy! jsem si
zvykl a líbí se mi, jak jednoduše dostanu XHTML validní kód. Už
v&amp;#160;začátku jsem chtěl přepsat Texy! do dotnetu, abych ho mohl použít
i&amp;#160;v mém redakčním systému Gryphoon. Jenže Texy! má velice rozsáhlé
zdrojové kódy a tak se mi do toho moc nechtělo, i&amp;#160;když by to byla
velice zajímavá zkušenost. Jednoho krásného dne mě však napadlo, že by
bylo docela zajímavé udělat z&amp;#160;Texy! webovou službu, ke které může
přistupovat v&amp;#160;podstatě kdokoliv.&lt;/p&gt;

&lt;p&gt;Nakonec jsem se rozhodl službu napsat sám a něco se přiučit v &lt;a
href="http://www.php.net" title="PHP Hypertext Processor"&gt;PHP&lt;/a&gt; (né že by
to byla moje priorita, ale každá zkušenost dobrá). Zjistil jsem, že PHP
4.x nemá podporu pro &lt;a
href="http://www.w3.org/TR/2003/REC-soap12-part0-20030624/"
title="Simple Object Access Protocol"&gt;SOAP&lt;/a&gt; volání, tak jsem našel
knihovnu &lt;a href="http://sourceforge.net/projects/nusoap/"
title="stránky projektu nuSOAP"&gt;nuSOAP&lt;/a&gt;. Knihovna nuSOAP je univerzální
knihovnou jak pro WS klienty, tak pro WS servery. Jedinou podivností této
knihovny je, že z&amp;#160;nějakého zvláštního důvodu převádí
UTF-8&amp;#160;na ISO-8859&amp;#8211;1 a pak zpět, čímž dojde ke ztrátě znaků
s&amp;#160;diakritikou.&lt;/p&gt;

&lt;p&gt;Takže je potřeba v&amp;#160;této knihovně udělat několik změn, aby
správně fungovala čeština. Nejprve je nutné upravit funkci
&lt;strong&gt;character_data&lt;/strong&gt; ve třídě &lt;em&gt;soap_parser&lt;/em&gt;.
Následující kód prostě zakomentujte:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-php"&gt;if($this-&amp;gt;decode_utf8) {
  $data = utf8_decode($data);
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Dále je potřeba nastavit kódování odchozí zprávy na UTF-8, to se
dělá v&amp;#160;deklaracích třídy &lt;em&gt;nusoap_base&lt;/em&gt;, řádek&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-php"&gt;var $soap_defencoding = 'ISO-8859-1';&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Změňte na:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-php"&gt;var $soap_defencoding = 'UTF-8';&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Tím by měly být problémy se ztrátou českých znaků vyřešeny. Další
nutnou knihovnou je samotná &lt;a
href="http://www.texy.info/cz/download"&gt;knihovna Texy!&lt;/a&gt;. No a nyní se
dostáváme k&amp;#160;tomu nejdůležitějšímu &amp;#8211; službě samotné.&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-php"&gt;&amp;lt;?php

/*  Texy Web Service
 *  ================
 *
 *  Provides SOAP interface for Texy! syntax convertor.
 *  Author: Aleš Roubíček -rarous- (rarous@seznam.cz)
 *
 */

require_once("texy-compact.php");  // knihovna Texy!
require_once("nusoap.php"); // knihovna nuSOAP

$ns = "http://texy.info"; // prostor názvů služby

$server = new soap_server();
$server-&amp;gt;configureWSDL('TexyConverter', $ns); // název webové služby
$server-&amp;gt;wsdl-&amp;gt;schemaTargetNamespace = $ns;

// zveřejnění metody s jejími parametry
$server-&amp;gt;register(
  'PrevedDoXhtml',
  array('text' =&amp;gt; 'xsd:string'),
  array('return' =&amp;gt; 'xsd:string'),
  $ns
);

$server-&amp;gt;register(
  'PrevedDoXhtmlR',
  array('text' =&amp;gt; 'xsd:string',
    'utf' =&amp;gt; 'xsd:boolean',
    'trust' =&amp;gt; 'xsd:boolean',
    'headingLevel' =&amp;gt; 'xsd:integer'
  ),
  array('return' =&amp;gt; 'xsd:string'),
  $ns
);

// funkce pro základní formátování s natvrdo nastavenými vlastnostmi
// input string text – text v Texy! syntaxu
// return string html – vrací XHTML kód
function PrevedDoXhtml($text) {
  $texy = &amp;amp;new Texy();
  $texy-&amp;gt;utf = true;
  $texy-&amp;gt;trustMode();
  $texy-&amp;gt;headingModule-&amp;gt;top = 3;
  $html = $texy-&amp;gt;process($text);
  return $html;
}

// funkce pro základní formátování s volitelnými vlastnostmi
// input string text – text v Texy! syntaxi
// input boolean utf – má Texy! pracovat s UTF?
// input boolean trust – má Texy! pracovat v důvěryhodném režimu nebo v bezpečném
// input integer headingLevel – nejvyšší úroveň nadpisu
// return string html – vrací XHTML kód
function PrevedDoXhtmlR($text, $utf, $trust, $headingLevel) {
  $texy = &amp;amp;new Texy();
  $texy-&amp;gt;utf = $utf;
  if($trust) $texy-&amp;gt;trustMode();
  else $texy-&amp;gt;safeMode();
  $texy-&amp;gt;headingModule-&amp;gt;top = $headingLevel;
  $html = $texy-&amp;gt;process($text);
  return $html;
}

$server-&amp;gt;service($HTTP_RAW_POST_DATA);

?&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Toť vše drazí čtenáři. Vlastně ještě ne, tohle je první
příspěvek na tomhle blogu, který je formátován pomocí Texy!&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Již dlouhou dobu používám [texy] v několika webových projektech, které používají redakční systém [textpattern]. Na syntax Texy! jsem si zvykl a líbí se mi, jak jednoduše dostanu XHTML validní kód. Už v začátku jsem chtěl přepsat Texy! do dotnetu, abych ho mohl použít i v mém redakčním systému Gryphoon. Jenže Texy! má velice rozsáhlé zdrojové kódy a tak se mi do toho moc nechtělo, i když by to byla velice zajímavá zkušenost. Jednoho krásného dne mě však napadlo, že by bylo docela zajímavé udělat z Texy! webovou službu, ke které může přistupovat v podstatě kdokoliv.

Nakonec jsem se rozhodl službu napsat sám a něco se přiučit v [php] (né že by to byla moje priorita, ale každá zkušenost dobrá). Zjistil jsem, že PHP 4.x nemá podporu pro [soap] volání, tak jsem našel knihovnu [nusoap]. Knihovna nuSOAP je univerzální knihovnou jak pro WS klienty, tak pro WS servery. Jedinou podivností této knihovny je, že z nějakého zvláštního důvodu převádí UTF-8 na ISO-8859-1 a pak zpět, čímž dojde ke ztrátě znaků s diakritikou.

Takže je potřeba v této knihovně udělat několik změn, aby
správně fungovala čeština. Nejprve je nutné upravit funkci
**character_data** ve třídě *soap_parser*. Následující kód prostě zakomentujte:

/--- code php
if($this-&gt;decode_utf8) {
  $data = utf8_decode($data);
}
\---

Dále je potřeba nastavit kódování odchozí zprávy na UTF-8, to se
dělá v deklaracích třídy *nusoap_base*, řádek

/--- code php
var $soap_defencoding = 'ISO-8859-1';
\---

Změňte na:

/--- code php
var $soap_defencoding = 'UTF-8';
\---

Tím by měly být problémy se ztrátou českých znaků vyřešeny. Další
nutnou knihovnou je samotná [texydl]. No a nyní se dostáváme k tomu nejdůležitějšímu - službě samotné.

/--- code php
&lt;?php

/*  Texy Web Service
 *  ================
 *
 *  Provides SOAP interface for Texy! syntax convertor.
 *  Author: Aleš Roubíček -rarous- (rarous@seznam.cz)
 *
 */

require_once("texy-compact.php");  // knihovna Texy!
require_once("nusoap.php"); // knihovna nuSOAP

$ns = "http://texy.info"; // prostor názvů služby

$server = new soap_server();
$server-&gt;configureWSDL('TexyConverter', $ns); // název webové služby
$server-&gt;wsdl-&gt;schemaTargetNamespace = $ns;

// zveřejnění metody s jejími parametry
$server-&gt;register(
  'PrevedDoXhtml',
  array('text' =&gt; 'xsd:string'),
  array('return' =&gt; 'xsd:string'),
  $ns
);

$server-&gt;register(
  'PrevedDoXhtmlR',
  array('text' =&gt; 'xsd:string',
    'utf' =&gt; 'xsd:boolean',
    'trust' =&gt; 'xsd:boolean',
    'headingLevel' =&gt; 'xsd:integer'
  ),
  array('return' =&gt; 'xsd:string'),
  $ns
);

// funkce pro základní formátování s natvrdo nastavenými vlastnostmi
// input string text – text v Texy! syntaxu
// return string html – vrací XHTML kód
function PrevedDoXhtml($text) {
  $texy = &amp;new Texy();
  $texy-&gt;utf = true;
  $texy-&gt;trustMode();
  $texy-&gt;headingModule-&gt;top = 3;
  $html = $texy-&gt;process($text);
  return $html;
}

// funkce pro základní formátování s volitelnými vlastnostmi
// input string text – text v Texy! syntaxi
// input boolean utf – má Texy! pracovat s UTF?
// input boolean trust – má Texy! pracovat v důvěryhodném režimu nebo v bezpečném
// input integer headingLevel – nejvyšší úroveň nadpisu
// return string html – vrací XHTML kód
function PrevedDoXhtmlR($text, $utf, $trust, $headingLevel) {
  $texy = &amp;new Texy();
  $texy-&gt;utf = $utf;
  if($trust) $texy-&gt;trustMode();
  else $texy-&gt;safeMode();
  $texy-&gt;headingModule-&gt;top = $headingLevel;
  $html = $texy-&gt;process($text);
  return $html;
}

$server-&gt;service($HTTP_RAW_POST_DATA);

?&gt;
\---

Toť vše drazí čtenáři. Vlastně ještě ne, tohle je první
příspěvek na tomhle blogu, který je formátován pomocí Texy!

[texy]: http://texy.info/ Texy!
[texydl]: http://www.texy.info/cz/download knihovna Texy!
[textpattern]: http://www.textpattern.com TextPattern
[php]: http://www.php.net PHP .(PHP Hypertext Processor)
[soap]: http://www.w3.org/TR/2003/REC-soap12-part0-20030624/ SOAP .(Simple Object Access Protocol)
[nusoap]: http://sourceforge.net/projects/nusoap/ nuSOAP .(stránky projektu nuSOAP)</raw>
    <author>Aleš Roubíček</author>
    <published>2005-08-02T18:40:00</published>
    <url>texy-web-service-ws</url>
    <category>Webové služby</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>65</id>
    <title>Rekonstrukce</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Právě provádím rekonstrukci těchhle stránek, proto prosím omluvte
nefunkčnost některých stránek, do zítra to snad dám všechno dohromady.
V&amp;#160;komentářích prosím nechte feedback, jak se vám líbí lehkej
redesign a co třeba ještě vylepšit ;)&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Právě provádím rekonstrukci těchhle stránek, proto prosím omluvte nefunkčnost některých stránek, do zítra to snad dám všechno dohromady. V komentářích prosím nechte feedback, jak se vám líbí lehkej redesign a co třeba ještě vylepšit ;)</raw>
    <author>Aleš Roubíček</author>
    <published>2005-08-05T20:15:00</published>
    <url>rekonstrukce</url>
    <category>Gryphoon</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>66</id>
    <title>Gryphoon verze 1.5</title>
    <description>Pokusný příspěvek, po změnách v Gryphoonu.</description>
    <html xml:space="preserve">
&lt;p&gt;Po delší odmlce je tu další příspěvek o&amp;#160;úpravách Gryphoonu.
Nepsal jsem proto, že jsem značně upravil databázi a změny jsem prováděl
pouze v&amp;#160;prezentační části. Dneska jsem dostal editor do stavu, kdy už
je schopnej publikovat, ale ještě neni zcela dopsaný. Po dokončení úprav
administrace dojde k&amp;#160;povýšení Gryphoonu na verzi 1.6. Dalšim krokem
k&amp;#160;plánované verzi 2.0&amp;#160;bude verze 1.7&amp;#160;s&amp;#160;funkčním
Rewritingem adres. Verze 1.8&amp;#160;bude již konečně pracovat
u&amp;#160;uživatelskými rolemi. Finální 2.0&amp;#160;bude podporovat více blogů
a odolnější spamfiltering a tu pravděpodobně uvolnim pod GPL.&lt;/p&gt;

&lt;h3&gt;Novinky v&amp;#160;současné verzi&lt;/h3&gt;

&lt;ul&gt;
	&lt;li&gt;Syndikační služba s&amp;#160;podporou RSS 2.0, Atom 1.0&amp;#160;a Google
	SiteMap&lt;/li&gt;

	&lt;li&gt;TrackBack systém&lt;/li&gt;

	&lt;li&gt;Implementovaná Texy! jak v&amp;#160;Administračním rozhranní, tak pro
	zadávání komentářů.&lt;/li&gt;

	&lt;li&gt;Zvýrazňování syntaxe&lt;/li&gt;

	&lt;li&gt;Převedení výkonného kódu aplikace do Assembly, SQL dotazy převedeny na
	uložené procedury&lt;/li&gt;

	&lt;li&gt;a další, na které si teď zrovna nevzpomenu&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Po delší odmlce je tu další příspěvek o úpravách Gryphoonu. Nepsal jsem proto, že jsem značně upravil databázi a změny jsem prováděl pouze v prezentační části. Dneska jsem dostal editor do stavu, kdy už je schopnej publikovat, ale ještě neni zcela dopsaný. Po dokončení úprav administrace dojde k povýšení Gryphoonu na verzi 1.6. Dalšim krokem k plánované verzi 2.0 bude verze 1.7 s funkčním Rewritingem adres. Verze 1.8 bude již konečně pracovat u uživatelskými rolemi. Finální 2.0 bude podporovat více blogů a odolnější spamfiltering a tu pravděpodobně uvolnim pod GPL.

==Novinky v současné verzi

- Syndikační služba s podporou RSS 2.0, Atom 1.0 a Google SiteMap
- TrackBack systém
- Implementovaná Texy! jak v Administračním rozhranní, tak pro zadávání komentářů.
- Zvýrazňování syntaxe
- Převedení výkonného kódu aplikace do Assembly, SQL dotazy převedeny na uložené procedury
- a další, na které si teď zrovna nevzpomenu</raw>
    <author>Aleš Roubíček</author>
    <published>2005-08-24T18:10:31</published>
    <url>gryphoon-verze-1-5</url>
    <category>Gryphoon</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>67</id>
    <title>CSS 2.1 v Internet Exploreru 7</title>
    <description>Jak to bude s CSS v novém prohlížeči od Microsoftu.</description>
    <html xml:space="preserve">
&lt;p&gt;Včera vyšel &lt;a
href="http://blogs.msdn.com/ie/archive/2005/09/02/460115.aspx"&gt;článek na
ieblogu&lt;/a&gt;, který přináší k diskusi několik vlastností parseru &lt;acronym
title="Cascading Style Sheet"&gt;CSS&lt;/acronym&gt; v připravovaném &lt;acronym
title="Internet Explorer"&gt;IE&lt;/acronym&gt;. Zajímavé je, že zpracování stylů
bude odlišné pro Standard mod od Quirk modu. Quirk mode bude spracovávat CSS
stejně jako to dělá IE6 s všemi chybami, což by mělo zajistit funkčnost
současného kódu i v novém prohlížeči. Naproti tomu Standard mode se na
nic ohlížet nebude a pojede &lt;a href="http://www.w3.org/TR/CSS21/"&gt;podle
standardu&lt;/a&gt;. V důsledku by neměli fungovat různé hacky, kterými dnes
kodéři odlišují IE od moderních prohlížečů.&lt;/p&gt;

&lt;p&gt;Doufám, že implementace Standard modu bude dostatečně kvalitní, že
hacky nebudou nadále potřeba. Držim Microsoftu palce – hlavně kvůli
sobě ;).&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Včera vyšel "článek na ieblogu":[blog], který přináší k diskusi několik vlastností parseru CSS((Cascading Style Sheet)) v připravovaném IE((Internet Explorer)). Zajímavé je, že zpracování stylů bude odlišné pro Standard mod od Quirk modu. Quirk mode bude spracovávat CSS stejně jako to dělá IE6 s všemi chybami, což by mělo zajistit funkčnost současného kódu i v novém prohlížeči. Naproti tomu Standard mode se na nic ohlížet nebude a pojede "podle standardu":[css21]. V důsledku by neměli fungovat různé hacky, kterými dnes kodéři odlišují IE od moderních prohlížečů.

Doufám, že implementace Standard modu bude dostatečně kvalitní, že hacky nebudou nadále potřeba. Držim Microsoftu palce - hlavně kvůli sobě ;).

[blog]: http://blogs.msdn.com/ie/archive/2005/09/02/460115.aspx
[css21]: http://www.w3.org/TR/CSS21/</raw>
    <author>Aleš Roubíček</author>
    <published>2005-09-03T11:14:29</published>
    <url>css-2-1-v-internet-exploreru-7</url>
    <category>Webdesign</category>
    <keywords>CSS 2.1 Internet Explorer 7</keywords>
    <is-published>1</is-published>
    <edited>2008-04-19T19:12:08.740</edited>
  </article>
  <article>
    <id>68</id>
    <title>Proč používám Netscape 8</title>
    <description>O tom, proč jsem nahradil Firefox Netscape Browserem 8.</description>
    <html xml:space="preserve">
&lt;p&gt;Na mém počítačí je naistalovaných spousta prohlížečů, ale pouze
jeden má tu čest být mým hlavním. Je jím &lt;a
href="http://browser.netscape.com/"&gt;Nescape Browser 8&lt;/a&gt;. Dlouho jsem před
tím používal Firebirda a potom &lt;a
href="http://firefox.czilla.cz/"&gt;Firefoxe&lt;/a&gt;, byl jsem s nimi spokojený, ale
vadila mi jedna věc – některé stránky byly nepřístupné nebo
nefunkční. Proto jsem musel občas otevírat Internet Explorer (IE), hlavně
při chození do banky.&lt;/p&gt;

&lt;p&gt;Když se objevily zprávy o tom, že nová verze Netscape (NS) bude
postavená na Firefoxu a že bude mít přepínání enginů, nadchlo mě to a
těšil jsem se na release jako malé dítě. Hned, jak oficiálně vyšel, jsem
ho naistaloval…&lt;/p&gt;

&lt;p&gt;Chvíli jsem ho používal, ale zase jsem se vrátil zpět k Firefoxu. Pak
jsem musel zformátovat disk a při nové instalaci systému jsem se rozhodl,
že dám Netscapu druhou šanci a myslím že jsem udělal dobře, jsem nad
míru spokojený.&lt;/p&gt;

&lt;h3&gt;Co se mi na NS8 tak líbí?&lt;/h3&gt;

&lt;p&gt;V první řadě je to používání dvou zobrazovacích jader – Gecko a
Trident – mezi kterými si můžu libovolně přepínat a nastavovat pro
jednotlivé servery, jaké jádro použít s tím, že si to &lt;acronym
title="Netscape"&gt;NS&lt;/acronym&gt; pamatuje. Dále je to vychytaný systém
ověřování bezpečnostních úrovní stránek, který ve Firefoxu chybí a
v &lt;acronym title="Internet Explorer"&gt;IE&lt;/acronym&gt; není tak dotažený. NS si
ověřuje důvěryhodnost stránek u serverů jako je eTrust nebo VerySign,
nebo si úroveň zabezpečení můžete, zase pro jednotlivé sity,
nastavit ručně.&lt;/p&gt;

&lt;p&gt;Oproti Firefoxu má NS ve výchozí instalaci mnohem lepší podporu pro
prohlížení stránek v záložkách, má integrovaný &lt;a
href="http://www.icq.com/"&gt;ICQ&lt;/a&gt; klient, má integrovanou podporu pro &lt;a
href="http://www.gmail.com/"&gt;GMail&lt;/a&gt; a jiné používané e-mailové služby,
má pro mě přítulnější a kompaktnější prostředí.&lt;/p&gt;

&lt;p&gt;Velkou nevýhodou, oproti Firefoxu, je zatim nedostatečné množství
nabízených rozšíření, ale po čase jsem zjistil, že je zase tolik
nepotřebuju, jediné co mi chybělo byly MouseGestures a ty mi v poslední
verzi fungují bez problémů. Oni se totiž některé extensions pro Firefox
dají přemluvit k tomu, aby se tvářili, že jsou pro NS8 a ve výsledku
i fungují.&lt;/p&gt;

&lt;h3&gt;Jak na to?&lt;/h3&gt;

&lt;p&gt;Postup je jednoduchý. Z &lt;a href="http://update.mozilla.org/"&gt;Mozilla
Upadate&lt;/a&gt; si stáhnete rozšíření, které se vám líbí (Udělejte to
přes pravé tlačítko volbou &lt;em&gt;Save Target As…&lt;/em&gt;). Potom si
rozšíření otevřete pomocí ZIP a v něm upravíte soubor
&lt;strong&gt;install.rdf&lt;/strong&gt; a to následovně:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Musíte změnit ID cílové aplikace&lt;/li&gt;

	&lt;li&gt;Musíte změnit podporovanou verzi&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Výsledná část kódu po editaci bude třeba vypadat následovně:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;...
&amp;lt;em:targetApplication&amp;gt;
    &amp;lt;rdf:Description&amp;gt;
        &amp;lt;em:id&amp;gt;{3db10fab-e461-4c80-8b97-957ad5f8ea47}&amp;lt;/em:id&amp;gt;
        &amp;lt;em:minVersion&amp;gt;8.0.1&amp;lt;/em:minVersion&amp;gt;
        &amp;lt;em:maxVersion&amp;gt;8.0.4&amp;lt;/em:maxVersion&amp;gt;
    &amp;lt;/rdf:Description&amp;gt;
&amp;lt;/em:targetApplication&amp;gt;
...&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Výsledek uložíme a pokusíme se ho Netscapu vnutit. Otevřete si okno
&lt;em&gt;Extensions&lt;/em&gt; a naše rozšíření do něj přetáhneme. Potom NS
restartujeme. Voalá. Ovšem je velice provděpodobné, že ho nepříjme. Pak
je nutné nefunkční rozšíření odebrat, opět v okně Extensions. Pokud se
k němu nedostanete, je nutné spustit NS v &lt;em&gt;safe modu&lt;/em&gt; a pak to
půjde. Z toho vyplívá, že to děláte &lt;strong&gt;na vlastní
nebezpečí&lt;/strong&gt; a já nenesu žádnou vinu na tom, co se vám
může stát.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Na mém počítačí je naistalovaných spousta prohlížečů, ale pouze jeden má tu čest být mým hlavním. Je jím [netscape]. Dlouho jsem před tím používal Firebirda a potom "Firefoxe":[firefox], byl jsem s nimi spokojený, ale vadila mi jedna věc - některé stránky byly nepřístupné nebo nefunkční. Proto jsem musel občas otevírat Internet Explorer (IE), hlavně při chození do banky.

Když se objevily zprávy o tom, že nová verze Netscape (NS) bude postavená na Firefoxu a že bude mít přepínání enginů, nadchlo mě to a těšil jsem se na release jako malé dítě. Hned, jak oficiálně vyšel, jsem ho naistaloval...

Chvíli jsem ho používal, ale zase jsem se vrátil zpět k Firefoxu. Pak jsem musel zformátovat disk a při nové instalaci systému jsem se rozhodl, že dám Netscapu druhou šanci a myslím že jsem udělal dobře, jsem nad míru spokojený.

=== Co se mi na NS8 tak líbí?

V první řadě je to používání dvou zobrazovacích jader - Gecko a Trident - mezi kterými si můžu libovolně přepínat a nastavovat pro jednotlivé servery, jaké jádro použít s tím, že si to NS((Netscape)) pamatuje. Dále je to vychytaný systém ověřování bezpečnostních úrovní stránek, který ve Firefoxu chybí a v IE((Internet Explorer)) není tak dotažený. NS si ověřuje důvěryhodnost stránek u serverů jako je eTrust nebo VerySign, nebo si úroveň zabezpečení můžete, zase pro jednotlivé sity, nastavit ručně.

Oproti Firefoxu má NS ve výchozí instalaci mnohem lepší podporu pro prohlížení stránek v záložkách, má integrovaný [icq] klient, má integrovanou podporu pro [gmail] a jiné používané e-mailové služby, má pro mě přítulnější a kompaktnější prostředí.

Velkou nevýhodou, oproti Firefoxu, je zatim nedostatečné množství nabízených rozšíření, ale po čase jsem zjistil, že je zase tolik nepotřebuju, jediné co mi chybělo byly MouseGestures a ty mi v poslední verzi fungují bez problémů. Oni se totiž některé extensions pro Firefox dají přemluvit k tomu, aby se tvářili, že jsou pro NS8 a ve výsledku i fungují.

=== Jak na to?

Postup je jednoduchý. Z [moz-update] si stáhnete rozšíření, které se vám líbí (Udělejte to přes pravé tlačítko volbou *Save Target As...*). Potom si rozšíření otevřete pomocí ZIP a v něm upravíte soubor **install.rdf** a to následovně:

1.  Musíte změnit ID cílové aplikace
2.  Musíte změnit podporovanou verzi

Výsledná část kódu po editaci bude třeba vypadat následovně:

/---code xml
...
&lt;em:targetApplication&gt;
    &lt;rdf:Description&gt;
        &lt;em:id&gt;{3db10fab-e461-4c80-8b97-957ad5f8ea47}&lt;/em:id&gt;
        &lt;em:minVersion&gt;8.0.1&lt;/em:minVersion&gt;
        &lt;em:maxVersion&gt;8.0.4&lt;/em:maxVersion&gt;
    &lt;/rdf:Description&gt;
&lt;/em:targetApplication&gt;
...
\---

Výsledek uložíme a pokusíme se ho Netscapu vnutit. Otevřete si okno *Extensions* a naše rozšíření do něj přetáhneme. Potom NS restartujeme. Voalá. Ovšem je velice provděpodobné, že ho nepříjme. Pak je nutné nefunkční rozšíření odebrat, opět v okně Extensions. Pokud se k němu nedostanete, je nutné spustit NS v *safe modu* a pak to půjde. Z toho vyplívá, že to děláte **na vlastní nebezpečí** a já nenesu žádnou vinu na tom, co se vám může stát.

[moz-update]: http://update.mozilla.org/ Mozilla Upadate
[netscape]: http://browser.netscape.com/ Nescape Browser 8
[firefox]: http://firefox.czilla.cz/ Firefox
[icq]: http://www.icq.com/ ICQ
[gmail]: http://www.gmail.com/ GMail</raw>
    <author>Aleš Roubíček</author>
    <published>2005-09-04T10:45:44</published>
    <url>proc-pouzivam-netscape-8</url>
    <category>Webdesign</category>
    <keywords>firefox netscape browser 8</keywords>
    <is-published>1</is-published>
    <edited>2008-04-19T19:16:35.493</edited>
  </article>
  <article>
    <id>69</id>
    <title>Definice jazyka</title>
    <description>Jak správně definovat jazyk XHTML dokumentu.</description>
    <html xml:space="preserve">
&lt;p&gt;Na webstandards.org vyšel pěkný článek o tom &lt;a
href="http://www.webstandards.org/buzz/archive/2005_09.html#a000558"&gt;jak
správně definovat jazyk&lt;/a&gt; v XHTML dokumentech.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Pokud je stránka jednojazyčná nebo napsaná převážně v jednom jazyce
	definujte jazyk dokumentu pomocí &lt;code&gt;&amp;lt;html xml:lang="cs" ...&lt;/code&gt;. Nikdy
	tak nečiňte pomocí &lt;code&gt;&amp;lt;body&amp;gt;&lt;/code&gt;.&lt;/li&gt;

	&lt;li&gt;Nepoužívejte meta tag &lt;em&gt;Content-Language&lt;/em&gt;.&lt;/li&gt;

	&lt;li&gt;Pokud se v textu vyskytují fragmenty v jiném jazyce než je definován v
	&lt;code&gt;&amp;lt;html&amp;gt;&lt;/code&gt;, tak je označte atributem &lt;code&gt;xml:lang&lt;/code&gt;,
	buďto u třeba u celého odstavce &lt;code&gt;&amp;lt;p xml:lang="en"&amp;gt;&lt;/code&gt; nebo
	jen vybranou frázi uzavřete do &lt;code&gt;&amp;lt;span xml:lang="en"&amp;gt;english
	words&amp;lt;/span&amp;gt;&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Tyto pravidla platí pro XHTML 1.1 publikované jako
&lt;strong&gt;aplication/xhtml+xml&lt;/strong&gt;. Pokud používáte XHTML
1.0 publikované jako &lt;strong&gt;text/html&lt;/strong&gt; musíte deklaraci zdvojit
přidáním atributu &lt;code&gt;lang&lt;/code&gt;. U HTML se zase neuvádí
&lt;code&gt;xml:lang&lt;/code&gt;, ale pouze &lt;code&gt;lang&lt;/code&gt;. Je to celkem sranda, asi
proto nemám rád XHTML 1.0. Začínám přemýšlet o tom, že budu tyhle
stránky nabízet jako HTML 4.0 pro prohlížeče, které XHTML
1.1 neznají :)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Na webstandards.org vyšel pěkný článek o tom "jak správně definovat jazyk":[clanek] v XHTML dokumentech.

1.  Pokud je stránka jednojazyčná nebo napsaná převážně v jednom jazyce definujte jazyk dokumentu pomocí `&lt;html xml:lang="cs" ...`. Nikdy tak nečiňte pomocí `&lt;body&gt;`.
2.  Nepoužívejte meta tag *Content-Language*.
3.  Pokud se v textu vyskytují fragmenty v jiném jazyce než je definován v `&lt;html&gt;`, tak je označte atributem `xml:lang`, buďto u třeba u celého odstavce `&lt;p xml:lang="en"&gt;` nebo jen vybranou frázi uzavřete do `&lt;span xml:lang="en"&gt;english words&lt;/span&gt;`.

Tyto pravidla platí pro XHTML 1.1 publikované jako **aplication/xhtml+xml**. Pokud používáte XHTML 1.0 publikované jako **text/html** musíte deklaraci zdvojit přidáním atributu `lang`. U HTML se zase neuvádí `xml:lang`, ale pouze `lang`. Je to celkem sranda, asi proto nemám rád XHTML 1.0. Začínám přemýšlet o tom, že budu tyhle stránky nabízet jako HTML 4.0 pro prohlížeče, které XHTML 1.1 neznají :)

[clanek]: http://www.webstandards.org/buzz/archive/2005_09.html#a000558</raw>
    <author>Aleš Roubíček</author>
    <published>2005-09-07T11:38:21</published>
    <url>definice-jazyka</url>
    <category>Webdesign</category>
    <keywords>xhtml lang jazyk definice</keywords>
    <is-published>1</is-published>
    <edited>2008-04-19T19:18:30.387</edited>
  </article>
  <article>
    <id>70</id>
    <title>Nazpět z dovolené</title>
    <description>V sobotu jsem se vrátil z dovolené.</description>
    <html xml:space="preserve">
&lt;p&gt;V&amp;#160;sobotu jsem se vrátil z&amp;#160;týdenní dovolené v&amp;#160;Chorvatsku.
Byl jsem ve městě Punat na ostrově Krk. Počasí bylo dostatečně pěkné
na focení pěkných snímků :) ale i&amp;#160;na koupání a opalování.&lt;/p&gt;

&lt;p&gt;Už tři dny před odjezdem jsem se vysekal na kole a sedřel jsem si obě
ruce a narazil pravou, se kterou ještě teď nemůžu moc dělat namáhavé
věci. Na dovolenou jsme jeli autem, takže jsem nespal 48&amp;#160;hodin, a
nakonec jsem si s&amp;#160;sebou dovezl nějakýho bacila, takže jsem 4&amp;#160;dny
z&amp;#160;dovolený proležel v&amp;#160;horečkách v&amp;#160;posleteli. Náramně jsem
si to užil.&lt;/p&gt;

&lt;div class="center image"&gt;&lt;img src="/images/dovolena.jpg" alt="foto z dovolené"
/&gt;
	&lt;p&gt;Večerní pohled z&amp;#160;pláže na město Krk (vpravo) a ostrov Cres
	(vlevo)&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;Poslední den jsem šel s&amp;#160;rodičema na oběd do místní restaurace a
nakonec jsem podlehl a dal si &lt;strong&gt;Callamari&lt;/strong&gt;. Byl to můj první
pokus o&amp;#160;pozření &amp;#8222;mořských plodů&amp;#8220; a myslim, že
i&amp;#160;poslední. Jinak se mi dovolená líbila a mám z&amp;#160;ním i&amp;#160;pár
pěkných fotek. Až zprovoznim galerii, tak je tam umístim :)&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">V sobotu jsem se vrátil z týdenní dovolené v Chorvatsku. Byl jsem ve městě Punat na ostrově Krk. Počasí bylo dostatečně pěkné na focení pěkných snímků :) ale i na koupání a opalování.

Už tři dny před odjezdem jsem se vysekal na kole a sedřel jsem si obě ruce a narazil pravou, se kterou ještě teď nemůžu moc dělat namáhavé věci. Na dovolenou jsme jeli autem, takže jsem nespal 48 hodin, a nakonec jsem si s sebou dovezl nějakýho bacila, takže jsem 4 dny z dovolený proležel v horečkách v posleteli. Náramně jsem si to užil.

[* /images/dovolena.jpg .(foto z dovolené) *] *** Večerní pohled z pláže na město Krk (vpravo) a ostrov Cres (vlevo) .[center]

Poslední den jsem šel s rodičema na oběd do místní restaurace a nakonec jsem podlehl a dal si **Callamari**. Byl to můj první pokus o pozření "mořských plodů" a myslim, že i poslední. Jinak se mi dovolená líbila a mám z ním i pár pěkných fotek. Až zprovoznim galerii, tak je tam umístim :)</raw>
    <author>Aleš Roubíček</author>
    <published>2005-09-20T22:27:49</published>
    <url>nazpet-z-dovolene</url>
    <category>Jen tak</category>
    <keywords>dovolena, krk, punat, kalamari</keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>71</id>
    <title>Gigi D'Agostino v Hany Bany - report z akce</title>
    <description>Gigi konečně přijel do Prahy, tady je report z průběhu akce.</description>
    <html xml:space="preserve">
&lt;p&gt;Já a jsem vyzvedl Pira a Vendy na hl. nádraží kolem půl osmý a rovnou
jsme vyrazili směr Kongresové centrum. Na místě už bylo několik hloučků
vyznavačů Gigiho muziky, byli mezi nimi a tací, kteří neměli ještě
vstupenky :) Pozdravili jsme se s&amp;#160;pár lidma a zamířili do hospody. Tam
jsme se trošku připravili na nenízké ceny v&amp;#160;Hany Bany. Potkali jsme
tam další dvě skupinky fanoušků&amp;#8230;&lt;/p&gt;

&lt;p&gt;Asi v&amp;#160;půl desátý jsme vyrazili do Hany. Před vstupem lehká fronta,
trapný vyhazovači, co nás hezky vošahali&amp;#8230; utrhnout lístek a jsme
tam. Piro s&amp;#160;Vendy ještě skočili do šatny s&amp;#160;věcma. Pak jsme
zamířili k&amp;#160;parketu, cestou nás zdravili lidi, o&amp;#160;kterých dosud
nevím co jsou zač, ale zdravil jsem je taky :) První cesta byla na záchod,
ta Plzeň byla celkem močopudná. Po návratu z&amp;#160;WC zamířil Piro ke
klukům z&amp;#160;&lt;a href="http://www.gigi.cz"&gt;Gigi.cz&lt;/a&gt; a za chvíli se
přišli pozdravit i&amp;#160;se mnou. Pak jsme tam nějak jako i&amp;#160;tancovali.
Pak jsme potkali mášu.&lt;/p&gt;

&lt;p&gt;Zanedlouho jsme se přemístili k&amp;#160;Gigi.cz, zapili jsme setkání a
udělali &lt;a href="http://forum.gigi.cz/uploads/gigicz.jpg"&gt;společné foto&lt;/a&gt;,
pak jsme si šly udělat místo na parketu, v&amp;#160;první řadě, něco přes
hodinu jsme tancovali a pak přišel &lt;strong&gt;on&lt;/strong&gt;. Dav skandoval
&amp;#8222;Gi gi gi gi gi&amp;#8230;&amp;#8220;, na pódiu se objevila zpěvačka a
snažila se něco pěkného zazpívat, dav nepřeřvala&amp;#8230; Gigi do jejího
zpěvu začal pouštět muziku (nějakou klasiku), v&amp;#160;davu to začalo
vřít, každou změnu v&amp;#160;rytmu, náležitě ocenil.&lt;/p&gt;

&lt;p&gt;Do klasiky začal přimíchávat svoji klasiku &amp;#8211; Uomo Suono &amp;#8211;
Passo Passo :) nejdřív jen bassline a postupně i&amp;#160;screamy, bomba! Pak
Popcorn a už to jelo&amp;#8230; &lt;a
href="http://forum.gigi.cz/index.php?showtopic=42&amp;amp;st=20#entry546"&gt;Tracklist&lt;/a&gt;
jsem už psal do fóra. Během vystoupení i&amp;#160;okolo něj fotil Piro jako
blázen (něco kolem 180&amp;#160;fotek a pár videí), takže až je zpracuje,
můžete se na ně těšit v&amp;#160;&lt;a href="http://ggdag.euweb.cz/fotky"&gt;nově
otevřené galerii&lt;/a&gt;, kde už pár fotek z&amp;#160;téhle akce je. Jestli někdo
máte zájem svoje fotky z&amp;#160;&lt;strong&gt;mini tour&lt;/strong&gt; u&amp;#160;nás
vystavit, neváhejte mě &lt;a
href="mailto:rarous@seznam.cz?subject=fotky_z_akce"&gt;kontaktovat&lt;/a&gt;.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Já a jsem vyzvedl Pira a Vendy na hl. nádraží kolem půl osmý a rovnou jsme vyrazili směr Kongresové centrum. Na místě už bylo několik hloučků vyznavačů Gigiho muziky, byli mezi nimi a tací, kteří neměli ještě vstupenky :) Pozdravili jsme se s pár lidma a zamířili do hospody. Tam jsme se trošku připravili na nenízké ceny v Hany Bany. Potkali jsme tam další dvě skupinky fanoušků...

Asi v půl desátý jsme vyrazili do Hany. Před vstupem lehká fronta, trapný vyhazovači, co nás hezky vošahali ... utrhnout lístek a jsme tam. Piro s Vendy ještě skočili do šatny s věcma. Pak jsme zamířili k parketu, cestou nás zdravili lidi, o kterých dosud nevím co jsou zač, ale zdravil jsem je taky :) První cesta byla na záchod, ta Plzeň byla celkem močopudná. Po návratu z WC zamířil Piro ke klukům z "Gigi.cz":http://www.gigi.cz a za chvíli se přišli pozdravit i se mnou. Pak jsme tam nějak jako i tancovali. Pak jsme potkali mášu.

Zanedlouho jsme se přemístili k Gigi.cz, zapili jsme setkání a udělali "společné foto":http://forum.gigi.cz/uploads/gigicz.jpg, pak jsme si šly udělat místo na parketu, v první řadě, něco přes hodinu jsme tancovali a pak přišel **on**. Dav skandoval "Gi gi gi gi gi...", na pódiu se objevila zpěvačka a snažila se něco pěkného zazpívat, dav nepřeřvala... Gigi do jejího zpěvu začal pouštět muziku (nějakou klasiku), v davu to začalo vřít, každou změnu v rytmu, náležitě ocenil.

Do klasiky začal přimíchávat svoji klasiku - Uomo Suono - Passo Passo :) nejdřív jen bassline a postupně i screamy, bomba! Pak Popcorn a už to jelo... "Tracklist":http://forum.gigi.cz/index.php?showtopic=42&amp;st=20#entry546 jsem už psal do fóra. Během vystoupení i okolo něj fotil Piro jako blázen (něco kolem 180 fotek a pár videí), takže až je zpracuje, můžete se na ně těšit v "nově otevřené galerii":http://ggdag.euweb.cz/fotky, kde už pár fotek z téhle akce je. Jestli někdo máte zájem svoje fotky z **mini tour** u nás vystavit, neváhejte mě "kontaktovat":[mailto:rarous@seznam.cz?subject=fotky_z_akce].</raw>
    <author>Aleš Roubíček</author>
    <published>2005-09-26T17:17:29</published>
    <url>gigi-dagostino-v-hany-bany</url>
    <category>Muzika</category>
    <keywords>Gigi D'Agostino Hany Bany Praha report</keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>72</id>
    <title>Spadlý disk</title>
    <description>To nasere.</description>
    <html xml:space="preserve">
&lt;p&gt;Dnes jsem se probudil, do nejhoršího snu. Přestože jsem večer počítač
nevypínal, ráno byl vypnutý. To už bylo podezřelé. Zapnul jsem ho a
vyskočila hláška, že nějakej soubor chybí a že systém nemůže
nastartovat. Tak jsem rychle sáhl po instalačním CD Windows a chtěl
využít konzulu pro obnovení systému. V&amp;#160;té jsem zjistil, že má data
se odebrala do křemíkového nebe&amp;#8230;&lt;/p&gt;

&lt;p&gt;Proč zrovna já?? Asi začnut zálohovat i&amp;#160;jinam než na
disk&amp;#8230;&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Dnes jsem se probudil, do nejhoršího snu. Přestože jsem večer počítač nevypínal, ráno byl vypnutý. To už bylo podezřelé. Zapnul jsem ho a vyskočila hláška, že nějakej soubor chybí a že systém nemůže nastartovat. Tak jsem rychle sáhl po instalačním CD Windows a chtěl využít konzulu pro obnovení systému. V té jsem zjistil, že má data se odebrala do křemíkového nebe...

Proč zrovna já?? Asi začnut zálohovat i jinam než na disk...</raw>
    <author>Aleš Roubíček</author>
    <published>2005-10-07T08:29:42</published>
    <url>spadly-disk</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>74</id>
    <title>Microsoft Expression</title>
    <description>Microsoft připravuje novou sadu grafických nástrojů.</description>
    <html xml:space="preserve">
&lt;p&gt;Microsoft připravuje novou &lt;a
href="http://www.microsoft.com/products/expression/en/default.aspx"&gt;sadu
grafických nástrojů&lt;/a&gt;. Nástroje budou postaveny na &lt;em&gt;Windows
Presentation Foundation&lt;/em&gt; a budou vstupovat na bitevní pole, kde je již
nyní „tvrdá konkurence.“ Vlastně zas tak horké to není, protože &lt;a
href="http://www.adobe.com/"&gt;Adobe&lt;/a&gt; koupilo Macromedii, čímž se
konkurenční boj značně scvrknul :)&lt;/p&gt;

&lt;p&gt;Prvním z rodiny je produkt s kódovým označením &lt;strong&gt;Acrylic Graphic
Designer&lt;/strong&gt;. Tento produkt se chce poměřovat s Photoshopem a jemu
podobnými nástroji. S tímto programem mám i osobní zkušenosti, protože
mám nainstalovanou jednu z betaverzí (build 684). Samozřejmě podporuje
práci ve vrstvách a vrstvy rozlišuje na bitmapové a vektorové. Prostředí
programu je klasické s plovoucími nástrojovými lištami a nabídkami
vlastností. Pro mě, uživatele Fireworksů, toto chování moc nevyhovuje, ale
člověk si na něj po chvilce práce zvykne a za čas mu i přijde intuitivní
:) Tento nástroj je tedy určen pro předtiskovou přípravu a pro přípravu
grafiky pro web – tady osobně nedám dopustit na &lt;a
href="http://www.macromedia.com/software/fireworks/"&gt;Fireworks&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Druhým členem nové rodiny je produkt s kódovým označením
&lt;strong&gt;Sparkle Interactive Designer&lt;/strong&gt;. Tento produkt se pro změnu
staví do závodu na startovní čáře vedle Flashe. Uživatelské prostředí
vychází z Acryliku s nutnými rozšířeními pro tvorbu animované grafiky.
Samozřejmě bude Sparkl umět importovat věci z Acryliku.&lt;/p&gt;

&lt;p&gt;Třetím produktem je, podle mě, pecka, která nemá obdoby a pokud se
Microsoft opravdu povede, co slibuje, bude tu nástroj, po kterém musí
zatoužit snad každý webdesignér. Jedná se o produkt s označením
&lt;strong&gt;Quartz Web Designer&lt;/strong&gt;. Tento nástroj slibuje intuitivní práci
s &lt;acronym title="Cascading StyleSheet"&gt;CSS&lt;/acronym&gt; ve &lt;acronym
title="What I See Is What I Get"&gt;WISIWIG&lt;/acronym&gt; režimu, včetně
pozicování, nastavování marginů a paddingů. Výstupem by měl být kód
splňující normy &lt;a href="http://www.w3.org"
title="World Wide Web Consortium"&gt;W3C&lt;/a&gt;. S CSS to ale nekončí! Wed Designer
by měl plně podporovat &lt;acronym
title="Extensible Markup Language"&gt;XML&lt;/acronym&gt; a pravděpodobně, by v něm
měly jít jednoduše generovat &lt;acronym title="XML Schema"&gt;XSD&lt;/acronym&gt;
schémata a &lt;acronym title="Extensible Stylesheet Language"&gt;XSL&lt;/acronym&gt;
transformace, ale tady si nejsem moc jistý, jestli jsem špatně nepochopil
ukázkový materiál. Třešničkou na dortu je codeless DataBinding a podpora
&lt;a href="http://asp.net/"&gt;ASP.NET&lt;/a&gt; 2.&lt;/p&gt;

&lt;p&gt;Nová produktová řada na mě působí celkem uceleně a pokrývá potřeby
současných webdesignérů. Osobně se těším na produkt s označením
&lt;em&gt;Quartz&lt;/em&gt;…&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Microsoft připravuje novou "sadu grafických nástrojů":[expression]. Nástroje budou postaveny na *Windows Presentation Foundation* a budou vstupovat na bitevní pole, kde je již nyní „tvrdá konkurence.“ Vlastně zas tak horké to není, protože [adobe] koupilo Macromedii, čímž se konkurenční boj značně scvrknul :)

Prvním z rodiny je produkt s kódovým označením **Acrylic Graphic Designer**. Tento produkt se chce poměřovat s Photoshopem a jemu podobnými nástroji. S tímto programem mám i osobní zkušenosti, protože mám nainstalovanou jednu z betaverzí (build 684). Samozřejmě podporuje práci ve vrstvách a vrstvy rozlišuje na bitmapové a vektorové. Prostředí programu je klasické s plovoucími nástrojovými lištami a nabídkami vlastností. Pro mě, uživatele Fireworksů, toto chování moc nevyhovuje, ale člověk si na něj po chvilce práce zvykne a za čas mu i přijde intuitivní :) Tento nástroj je tedy určen pro předtiskovou přípravu a pro přípravu grafiky pro web – tady osobně nedám dopustit na [fireworks].

Druhým členem nové rodiny je produkt s kódovým označením **Sparkle Interactive Designer**. Tento produkt se pro změnu staví do závodu na startovní čáře vedle Flashe. Uživatelské prostředí vychází z Acryliku s nutnými rozšířeními pro tvorbu animované grafiky. Samozřejmě bude Sparkl umět importovat věci z Acryliku.

Třetím produktem je, podle mě, pecka, která nemá obdoby a pokud se Microsoft opravdu povede, co slibuje, bude tu nástroj, po kterém musí zatoužit snad každý webdesignér. Jedná se o produkt s označením **Quartz Web Designer**. Tento nástroj slibuje intuitivní práci s CSS((Cascading StyleSheet)) ve WISIWIG((What I See Is What I Get)) režimu, včetně pozicování, nastavování marginů a paddingů. Výstupem by měl být kód splňující normy [w3c]. S CSS to ale nekončí! Wed Designer by měl plně podporovat XML((Extensible Markup Language)) a pravděpodobně, by v něm měly jít jednoduše generovat XSD((XML Schema)) schémata a XSL((Extensible Stylesheet Language)) transformace, ale tady si nejsem moc jistý, jestli jsem špatně nepochopil ukázkový materiál. Třešničkou na dortu je codeless DataBinding a podpora [aspnet] 2.

Nová produktová řada na mě působí celkem uceleně a pokrývá potřeby současných webdesignérů. Osobně se těším na produkt s označením *Quartz*…

[adobe]: http://www.adobe.com/ Adobe
[expression]: http://www.microsoft.com/products/expression/en/default.aspx
[w3c]: http://www.w3.org W3C .(World Wide Web Consortium)
[fireworks]: http://www.macromedia.com/software/fireworks/ Fireworks
[aspnet]: http://asp.net/ ASP.NET</raw>
    <author>Aleš Roubíček</author>
    <published>2005-10-12T13:31:12</published>
    <url>microsoft-expression</url>
    <category>Webdesign</category>
    <keywords>Microsoft Acrylic Sparkle Quartz CSS XML ASP.NET</keywords>
    <is-published>1</is-published>
    <edited>2008-04-19T19:43:10.120</edited>
  </article>
  <article>
    <id>75</id>
    <title>Další omluva za výpadek</title>
    <description>Omlouvám se za dlouhý výpadek stránek.</description>
    <html xml:space="preserve">
&lt;p&gt;Chtěl bych se všem čtenářům omluvit za výpade těchto stránek. Na
vině bylo nekvalitní &lt;acronym title="File Transfer Protocol"&gt;FTP&lt;/acronym&gt;
připojení a podivné chování &lt;acronym
title="Internet Information Service"&gt;IIS&lt;/acronym&gt;, kdy se mi nepovedlo
uploadovat aktualizovanou verzi assembly na server a IIS mi pak nechtělo
povolit tu assembly smazat nebo přepsat. Když admin tento problém vyřešil
tak se mi to povedlo znovu :) Bohužel zrovna nefungovalo forum, kde bych
problém nahlásil, proto takové zdržení…&lt;/p&gt;

&lt;p&gt;V současné době připravujeme přechod na profi hosting, kde bude lepší
technická podpora. Taky jsem zakoupil &lt;a href="http://rarous.net"&gt;novou
doménu&lt;/a&gt; a budu muset znovu budovat svoje pozice ve vyhledávačích :)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Chtěl bych se všem čtenářům omluvit za výpade těchto stránek. Na vině bylo nekvalitní FTP((File Transfer Protocol)) připojení a podivné chování IIS((Internet Information Service)), kdy se mi nepovedlo uploadovat aktualizovanou verzi assembly na server a IIS mi pak nechtělo povolit tu assembly smazat nebo přepsat. Když admin tento problém vyřešil tak se mi to povedlo znovu :) Bohužel zrovna nefungovalo forum, kde bych problém nahlásil, proto takové zdržení...

V současné době připravujeme přechod na profi hosting, kde bude lepší technická podpora. Taky jsem zakoupil "novou doménu":[rarous] a budu muset znovu budovat svoje pozice ve vyhledávačích :)

[rarous]: http://rarous.net</raw>
    <author>Aleš Roubíček</author>
    <published>2005-10-23T21:24:20</published>
    <url>dalsi-omluva-za-vypadek</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-04-19T19:43:54.870</edited>
  </article>
  <article>
    <id>76</id>
    <title>Plný dům</title>
    <description>Aneb jak nacpat 20 lidí do 3+KK.</description>
    <html xml:space="preserve">
&lt;p&gt;Již včera přijely přítelkyně – Monika a Tereza – mých
spolubydlících k nám na návštěvu a usadily se tu na delší dobu, takže
dnes nás spalo v jednom pokoji pět. Dnes večer se má dostavit další
várka lidí na oslavy narozenin několika byvalých spolubydlících. Takže tu
bude v jeden čas něco okolo 15 až 20 lidí a to už stojí za to! Ještě
že s přibývajícím množstvím lidí bude přibývat i alkoholu :o) jinak
nevim jak bych to já, konzervativní a samotářský typ, zvládl…&lt;/p&gt;

&lt;p&gt;Včera jsme konečně naplno zprovoznili nový hosting a adresu stránek,
takže si prosim změňte záložky a &lt;acronym
title="Really Simple Syndication"&gt;RSS&lt;/acronym&gt; na novou adresu &lt;a
href="http://www.rarous.net"&gt;www.rarous.net&lt;/a&gt;. Až se mi povede zbavit se
zakésnuté dll na &lt;a href="http://www.aspweb.cz/"&gt;AspWebu&lt;/a&gt;, budou fungovat
i staré adresy na nové stránky. Tím bych měl mít vyřešeno i ono
indexování vyhledávačema, protože to bude posílat HTTP 301 Moved
Permanently :)&lt;/p&gt;

&lt;p&gt;No ještě bych zapoměl, &lt;a
href="http://www.mikemaly.net/clanek/8-neni-tabletka-jako-tabletka.aspx"&gt;mike se
včera skoro zabil&lt;/a&gt;…&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Již včera přijely přítelkyně - Monika a Tereza - mých spolubydlících k nám na návštěvu a usadily se tu na delší dobu, takže dnes nás spalo v jednom pokoji pět. Dnes večer se má dostavit další várka lidí na oslavy narozenin několika byvalých spolubydlících. Takže tu bude v jeden čas něco okolo 15 až 20 lidí a to už stojí za to! Ještě že s přibývajícím množstvím lidí bude přibývat i alkoholu :o) jinak nevim jak bych to já, konzervativní a samotářský typ, zvládl...

Včera jsme konečně naplno zprovoznili nový hosting a adresu stránek, takže si prosim změňte záložky a RSS((Really Simple Syndication)) na novou adresu www.rarous.net. Až se mi povede zbavit se zakésnuté dll na AspWebu:[aspweb], budou fungovat i staré adresy na nové stránky. Tím bych měl mít vyřešeno i ono indexování vyhledávačema, protože to bude posílat HTTP 301 Moved Permanently :)

No ještě bych zapoměl, "mike se včera skoro zabil":[tabletka]...

[tabletka]: http://www.mikemaly.net/clanek/8-neni-tabletka-jako-tabletka.aspx
[aspweb]: http://www.aspweb.cz/</raw>
    <author>Aleš Roubíček</author>
    <published>2005-10-26T12:41:33.423</published>
    <url>plny-dum</url>
    <category>Kamarádi</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-04-19T19:46:11.320</edited>
  </article>
  <article>
    <id>77</id>
    <title>Redesign</title>
    <description>Když je to tu jaro, teda vlastně pozdim...</description>
    <html xml:space="preserve">
&lt;p&gt;S&amp;#160;příchodem listopadu přicházím s&amp;#160;novým vzhledem stránek a
dalšíma vychytávkama. Protože jsem zprovoznil plugin do Gryphoonu, který
generuje galerie fotografií z&amp;#160;&lt;acronym
title="Extensible Markup Language"&gt;XML&lt;/acronym&gt; exportu &lt;a
href="http://picasa.google.com"&gt;Picasy&lt;/a&gt;, musel jsem rozšířit design, aby
se do něj vešly fotky o&amp;#160;rozměru 640px. Vzal jsem to z&amp;#160;gruntu a
udělal novej design &amp;#8211; tedy jen StyleSheet. Zatim není úplně dopsaný,
proto není nasazený na celém webu, ale během několika následujících
dnů ho pustim i&amp;#160;do blogu. Je to práce za dnešní odpolede, proto
potřebuje ještě trochu doladit. Prosím pište mi chyby nebo názory co
ještě dodělat ;) Moc díky&amp;#8230;&lt;/p&gt;

&lt;p&gt;PS: Pravděpodobně to tu zejtra začne blikat, jak budu za pochodu upravovat
styl :)&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">S příchodem listopadu přicházím s novým vzhledem stránek a dalšíma vychytávkama. Protože jsem zprovoznil plugin do Gryphoonu, který generuje galerie fotografií z XML((Extensible Markup Language)) exportu "Picasy":[picasa], musel jsem rozšířit design, aby se do něj vešly fotky o rozměru 640px. Vzal jsem to z gruntu a udělal novej design - tedy jen StyleSheet. Zatim není úplně dopsaný, proto není nasazený na celém webu, ale během několika následujících dnů ho pustim i do blogu. Je to práce za dnešní odpolede, proto potřebuje ještě trochu doladit. Prosím pište mi chyby nebo názory co ještě dodělat ;) Moc díky...

PS: Pravděpodobně to tu zejtra začne blikat, jak budu za pochodu upravovat styl :)

[picasa]: http://picasa.google.com</raw>
    <author>Aleš Roubíček</author>
    <published>2005-11-01T20:28:32.050</published>
    <url>redesign</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>78</id>
    <title>Jak na validátor W3C</title>
    <description>Návod jak projít validací W3C Validatoru s&amp;#160;ASP.NET 2.</description>
    <html xml:space="preserve">
&lt;p&gt;ASP.NET 2.0&amp;#160;ve finální verzi produkuje kód podle &lt;acronym
title="Extensible Hypertext Markup Language"&gt;XHTML&lt;/acronym&gt;
1.0&amp;#160;Transitional, takže by měl validátorem bez problémů projít
&amp;#8211; teda pokud neděláte v&amp;#160;kódu prasárny. Já osobně preferuji
Strict mode, takže od dob beta2 jedou tyhle stránky s&amp;#160;doctypem XHTML
1.1, jenže generovaný kód už nedosahuje požadované kvality :) Naštěstí
programátoři nezahodili striktní režim, ale pouze ho schovali za
přepínač ve web.configu. Takže stačí přidat řádek
&lt;code&gt;&amp;lt;xhtmlConformance mode="Strict" /&amp;gt;&lt;/code&gt; do sekce
&lt;code&gt;&amp;lt;system.web&amp;gt;&lt;/code&gt; a rázem bude výstup zase striktní! Ale
pozor, nezapomínejme na adaptivní rendering ASP.NET, který je dobrým
sluhou, ale i&amp;#160;zlým pánem.&lt;/p&gt;

&lt;p&gt;Striktní výstup dostanou pouze prohlížeče, které mu rozumí (tohle moc
nechápu, ale budiž). Pokud dáte validovat takovou stránku W3C Validátoru,
tak nepochodíte. Vyskočej na vás přinejmenším tři chyby (atribut name a
formu a dva inputy, které nejsou v&amp;#160;blokovém elementu), je to způsobeno
tím, že ASP.NET nezná user-agenta validátoru. Náprava je naštěstí
jednoduchá, stačí si napsat vlastní &lt;strong&gt;browser definition
file&lt;/strong&gt; a uložit jej do adresáře &lt;em&gt;App_Browsers&lt;/em&gt;. No a protože
nerad dělám něco, co už někdo udělal, našel jsem &lt;a
href="http://idunno.org/misc/w3cvalidator.browser"&gt;W3CValidator.brow&amp;#173;ser&lt;/a&gt;
na stránkách &lt;a href="http://idunno.org"&gt;http://idunno.org&lt;/a&gt; za což jim
velice děkuji. Teď už je zase výstup, jak má být, projde validací, a
nepotřebuju k&amp;#160;tomu ani žádné &lt;a
href="http://www.aspnetresources.com/articles/HttpFilters.aspx"&gt;OutputFiltry&lt;/a&gt;
:)&lt;/p&gt;

&lt;h3&gt;Update&lt;/h3&gt;

&lt;p&gt;Dneska jsem zjistil, že zdrojové stránky asi nefungují, proto tady
uvádím zdrojový kód W3CValidator.brow&amp;#173;ser:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-markup"&gt;&amp;lt;browsers&amp;gt;
    &amp;lt;browser id="W3CValidator" parentID="Mozilla"&amp;gt;
        &amp;lt;identification&amp;gt;
            &amp;lt;userAgent match="W3C_Validator" /&amp;gt;
        &amp;lt;/identification&amp;gt;

        &amp;lt;capabilities&amp;gt;
            &amp;lt;capability name="tagwriter" value="System.Web.UI.HtmlTextWriter" /&amp;gt;
          &amp;lt;capability name="ecmascriptversion" value="1.5" /&amp;gt;
          &amp;lt;capability name="w3cdomversion" value="1.0" /&amp;gt;
          &amp;lt;capability name="css1" value="true" /&amp;gt;
          &amp;lt;capability name="css2" value="true" /&amp;gt;
        &amp;lt;/capabilities&amp;gt;
      &amp;lt;/browser&amp;gt;

    &amp;lt;browser refID="Mozilla"&amp;gt;
        &amp;lt;capabilities&amp;gt;
            &amp;lt;capability name="xml" value="true" /&amp;gt;
        &amp;lt;/capabilities&amp;gt;
    &amp;lt;/browser&amp;gt;
&amp;lt;/browsers&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">ASP.NET 2.0 ve finální verzi produkuje kód podle XHTML((Extensible Hypertext Markup Language)) 1.0 Transitional, takže by měl validátorem bez problémů projít - teda pokud neděláte v kódu prasárny. Já osobně preferuji Strict mode, takže od dob beta2 jedou tyhle stránky s doctypem XHTML 1.1, jenže generovaný kód už nedosahuje požadované kvality :) Naštěstí programátoři nezahodili striktní režim, ale pouze ho schovali za přepínač ve web.configu. Takže stačí přidat řádek `&lt;xhtmlConformance mode="Strict" /&gt;` do sekce `&lt;system.web&gt;` a rázem bude výstup zase striktní! Ale pozor, nezapomínejme na adaptivní rendering ASP.NET, který je dobrým sluhou, ale i zlým pánem.

Striktní výstup dostanou pouze prohlížeče, které mu rozumí (tohle moc nechápu, ale budiž). Pokud dáte validovat takovou stránku W3C Validátoru, tak nepochodíte. Vyskočej na vás přinejmenším tři chyby (atribut name a formu a dva inputy, které nejsou v blokovém elementu), je to způsobeno tím, že ASP.NET nezná user-agenta validátoru. Náprava je naštěstí jednoduchá, stačí si napsat vlastní **browser definition file** a uložit jej do adresáře *App_Browsers*. No a protože nerad dělám něco, co už někdo udělal, našel jsem "W3CValidator.browser":http://idunno.org/misc/w3cvalidator.browser na stránkách http://idunno.org za což jim velice děkuji. Teď už je zase výstup, jak má být, projde validací, a nepotřebuju k tomu ani žádné "OutputFiltry":http://www.aspnetresources.com/articles/HttpFilters.aspx :)

== Update
Dneska jsem zjistil, že zdrojové stránky asi nefungují, proto tady uvádím zdrojový kód W3CValidator.browser:

/--- code xml
&lt;browsers&gt;
    &lt;browser id="W3CValidator" parentID="Mozilla"&gt;
        &lt;identification&gt;
            &lt;userAgent match="W3C_Validator" /&gt;
        &lt;/identification&gt;

        &lt;capabilities&gt;
            &lt;capability name="tagwriter" value="System.Web.UI.HtmlTextWriter" /&gt;
          &lt;capability name="ecmascriptversion" value="1.5" /&gt;
          &lt;capability name="w3cdomversion" value="1.0" /&gt;
          &lt;capability name="css1" value="true" /&gt;
          &lt;capability name="css2" value="true" /&gt;
        &lt;/capabilities&gt;
      &lt;/browser&gt;

    &lt;browser refID="Mozilla"&gt;
        &lt;capabilities&gt;
            &lt;capability name="xml" value="true" /&gt;
        &lt;/capabilities&gt;
    &lt;/browser&gt;
&lt;/browsers&gt;
\---</raw>
    <author>Aleš Roubíček</author>
    <published>2005-11-08T14:07:00</published>
    <url>jak-na-validator-w3c</url>
    <category>ASP.NET 2.0</category>
    <keywords>strict validace asp.net 2 w3cvalidator.browser</keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>79</id>
    <title>Přístup k objektům Master page v ASP.NET 2</title>
    <description>Návod jak přistupovat k&amp;#160;vlastním vlastnostem Master page
z&amp;#160;obsahových stránek.</description>
    <html xml:space="preserve">
&lt;p&gt;ASP.NET 2&amp;#160;přináší globální šablonování pomocí Master pages.
Díky tomu snadno udržíte jednotný vzhled aplikace. V &amp;#8222;mástru&amp;#8220;
si nadefinujete stránku přesně tak, jak chcete, aby ve výsledku vypadala a
pomocí objektů &lt;code&gt;&amp;lt;asp:ContentPlaceholder&amp;gt;&lt;/code&gt; definujete místa,
která se u&amp;#160;jednotlivých stránek budou měnit. Samotné aspx stránky
budou obsahovat už jen tyto upravitelné části a výkonnou část dané
stránky.&lt;/p&gt;

&lt;p&gt;Ovšem někdy je potřeba volat ovládací prvky, které jsou součástí
mástru. Na výběr máme minimálně dvě možnosti jak toho docílit. Tou
první je pomocí volání metody &lt;code&gt;FindControl(string name)&lt;/code&gt;
vlastnosti Master s&amp;#160;tím, že si musíte přetypovat nalezený kontrol,
nebo ošetřit nenalezený. Ta druhá využívá vlastnosti &lt;acronym
title="objektově orientované programování"&gt;OOP&lt;/acronym&gt; a to dědičnosti.
Naše Master page dědí ze třídy Master, my si k&amp;#160;ní ještě
připíšeme vlastní vlastnosti, které budou vracet a nastavovat námi
požadované ovládací prvky nebo jejich vlastnosti.&lt;/p&gt;

&lt;p&gt;Chtějme např. z&amp;#160;obsahové stránky přidávat do hlavičky stránky
&lt;strong&gt;link na syndikaci&lt;/strong&gt;, která se bude dynamicky měnit podle toho,
v&amp;#160;jaké jste sekci webu nebo jestli jste na titulní straně.&lt;/p&gt;

&lt;p&gt;V&amp;#160;prvním kroku si vytvoříme vlastnost, která bude vracet sekci
&lt;code&gt;&amp;lt;head&amp;gt;&lt;/code&gt; výsledné stránky.&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-csharp"&gt;public partial class MyMaster : Master
{
        public HtmlHead Head
        {
                get { return (HtmlHead)this.Page.Header; }
        }

        protected void Page_Load(object sender, EventArgs e)
        {

        }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;V&amp;#160;druhém kroku nastavíme obsahovým stránkám třídu, která jim má
být Mastrem. Každá třída odvozená od Page má vlastnost Master, která je
typu Master. Naštěstí se zde používají generika, takže není velkým
problémem nastavit si třídu vlastní. Dosáhneme toho vložením
následujícího řádku do zdroje obsahové stránky (podobně jako se
registrují UserControls).&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-markup"&gt;&amp;lt;%@ MasterType VirtualPath="~/MyMaster.master" %&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Pokud by tento řádek v&amp;#160;kódu chyběl, museli bychom všude vlastnost
Master přetypovat na námi požadovanou třídu, což přináší zbytečné
opakování kódu, který není nutné psát. A&amp;#160;na konec tu máme malou
ukázku toho, jak přidat link na RSS do stránky pomocí vlastnosti Head
v&amp;#160;našem mástru.&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-markup"&gt;&amp;lt;%@ Page Language="C#" MasterPageFile="~/MyMaster.master" %&amp;gt;
&amp;lt;%@ MasterType VirtualPath="~/MyMaster.master" %&amp;gt;

&amp;lt;script runat="server"&amp;gt;
    protected void Page_Load(object sender, EventArgs e)
    {
        HtmlLink rssLink = new HtmlLink();
        rssLink.Href = "~/Syndikace.asmx/Rss";
        rssLink.Attributes.Add("rel", "Alternate");
        rssLink.Attributes.Add("type", "application/rss+xml");
        rssLink.Attributes.Add("title", "Web feed článků - RSS 2.0");

        Master.Head.Controls.Add(rssLink);
    }
&amp;lt;/script&amp;gt;

&amp;lt;asp:Content ID="Content1" ContentPlaceHolderID="ContentPlaceholder1" Runat="Server"&amp;gt;
&amp;lt;/asp:Content&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">ASP.NET 2 přináší globální šablonování pomocí Master pages. Díky tomu snadno udržíte jednotný vzhled aplikace. V "mástru" si nadefinujete stránku přesně tak, jak chcete, aby ve výsledku vypadala a pomocí objektů `&lt;asp:ContentPlaceholder&gt;` definujete místa, která se u jednotlivých stránek budou měnit. Samotné aspx stránky budou obsahovat už jen tyto upravitelné části a výkonnou část dané stránky.

Ovšem někdy je potřeba volat ovládací prvky, které jsou součástí mástru. Na výběr máme minimálně dvě možnosti jak toho docílit. Tou první je pomocí volání metody `FindControl(string name)` vlastnosti Master s tím, že si musíte přetypovat nalezený kontrol, nebo ošetřit nenalezený. Ta druhá využívá vlastnosti OOP((objektově orientované programování)) a to dědičnosti. Naše Master page dědí ze třídy Master, my si k ní ještě připíšeme vlastní vlastnosti, které budou vracet a nastavovat námi požadované ovládací prvky nebo jejich vlastnosti.

Chtějme např. z obsahové stránky přidávat do hlavičky stránky **link na syndikaci**, která se bude dynamicky měnit podle toho, v jaké jste sekci webu nebo jestli jste na titulní straně.

V prvním kroku si vytvoříme vlastnost, která bude vracet sekci `&lt;head&gt;` výsledné stránky.

/---code csharp
public partial class MyMaster : Master
{
	public HtmlHead Head
	{
		get { return (HtmlHead)this.Page.Header; }
	}

	protected void Page_Load(object sender, EventArgs e)
	{

	}
}
\---code

V druhém kroku nastavíme obsahovým stránkám třídu, která jim má být Mastrem. Každá třída odvozená od Page má vlastnost Master, která je typu Master. Naštěstí se zde používají generika, takže není velkým problémem nastavit si třídu vlastní. Dosáhneme toho vložením následujícího řádku do zdroje obsahové stránky (podobně jako se registrují UserControls).

/---code xml
&lt;%@ MasterType VirtualPath="~/MyMaster.master" %&gt;
\---code

Pokud by tento řádek v kódu chyběl, museli bychom všude vlastnost Master přetypovat na námi požadovanou třídu, což přináší zbytečné opakování kódu, který není nutné psát. A na konec tu máme malou ukázku toho, jak přidat link na RSS do stránky pomocí vlastnosti Head v našem mástru.

/---code xml
&lt;%@ Page Language="C#" MasterPageFile="~/MyMaster.master" %&gt;
&lt;%@ MasterType VirtualPath="~/MyMaster.master" %&gt;

&lt;script runat="server"&gt;
    protected void Page_Load(object sender, EventArgs e)
    {
        HtmlLink rssLink = new HtmlLink();
        rssLink.Href = "~/Syndikace.asmx/Rss";
        rssLink.Attributes.Add("rel", "Alternate");
        rssLink.Attributes.Add("type", "application/rss+xml");
        rssLink.Attributes.Add("title", "Web feed článků - RSS 2.0");

        Master.Head.Controls.Add(rssLink);
    }
&lt;/script&gt;

&lt;asp:Content ID="Content1" ContentPlaceHolderID="ContentPlaceholder1" Runat="Server"&gt;
&lt;/asp:Content&gt;
\---code</raw>
    <author>Aleš Roubíček</author>
    <published>2005-11-09T09:39:17.483</published>
    <url>pristup-k-objektum-master-page-v-asp-net-2</url>
    <category>ASP.NET 2.0</category>
    <keywords>master pages properties asp.net 2</keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>80</id>
    <title>Další plug-in pro Firefox od Microsoftu</title>
    <description>Jak se zdá, Microsoft změnil svůj postoj ke konkurečním prohlížečům.</description>
    <html xml:space="preserve">
&lt;p&gt;Dnes ráno jsem do dověděl, že i&amp;#160;Microsoft má svůj vlastní plug-in
(ne rozšíření) a to plug-in, který má usnadnit použití &lt;em&gt;Nástroje na
ověření pravosti systému Windows.&lt;/em&gt; Dosud byli uživatelé
prohlížečů odvozených od Mozilly nuceni požít alternativní utilitku,
která generovala klíč, který pak musel uživatel ručně zadat do
formulářového pole, což se dá zneužít k&amp;#160;podstrčení validního
klíče. Microsoft však přichází s&amp;#160;novinkou, která má ověřování
pravosti zautomatizovat podobně jako tomu je u&amp;#160;InternetExploreru se
zapnutým ActiveX.&lt;/p&gt;

&lt;p&gt;Nakonec ještě &lt;a
href="http://www.microsoft.com/genuine/downloads/Validate.aspx"&gt;link na
instalační stránku&lt;/a&gt;. Zde se můžete dozvědět více (v&amp;#160;češtině)
a stáhnout instalátor pluginu. Doufám, že brzo vyjde i&amp;#160;plug-in na
použití WindowsUpdate :)&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Dnes ráno jsem do dověděl, že i Microsoft má svůj vlastní plug-in (ne rozšíření) a to plug-in, který má usnadnit použití *Nástroje na ověření pravosti systému Windows.* Dosud byli uživatelé prohlížečů odvozených od Mozilly nuceni požít alternativní utilitku, která generovala klíč, který pak musel uživatel ručně zadat do formulářového pole, což se dá zneužít k podstrčení validního klíče. Microsoft však přichází s novinkou, která má ověřování pravosti zautomatizovat podobně jako tomu je u InternetExploreru se zapnutým ActiveX.

Nakonec ještě "link na instalační stránku":[http://www.microsoft.com/genuine/downloads/Validate.aspx]. Zde se můžete dozvědět více (v češtině) a stáhnout instalátor pluginu. Doufám, že brzo vyjde i plug-in na použití WindowsUpdate :)</raw>
    <author>Aleš Roubíček</author>
    <published>2005-11-17T07:20:07.143</published>
    <url>dalsi-plug-in-pro-firefox-od-microsoftu</url>
    <category>Tuning</category>
    <keywords>Microsoft Geniune Firefox Mozilla</keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>81</id>
    <title>Práce na Gryphoonu</title>
    <description>pomalu ale jistě se blížím k 2.0 :)</description>
    <html xml:space="preserve">
&lt;p&gt;Předchozí a tenhle víkend jsme strávil pracema na Gryphoonu. Konečně se
začíná podobat mojim představám a musím říct, že se i&amp;#160;držim &lt;a
href="/clanek.aspx/66/dalsi-test"&gt;osnovy&lt;/a&gt;, kterou jsem si předsevzal již
dříve. Zvýšenou aktivitu zapříčinil i&amp;#160;další uživatel Gryphoonu.
Bude jim &lt;a href="http://www.mikemaly.net"&gt;mike&lt;/a&gt;, který přešel na nový
hosting. Jsem zvědav, jak se nám povede migrace dat z&amp;#160;&lt;a
href="http://www.textpattern.com"&gt;Textpatternu&lt;/a&gt;, na kterém běží
dosavadní verze jeho stránek.&lt;/p&gt;

&lt;p&gt;Co se změnilo? No kompletně jsem refaktoroval administrační rozhranní,
přešel jsme na ASP.NET 2&amp;#160;Membership, refaktoroval a rozšířil
databázi, doplnil &lt;acronym title="Search Engine Optimalization"&gt;SEO&lt;/acronym&gt;
URL k&amp;#160;článkům a další drobné změny.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Předchozí a tenhle víkend jsme strávil pracema na Gryphoonu. Konečně se začíná podobat mojim představám a musím říct, že se i držim "osnovy":/clanek.aspx/66/dalsi-test, kterou jsem si předsevzal již dříve. Zvýšenou aktivitu zapříčinil i další uživatel Gryphoonu. Bude jim mike:[http://www.mikemaly.net], který přešel na nový hosting. Jsem zvědav, jak se nám povede migrace dat z Textpatternu:[http://www.textpattern.com], na kterém běží dosavadní verze jeho stránek.

Co se změnilo? No kompletně jsem refaktoroval administrační rozhranní, přešel jsme na ASP.NET 2 Membership, refaktoroval a rozšířil databázi, doplnil SEO((Search Engine Optimalization)) URL k článkům a další drobné změny.</raw>
    <author>Aleš Roubíček</author>
    <published>2005-11-23T11:44:32.337</published>
    <url>prace-na-gryphoonu</url>
    <category>Gryphoon</category>
    <keywords>gryphoon</keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>82</id>
    <title>Co poslouchám</title>
    <description>Pár tipů na dobrou muziku poslední doby.</description>
    <html xml:space="preserve">
&lt;p&gt;Než vyrazim na na Ekonomiku pro podnikatele, tak ještě přispěju pár
tipama na dobrou muziku, která mě zaujala v&amp;#160;posledních týdnech. Tak
v&amp;#160;první řadě to je sobotní &lt;a href="http://www.ggdag.com"&gt;Gigiho&lt;/a&gt;
pořad Il Cammino, který běží od 19.00&amp;#160;na &lt;a
href="http://www.m2o.it"&gt;M2O&lt;/a&gt;. Spousta věcí, které jsou v&amp;#160;tomto
pořadu slyšet brzy výjde i&amp;#160;na CDčách, takže enjoy!&lt;/p&gt;

&lt;p&gt;Další věci jsou trošku z&amp;#160;jiného soudku.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Goldfrapp &amp;#8211; Number 1&lt;/li&gt;

	&lt;li&gt;The Bravery &amp;#8211; Unconditional Remixes&lt;/li&gt;

	&lt;li&gt;VA &amp;#8211; Ministry of House vol. 10&lt;/li&gt;

	&lt;li&gt;Remixy Eurythmics &amp;#8211; Sweet Dreams&lt;/li&gt;

	&lt;li&gt;Inner City &amp;#8211; Good Life&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;A&amp;#160;samozřejmě novinky z&amp;#160;labelů &lt;a
href="http://www.pryda.net"&gt;Pryda&lt;/a&gt;, &lt;a
href="mai&amp;#108;&amp;#116;&amp;#111;&amp;#58;&amp;#99;&amp;#111;&amp;#110;&amp;#116;&amp;#97;&amp;#99;&amp;#116;&amp;#64;&amp;#109;&amp;#111;&amp;#117;&amp;#115;&amp;#101;&amp;#118;&amp;#105;&amp;#108;&amp;#108;&amp;#101;&amp;#45;&amp;#114;&amp;#101;&amp;#99;&amp;#46;&amp;#99;&amp;#111;&amp;#109;"&gt;Mouseville&lt;/a&gt;
a &lt;a href="http://www.sizerecords.com/"&gt;Size Records&lt;/a&gt;. Tak přeji dobrý
poslech a já letim na cviko ;)&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Než vyrazim na na Ekonomiku pro podnikatele, tak ještě přispěju pár tipama na dobrou muziku, která mě zaujala v posledních týdnech. Tak v první řadě to je sobotní Gigiho:[gigi] pořad Il Cammino, který běží od 19.00 na [m2o]. Spousta věcí, které jsou v tomto pořadu slyšet brzy výjde i na CDčách, takže enjoy!

Další věci jsou trošku z jiného soudku.

- Goldfrapp - Number 1
- The Bravery - Unconditional Remixes
- VA - Ministry of House vol. 10
- Remixy Eurythmics - Sweet Dreams
- Inner City - Good Life

A samozřejmě novinky z labelů Pryda:[pryda], Mouseville:[mouse] a "Size Records":[size]. Tak přeji dobrý poslech a já letim na cviko ;)

[gigi]: http://www.ggdag.com
[m2o]: http://www.m2o.it M2O
[pryda]: http://www.pryda.net
[mouse]: contact@mouseville-rec.com
[size]: http://www.sizerecords.com/</raw>
    <author>Aleš Roubíček</author>
    <published>2005-11-24T17:35:02.157</published>
    <url>co-posloucham</url>
    <category>Muzika</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>83</id>
    <title>Electrohouse Mix</title>
    <description>Debutový mix deejaye Alessia Busty.</description>
    <html xml:space="preserve">
&lt;ol&gt;
	&lt;li&gt;Cirez D &amp;#8211; Re-Match [Mouseville]&lt;/li&gt;

	&lt;li&gt;Audio Bullys &amp;#8211; Get Get Down (with Steve Angello) [EMI]&lt;/li&gt;

	&lt;li&gt;Inner City &amp;#8211; Good Life (Gogh's&amp;#160;Only House of My Dubstrumental)
	[CD-R]&lt;/li&gt;

	&lt;li&gt;Dam Sweet &amp;#8211; Say It Again (Elektrodub) [Net's&amp;#160;Work]&lt;/li&gt;

	&lt;li&gt;Disconstruction vol. 1 &amp;#8211; Re-Disco [Emotiva]&lt;/li&gt;

	&lt;li&gt;The Bravery &amp;#8211; Unconditional (Benny Benassi Dub) [Island]&lt;/li&gt;

	&lt;li&gt;P. Diddy &amp;#8211; Jack U (Hell Mix) [Gigolo]&lt;/li&gt;

	&lt;li&gt;Who's&amp;#160;who? &amp;#8211; Lipstick [Size]&lt;/li&gt;

	&lt;li&gt;Pryda &amp;#8211; Aftermath (12" mix) [Pryda]&lt;/li&gt;

	&lt;li&gt;Goldfrapp &amp;#8211; Number 1 (Steve Angello Remix) [Mute]&lt;/li&gt;

	&lt;li&gt;Tocadisco &amp;#8211; You're Not Good For Me (Tocadisco's&amp;#160;Re&amp;#173;cover
	Mix) [Superstar]&lt;/li&gt;

	&lt;li&gt;Cirez D &amp;#8211; Teaser [Joia]&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Ke stažení: &lt;a href="/files/alessio_busta_-_electrohouse.wma"&gt;Alessio Busta
&amp;#8211; Electrohouse&lt;/a&gt; (WMA 96&amp;#160;kbps; 43,9&amp;#160;MiB)&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">1.  Cirez D - Re-Match [Mouseville]
2.  Audio Bullys - Get Get Down (with Steve Angello) [EMI]
3.  Inner City - Good Life (Gogh's Only House of My Dubstrumental) [CD-R]
4.  Dam Sweet - Say It Again (Elektrodub) [Net's Work]
5.  Disconstruction vol. 1 - Re-Disco [Emotiva]
6.  The Bravery - Unconditional (Benny Benassi Dub) [Island]
7.  P. Diddy - Jack U (Hell Mix) [Gigolo]
8.  Who's who? - Lipstick [Size]
9.  Pryda - Aftermath (12" mix) [Pryda]
10.  Goldfrapp - Number 1 (Steve Angello Remix) [Mute]
11.  Tocadisco - You're Not Good For Me (Tocadisco's Recover Mix) [Superstar]
12.  Cirez D - Teaser [Joia]


Ke stažení: "Alessio Busta - Electrohouse":/files/alessio_busta_-_electrohouse.wma (WMA 96 kbps; 43,9 MiB)</raw>
    <author>alessio busta</author>
    <published>2005-11-25T08:35:48.620</published>
    <url>electrohouse-mix</url>
    <category>Muzika</category>
    <keywords>alessio busta electro house</keywords>
    <is-published>1</is-published>
    <edited>2005-12-13T19:04:56.630</edited>
  </article>
  <article>
    <id>84</id>
    <title>Přístupnější formuláře v ASP.NET 2.0</title>
    <description>Jak generovat přístupnější formuláře v ASP.NET 2.0</description>
    <html xml:space="preserve">
&lt;p&gt;„Druhá“ verze ASP.NET přináší krom jiného i podporu XHTML výstupu
a rovněž podporu přístupnosti. Validátor na příslušné standardy je
součástí VisualStudia 2005 a tak by pro vývojáře mělo být snazší
najít prohřešky proti těmto doporučením.&lt;/p&gt;

&lt;p&gt;Když jsem ve verzi 1.x chtěl udělat přístupný formulář, který má
popisky k formulářovým prvkům uzavřené v tagu &lt;code&gt;label&lt;/code&gt;, nešlo
k tomu využít serverového prvku &lt;code&gt;asp:Label&lt;/code&gt;, který se logicky
nabízel. Tento prvek se generuje jako &lt;code&gt;span&lt;/code&gt;, tudíž nám je
v tomto případě k ničemu. Musel jsem to obcházet a našel jsem si dva
způsoby, vhodnějším se mi pak ukázal ten druhý.&lt;/p&gt;

&lt;p&gt;Tím prvním je uzavření formulářového prvku přímo do tagu
&lt;code&gt;label&lt;/code&gt;. specifikace toto použití připouští, ale ne vždy je
možné ho použít.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;label&amp;gt;Popiska &amp;lt;asp:TextBox ID="TextBox1" runat="server" /&amp;gt;&amp;lt;/label&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;V druhém případě se využije atribut &lt;code&gt;for&lt;/code&gt; elementu
&lt;code&gt;label&lt;/code&gt;, který je referencí na &lt;code&gt;id&lt;/code&gt; formulářového
prvku. Protože se však ID prvků v uživatelských kontrolech, a nejen
v nich, mění, nemůžeme napsat obsah atributu &lt;code&gt;for&lt;/code&gt; natvrdo, ale
musíme si pomoci programově. Každý WebControl má vlastnost
&lt;code&gt;ClientID&lt;/code&gt;, která vrací hodnotu atributu &lt;code&gt;id&lt;/code&gt; po
vyrenderování.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;label for="&amp;lt;%= TextBox1.ClientID %&amp;gt;"&amp;gt;Popiska&amp;lt;/label&amp;gt;
&amp;lt;asp:TextBox ID="TextBox1" runat="server" /&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Tak to byl můj starý způsob vytváření formulářových popisků.
ASP.NET 2.0 přichází s novinkou. Nyní lze využít &lt;code&gt;asp:Label&lt;/code&gt;
k vytváření formulářových popisků a to pomocí vlastnosti
&lt;code&gt;AssociatedControlID&lt;/code&gt;! Pokud je tato vlastnost vyplněna patřičným
ID, dojde k vyrenderování elementu &lt;code&gt;label&lt;/code&gt; namísto
&lt;code&gt;span&lt;/code&gt;.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;asp:Label AssociatedControlID="TextBox1" runat="server"&amp;gt;Popiska&amp;lt;/asp:Label&amp;gt;
&amp;lt;asp:TextBox ID="TextBox1" runat="server" /&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Sami si vyberte způsob, který vám nejlépe vyhovuje…&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">"Druhá" verze ASP.NET přináší krom jiného i podporu XHTML výstupu a rovněž podporu přístupnosti. Validátor na příslušné standardy je součástí VisualStudia 2005 a tak by pro vývojáře mělo být snazší najít prohřešky proti těmto doporučením.

Když jsem ve verzi 1.x chtěl udělat přístupný formulář, který má popisky k formulářovým prvkům uzavřené v tagu `label`, nešlo k tomu využít serverového prvku `asp:Label`, který se logicky nabízel. Tento prvek se generuje jako `span`, tudíž nám je v tomto případě k ničemu. Musel jsem to obcházet a našel jsem si dva způsoby, vhodnějším se mi pak ukázal ten druhý.

Tím prvním je uzavření formulářového prvku přímo do tagu `label`. specifikace toto použití připouští, ale ne vždy je možné ho použít.

/---code xml
&lt;label&gt;Popiska &lt;asp:TextBox ID="TextBox1" runat="server" /&gt;&lt;/label&gt;
\---code

V druhém případě se využije atribut `for` elementu `label`, který je referencí na `id` formulářového prvku. Protože se však ID prvků v uživatelských kontrolech, a nejen v nich, mění, nemůžeme napsat obsah atributu `for` natvrdo, ale musíme si pomoci programově. Každý WebControl má vlastnost `ClientID`, která vrací hodnotu atributu `id` po vyrenderování.

/---code xml
&lt;label for="&lt;%= TextBox1.ClientID %&gt;"&gt;Popiska&lt;/label&gt;
&lt;asp:TextBox ID="TextBox1" runat="server" /&gt;
\---code

Tak to byl můj starý způsob vytváření formulářových popisků. ASP.NET 2.0 přichází s novinkou. Nyní lze využít `asp:Label` k vytváření formulářových popisků a to pomocí vlastnosti `AssociatedControlID`! Pokud je tato vlastnost vyplněna patřičným ID, dojde k vyrenderování elementu `label` namísto `span`.

/---code xml
&lt;asp:Label AssociatedControlID="TextBox1" runat="server"&gt;Popiska&lt;/asp:Label&gt;
&lt;asp:TextBox ID="TextBox1" runat="server" /&gt;
\---code

Sami si vyberte způsob, který vám nejlépe vyhovuje...</raw>
    <author>Aleš Roubíček</author>
    <published>2005-11-29T14:31:44.177</published>
    <url>pristupnejsi-formulare-v-asp-net-2-0</url>
    <category>ASP.NET 2.0</category>
    <keywords>asp.net label</keywords>
    <is-published>1</is-published>
    <edited>2008-05-13T21:11:37.940</edited>
  </article>
  <article>
    <id>85</id>
    <title>Beztabulkové renderování controlů v ASP.NET 2.0</title>
    <description>Jak odstranit obalové tabulky u controlů ASP.NET 2.0</description>
    <html xml:space="preserve">
&lt;p&gt;Již delší dobu jsem se pídil po tom, jak vyřešit takový malý problém
s &lt;code&gt;asp:Login&lt;/code&gt; controlem a podobným, které se dají krásně
přepsat pomocí šablonování, ale vždy zůstane obalová tabulka. Tato
tabulka je natvrdo napsaná v&amp;#160;kódu tohoto velice užitečného controlu.
Každá třída odvozená od &lt;code&gt;WebControl&lt;/code&gt; má definovaný základní
element, od kterého se odvozuje renderování výsledného kódu. Bázovým
elementem všech složitějších controlů je v&amp;#160;ASP.NET 2.0&amp;#160;právě
element &lt;code&gt;table&lt;/code&gt;, čímž se porušují pravidla přístupnosti a
vůbec semantický pohled na výsledný &lt;acronym
title="Extensible Markup Language"&gt;XHTML&lt;/acronym&gt;.&lt;/p&gt;

&lt;p&gt;Nakonec jsem &lt;a
href="http://blog.dreamprojections.com/archive/2005/04/08/783.aspx"&gt;našel
řešení na jednom blogu&lt;/a&gt; a ještě ho trochu poupravil.&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-csharp"&gt;using System;
using System.Data;
using System.Configuration;
using System.Web;
using System.Web.Security;
using System.Web.UI;
using System.Web.UI.WebControls;
using System.Web.UI.WebControls.WebParts;
using System.Web.UI.HtmlControls;

namespace PBSoftware.Gryphoon.Controls
{
        public class Login : System.Web.UI.WebControls.Login
        {
                protected override HtmlTextWriterTag TagKey
                {
                        get
                        {
                                return HtmlTextWriterTag.Div;
                        }
                }

                protected override void Render(HtmlTextWriter writer)
                {
                        WebControl div = new WebControl(TagKey);

                        if (LayoutTemplate == null)
                                LayoutTemplate = new LoginTemplate();

                        LayoutTemplate.InstantiateIn(div);

                        Controls.Clear();
                        Controls.Add(div);

                        div.CopyBaseAttributes(this);
                        div.RenderControl(writer);
                }
        }

        public class LoginTemplate : ITemplate
        {
                public LoginTemplate() { }

                public void InstantiateIn(Control container)
                {
                        HtmlGenericControl fieldset = new HtmlGenericControl("fieldset");
                        HtmlGenericControl legend = new HtmlGenericControl("legend");
                        legend.InnerText = "Přihlášení do aplikace";

                        Label userNameLabel = new Label();
                        userNameLabel.ID = "UserNameLabel";
                        userNameLabel.AssociatedControlID = "UserName";
                        userNameLabel.Text = "Uživatel:";

                        TextBox userNameTextBox = new TextBox();
                        userNameTextBox.ID = "UserName";

                        RequiredFieldValidator userNameRequired = new RequiredFieldValidator();
                        userNameRequired.ID = "UserNameRequired";
                        userNameRequired.ControlToValidate = "UserName";
                        userNameRequired.ErrorMessage = "Uživatelské jméno je povinné.";
                        userNameRequired.ToolTip = "Uživatelské jméno je povinné.";
                        userNameRequired.Text = "*";
                        userNameRequired.ValidationGroup = "Login1";

                        Label passwordLabel = new Label();
                        passwordLabel.ID = "PasswordLabel";
                        passwordLabel.AssociatedControlID = "Password";
                        passwordLabel.Text = "Heslo:";

                        TextBox passwordTextBox = new TextBox();
                        passwordTextBox.ID = "Password";
                        passwordTextBox.TextMode = TextBoxMode.Password;

                        RequiredFieldValidator passwordRequired = new RequiredFieldValidator();
                        passwordRequired.ID = "PasswordRequired";
                        passwordRequired.ControlToValidate = "Password";
                        passwordRequired.ErrorMessage = "Heslo je povinné.";
                        passwordRequired.ToolTip = "Heslo je povinné.";
                        userNameRequired.Text = "*";
                        passwordRequired.ValidationGroup = "Login1";

                        CheckBox rememberMe = new CheckBox();
                        rememberMe.ID = "RememberMe";
                        rememberMe.Text = "Pamatuj si mě.";

                        Literal failureText = new Literal();
                        failureText.ID = "FailureText";
                        failureText.EnableViewState = false;

                        Button loginButton = new Button();
                        loginButton.ID = "LoginButton";
                        loginButton.CommandName = "Click";
                        loginButton.Text = "Přihlásit se";
                        loginButton.ValidationGroup = "Login1";

                        HtmlGenericControl br = new HtmlGenericControl("br");

                        fieldset.Controls.Add(legend);
                        fieldset.Controls.Add(userNameLabel);
                        fieldset.Controls.Add(userNameTextBox);
                        fieldset.Controls.Add(userNameRequired);
                        fieldset.Controls.Add(br);
                        fieldset.Controls.Add(passwordLabel);
                        fieldset.Controls.Add(passwordTextBox);
                        fieldset.Controls.Add(passwordRequired);
                        fieldset.Controls.Add(br);
                        fieldset.Controls.Add(rememberMe);
                        fieldset.Controls.Add(failureText);
                        fieldset.Controls.Add(loginButton);

                        container.Controls.Add(fieldset);
                }
        }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;del&gt;Předem upozorňuju, že tento control musí mít přidělenou nějakou
šablonu, jinak nebude fungovat&lt;/del&gt;. Ještě na tom zapracuju, protože se mi
nelíbí některé chování.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Update:&lt;/strong&gt; Připsal jsem defaultní šablonu.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Již delší dobu jsem se pídil po tom, jak vyřešit takový malý problém s `asp:Login` controlem a podobným, které se dají krásně přepsat pomocí šablonování, ale vždy zůstane obalová tabulka. Tato tabulka je natvrdo napsaná v kódu tohoto velice užitečného controlu. Každá třída odvozená od `WebControl` má definovaný základní element, od kterého se odvozuje renderování výsledného kódu. Bázovým elementem všech složitějších controlů je v ASP.NET 2.0 právě element `table`, čímž se porušují pravidla přístupnosti a vůbec semantický pohled na výsledný XHTML((Extensible Markup Language)).

Nakonec jsem "našel řešení na jednom blogu":http://blog.dreamprojections.com/archive/2005/04/08/783.aspx a ještě ho trochu poupravil.

/---code csharp
using System;
using System.Data;
using System.Configuration;
using System.Web;
using System.Web.Security;
using System.Web.UI;
using System.Web.UI.WebControls;
using System.Web.UI.WebControls.WebParts;
using System.Web.UI.HtmlControls;

namespace PBSoftware.Gryphoon.Controls
{
	public class Login : System.Web.UI.WebControls.Login
	{
		protected override HtmlTextWriterTag TagKey
		{
			get
			{
				return HtmlTextWriterTag.Div;
			}
		}

		protected override void Render(HtmlTextWriter writer)
		{
			WebControl div = new WebControl(TagKey);

			if (LayoutTemplate == null)
				LayoutTemplate = new LoginTemplate();

			LayoutTemplate.InstantiateIn(div);

			Controls.Clear();
			Controls.Add(div);

			div.CopyBaseAttributes(this);
			div.RenderControl(writer);
		}
	}

	public class LoginTemplate : ITemplate
	{
		public LoginTemplate() { }

		public void InstantiateIn(Control container)
		{
			HtmlGenericControl fieldset = new HtmlGenericControl("fieldset");
			HtmlGenericControl legend = new HtmlGenericControl("legend");
			legend.InnerText = "Přihlášení do aplikace";

			Label userNameLabel = new Label();
			userNameLabel.ID = "UserNameLabel";
			userNameLabel.AssociatedControlID = "UserName";
			userNameLabel.Text = "Uživatel:";

			TextBox userNameTextBox = new TextBox();
			userNameTextBox.ID = "UserName";

			RequiredFieldValidator userNameRequired = new RequiredFieldValidator();
			userNameRequired.ID = "UserNameRequired";
			userNameRequired.ControlToValidate = "UserName";
			userNameRequired.ErrorMessage = "Uživatelské jméno je povinné.";
			userNameRequired.ToolTip = "Uživatelské jméno je povinné.";
			userNameRequired.Text = "*";
			userNameRequired.ValidationGroup = "Login1";

			Label passwordLabel = new Label();
			passwordLabel.ID = "PasswordLabel";
			passwordLabel.AssociatedControlID = "Password";
			passwordLabel.Text = "Heslo:";

			TextBox passwordTextBox = new TextBox();
			passwordTextBox.ID = "Password";
			passwordTextBox.TextMode = TextBoxMode.Password;

			RequiredFieldValidator passwordRequired = new RequiredFieldValidator();
			passwordRequired.ID = "PasswordRequired";
			passwordRequired.ControlToValidate = "Password";
			passwordRequired.ErrorMessage = "Heslo je povinné.";
			passwordRequired.ToolTip = "Heslo je povinné.";
			userNameRequired.Text = "*";
			passwordRequired.ValidationGroup = "Login1";

			CheckBox rememberMe = new CheckBox();
			rememberMe.ID = "RememberMe";
			rememberMe.Text = "Pamatuj si mě.";

			Literal failureText = new Literal();
			failureText.ID = "FailureText";
			failureText.EnableViewState = false;

			Button loginButton = new Button();
			loginButton.ID = "LoginButton";
			loginButton.CommandName = "Click";
			loginButton.Text = "Přihlásit se";
			loginButton.ValidationGroup = "Login1";

			HtmlGenericControl br = new HtmlGenericControl("br");

			fieldset.Controls.Add(legend);
			fieldset.Controls.Add(userNameLabel);
			fieldset.Controls.Add(userNameTextBox);
			fieldset.Controls.Add(userNameRequired);
			fieldset.Controls.Add(br);
			fieldset.Controls.Add(passwordLabel);
			fieldset.Controls.Add(passwordTextBox);
			fieldset.Controls.Add(passwordRequired);
			fieldset.Controls.Add(br);
			fieldset.Controls.Add(rememberMe);
			fieldset.Controls.Add(failureText);
			fieldset.Controls.Add(loginButton);

			container.Controls.Add(fieldset);
		}
	}
}
\---code

--Předem upozorňuju, že tento control musí mít přidělenou nějakou šablonu, jinak nebude fungovat--. Ještě na tom zapracuju, protože se mi nelíbí některé chování.

**Update:** Připsal jsem defaultní šablonu.</raw>
    <author>Aleš Roubíček</author>
    <published>2005-11-30T10:39:00</published>
    <url>beztabulkove-renderovani-controlu-v-asp-net-2-0</url>
    <category>ASP.NET 2.0</category>
    <keywords>asp.net beztabulkový login control</keywords>
    <is-published>1</is-published>
    <edited>2005-12-22T01:26:02.670</edited>
  </article>
  <article>
    <id>86</id>
    <title>ASP.NET 2.0 - Vlastnosti pro jednotlivé browsery</title>
    <description>Zajímavůstka z oblasti deklarativního programování.</description>
    <html xml:space="preserve">
&lt;p&gt;ASP.NET 2.0&amp;#160;přichází s&amp;#160;tzv. deklarativním programováním.
V&amp;#160;podstatě nemusíte napsat ani řádku zdrojového kódu a ono to
funguje. Zdrojovým kódem myslím program v&amp;#160;nějakém vyšším
programovacím jazyce, jako C# nebo VB.NET. Samozřejmě se vše programuje ve
zdroji prezentační části. Ale to tu teď nechci rozebírat.&lt;/p&gt;

&lt;p&gt;Při zkoumání nových vlastností ASP.NET 2.0&amp;#160;jsem narazil na
zajímavou fičůrku. Většinu vlastností, které se deklarují v&amp;#160;aspx
souboru, je možné prefixovat &lt;strong&gt;browser tagem&lt;/strong&gt;. Ten vychází ze
souboru *.browser, kde je daný prohlížeč definován. Pomocí toho prefixu
se dají deklarovat vlastnosti uživatelských prvků pro každý prohlížeč
zvlášť. Následující příklad vypíše pozdrav pro daný
prohlížeč.&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-markup"&gt;&amp;lt;asp:Label ID="Label1" runat="server"
        ie:Text="Zdravíme Internet Explorer"
        mozilla:Text="Zdravíme Firefox"
        opera:Text="Zdravíme Operu"
        Text="Zdravíme ostatní" /&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Dokonce to funguje i&amp;#160;s odlišováním verzí. Následuje tabulka
s&amp;#160;několika ukázkovými prohlížeči.&lt;/p&gt;

&lt;table&gt;
	&lt;tr&gt;
		&lt;th&gt;prefix&lt;/th&gt;

		&lt;th&gt;prohlížeč&lt;/th&gt;
	&lt;/tr&gt;

	&lt;tr&gt;
		&lt;td&gt;IE&lt;/td&gt;

		&lt;td&gt;jakýkoliv Internet Explorer&lt;/td&gt;
	&lt;/tr&gt;

	&lt;tr&gt;
		&lt;td&gt;Netscape3&lt;/td&gt;

		&lt;td&gt;Netscape Navigator 3.x&lt;/td&gt;
	&lt;/tr&gt;

	&lt;tr&gt;
		&lt;td&gt;Netscape4&lt;/td&gt;

		&lt;td&gt;Netscape Communicator 4.x&lt;/td&gt;
	&lt;/tr&gt;

	&lt;tr&gt;
		&lt;td&gt;Netscape6to9&lt;/td&gt;

		&lt;td&gt;Netscape 6.0+&lt;/td&gt;
	&lt;/tr&gt;

	&lt;tr&gt;
		&lt;td&gt;Mozilla&lt;/td&gt;

		&lt;td&gt;Firefox&lt;/td&gt;
	&lt;/tr&gt;

	&lt;tr&gt;
		&lt;td&gt;Opera&lt;/td&gt;

		&lt;td&gt;Opera&lt;/td&gt;
	&lt;/tr&gt;
&lt;/table&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">ASP.NET 2.0 přichází s tzv. deklarativním programováním. V podstatě nemusíte napsat ani řádku zdrojového kódu a ono to funguje. Zdrojovým kódem myslím program v nějakém vyšším programovacím jazyce, jako C# nebo VB.NET. Samozřejmě se vše programuje ve zdroji prezentační části. Ale to tu teď nechci rozebírat.

Při zkoumání nových vlastností ASP.NET 2.0 jsem narazil na zajímavou fičůrku. Většinu vlastností, které se deklarují v aspx souboru, je možné prefixovat **browser tagem**. Ten vychází ze souboru *.browser, kde je daný prohlížeč definován. Pomocí toho prefixu se dají deklarovat vlastnosti uživatelských prvků pro každý prohlížeč zvlášť. Následující příklad vypíše pozdrav pro daný prohlížeč.

/---code xml
&lt;asp:Label ID="Label1" runat="server"
        ie:Text="Zdravíme Internet Explorer"
        mozilla:Text="Zdravíme Firefox"
        opera:Text="Zdravíme Operu"
        Text="Zdravíme ostatní" /&gt;
\---code

Dokonce to funguje i s odlišováním verzí. Následuje tabulka s několika ukázkovými prohlížeči.

|-------------------------
|prefix | prohlížeč|
|-------------------------
|IE | jakýkoliv Internet Explorer|
|Netscape3| Netscape Navigator 3.x|
|Netscape4| Netscape Communicator 4.x|
|Netscape6to9| Netscape 6.0+|
|Mozilla| Firefox|
|Opera| Opera|



</raw>
    <author>Aleš Roubíček</author>
    <published>2005-11-30T15:55:33.797</published>
    <url>asp-net-2-0---vlastnosti-pro-jednotlive-browsery</url>
    <category>ASP.NET 2.0</category>
    <keywords>asp.net 2.0 browser tag</keywords>
    <is-published>1</is-published>
    <edited>2005-12-22T01:30:00.013</edited>
  </article>
  <article>
    <id>87</id>
    <title>Přednáška o 2005kových produktech na FELu</title>
    <description>Pozvánka na zítřejší přednášku.</description>
    <html xml:space="preserve">
&lt;p&gt;Zítra se koná u&amp;#160;nás na FELu přednáška, která má představit
nové produkty VisualStudio 2005&amp;#160;a SQL Server 2005&amp;#160;akademické obci a
nejen jí. Součástí přednášky budou i&amp;#160;informace o&amp;#160;MSDN Academic
Alliance, do kterého je naše katedra zapojena. &lt;a
href="http://msdnaa.felk.cvut.cz:8081/"&gt;Více informací&lt;/a&gt; naleznete na
fakultních stránkách.&lt;/p&gt;

&lt;p&gt;Já osobně na přednášce budu.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Zítra se koná u nás na FELu přednáška, která má představit nové produkty VisualStudio 2005 a SQL Server 2005 akademické obci a nejen jí. Součástí přednášky budou i informace o MSDN Academic Alliance, do kterého je naše katedra  zapojena. "Více informací":http://msdnaa.felk.cvut.cz:8081/ naleznete na fakultních stránkách.

Já osobně na přednášce budu.</raw>
    <author>Aleš Roubíček</author>
    <published>2005-12-01T16:45:43.497</published>
    <url>prednaska-o-2005kovych-produktech-na-felu</url>
    <category>Škola</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>88</id>
    <title>Ready to launch na FELu</title>
    <description>Můj pohled na přednášku.</description>
    <html xml:space="preserve">
&lt;p&gt;Dnes se konala přednáška u&amp;#160;příležitosti představení nové
generace vývojových nástrojů z&amp;#160;dílny firmy &lt;a
href="http://www.microsoft.com/"&gt;Microsoft&lt;/a&gt;. Přednášku zahajoval Dr.
Dalibor Kačmář, bohužel ho zklamala technika. Nejprve vůz, ve kterém měl
připravené materiál pro studenty – letáčky, DVD s&amp;#160;Express edicemi
jednotlivých nástrojů, propisky a dotazníky. Tyto věci přivezli jeho
kolegové v&amp;#160;druhé části přednášky, takže i&amp;#160;sběrači
letáčků si přišli na své. Ze začátku měl pan Kačmář problémy
s&amp;#160;projektorem, když se mu je podařilo vyřešit a začal přednášet,
z&amp;#160;ničeho nic se restartoval jeho počítač. To se mu během přednášky
stalo několikrát. Z&amp;#160;event logů pak zjistil, že mu pravděpodobně &lt;a
href="/clanek.aspx/72/spadly-disk"&gt;odchází hard disk do křemíkového
nebe&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Přednášku započal nejprve jako manažer a vykládal o&amp;#160;výhodách
MSDN Academic Aliance, o&amp;#160;novinkách a verzích nového Visual Studia apod.
V&amp;#160;druhé části jeho bloku, došlo na ukázku vývoje Master Page a
několika Content Page. Ukázku master-detail databázové aplikace,
Membership, Role a Profiles a dalších dílčích zajímavostí &lt;a
href="http://asp.net"&gt;nové verze ASP.NET&lt;/a&gt;. Kvůli výpadkům techniky,
však nebylo odprezentováno, vše, co měl pan Kačmář připraveno.
Náhradou nám bylo prodlouženější okénko na dotazy.&lt;/p&gt;

&lt;p&gt;Po přestávce s&amp;#160;občerstvením a nabrání potřebných letáčků,
přebral přednášku pan &lt;a href="http://blog.vyvojar.cz/michalowo"&gt;Michal
Neuwirth&lt;/a&gt;. Ten prezentoval tématiku Windows Forms, rapidního vývoje
uživatelského rozhraní a napojování na datové zdroje. V&amp;#160;druhé půli
svého bloku předvedl technologii ClickOnce v&amp;#160;praxi – mimochodem je
tato technologie velice pěkná, škoda jen, že ji nelze využívat
u&amp;#160;webových aplikací.&lt;/p&gt;

&lt;p&gt;Třetím přednášejícím byl pan &lt;a
href="http://blog.vyvojar.cz/mjurek/"&gt;Michael Juřek&lt;/a&gt;, který měl velice
zajímavou praktickou prezentaci (bez slidů) Team Systému a vlastností pro
ladění aplikací. Zde jsem se konečně dozvěděl, jak funguje a
k&amp;#160;čemu je dobrý Unit testing :) To nám zatím ve škole nikdo
neprozradil a obávám se, že se toho asi ani nedočkám.&lt;/p&gt;

&lt;p&gt;Osobně se mi přednáška hodně líbila a dozvěděl jsem se i&amp;#160;něco
nového. Bohužel výpadky techniky nešlo ovlivnit, ale to se dá omluvit.
Omluvit se ale nedá chování publika. Přibližně polovina posluchačů byli
žáci Střední průmyslové školy Ječná. Jejich chování bylo místy
nemístné až nevhodné. Očividně tam nebyli ze zájmu, ale protože museli.
No nic, byli to ještě děti, které nevědí jak se na podobných akcích
chovat.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Dnes se konala přednáška u příležitosti představení nové generace vývojových nástrojů z dílny firmy Microsoft:[http://www.microsoft.com/]. Přednášku zahajoval Dr. Dalibor Kačmář, bohužel ho zklamala technika. Nejprve vůz, ve kterém měl připravené materiál pro studenty – letáčky, DVD s Express edicemi jednotlivých nástrojů, propisky a dotazníky. Tyto věci přivezli jeho kolegové v druhé části přednášky, takže i sběrači letáčků si přišli na své. Ze začátku měl pan Kačmář problémy s projektorem, když se mu je podařilo vyřešit a začal přednášet, z ničeho nic se restartoval jeho počítač. To se mu během přednášky stalo několikrát. Z event logů pak zjistil, že mu pravděpodobně "odchází hard disk do křemíkového nebe":[/clanek.aspx/72/spadly-disk].

Přednášku započal nejprve jako manažer a vykládal o výhodách MSDN Academic Aliance, o novinkách a verzích nového Visual Studia apod. V druhé části jeho bloku, došlo na ukázku vývoje Master Page a několika Content Page. Ukázku master-detail databázové aplikace, Membership, Role a Profiles a dalších dílčích zajímavostí "nové verze ASP.NET":[http://asp.net]. Kvůli výpadkům techniky, však nebylo odprezentováno, vše, co měl pan Kačmář připraveno. Náhradou nám bylo prodlouženější okénko na dotazy.

Po přestávce s občerstvením a nabrání potřebných letáčků, přebral přednášku pan "Michal Neuwirth":[http://blog.vyvojar.cz/michalowo]. Ten prezentoval tématiku Windows Forms, rapidního vývoje uživatelského rozhraní a napojování na datové zdroje. V druhé půli svého bloku předvedl technologii ClickOnce v praxi – mimochodem je tato technologie velice pěkná, škoda jen, že ji nelze využívat u webových aplikací.

Třetím přednášejícím byl pan "Michael Juřek":[http://blog.vyvojar.cz/mjurek/], který měl velice zajímavou praktickou prezentaci (bez slidů) Team Systému a vlastností pro ladění aplikací. Zde jsem se konečně dozvěděl, jak funguje a k čemu je dobrý Unit testing :) To nám zatím ve škole nikdo neprozradil a obávám se, že se toho asi ani nedočkám.

Osobně se mi přednáška hodně líbila a dozvěděl jsem se i něco nového. Bohužel výpadky techniky nešlo ovlivnit, ale to se dá omluvit. Omluvit se ale nedá chování publika. Přibližně polovina posluchačů byli žáci Střední průmyslové školy Ječná. Jejich chování bylo místy nemístné až nevhodné. Očividně tam nebyli ze zájmu, ale protože museli. No nic, byli to ještě děti, které nevědí jak se na podobných akcích chovat.
</raw>
    <author>Aleš Roubíček</author>
    <published>2005-12-04T10:32:19.673</published>
    <url>ready-to-launch-na-felu</url>
    <category>Škola</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-22T01:36:45.827</edited>
  </article>
  <article>
    <id>89</id>
    <title>CSS šablony pro vaše projekty</title>
    <description>Microsoft publikoval několik CSS layoutů k volnému použití.</description>
    <html xml:space="preserve">
&lt;p&gt;Na &lt;a href="http://www.msdn.com"&gt;&lt;acronym
title="Microsoft Developer Network"&gt;MSDN&lt;/acronym&gt;&lt;/a&gt; najdete &lt;a
href="http://msdn.microsoft.com/asp.net/reference/design/templates/default.aspx"&gt;několik
CSS šablon&lt;/a&gt; k&amp;#160;volnému použití ve vašich ASP.NET projektech. Tyto
balíčky jsou zejména vhodné pro začátečníky, kteří ještě neumí
udělat design v&amp;#160;CSS sami.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Na "MSDN((Microsoft Developer Network))":[http://www.msdn.com] najdete "několik CSS šablon":http://msdn.microsoft.com/asp.net/reference/design/templates/default.aspx k volnému použití ve vašich ASP.NET projektech. Tyto balíčky jsou zejména vhodné pro začátečníky, kteří ještě neumí udělat design v CSS sami. </raw>
    <author>Aleš Roubíček</author>
    <published>2005-12-05T09:08:48.110</published>
    <url>css-sablony-pro-vase-projekty</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>90</id>
    <title>O soutěži LCD za web</title>
    <description>Pár slov o soutěži LCD za web.</description>
    <html xml:space="preserve">
&lt;p&gt;Dnes mi přišel e-mail, že moje aplikace splnila podmínky pro přijetí do
soutěže &lt;a href="http://www.lcdzaweb.cz/"&gt;LCD za web&lt;/a&gt;. E-mail po mně
požaduje kontaktní údaje, pro poslání trička a knihy. To jsem rád. Jal
jsem se tedy prohlížet konkurenci v&amp;#160;soutěži. Bohužel zajímavých
aplikací, ať už funkčností nebo designem, jsem moc nenašel. Pár výjimek
se však najde, jejich autorům gratuluji k&amp;#160;pěkné práci.&lt;/p&gt;

&lt;p&gt;Bohužel většina přihlášených aplikací je postavena na Starter Kitu
&lt;strong&gt;Personal web page&lt;/strong&gt; nebo jeho klubové variantě. To by mi ani
tak nevadilo, ale spousta lidí si ani nedala tu práci, aby něco změnila,
třeba jenom text. Prostě si udělali nový projekt a uploadovali ho na
server. Škoda, myslel jsem, že potkám spoustu zajímavých stránek od
lidí, kteří jsou podobně postiženi jako já ;)&lt;/p&gt;

&lt;p&gt;Další várka prací je pro změnu nedostupná, buď obsahuje nějakou chybu
– většinou ConnectionString na &lt;a href="http://www.aspweb.cz/"&gt;ASPWEBu&lt;/a&gt;
– nebo aplikace není vůbec.&lt;/p&gt;

&lt;p&gt;Ještě si neodpustím trochu jedovatou poznámku na adresu jednoho
nešťastníka, který mi vykrádá obsah. Není to poprvé ani naposledy, ale
smířit se s&amp;#160;tím nehodlám. Psaní těch článků si vyžádalo
nějaký můj čas i&amp;#160;know-how a pak si je někdo zkopíruje, navíc
ještě zkrátí, a podepíše se pod to. Nakonec se s&amp;#160;tím přihlásí do
stejné soutěže jako já a myslí si, že si toho nevšimnu. Dotyčnému už
jsem napsal e-mail s&amp;#160;&lt;strong&gt;prosbou o&amp;#160;nápravu&lt;/strong&gt;. Pokud tak
v&amp;#160;dohledné době neučiní, budu ho lynčovat po webovém způsobu…&lt;/p&gt;

&lt;p&gt;Ještě k&amp;#160;mé účasti. Do soutěže jsem přihlásil svůj redakční
systém Gryphoon, jenže z&amp;#160;pochopitelných důvodů nemůžu nechat lidi
procházet se v&amp;#160;mojí administraci, ani kdybych jim ořezal práva. Proto
bych hodnotící chtěl požádat, aby aplikaci hodnotili z&amp;#160;frontendu,
tedy takové věci, které mohou používat obyčejní čtenáři. Jsou tím
například věci jako: Galerie, různé informační boxy, které se
načítají z&amp;#160;různých XML zdrojů, syndikační služba a další
komponenty Gryphoonu. Děkuji za pochopení a držte mi palce, popřípadě &lt;a
href="http://www.lcdzaweb.cz/hlasuj.aspx"&gt;mi pošlete svůj hlas&lt;/a&gt;, mé
soutěžní číslo je &lt;strong&gt;1025&lt;/strong&gt;.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Dnes mi přišel e-mail, že moje aplikace splnila podmínky pro přijetí do soutěže "LCD za web":[http://www.lcdzaweb.cz/]. E-mail po mně požaduje kontaktní údaje, pro poslání trička a knihy. To jsem rád. Jal jsem se tedy prohlížet konkurenci v soutěži. Bohužel zajímavých aplikací, ať už funkčností nebo designem, jsem moc nenašel. Pár výjimek se však najde, jejich autorům gratuluji k pěkné práci.

Bohužel většina přihlášených aplikací je postavena na Starter Kitu **Personal web page** nebo jeho klubové variantě. To by mi ani tak nevadilo, ale spousta lidí si ani nedala tu práci, aby něco změnila, třeba jenom text. Prostě si udělali nový projekt a uploadovali ho na server. Škoda, myslel jsem, že potkám spoustu zajímavých stránek od lidí, kteří jsou podobně postiženi jako já ;)

Další várka prací je pro změnu nedostupná, buď obsahuje nějakou chybu – většinou ConnectionString na ASPWEBu:[http://www.aspweb.cz/] – nebo aplikace není vůbec.

Ještě si neodpustím trochu jedovatou poznámku na adresu jednoho nešťastníka, který mi vykrádá obsah. Není to poprvé ani naposledy, ale smířit se s tím nehodlám. Psaní těch článků si vyžádalo nějaký můj čas i know-how a pak si je někdo zkopíruje, navíc ještě zkrátí, a podepíše se pod to. Nakonec se s tím přihlásí do stejné soutěže jako já a myslí si, že si toho nevšimnu. Dotyčnému už jsem napsal e-mail s **prosbou o nápravu**. Pokud tak v dohledné době neučiní, budu ho lynčovat po webovém způsobu…

Ještě k mé účasti. Do soutěže jsem přihlásil svůj redakční systém Gryphoon, jenže z pochopitelných důvodů nemůžu nechat lidi procházet se v mojí administraci, ani kdybych jim ořezal práva. Proto bych hodnotící chtěl požádat, aby aplikaci hodnotili z frontendu, tedy takové věci, které mohou používat obyčejní čtenáři. Jsou tím například věci jako: Galerie, různé informační boxy, které se načítají z různých XML zdrojů, syndikační služba a další komponenty Gryphoonu. Děkuji za pochopení a držte mi palce, popřípadě "mi pošlete svůj hlas":[http://www.lcdzaweb.cz/hlasuj.aspx], mé soutěžní číslo je **1025**.

[zlodej]: http://stalkers.aspweb.cz/kategorie/asp.aspx Zloděj .[člověk, co ukradl mé články]</raw>
    <author>Aleš Roubíček</author>
    <published>2005-12-05T14:49:56.323</published>
    <url>o-soutezi-lcd-za-web</url>
    <category>ASP.NET 2.0</category>
    <keywords>LCD za web Gryphoon ASP.NET 2.0</keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>91</id>
    <title>Aktuálně</title>
    <description>Co se dneska událo.</description>
    <html xml:space="preserve">
&lt;p&gt;Dneska, ačkoliv nemám žádnou školu, mám docela našlapáno. Ráno jsem
zkoumal statistiky na Google Analytics a byl to šok. Za včerejšek nárůst
návštěvnosti o&amp;#160;1&amp;#160;200%. Důvodem je již zmiňovaná účast
v&amp;#160;soutěži. jsem rád, že se sem tolik lidí podívalo, ale nikdo sem
nenapsal ani čárku :( Škoda. Nemyslim si že píšu o&amp;#160;tak
nezajímavých tématech. No nic, třeba se časem moje články zalíbí nebo
naopak a nějakou odezvu mi zanechá.&lt;/p&gt;

&lt;p&gt;Konečně jsem dostal od &lt;a href="http://mikemaly.net"&gt;mika&lt;/a&gt; &lt;a
href="/galerie.aspx?show=2005-12-03_Heges"&gt;fotky z&amp;#160;páteční akce
v&amp;#160;Hegeši&lt;/a&gt;, takže jsem se konečně dokopal k&amp;#160;tomu abych dopsal
další kus Gryphoonu, tentokrát pro upload souborů na server. Upload je
doplněn o&amp;#160;možnost nahrávání zazipovaných složek s&amp;#160;jejich
automatickou dekompresí na server. Tohle jsem potřeboval kvůli uploadu
galerií na web. Na našem Wifi prostě nedostanu přes FTP soubor velikosti
fotky, ani kdybych se zbláznil. Teď si export z&amp;#160;&lt;a
href="http://picasa.google.com"&gt;Picasy&lt;/a&gt; zabalím, přes Gryphoona nahraju a
už vše běhá tak, jak má.&lt;/p&gt;

&lt;p&gt;Kromě programových změn, jsem pročistil kategorie a některé přidal
tak, aby byla navigace trochu přehlednější &amp;#8211; sám jsem se v&amp;#160;tom
občas ztrácel :) No a to je asi pro dnešek všechno, protože musim udělat
projekt na Ekonomiku pro podnikatele a domácí úkol na Architekturu
počítačových systémů.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Dneska, ačkoliv nemám žádnou školu, mám docela našlapáno. Ráno jsem zkoumal statistiky na Google Analytics a byl to šok. Za včerejšek nárůst návštěvnosti o 1 200%. Důvodem je již zmiňovaná účast v soutěži. jsem rád, že se sem tolik lidí podívalo, ale nikdo sem nenapsal ani čárku :( Škoda. Nemyslim si že píšu o tak nezajímavých tématech. No nic, třeba se časem moje články zalíbí nebo naopak a nějakou odezvu mi zanechá.

Konečně jsem dostal od mika:[http://mikemaly.net] "fotky z páteční akce v Hegeši":/galerie.aspx?show=2005-12-03_Heges, takže jsem se konečně dokopal k tomu abych dopsal další kus Gryphoonu, tentokrát pro upload souborů na server. Upload je doplněn o možnost nahrávání zazipovaných složek s jejich automatickou dekompresí na server. Tohle jsem potřeboval kvůli uploadu galerií na web. Na našem Wifi prostě nedostanu přes FTP soubor velikosti fotky, ani kdybych se zbláznil. Teď si export z Picasy:[http://picasa.google.com] zabalím, přes Gryphoona nahraju a už vše běhá tak, jak má.

Kromě programových změn, jsem pročistil kategorie a některé přidal tak, aby byla navigace trochu přehlednější - sám jsem se v tom občas ztrácel :) No a to je asi pro dnešek všechno, protože musim udělat projekt na Ekonomiku pro podnikatele a domácí úkol na Architekturu počítačových systémů.</raw>
    <author>Aleš Roubíček</author>
    <published>2005-12-06T15:26:48.510</published>
    <url>aktualne</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>92</id>
    <title>Veřejná beta IE</title>
    <description>Kdy se můžeme těšit na betaverzi IE7?</description>
    <html xml:space="preserve">
&lt;p&gt;Včéra oznámil Microsoft, prostřednictvím vývojářského blogu, že
veřejná betaverze Internet Exploreru 7, který již bude obsahovat změny
v&amp;#160;renderovacím jádru, bude uvolněna v&amp;#160;prvním kvartálu roku 2006.
To znamená během tří měsíců. Vývojáři si od toho slibujou
dostatečnou dobu na reportování chyb do finálního releasu &amp;#8211; někdy
koncem roku.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Včéra oznámil Microsoft, prostřednictvím vývojářského blogu, že veřejná betaverze Internet Exploreru 7, který již bude obsahovat změny v renderovacím jádru, bude uvolněna v prvním kvartálu roku 2006. To znamená během tří měsíců. Vývojáři si od toho slibujou dostatečnou dobu na reportování chyb do finálního releasu - někdy koncem roku.</raw>
    <author>Aleš Roubíček</author>
    <published>2005-12-07T12:57:15.570</published>
    <url>verejna-beta-ie</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-22T01:39:05.827</edited>
  </article>
  <article>
    <id>93</id>
    <title>Depeche Mode</title>
    <description>Depeche Mode vydávají nový singl a budou vystupovat v Praze.</description>
    <html xml:space="preserve">
&lt;p&gt;Dneska vychází v&amp;#160;Británii druhý singl z&amp;#160;desky &lt;em&gt;Playing the
Angel&lt;/em&gt; s&amp;#160;názvem &lt;strong&gt;A&amp;#160;pain, that I'm used to&lt;/strong&gt;.
Myslím, že to je dobrý výběr. Podle tracklistů budou i&amp;#160;zajímavé
remixy, takže je na co se těšit.&lt;/p&gt;

&lt;p&gt;Včera jsem se, trochu pozdě, dozvěděl, že &lt;a
href="http://www.depechemode.com"&gt;depešáci&lt;/a&gt; budou koncertovat
v&amp;#160;Praze, konkrétně 23. ledna 2006&amp;#160;v&amp;#160;Sazka Aréně. Bohužel,
je asi už vyprodáno :( I&amp;#160;přes to, že nejlevnější lístek na stání
vyšel něco přes 900&amp;#160;Kč. No uvidíme, třeba se ještě bude dát něco
sehnat&amp;#8230;&lt;/p&gt;

&lt;p&gt;Celebrate the black!&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Dneska vychází v Británii druhý singl z desky *Playing the Angel* s názvem **A pain, that I'm used to**. Myslím, že to je dobrý výběr. Podle tracklistů budou i zajímavé remixy, takže je na co se těšit.

Včera jsem se, trochu pozdě, dozvěděl, že depešáci:[http://www.depechemode.com] budou koncertovat v Praze, konkrétně 23. ledna 2006 v Sazka Aréně. Bohužel, je asi už vyprodáno :( I přes to, že nejlevnější lístek na stání vyšel něco přes 900 Kč. No uvidíme, třeba se ještě bude dát něco sehnat...

Celebrate the black!</raw>
    <author>Aleš Roubíček</author>
    <published>2005-12-12T11:20:25.287</published>
    <url>depeche-mode</url>
    <category>Muzika</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-12T14:36:21.147</edited>
  </article>
  <article>
    <id>94</id>
    <title>Black Depeche by Alessio Busta</title>
    <description>Další mix od Alessia, tentokráté v černé barvě zvuku...</description>
    <html xml:space="preserve">
&lt;ol&gt;
	&lt;li&gt;Depeche Mode &amp;#8211; Useless (The Kruder and Dorfmeister Session)
	[Mute]&lt;/li&gt;

	&lt;li&gt;Moby &amp;#8211; Beatiful (Laurent Konrad Remix) [Mute]&lt;/li&gt;

	&lt;li&gt;Deep Dish &amp;#8211; Sacramento [Positiva]&lt;/li&gt;

	&lt;li&gt;Fisherspooner &amp;#8211; Never Win (Black Strobe Remix) [EMI]&lt;/li&gt;

	&lt;li&gt;Tomcraft &amp;#8211; Sureshot (Original Mix) [Kosmo]&lt;/li&gt;

	&lt;li&gt;Mojado &amp;#8211; El Torro [Magik]&lt;/li&gt;

	&lt;li&gt;Ghost &amp;#8211; Hey You (Original Mix) [Ghoststyle]&lt;/li&gt;

	&lt;li&gt;Depeche Mode &amp;#8211; Enjoy The Silence (Timo Maas Extended Remix)
	[Mute]&lt;/li&gt;

	&lt;li&gt;David Guetta feat. JD Davis &amp;#8211; In Love With Myself (David Guetta &amp;amp;
	Joachim Gurraud Remix) [EMI]&lt;/li&gt;

	&lt;li&gt;Goldfrapp &amp;#8211; Ohh la la (Original Extended Mix) [Mute]&lt;/li&gt;

	&lt;li&gt;Slam &amp;#8211; This World (Hugg &amp;amp; Pepp Remix) [Soma]&lt;/li&gt;

	&lt;li&gt;Depeche Mode &amp;#8211; A&amp;#160;Pain That I'm Used To (Telex Remix) [Mute]&lt;/li&gt;

	&lt;li&gt;Deep Dish feat. Steve Nicks &amp;#8211; Dreams [Positiva]&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Ke stažení &lt;a href="/files/alessio_busta_-_black_depeche.wma"&gt;Black Depeche
by Alessio Busta&lt;/a&gt; (WMA 96&amp;#160;kbps; 47,6&amp;#160;MiB)&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">1.  Depeche Mode - Useless (The Kruder and Dorfmeister Session) [Mute]
2.  Moby - Beatiful (Laurent Konrad Remix) [Mute]
3.  Deep Dish - Sacramento [Positiva]
4.  Fisherspooner - Never Win (Black Strobe Remix) [EMI]
5.  Tomcraft - Sureshot (Original Mix) [Kosmo]
6.  Mojado - El Torro [Magik]
7.  Ghost - Hey You (Original Mix) [Ghoststyle]
8.  Depeche Mode - Enjoy The Silence (Timo Maas Extended Remix) [Mute]
9.  David Guetta feat. JD Davis - In Love With Myself (David Guetta &amp; Joachim Gurraud Remix) [EMI]
10.  Goldfrapp - Ohh la la (Original Extended Mix) [Mute]
11.  Slam - This World (Hugg &amp; Pepp Remix) [Soma]
12.  Depeche Mode - A Pain That I'm Used To (Telex Remix) [Mute]
13.  Deep Dish feat. Steve Nicks - Dreams [Positiva]

Ke stažení "Black Depeche by Alessio Busta":/files/alessio_busta_-_black_depeche.wma (WMA 96 kbps; 47,6 MiB)</raw>
    <author>alessio busta</author>
    <published>2005-12-13T16:44:17.557</published>
    <url>black-depeche-by-alessio-busta</url>
    <category>Muzika</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-13T19:22:34.660</edited>
  </article>
  <article>
    <id>95</id>
    <title>Nová generace webu</title>
    <description>Kam směřují webové aplikace, ale nejen ony.</description>
    <html xml:space="preserve">
&lt;p&gt;Nechci tu mluvit o&amp;#160;aktivitách jako je Web 2.0, ale o&amp;#160;současných
nebo velmi brzkých technologiích. Určitě už jste slyšeli něco
o&amp;#160;&lt;acronym title="Asynchronous JavaScript and XML"&gt;AJAX&lt;/acronym&gt;u, ať
už o&amp;#160;tom fotbalovém nebo o&amp;#160;tom webovém. Já o&amp;#160;tom fotbalovém
nic nevím, takže se chci věnovat tomu mě bližšímu.&lt;/p&gt;

&lt;p&gt;AJAX je buzword dneška, ačkoliv nejde o&amp;#160;zas tak novou technologii,
dnes prožívá svůj boom. Oblibu si získal asi díky &lt;a
href="http://www.gmail.com/"&gt;GMailu&lt;/a&gt;, který je v&amp;#160;něm napsaný. Pokud
jde o&amp;#160;nějakou zajímavou technologii, kterou AJAX bezesporu je, nebyl by
to &lt;a href="http://www.microsoft.com"&gt;Microsoft&lt;/a&gt;, aby u&amp;#160;toho chyběl.
I&amp;#160;Microsoft má svoje AJAXové aplikace a nemusíme chodit pro vodu
daleko, stačí do adresního řádku napsat &lt;a
href="http://www.start.com"&gt;Start.com&lt;/a&gt; a máme tu hned jednu.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Start.com&lt;/strong&gt; je taková testovací laboratoř nápadů
Microsoftích vývojářů. Prvotním úkolem bylo vytvoření
personalizovaného portálu. Velice pěkná myšlenka, která funguje. Obdobnou
věc potom spustil i&amp;#160;&lt;a href="http://www.google.com/ig"&gt;Google&lt;/a&gt; a
posléze vznikla i&amp;#160;betaverze &lt;a href="http://www.live.com"&gt;Windows
Live&lt;/a&gt;, která se Start.com značně podobá.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Live.com&lt;/strong&gt; je nový portál Microsoftu a podle všeho se
jedná o&amp;#160;transformaci MSN. Live.com je stránka, kde je hledací
políčko, které hledá přes MSN Search. Tím by se asi oproti současnému
MSN portálu značně degradovala, proto je zbytek stránky určen jen vám a
vy si s&amp;#160;ním můžete dělat, co se vám zlíbí. Když namátkou vyberu
&amp;#8222;dlaždice&amp;#8220;, které mě zaujali, jako třeba hodiny, lokální
počasí, RSS čtečka, kurzovní lístek a mnoho dalších, dojdu
k&amp;#160;omezenému počtu. Ovšem tento počet není limitním. Každý si
může napsat vlastní &amp;#8222;dlaždici&amp;#8220;, kterou si do stránky
nainstaluje. Pokud nejste dostatečně fundovaní na to, abyste si napsali
dlaždici vlastní, můžete navštívit stránky &lt;a
href="http://www.microsoftgadgets.com/"&gt;http://www.mi&amp;#173;crosoftgadget&amp;#173;s.com/&lt;/a&gt;,
kde najdete spoustu dalších dlaždic z&amp;#160;rukou komunitních
vývojářů.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Atlas&lt;/strong&gt;. Teď konečně přicházím k&amp;#160;tomu, proč tenhle
spot píšu. &lt;a href="http://atlas.asp.net"&gt;Atlas&lt;/a&gt; je totiž nový framework
pro psaní JavaScriptových aplikací postavených nejen na AJAXu. Zatím
existuje pouze v&amp;#160;testovací verzi bez Go-live licence, ale i&amp;#160;tak se
s&amp;#160;ním dají dělat velice zajímavé věci. On Atlas bude pravděpodobně
součástí příští verze ASP.NET, proto se s&amp;#160;nim dá pracovat jak na
klientské části, tak i&amp;#160;na serverové. Používá se zde do značné
míry deklarativního programování, zavádí se určitá typovost, OOP a
jednoduchý přístup k&amp;#160;webovým službám. Na Atlasu jsou postaveny oba
výše zmiňované portály, ale třeba i&amp;#160;&lt;a
href="http://local.live.com"&gt;http://local&amp;#173;.live.com&lt;/a&gt;, což je nová
verze MSN Virtual Earth.&lt;/p&gt;

&lt;p&gt;Atlas je pro mě velice slibnou a zajímavou technologií a určitě
o&amp;#160;ní ještě něco napíšu &amp;#8211; snad i&amp;#160;něco praktičtějšího.
Závěrem ještě malá vsuvka. Systém dlaždic je součástí nové plochy a
Sidebaru ve Windows Vista. :)&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Nechci tu mluvit o aktivitách jako je Web 2.0, ale o současných nebo velmi brzkých technologiích. Určitě už jste slyšeli něco o AJAX((Asynchronous JavaScript and XML))u, ať už o tom fotbalovém nebo o tom webovém. Já o tom fotbalovém nic nevím, takže se chci věnovat tomu mě bližšímu.

AJAX je buzword dneška, ačkoliv nejde o zas tak novou technologii, dnes prožívá svůj boom. Oblibu si získal asi díky GMailu:[http://www.gmail.com/], který je v něm napsaný. Pokud jde o nějakou zajímavou technologii, kterou AJAX bezesporu je, nebyl by to Microsoft:[http://www.microsoft.com], aby u toho chyběl. I Microsoft má svoje AJAXové aplikace a nemusíme chodit pro vodu daleko, stačí do adresního řádku napsat Start.com:[http://www.start.com] a máme tu hned jednu.

**Start.com** je taková testovací laboratoř nápadů Microsoftích vývojářů. Prvotním úkolem bylo vytvoření personalizovaného portálu. Velice pěkná myšlenka, která funguje. Obdobnou věc potom spustil i Google:[http://www.google.com/ig] a posléze vznikla i betaverze "Windows Live":[http://www.live.com], která se Start.com značně podobá.

**Live.com** je nový portál Microsoftu a podle všeho se jedná o transformaci MSN. Live.com je stránka, kde je hledací políčko, které hledá přes MSN Search. Tím by se asi oproti současnému MSN portálu značně degradovala, proto je zbytek stránky určen jen  vám a vy si s ním můžete dělat, co se vám zlíbí. Když namátkou vyberu "dlaždice", které mě zaujali, jako třeba hodiny, lokální počasí, RSS čtečka, kurzovní lístek a mnoho dalších, dojdu k omezenému počtu. Ovšem tento počet není limitním. Každý si může napsat vlastní "dlaždici", kterou si do stránky nainstaluje. Pokud nejste dostatečně fundovaní na to, abyste si napsali dlaždici vlastní, můžete navštívit stránky http://www.microsoftgadgets.com/, kde najdete spoustu dalších dlaždic z rukou komunitních vývojářů.

**Atlas**. Teď konečně přicházím k tomu, proč tenhle spot píšu. Atlas:[http://atlas.asp.net] je totiž nový framework pro psaní JavaScriptových aplikací postavených nejen na AJAXu. Zatím existuje pouze v testovací verzi bez Go-live licence, ale i tak se s ním dají dělat velice zajímavé věci. On Atlas bude pravděpodobně součástí příští verze ASP.NET, proto se s nim dá pracovat jak na klientské části, tak i na serverové. Používá se zde do značné míry deklarativního programování, zavádí se určitá typovost, OOP a jednoduchý přístup k webovým službám. Na Atlasu jsou postaveny oba výše zmiňované portály, ale třeba i http://local.live.com, což je nová verze MSN Virtual Earth.

Atlas je pro mě velice slibnou a zajímavou technologií a určitě o ní ještě něco napíšu - snad i něco praktičtějšího. Závěrem ještě malá vsuvka. Systém dlaždic je součástí nové plochy a Sidebaru ve Windows Vista. :)</raw>
    <author>Aleš Roubíček</author>
    <published>2005-12-14T09:11:57.790</published>
    <url>nova-generace-webu</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-14T09:11:57.850</edited>
  </article>
  <article>
    <id>96</id>
    <title>Společný projekt Microsoftu a Googlu</title>
    <description>Microsoft spojí své síly s Googlem, ale zas tak horké to nebude.</description>
    <html xml:space="preserve">
&lt;p&gt;Dnes se internetem šíří samé podivné zprávy. Nejprve RSS team
zveřejnil informaci, že &lt;a
href="http://blogs.msdn.com/rssteam/archive/2005/12/14/503778.aspx"&gt;ikonka pro
feedy v novém Internet Exploreru bude stejná jako ve Firefoxu&lt;/a&gt;, na čemž
se domluvili zástupci obou stran (Microsoft a Mozilla Foundation). Takovýto
postup prý není ojedinělým. Předtím se takto domluvili na podbarvení
adresního řádku ve výjimečných situacích.&lt;/p&gt;

&lt;p&gt;Další neuvěřitelnou zprávou je, že &lt;a
href="http://neowin.net/index.php?act=view&amp;amp;id=31764"&gt;Microsoft spojí své
síly s Googlem&lt;/a&gt;, Sunem a univerzitou Berkley. Ke spojení sil dojde pouze
na akademické půdě, jde totiž o vytvoření výzkumné laboratoře, kde se
budou vyvíjet a testovat technologie pro &lt;acronym
title="Reliable, Adaptive and Distributed Systems"&gt;RAD&lt;/acronym&gt; systémy.
V ostatních případech zůstanou tyto firmy rivaly.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Dnes se internetem šíří samé podivné zprávy. Nejprve RSS team zveřejnil informaci, že "ikonka pro feedy v novém Internet Exploreru bude stejná jako ve Firefoxu":[http://blogs.msdn.com/rssteam/archive/2005/12/14/503778.aspx], na čemž se domluvili zástupci obou stran (Microsoft a Mozilla Foundation). Takovýto postup prý není ojedinělým. Předtím se takto domluvili na podbarvení adresního řádku ve výjimečných situacích.

Další neuvěřitelnou zprávou je, že "Microsoft spojí své síly s Googlem":http://neowin.net/index.php?act=view&amp;id=31764, Sunem a univerzitou Berkley. Ke spojení sil dojde pouze na akademické půdě, jde totiž o vytvoření výzkumné laboratoře, kde se budou vyvíjet a testovat technologie pro RAD((Reliable, Adaptive and Distributed Systems)) systémy. V ostatních případech zůstanou tyto firmy rivaly.</raw>
    <author>Aleš Roubíček</author>
    <published>2005-12-15T16:33:52.340</published>
    <url>spolecny-projekt-microsoftu-a-googlu</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <tags>rss firefox microsoft google ie7</tags>
    <is-published>1</is-published>
    <edited>2008-09-25T08:06:47.797</edited>
  </article>
  <article>
    <id>97</id>
    <title>Bilancování</title>
    <description>Když se blíží ten konec roku – období bilancování a pohody – přihodím i já jeden takový bilanční a úvahový článek. </description>
    <html xml:space="preserve">
&lt;p&gt;Za poslední rok jsem zaznamenal několik úspěchů i&amp;#160;neúspěchů,
jako každý člověk. Podával jsem svoje první daňové přiznání, udělal
jsem několik webů, konečně jsem předělal ten svůj a trochu mi stoupla
návštěvnost.&lt;/p&gt;

&lt;p&gt;Na druhou stranu moje studijní výsledky nejsou zrovna lichotivé, snad je
to i&amp;#160;proto, že už mi škola nemá co nabídnout nebo to nenabízí
takovou formou, která by mě zaujala. Určitě je chyba i&amp;#160;na mojí
straně, ale já „už su také“, radši dělám praktické věci nebo se
učím takovou teorii, která mi něco nového do té praktické stránky
přinese. Proto se učím nové vlastnosti dotnetu, snažím se porozumět
návrhovým vzorům, poznávat nové technologie a implementovat je prakticky.
Tak to mám rád. Nebudu vás ale unavovat popisem toho, co všechno mě na
škole vadí, sami si přečtěte zprávu komise K4, tam je to zhruba
nastíněno, ale z&amp;#160;mé strany je toho víc.&lt;/p&gt;

&lt;p&gt;Než tenhle spot ukončím, chtěl bych napsat ještě pár otázek
k&amp;#160;zamyšlení. Nebudu na ně odpovídat, to musí každý sám…&lt;/p&gt;

&lt;p&gt;Položili jste si otázku, proč je vrcholem naší civilizace armáda? Proč
je farmaceutický průmysl druhým nejbohatším hned po tom vojenském? Proč
ve zprávách nenajdete nic pozitivního? Víte o&amp;#160;tom, že existují léky
na nevyléčitelné nemoci? Proč tyto léky nejsou volně k&amp;#160;dostání a
v&amp;#160;širokém povědomí lidí? Proč lidé věří víc prášku nebo
kapsli se stejnou účinnou látkou jako má nějaká bylinka, než právě
té. Znáte energii nulového bodu? Víte o&amp;#160;tom, že již před
70&amp;#160;lety jezdilo vozidlo poháněné touto energií? Proč tuto energii
dnes nevyužíváme a raději devastujeme naši planetu? Proč jsem tohle
napsal?&lt;/p&gt;

&lt;p&gt;Závěrem bych vám chtěl popřát, abyste se v&amp;#160;příštím roce
dokázali správně rozhodovat a zamýšlet se nad důležitými otázkami.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Za poslední rok jsem zaznamenal několik úspěchů i neúspěchů, jako každý člověk. Podával jsem svoje první daňové přiznání, udělal jsem několik webů, konečně jsem předělal ten svůj a trochu mi stoupla návštěvnost.

Na druhou stranu moje studijní výsledky nejsou zrovna lichotivé, snad je to i proto, že už mi škola nemá co nabídnout nebo to nenabízí takovou formou, která by mě zaujala. Určitě je chyba i na mojí straně, ale já „už su také“, radši dělám praktické věci nebo se učím takovou teorii, která mi něco nového do té praktické stránky přinese. Proto se učím nové vlastnosti dotnetu, snažím se porozumět návrhovým vzorům, poznávat nové technologie a implementovat je prakticky. Tak to mám rád. Nebudu vás ale unavovat popisem toho, co všechno mě na škole vadí, sami si přečtěte zprávu komise K4, tam je to zhruba nastíněno, ale z mé strany je toho víc.

Než tenhle spot ukončím, chtěl bych napsat ještě pár otázek k zamyšlení. Nebudu na ně odpovídat, to musí každý sám…

Položili jste si otázku, proč je vrcholem naší civilizace armáda? Proč je farmaceutický průmysl druhým nejbohatším hned po tom vojenském? Proč ve zprávách nenajdete nic pozitivního? Víte o tom, že existují léky na nevyléčitelné nemoci? Proč tyto léky nejsou volně k dostání a v širokém povědomí lidí? Proč lidé věří víc prášku nebo kapsli se stejnou účinnou látkou jako má nějaká bylinka, než právě té. Znáte energii nulového bodu? Víte o tom, že již před 70 lety jezdilo vozidlo poháněné touto energií? Proč tuto energii dnes nevyužíváme a raději devastujeme naši planetu? Proč jsem tohle napsal?

Závěrem bych vám chtěl popřát, abyste se v příštím roce dokázali správně rozhodovat a zamýšlet se nad důležitými otázkami.
</raw>
    <author>Aleš Roubíček</author>
    <published>2005-12-20T15:28:43.543</published>
    <url>bilancovani</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2005-12-20T15:28:43.633</edited>
  </article>
  <article>
    <id>98</id>
    <title>Hudební novinky</title>
    <description>Pár hudebních novinek, které stojí za povšimnutí. (alespoň těm, kdo mají rádi elektro-house a house)</description>
    <html xml:space="preserve">
&lt;p&gt;Začnu s&amp;#160;ohlášením vydání míchané kompilace z&amp;#160;rukou &lt;a
href="http://www.steveangello.tv"&gt;Steva Angella&lt;/a&gt;. Jmenuje se prostě
&lt;em&gt;Sessions&lt;/em&gt; a vychází u&amp;#160;&lt;a
href="http://www.ministryofsound.com"&gt;Ministry of Sound&lt;/a&gt;. Proč zrovna
u&amp;#160;nich? Důvod je nasnadě, Steve dostal u&amp;#160;tohoto labelu/klubu
rezidenci a křest proběhne 19. ledna. Na téhle akci nebude chybět ani jeho
parťák Sebastian Ingrosso. Tahle partička taky chystá jejich první album
pod pseudonymem &lt;strong&gt;Buy Now&lt;/strong&gt;. Nezbývá, než se těšit
s&amp;#160;čím tihle mágové elektrohouseové scény přijdou :)&lt;/p&gt;

&lt;p&gt;Když jsem u&amp;#160;švédský houseový mafie, tak by velice brzy mělo vyjít
e.p. od dua AxEr (Axwell a Eric Prydz) s&amp;#160;poetickým názvem 1,2,3. Tahle
věc dokáže dohnat k&amp;#160;varu tanečníky ze všech koutů světa a na
druhé straně budě neméně kvalitní věc 3,2,1. Již brzy u&amp;#160;labelu &lt;a
href="http://www.pryda.net"&gt;Pryda&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Dalším zajímavým počinem je nový singl od
&lt;strong&gt;Shapeshifters&lt;/strong&gt; s&amp;#160;názven &lt;em&gt;Incredible&lt;/em&gt;. Věc opět
podařená, jak je to u&amp;#160;týhle britský partičky zvykem. Navíc pro nás
pánové, po roce stráveném ve studiu, chystají album. Tak držím
palce.&lt;/p&gt;

&lt;p&gt;Trošku z&amp;#160;jiného soudku je nový singl od norské partičky
&lt;strong&gt;Röyksopp&lt;/strong&gt; &amp;#8211; &lt;em&gt;What else is there&lt;/em&gt;. Originál
spíš poslechovější a s&amp;#160;nádherným vokálem (angličtina
s&amp;#160;germánským přízvukem). Další mixy jak v&amp;#160;elektru tak i&amp;#160;v
trošku veselejší náladě. Nenechte si ujít&amp;#8230;&lt;/p&gt;

&lt;p&gt;Na závěr takový bonbónek:&lt;/p&gt;

&lt;blockquote cite="http://www.radiodeejay.cz"&gt;
	&lt;p&gt;Bob Sinclaire feat. Gary Pine &amp;#8211; Love Generation novinka konce roku
	2005&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Tak popřejem téhle novince, aby měla stejnej úspěch, jako to co jsme
poslouchali v&amp;#160;létě :D&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Začnu s ohlášením vydání míchané kompilace z rukou "Steva Angella":[http://www.steveangello.tv]. Jmenuje se prostě *Sessions* a vychází u "Ministry of Sound":[http://www.ministryofsound.com]. Proč zrovna u nich? Důvod je nasnadě, Steve dostal u tohoto labelu/klubu rezidenci a křest proběhne 19. ledna. Na téhle akci nebude chybět ani jeho parťák Sebastian Ingrosso. Tahle partička taky chystá jejich první album pod pseudonymem **Buy Now**. Nezbývá, než se těšit s čím tihle mágové elektrohouseové scény přijdou :)

Když jsem u švédský houseový mafie, tak by velice brzy mělo vyjít e.p. od dua AxEr (Axwell a Eric Prydz) s poetickým názvem 1,2,3. Tahle věc dokáže dohnat k varu tanečníky ze všech koutů světa a na druhé straně budě neméně kvalitní věc 3,2,1. Již brzy u labelu Pryda:[http://www.pryda.net].

Dalším zajímavým počinem je nový singl od **Shapeshifters** s názven *Incredible*. Věc opět podařená, jak je to u týhle britský partičky zvykem. Navíc pro nás pánové, po roce stráveném ve studiu, chystají album. Tak držím palce.

Trošku z jiného soudku je nový singl od norské partičky
**Röyksopp** - *What else is there*. Originál spíš poslechovější a s nádherným vokálem (angličtina s germánským přízvukem). Další mixy jak v elektru tak i v trošku veselejší náladě. Nenechte si ujít...

Na závěr takový bonbónek:

&gt; Bob Sinclaire feat. Gary Pine - Love Generation
&gt; novinka konce roku 2005
&gt;
&gt;: http://www.radiodeejay.cz

Tak popřejem téhle novince, aby měla stejnej úspěch, jako to co jsme poslouchali v létě :D

</raw>
    <author>alessio busta</author>
    <published>2006-01-12T11:24:50.970</published>
    <url>hudebni-novinky</url>
    <category>Muzika</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-01-12T12:10:35.380</edited>
  </article>
  <article>
    <id>100</id>
    <title>Zima v plném proudu</title>
    <description>Pár slouv o současném dění okolo mě.</description>
    <html xml:space="preserve">
&lt;p&gt;Je to tak, ještě pořád žiju :) Důvodů proč jsem dlouho nepsal je
spousta. Je zima a začalo nám zkouškové období. Nechápu proč je zrovna
v&amp;#160;tomhle čase, kdy se mi nechce vůbec nic dělat, maximálně si
zajezdit na skybobu nebo prohazovat sníh. Na školu nemám ani pomyšlení,
ale asi budu muset. Je to se mnou dost nahnutý, přesto si z&amp;#160;toho nic
nedělám&amp;#8230; Nechápu sám sebe :)&lt;/p&gt;

&lt;p&gt;Poslední tři tejdny jsem věnoval přípravám, provádění a
dokončování výroční valné hromady &lt;a
href="http://druzcov.wz.cz/sdh/"&gt;našeho SDH&lt;/a&gt;. Jak už jsem &lt;a
href="/clanek.aspx/3/mimoradna-schuze"&gt;kdysi psal&lt;/a&gt;, jsem jednatelem a tak
mám schůze na povel. Dotoho ještě získávání zápočtů, zatim jich
némám ani půlku, no jo, co se dá dělat&amp;#8230;&lt;/p&gt;

&lt;p&gt;Před týdnem jsem si pořídil novou hračku: &lt;a
href="http://www.evolution.co.uk/products/evo_xsession.htm"&gt;Evolution
UC-17&amp;#160;X-Session&lt;/a&gt;. Tak si hraju. Včéra jsem namíchal celkem pěknej
housík, tak se mi ho snad podaří během týdne pověsit na web, ale nevim.
Jsem teď doma a chci tu zůstat o&amp;#160;něco dýl, když do tý Prahy nemusim
:) Takže to nebudu posílat po modemu. Možná nám zavedou domu konečně
WiFi, ale to bude záležet na tom, jestli tu &lt;a
href="http://www.jested.net/"&gt;chytnu nějakej signál&amp;#8230;&lt;/a&gt;&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Je to tak, ještě pořád žiju :) Důvodů proč jsem dlouho nepsal je spousta. Je zima a začalo nám zkouškové období. Nechápu proč je zrovna v tomhle čase, kdy se mi nechce vůbec nic dělat, maximálně si zajezdit na skybobu nebo prohazovat sníh. Na školu nemám ani pomyšlení, ale asi budu muset. Je to se mnou dost nahnutý, přesto si z toho nic nedělám... Nechápu sám sebe :)

Poslední tři tejdny jsem věnoval přípravám, provádění a dokončování výroční valné hromady "našeho SDH":[http://druzcov.wz.cz/sdh/]. Jak už jsem "kdysi psal":[/clanek.aspx/3/mimoradna-schuze], jsem jednatelem a tak mám schůze na povel. Dotoho ještě získávání zápočtů, zatim jich némám ani půlku, no jo, co se dá dělat...

Před týdnem jsem si pořídil novou hračku: "Evolution UC-17 X-Session":[http://www.evolution.co.uk/products/evo_xsession.htm]. Tak si hraju. Včéra jsem namíchal celkem pěknej housík, tak se mi ho snad podaří během týdne pověsit na web, ale nevim. Jsem teď doma a chci tu zůstat o něco dýl, když do tý Prahy nemusim :) Takže to nebudu posílat po modemu. Možná nám zavedou domu konečně WiFi, ale to bude záležet na tom, jestli tu "chytnu nějakej signál...":[http://www.jested.net/]</raw>
    <author>Aleš Roubíček</author>
    <published>2006-01-21T14:29:39.323</published>
    <url>zima-v-plnem-proudu</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-01-22T14:17:41.307</edited>
  </article>
  <article>
    <id>101</id>
    <title>Pár postřehů</title>
    <description>Tak aby to tu zase trochu ožilo, přidávám pár postřehů.</description>
    <html xml:space="preserve">
&lt;p&gt;Za prvé jsem přidal další album do galerie, jsou to fotky z&amp;#160;úterní
vycházky po Druzcově, pár fotek se mi snad povedlo. Pokud by někdo chtěl
originál ve full kvalitě, napište ni na majl. :)&lt;/p&gt;

&lt;p&gt;Za druhé, &lt;a href="http://www.djorbith.com"&gt;DJ Orbith&lt;/a&gt; zprovoznil nové
stránky. Mě se výsledek po grafické stránce líbí &amp;#8211; ta gotika se
k&amp;#160;jeho stylu velice hodí ;) Jsou tam taky ke stažení dva nové mixy,
tak enjoy&amp;#8230;&lt;/p&gt;

&lt;p&gt;Za třetí navštívil Emil &lt;a href="http://www.discoheges.cz"&gt;Hegeš&lt;/a&gt;. Co
dodat, nejen že jsem musel zaplatit o&amp;#160;50% větší vstupné, za což mi
Bažant slíbil panáka (kterýho jsem nedostal), ale Emil
&amp;#8222;hýřil&amp;#8220; vtipem. Takhle brzo jsem od tamtud snad nikdy nešel :D
No abych jen nekritizoval, dopil jsem jim tam Red Label a musel jsem přejít
na Beama :) Pak tam taky hrál jinej DJ, na jméno si nevzpomenu, ale dřív
hrál Gigiho a teď hraje housík &amp;#8211; skoro pořád teda to, co já
poslouchám, ale jeho podání mi moc nesedlo&amp;#8230;&lt;/p&gt;

&lt;p&gt;No a za poslední. Netscape vydal novou verzi Browseru postavenou na Firefoxu
1.5. Je o&amp;#160;mnoho lepší než verze předchozí, nebo aspoň jsem za ty dva
dny používání neměl problém&amp;#8230; Zvýšil se důraz na bezpečnost a
dnes neznám bezpečnější browser s&amp;#160;jádrem Gecko i&amp;#160;Trident :)&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Za prvé jsem přidal další album do galerie, jsou to fotky z úterní vycházky po Druzcově, pár fotek se mi snad povedlo. Pokud by někdo chtěl originál ve full kvalitě, napište ni na majl. :)

Za druhé, "DJ Orbith":[http://www.djorbith.com] zprovoznil nové stránky. Mě se výsledek po grafické stránce líbí - ta gotika se k jeho stylu velice hodí ;) Jsou tam taky ke stažení dva nové mixy, tak enjoy...

Za třetí navštívil Emil Hegeš:[http://www.discoheges.cz]. Co dodat, nejen že jsem musel zaplatit o 50% větší vstupné, za což mi Bažant slíbil panáka (kterýho jsem nedostal), ale Emil "hýřil" vtipem. Takhle brzo jsem od tamtud snad nikdy nešel :D No abych jen nekritizoval, dopil jsem jim tam Red Label a musel jsem přejít na Beama :) Pak tam taky hrál jinej DJ, na jméno si nevzpomenu, ale dřív hrál Gigiho a teď hraje housík - skoro pořád teda to, co já poslouchám, ale jeho podání mi moc nesedlo...

No a za poslední. Netscape vydal novou verzi Browseru postavenou na Firefoxu 1.5. Je o mnoho lepší než verze předchozí, nebo aspoň jsem za ty dva dny používání neměl problém... Zvýšil se důraz na bezpečnost a dnes neznám bezpečnější browser s jádrem Gecko i Trident :)</raw>
    <author>Aleš Roubíček</author>
    <published>2006-01-29T10:47:02.377</published>
    <url>par-postrehu</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-01-30T14:47:55.100</edited>
  </article>
  <article>
    <id>104</id>
    <title>HouseLesson vol. 2</title>
    <description>Další set z rukou Alessia Busty. Tentokrát ve stylu Vocal House.</description>
    <html xml:space="preserve">
&lt;p&gt;01. Gadjo – So Many Times (Original Dub Mix) [Ambassade] 02. Discobuster
vol. 2 – Sticky Rhythm (DJ Tonka Remix) [Disco Galaxy] 03. Axwell feat.
Steve Edwards – Watch the Sunrise (Bob Sinclar Remix) [AxTone] 04. Doobie
Brothers vs. Filo &amp;amp; Perry – Long Train Running [White]
05. Shapeshifters – Incredible (Denis the Menace &amp;amp; Jerry Ropero's Full
Vocal Mix) [EMI] 06. Soul Central – I Need You Now (Extended Mix)
[Defected] 07. Bob Sinclar – I Feel For You 2005 (I Feel For Disco Mix)
[Defected] 08. Supafly vs. Fishbowl – Let's Get Down (Full Intention Club
Mix) [Ultra] 09. Atlantic Soul feat. Tony Lindsay – Just Got Paid
(Stonebridge Remix) [Rootz] 10. Supermongo – Why [CD-R] 11. Rasmus
Faber – Get Over Here (Axwell Club Remix) [Farplane]&lt;/p&gt;

&lt;p&gt;Ke stažení &lt;a href="/files/alessio_busta_-_houselesson_vol_2.wma"
onclick="javascript:_gat._getTracker("&gt;Alessio Busta presents HouseLesson vol.
2&lt;/a&gt; (WMA 96 kbps; 45,1 MiB)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">01.  Gadjo - So Many Times (Original Dub Mix) [Ambassade]
02.  Discobuster vol. 2 - Sticky Rhythm (DJ Tonka Remix) [Disco Galaxy]
03.  Axwell feat. Steve Edwards - Watch the Sunrise (Bob Sinclar Remix) [AxTone]
04.  Doobie Brothers vs. Filo &amp; Perry - Long Train Running [White]
05.  Shapeshifters - Incredible (Denis the Menace &amp; Jerry Ropero's Full Vocal Mix) [EMI]
06.  Soul Central - I Need You Now (Extended Mix) [Defected]
07.  Bob Sinclar - I Feel For You 2005 (I Feel For Disco Mix) [Defected]
08.  Supafly vs. Fishbowl - Let's Get Down (Full Intention Club Mix) [Ultra]
09.  Atlantic Soul feat. Tony Lindsay - Just Got Paid (Stonebridge Remix) [Rootz]
10.  Supermongo - Why [CD-R]
11.  Rasmus Faber - Get Over Here (Axwell Club Remix) [Farplane]

Ke stažení &lt;a href="/files/alessio_busta_-_houselesson_vol_2.wma" onClick="javascript:_gat._getTracker("UA-90726-1")._trackPageview('/files/alessio_busta_-_houselesson_vol_2.wma');"&gt;Alessio Busta presents HouseLesson vol. 2&lt;/a&gt; (WMA 96 kbps; 45,1 MiB)</raw>
    <author>alessio busta</author>
    <published>2006-01-30T14:40:06.737</published>
    <url>houselesson-vol-2</url>
    <category>Muzika</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-06-23T15:20:21.090</edited>
  </article>
  <article>
    <id>105</id>
    <title>Osečenské stránky</title>
    <description>Provedl jsem redesign obecních stránek.</description>
    <html xml:space="preserve">
&lt;p&gt;Během včerejška jsem pověsil na web novou verzi &lt;a
href="http://www.osecna.info"&gt;stránek obce Osečná&lt;/a&gt;. Kromě změny vzhledu
došlo ke kompletní změně struktury a technologie. Nyní běží stránky
z&amp;#160;90% na redakčním systému Gryphoon Obce a 100% na ASP.NET 2.0. Ještě
mě čeká dodělávka několika modulů, ale to až po zkouškách&amp;#8230;&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Během včerejška jsem pověsil na web novou verzi "stránek obce Osečná":[http://www.osecna.info]. Kromě změny vzhledu došlo ke kompletní změně struktury a technologie. Nyní běží stránky z 90% na redakčním systému Gryphoon Obce a 100% na ASP.NET 2.0. Ještě mě čeká dodělávka několika modulů, ale to až po zkouškách...
</raw>
    <author>Aleš Roubíček</author>
    <published>2006-02-03T08:05:55.963</published>
    <url>osecenske-stranky</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-02-03T08:05:55.963</edited>
  </article>
  <article>
    <id>106</id>
    <title>Šamanismus v ASP.NET 2.0</title>
    <description>Zasvědcení do tajů ASP.NET 2.0...</description>
    <html xml:space="preserve">
&lt;p&gt;Nebojte se, tento článek nebude o&amp;#160;pokoutných praktikách a užití
magie v&amp;#160;této velice zajímavé webové technologii, nýbrž
o&amp;#160;nových ovládacích prvcích, které slouží jako průvodci, známí
z&amp;#160;Windows. Každý může mít svůj názor na jejich opodstatnění na
webu, ale v&amp;#160;některých scénářích jsou k&amp;#160;nezaplacení a
usnadňují vývoj.&lt;/p&gt;

&lt;p&gt;Asi první šaman, na kterého narazíte je
&lt;code&gt;asp:CreateUserWizard&lt;/code&gt;, který je součástí Membership API. Tento
šaman slouží, jak už název napovídá, k&amp;#160;vytváření nových
uživatelů aplikace. Tento šaman má implementované dva kroky:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;&lt;code&gt;asp:CreateUserWizardStep&lt;/code&gt; &amp;#8211; Zadání požadovaných
	údajů, potřebných k&amp;#160;vytvoření nového uživatele.&lt;/li&gt;

	&lt;li&gt;&lt;code&gt;asp:CompleteWizardStep&lt;/code&gt; &amp;#8211; Hláška o&amp;#160;úspěšném
	dokončení vytváření uživatele.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Krom těchto dvou si můžete přidat libovolné množství vlastních
kroků, například krok, ve kterém přidělíme uživateli jeho Role. Každý
kontrol, který je odvozený od třídy &lt;code&gt;Wizard&lt;/code&gt; má vlastnost
&lt;code&gt;WizardSteps&lt;/code&gt;, kam můžete přidávat vlastní kroky šamana.
Takže následující kus kódu představuje šamana na vytvoření uživatele
s&amp;#160;přidělením uživatelské role.&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-markup"&gt;&amp;lt;asp:CreateUserWizard ID="NovyUzivatelWizard" runat="server" LoginCreatedUser="false" OnActiveStepChanged="NovyUzivatelWizard_ActiveStepChanged" OnContinueButtonClick="NovyUzivatelWizard_ContinueButtonClick"&amp;gt;
    &amp;lt;WizardSteps&amp;gt;
        &amp;lt;asp:CreateUserWizardStep ID="CreateUserWizardStep1" runat="server"                         Title="Vytvořen&amp;amp;#237; nov&amp;amp;#233;ho uživatele"&amp;gt;&amp;lt;/asp:CreateUserWizardStep&amp;gt;
        &amp;lt;asp:WizardStep ID="WizardStep1" runat="server" AllowReturn="False"                                     EnableTheming="True" StepType="Step" Title="Role nov&amp;amp;#233;ho uživatele"&amp;gt;
            Role nového uživatele&amp;lt;br /&amp;gt;
            &amp;lt;asp:CheckBoxList ID="UzivatelskeRoleList" runat="server"&amp;gt;&amp;lt;/asp:CheckBoxList&amp;gt;
        &amp;lt;/asp:WizardStep&amp;gt;
        &amp;lt;asp:CompleteWizardStep ID="CompleteWizardStep1" runat="server"                                    Title="Hotovo"&amp;gt;&amp;lt;asp:CompleteWizardStep&amp;gt;
    &amp;lt;/WizardSteps&amp;gt;
&amp;lt;/asp:CreateUserWizard&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Jak vidíte, implementace vlastních kroků v&amp;#160;designové části není
moc náročná. Krom přidělení ovladačů událostí pro přechod mezi
jednotlivými kroky, jsem přidal vlastnost, která ošetřuje „podivné
chování“, kdy se po vytvoření uživatele dojde k&amp;#160;jeho automatickému
nalogování. Takže pokud se divíte, že po vytvoření nového uživatele
jste ve vaší aplikaci někým jiným, nastavte vlastnost
&lt;code&gt;LoginCreatedUser&lt;/code&gt; na &lt;code&gt;false&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Pokud měníte kolekci &lt;em&gt;WizardSteps&lt;/em&gt;, nezapomeňte na původní kroky,
to jen tak pro jistotu :). A&amp;#160;nyní přistoupíme k&amp;#160;programové
části šamana. Zde musíme ošetřit chování jednotlivých kroků
v&amp;#160;ovladačích událostí &lt;code&gt;OnActiveStepChanged&lt;/code&gt; a
&lt;code&gt;OnContinueButtonClick&lt;/code&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-csharp"&gt;protected void NovyUzivatelWizard_ActiveStepChanged(object sender, EventArgs e)
{
        // pokud je aktivní krok pro výběr rolí
        if (NovyUzivatelWizard.ActiveStepIndex == 1) {
                // načteme všechny uživatelské role a  svážeme je s datovým prvkem
                UzivatelskeRoleList.DataSource = Roles.GetAllRoles();
                UzivatelskeRoleList.DataBind();
        }
}
protected void NovyUzivatelWizard_ContinueButtonClick(object sender, EventArgs e)
{
        // pokud je aktivní krok pro výběr rolí
        if (NovyUzivatelWizard.ActiveStepIndex == 1) {
                StringBuilder sb = new StringBuilder();
                // projedeme pole checkboxů
                for (int i = 0; i &amp;lt; UzivatelskeRoleList.Items.Count; i++) {
                        // pokud je vybraná role
                        if (UzivatelskeRoleList.Items[i].Selected) {
                                // přidáme její název do kolekce
                                sb.Append(UzivatelskeRoleList.Items[i].Text + ",");
                        }
                }
                // přiřadíme novému uživateli jeho role
                Roles.AddUserToRoles(NovyUzivatelWizard.UserName, sb.ToString().Split(','));
        }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Na kódu asi není nic zvláštního, důležité je zjišťování
aktivního kroku šamana pomocí vlastnosti &lt;code&gt;ActiveStepIndex&lt;/code&gt;.
Zbytek kódu se věnuje načtení kolekce uživatelských rolí do
CheckBoxListu a pak přiřazení vybraných rolí nově vytvořenému
uživateli.&lt;/p&gt;

&lt;p&gt;Toto byla ukázka funkčnosti konkrétního šamana, ale vy si můžete
pomocí toho konceptu vytvořit vlastní šamany postavené na ovládacím
prvku &lt;code&gt;asp:Wizard&lt;/code&gt;. Nazapomeňtě, že se třída Wizard **renderuje
do tabulky **, což zhoršuje její přístupnost, ale i&amp;#160;to se dá obejít
– téma na další pokračování. Toť vše, drazí čtenáři, doufám, že
jsem vám alespoň trochu pomohl s&amp;#160;pronikáním do tajů ASP.NET 2.0.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">
Nebojte se, tento článek nebude o pokoutných praktikách a užití magie v této velice zajímavé webové technologii, nýbrž o nových ovládacích prvcích, které slouží jako průvodci, známí z Windows. Každý může mít svůj názor na jejich opodstatnění na webu, ale v některých scénářích jsou k nezaplacení a usnadňují vývoj.

Asi první šaman, na kterého narazíte je `asp:CreateUserWizard`, který je součástí Membership API. Tento šaman slouží, jak už název napovídá, k vytváření nových uživatelů aplikace. Tento šaman má implementované dva kroky:

1) `asp:CreateUserWizardStep` - Zadání požadovaných údajů, potřebných k vytvoření nového uživatele.
2) `asp:CompleteWizardStep` - Hláška o úspěšném dokončení vytváření uživatele.

Krom těchto dvou si můžete přidat libovolné množství vlastních kroků, například krok, ve kterém přidělíme uživateli jeho Role. Každý kontrol, který je odvozený od třídy `Wizard` má vlastnost `WizardSteps`, kam můžete přidávat vlastní kroky šamana. Takže následující kus kódu představuje šamana na vytvoření uživatele s přidělením uživatelské role.

/---code xml
&lt;asp:CreateUserWizard ID="NovyUzivatelWizard" runat="server" LoginCreatedUser="false" OnActiveStepChanged="NovyUzivatelWizard_ActiveStepChanged" OnContinueButtonClick="NovyUzivatelWizard_ContinueButtonClick"&gt;
    &lt;WizardSteps&gt;
        &lt;asp:CreateUserWizardStep ID="CreateUserWizardStep1" runat="server"                         Title="Vytvořen&amp;#237; nov&amp;#233;ho uživatele"&gt;&lt;/asp:CreateUserWizardStep&gt;
        &lt;asp:WizardStep ID="WizardStep1" runat="server" AllowReturn="False"                                     EnableTheming="True" StepType="Step" Title="Role nov&amp;#233;ho uživatele"&gt;
            Role nového uživatele&lt;br /&gt;
            &lt;asp:CheckBoxList ID="UzivatelskeRoleList" runat="server"&gt;&lt;/asp:CheckBoxList&gt;
        &lt;/asp:WizardStep&gt;
        &lt;asp:CompleteWizardStep ID="CompleteWizardStep1" runat="server"                                    Title="Hotovo"&gt;&lt;asp:CompleteWizardStep&gt;
    &lt;/WizardSteps&gt;
&lt;/asp:CreateUserWizard&gt;
\---

Jak vidíte, implementace vlastních kroků v designové části není moc náročná. Krom přidělení ovladačů událostí pro přechod mezi jednotlivými kroky, jsem přidal vlastnost, která ošetřuje „podivné chování“, kdy se po vytvoření uživatele dojde k jeho automatickému nalogování. Takže pokud se divíte, že po vytvoření nového uživatele jste ve vaší aplikaci někým jiným, nastavte vlastnost `LoginCreatedUser` na `false`.

Pokud měníte kolekci *WizardSteps*, nezapomeňte na původní kroky, to jen tak pro jistotu :).  A nyní přistoupíme k programové části šamana. Zde musíme ošetřit chování jednotlivých kroků v ovladačích událostí `OnActiveStepChanged` a `OnContinueButtonClick`.

/---code csharp
protected void NovyUzivatelWizard_ActiveStepChanged(object sender, EventArgs e)
{
	// pokud je aktivní krok pro výběr rolí
	if (NovyUzivatelWizard.ActiveStepIndex == 1) {
		// načteme všechny uživatelské role a  svážeme je s datovým prvkem
		UzivatelskeRoleList.DataSource = Roles.GetAllRoles();
		UzivatelskeRoleList.DataBind();

	}
}
protected void NovyUzivatelWizard_ContinueButtonClick(object sender, EventArgs e)
{
	// pokud je aktivní krok pro výběr rolí
	if (NovyUzivatelWizard.ActiveStepIndex == 1) {
		StringBuilder sb = new StringBuilder();
		// projedeme pole checkboxů
		for (int i = 0; i &lt; UzivatelskeRoleList.Items.Count; i++) {
			// pokud je vybraná role
			if (UzivatelskeRoleList.Items[i].Selected) {
				// přidáme její název do kolekce
				sb.Append(UzivatelskeRoleList.Items[i].Text + ",");
			}
		}
		// přiřadíme novému uživateli jeho role
		Roles.AddUserToRoles(NovyUzivatelWizard.UserName, sb.ToString().Split(','));
	}
}
\---

Na kódu asi není nic zvláštního, důležité je zjišťování aktivního kroku šamana pomocí vlastnosti `ActiveStepIndex`. Zbytek kódu se věnuje načtení kolekce uživatelských rolí do CheckBoxListu a pak přiřazení vybraných rolí nově vytvořenému uživateli.

Toto byla ukázka funkčnosti konkrétního šamana, ale vy si můžete pomocí toho konceptu vytvořit vlastní šamany postavené na ovládacím prvku `asp:Wizard`. Nazapomeňtě, že se třída Wizard **renderuje do tabulky **, což zhoršuje její přístupnost, ale i to se dá obejít – téma na další pokračování.  Toť vše, drazí čtenáři, doufám, že jsem vám alespoň trochu pomohl s pronikáním do tajů ASP.NET 2.0.</raw>
    <author>Aleš Roubíček</author>
    <published>2006-02-05T14:07:40.617</published>
    <url>samanismus-v-asp-net-2-0</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-02-06T18:49:16.187</edited>
  </article>
  <article>
    <id>107</id>
    <title>HouseLesson vol. 4</title>
    <description>Další set z rukou Alessia Busty.</description>
    <html xml:space="preserve">
&lt;p&gt;01. Cloud 9 – How shall I rock thee (Antoine Clamaran Remix) 02. The
Modern – Industry (Sebastian Ingrosso Mix) 03. Panjabi MC – Mundian to
Bach Ke (Tocadisco Mix) 04. Robbie Rivera – Bizzare Love Triangle (Original
Mix) 05. Who's Who? – Sexy Fuck 06. Basement Jaxx – Do You Thing
(Robbie Rivera Mix) 07. Da Millo – Rockyabody 08. Dj DLG &amp;amp; Laidback
Luke – Ambition (Dj DLG Remix) 09. Cirez D – Copyrat 10. David
Carretta – Lovely Toy (Electrosexual Remix) 11. Markus Stork &amp;amp;
Sheridan – Deep Flavour 12. Dj Tonio &amp;amp; Laurent Ho – Jocker (Henrik
B Remix)&lt;/p&gt;

&lt;p&gt;Ke stažení &lt;a href="/files/alessio_busta_-_houselesson_vol_4.wma"
onclick="javascript:_gat._getTracker("&gt;Alessio Busta presents HouseLesson vol.
4&lt;/a&gt; (WMA 96 kbps, 40,3 MiB)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">01.  Cloud 9 - How shall I rock thee (Antoine Clamaran Remix)
02.  The Modern - Industry (Sebastian Ingrosso Mix)
03.  Panjabi MC - Mundian to Bach Ke (Tocadisco Mix)
04.  Robbie Rivera - Bizzare Love Triangle (Original Mix)
05.  Who's Who? - Sexy Fuck
06.  Basement Jaxx - Do You Thing (Robbie Rivera Mix)
07.  Da Millo - Rockyabody
08.  Dj DLG &amp; Laidback Luke - Ambition (Dj DLG Remix)
09.  Cirez D - Copyrat
10.  David Carretta - Lovely Toy (Electrosexual Remix)
11.  Markus Stork &amp; Sheridan - Deep Flavour
12.  Dj Tonio &amp; Laurent Ho - Jocker (Henrik B Remix)

Ke stažení &lt;a href="/files/alessio_busta_-_houselesson_vol_4.wma" onClick="javascript:_gat._getTracker("UA-90726-1")._trackPageview('/files/alessio_busta_-_houselesson_vol_4.wma');"&gt;Alessio Busta presents HouseLesson vol. 4&lt;/a&gt; (WMA 96 kbps, 40,3 MiB)</raw>
    <author>alessio busta</author>
    <published>2006-02-09T12:48:32.460</published>
    <url>houselesson-vol-4</url>
    <category>Muzika</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-06-23T15:19:20.340</edited>
  </article>
  <article>
    <id>108</id>
    <title>Picasa v češtině</title>
    <description>Google vydal českou verzi správce obrázků</description>
    <html xml:space="preserve">
&lt;p&gt;Google vydal svůj program pro indexaci a správu obrázků konečně
v&amp;#160;češtině. Potom, co se verze 2&amp;#160;dočkala podpory Unicode, přišly
na řadu i&amp;#160;lokalizace do další jazyků. Nyní už mohou tento skvělý
nástroj používat i&amp;#160;lidé, kteří mají s&amp;#160;angličtinou problémy,
a mohou využít spoustu jeho &amp;#8222;vychytávek&amp;#8220;. &lt;a
href="http://picasa.google.com/"&gt;Neváhejte a stahujte&lt;/a&gt;.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Google vydal svůj program pro indexaci  a správu obrázků konečně v češtině. Potom, co se verze 2 dočkala podpory Unicode, přišly na řadu i lokalizace do další jazyků. Nyní už mohou tento skvělý nástroj používat i lidé, kteří mají s angličtinou problémy, a mohou využít spoustu jeho "vychytávek". "Neváhejte a stahujte":[http://picasa.google.com/].</raw>
    <author>Aleš Roubíček</author>
    <published>2006-02-12T13:31:01.427</published>
    <url>picasa-v-cestine</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-02-12T13:31:01.423</edited>
  </article>
  <article>
    <id>109</id>
    <title>Tohle nechápu</title>
    <description>O mých zkušenostech s GMailem.</description>
    <html xml:space="preserve">
&lt;p&gt;Už je tomu více než rok, co jsem spokojeným uživatelem perfektní
freemailové služby z&amp;#160;dílny Google &amp;#8211; GMail. Asi tak půl roku
existuje Google Talk &amp;#8211; instantní zprávař postavený na otevřených
protokolech Jabber. Pokud chcete používat Talk, musíte mít GMail, což neni
asi nepotěšitelné omezení. Před asi týdnem došlo k&amp;#160;integraci Talku
přímo do GMailu. Můžete chatovat přímo z&amp;#160;GMailu se svými Talkovými
a Jabber kontakty, historie zpráv se ukládá na serveru &amp;#8211; další
pozitivum.&lt;/p&gt;

&lt;p&gt;Ale teď k&amp;#160;tomu proč tenhle spot píšu. Nová funkčnost je prozatím
dostupná pouze v&amp;#160;angličtině (ok tu mám stejně nastavenou) a
v&amp;#160;prohlížečích Firefox a Internet Explorer. Tady jsem si taky řekl
&amp;#8222;ok&amp;#8220;, používám Netscape Browser 8.1&amp;#160;postavenej na obou
zmiňovaných. Těšil jsem se, že už brzo budu moc Talkovat přímo
z&amp;#160;GMailu, ale ouha. Dnes jsem náhoudou na GMail koukal ve Firefoxu a Talk
mám dávno integrovaný, rychle mrknu do Netscapu &amp;#8211; NIC.&lt;/p&gt;

&lt;p&gt;Tohle &lt;strong&gt;opravdu nechápu&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;PS. pokud máte zájem si to zkusit a podpořit mě (a nejen mě)
v&amp;#160;přechodu z&amp;#160;ICQ, nabízím vám pozvánky do GMailu, takže
neváhejte a pokud ještě GMail nemáte a chcete ho, napište mi.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Už je tomu více než rok, co jsem spokojeným uživatelem perfektní freemailové služby z dílny Google - GMail. Asi tak půl roku existuje Google Talk - instantní zprávař postavený na otevřených protokolech Jabber. Pokud chcete používat Talk, musíte mít GMail, což neni asi nepotěšitelné omezení. Před asi týdnem došlo k integraci Talku přímo do GMailu. Můžete chatovat přímo z GMailu se svými Talkovými a Jabber kontakty, historie zpráv se ukládá na serveru - další pozitivum.

Ale teď k tomu proč tenhle spot píšu. Nová funkčnost je prozatím dostupná pouze v angličtině (ok tu mám stejně nastavenou) a v prohlížečích Firefox a Internet Explorer. Tady jsem si taky řekl "ok", používám Netscape Browser 8.1 postavenej na obou zmiňovaných. Těšil jsem se, že už brzo budu moc Talkovat přímo z GMailu, ale ouha. Dnes jsem náhoudou na GMail koukal ve Firefoxu a Talk mám dávno integrovaný, rychle mrknu do Netscapu - NIC.

Tohle **opravdu nechápu**.

PS. pokud máte zájem si to zkusit a podpořit mě (a nejen mě) v přechodu z ICQ, nabízím vám pozvánky do GMailu, takže neváhejte a pokud ještě GMail nemáte a chcete ho, napište mi.</raw>
    <author>Aleš Roubíček</author>
    <published>2006-02-15T19:25:02.963</published>
    <url>tohle-nechapu</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-02-16T19:31:39.347</edited>
  </article>
  <article>
    <id>110</id>
    <title>Nová verze galerie</title>
    <description>Vytvořil jsem novou verzi galerie a dávám ji volně k použití.</description>
    <html xml:space="preserve">
&lt;p&gt;Možná jste si všimli, že mám na svých stránkách &lt;a
href="/galerie.aspx"&gt;fotogalerii&lt;/a&gt;. Tahle galerie je jednou z&amp;#160;plug-in
komponent redakčního systému Gryphoon a je postavená na &lt;a
href="http://picasa.google.com/"&gt;Picasa&lt;/a&gt; Raw XML formátu. U&amp;#160;většiny
programů, které dělají html galerie, je nevýhoda, že je layout výsledné
galerie pevně daný. Toto omezení se někdy dá vyřešit pomocí vytvoření
vlastní šablony, ale většinou je tato technika celkem složitá a navíc je
výsledkem pouze sada statických souborů. Další možností je použít
nějakou free dynamickou galerii. Ta většinou všechno řeší přes
databázi, ale zase je nezávislá na desktopové aplikaci.&lt;/p&gt;

&lt;p&gt;Můj plug-in je závislý na výše zmiňované Picase a její exportní
šabloně &lt;em&gt;XML gallery&lt;/em&gt;. Výsledný export se nahraje na ftp, nebo se
využije možnost uploadu zazipované galerie přímo přes rozhranní
Gryphoonu. Vložení galerie do stránky je stejně tak složité, jako tam
vložit obyčejný label :)&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-markup"&gt;&amp;lt;%@ Register TagPrefix="Gryphoon" TagName="Galerie" Src="~/controls/Galerie.ascx" %&amp;gt;
…
&amp;lt;Gryphoon:Galerie ID="Galerie1" runat="server" Folder="~/galerie" ParseDateFromFolder="true"&amp;gt;
&amp;lt;!-- šablony částí stránky --&amp;gt;
&amp;lt;/Gryphoon:Galerie&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Pomocí vlastnosti &lt;code&gt;Folder&lt;/code&gt; nastavíme adresář, kde jsou
uloženy adresáře s&amp;#160;exporty z&amp;#160;Picasy. Pomocí vlastnosti
&lt;code&gt;ParseDateFromFolder&lt;/code&gt; povoluje parsování data z&amp;#160;názvu
složky Alba. To je proto, že já i&amp;#160;mí kamarádi, kteří také
používají Gryphoon, jsme zvyklí pojmenovávat složky exportů
v&amp;#160;následujícím tvaru &lt;code&gt;yyyy-mm-dd_jmeno_alba&lt;/code&gt;. Dokonce lze
použít i&amp;#160;rozšířenou formu, kdy se album vztahuje k&amp;#160;nějakému
úseku dnů, pak se použije název složky ve tvaru
&lt;code&gt;yyyy-mm-dd-dd_jmeno_alba&lt;/code&gt;. Takže pokud je tato vlastnost nastavena
na &lt;strong&gt;true&lt;/strong&gt;, lze v&amp;#160;šablonách použít
&lt;code&gt;Container.Date&lt;/code&gt; pro výpis data kdy bylo album pořízeno.&lt;/p&gt;

&lt;p&gt;U&amp;#160;staré verze zde končily možnosti nastavení výsledného vzhledu
galerie, protože vše bylo natvrdo napsáno v&amp;#160;kódu kontrolu. Nová verze
přichází se šablonováním. Máme tu sedm šablon pro nastavení vzhledu
jednotlivých částí v&amp;#160;různých stavech galerie. Každá šablona má
svou vlastní sadu vlastností, které lze použít. Nutností je si šablony
nadefinovat, jinak Galerie fungovat nebude, protože nemá předprogramované
šablony &amp;#8211; to snad v&amp;#160;příští verzi.&lt;/p&gt;

&lt;p&gt;Poslední věc, která se ještě musí udělat, je svázání dat pomocí
příkazu &lt;code&gt;DataBind()&lt;/code&gt; ve stránce, která má v&amp;#160;sobě galerii
vloženou.&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-csharp"&gt;void Page_Load(object sender, EventArgs e){
...
DataBind();
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Ke stažení &lt;a href="/files/GryphoonGallery.zip"&gt;Gryphoon Gallery v0.82&lt;/a&gt;
(Zip, 4,87KiB)&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Update&lt;/strong&gt; ke stažení nyní i&amp;#160;ukázka použití a lehká
úprava galerie.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Možná jste si všimli, že mám na svých stránkách fotogalerii:[/galerie.aspx]. Tahle galerie je jednou z plug-in komponent redakčního systému Gryphoon a je postavená na Picasa:[http://picasa.google.com/] Raw XML formátu. U většiny programů, které dělají html galerie, je nevýhoda, že je layout výsledné galerie pevně daný. Toto omezení se někdy dá vyřešit pomocí vytvoření vlastní šablony, ale většinou je tato technika celkem složitá a navíc je výsledkem pouze sada statických souborů. Další možností je použít nějakou free dynamickou galerii. Ta většinou všechno řeší přes databázi, ale zase je nezávislá na desktopové aplikaci.

Můj plug-in je závislý na výše zmiňované Picase a její exportní šabloně *XML gallery*. Výsledný export se nahraje na ftp, nebo se využije možnost uploadu zazipované galerie přímo přes rozhranní Gryphoonu. Vložení galerie do stránky je stejně tak složité, jako tam vložit obyčejný label :)

/---code xml
&lt;%@ Register TagPrefix="Gryphoon" TagName="Galerie" Src="~/controls/Galerie.ascx" %&gt;
…
&lt;Gryphoon:Galerie ID="Galerie1" runat="server" Folder="~/galerie" ParseDateFromFolder="true"&gt;
&lt;!-- šablony částí stránky --&gt;
&lt;/Gryphoon:Galerie&gt;
\---

Pomocí vlastnosti `Folder` nastavíme adresář, kde jsou uloženy adresáře s exporty z Picasy.
Pomocí vlastnosti `ParseDateFromFolder` povoluje parsování data z názvu složky Alba. To je proto, že já i mí kamarádi, kteří také používají Gryphoon, jsme zvyklí pojmenovávat složky exportů v následujícím tvaru `yyyy-mm-dd_jmeno_alba`. Dokonce lze použít i rozšířenou formu, kdy se album vztahuje k nějakému úseku dnů, pak se použije název složky ve tvaru `yyyy-mm-dd-dd_jmeno_alba`. Takže pokud je tato vlastnost nastavena na **true**, lze v šablonách použít `Container.Date` pro výpis data kdy bylo album pořízeno.

U staré verze zde končily možnosti nastavení výsledného vzhledu galerie, protože vše bylo natvrdo napsáno v kódu kontrolu. Nová verze přichází se šablonováním. Máme tu sedm šablon pro nastavení vzhledu jednotlivých částí v různých stavech galerie. Každá šablona má svou vlastní sadu vlastností, které lze použít. Nutností je si šablony nadefinovat, jinak Galerie fungovat nebude, protože nemá předprogramované šablony - to snad v příští verzi.

Poslední věc, která se ještě musí udělat, je svázání dat pomocí příkazu `DataBind()` ve stránce, která má v sobě galerii vloženou.

/---code csharp
void Page_Load(object sender, EventArgs e){
...
DataBind();
}
\---

Ke stažení "Gryphoon Gallery v0.82":[/files/GryphoonGallery.zip] (Zip, 4,87KiB)

**Update** ke stažení nyní i ukázka použití a lehká úprava galerie.</raw>
    <author>Aleš Roubíček</author>
    <published>2006-02-18T18:51:00</published>
    <url>nova-verze-galerie</url>
    <category>Gryphoon</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-02-19T08:41:56.673</edited>
  </article>
  <article>
    <id>111</id>
    <title>Jsem nadšen z ASP.NET</title>
    <description>Reakce na dění v La Trine.</description>
    <html xml:space="preserve">
&lt;p&gt;Můj oblíbený autor mé oblíbené &lt;a href="http://www.dgx.cz/trine/"&gt;La
Trine&lt;/a&gt; David Grudl napsal velice kontroverzní článek &lt;a
href="http://www.dgx.cz/trine/item/jsem-zdesen-z-asp-net"&gt;Jsem zděšen
z&amp;#160;ASP.NET&lt;/a&gt;, který některé &lt;cite&gt;zvedl ze židle&lt;/cite&gt; jiné donutil
flamovat. Ať už se David obouvá do ASP.NET jakkoli, jedno mu nelze
odepřít, je to výborná reklama na jeho připravovaný framework
&lt;strong&gt;Nette&lt;/strong&gt;. Nepravdy či polopravdy a nepřesnosti byly rozebrány
v&amp;#160;hunté diskusi pod článkem.&lt;/p&gt;

&lt;p&gt;Z&amp;#160;článku a reakcí na něj je jasné, že svět pořád nemá
povědoní co je dotnet a co všechno umí. To mě utvrzuje v&amp;#160;tom, že
mám pokračovat v&amp;#160;lehké osvětě a že když se sem dostanou čtenáři,
kteří dotnet neznají, že jim třeba pomohu s&amp;#160;pochopením této
technologie nebo pomůžu do začátku. :)&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Můj oblíbený autor mé oblíbené "La Trine":[http://www.dgx.cz/trine/] David Grudl napsal velice kontroverzní článek "Jsem zděšen z ASP.NET":[http://www.dgx.cz/trine/item/jsem-zdesen-z-asp-net], který některé ~~zvedl ze židle~~ jiné donutil flamovat. Ať už se David obouvá do ASP.NET jakkoli, jedno mu nelze odepřít, je to výborná reklama na jeho připravovaný framework **Nette**. Nepravdy či polopravdy a nepřesnosti byly rozebrány v hunté diskusi pod článkem.

Z článku a reakcí na něj je jasné, že svět pořád nemá povědoní co je dotnet a co všechno umí. To mě utvrzuje v tom, že mám pokračovat v lehké osvětě a že když se sem dostanou čtenáři, kteří dotnet neznají, že jim třeba pomohu s pochopením této technologie nebo pomůžu do začátku. :)
</raw>
    <author>Aleš Roubíček</author>
    <published>2006-02-21T22:39:11.790</published>
    <url>jsem-nadsen-z-asp-net</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-02-21T22:39:11.803</edited>
  </article>
  <article>
    <id>112</id>
    <title>URL Mania</title>
    <description>O URL na mých stránkách.</description>
    <html xml:space="preserve">
&lt;p&gt;Včera jsem se konečně dokopal k&amp;#160;tomu, abych zprovoznil URL Rewriting.
Díky tomu přes noc nefungovaly webové služby včetně syndikační, ale
teď už by mělo být vše v&amp;#160;pořádku. Pokud naleznete nějakou chybu,
napište mi prosím o&amp;#160;ní.&lt;/p&gt;

&lt;p&gt;V&amp;#160;současné době fungují na těchto stránkách asi tak čtyři verze
URL krát dvě, protože vše jde requestovat i&amp;#160;přes doménu
rarous.aspweb.cz. To jen tak pro zajímavost. Říkám si, že takhle se
kloudnýho PageRanku nedočkám, ale o&amp;#160;ten mi stejně nejde :) Stejně to
ještě neni finální podoba jakou bych si představoval, ale na tu už
momentálně nezbýva čas&amp;#8230;&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Včera jsem se konečně dokopal k tomu, abych zprovoznil URL Rewriting. Díky tomu přes noc nefungovaly webové služby včetně syndikační, ale teď už by mělo být vše v pořádku. Pokud naleznete nějakou chybu, napište mi prosím o ní.

V současné době fungují na těchto stránkách asi tak čtyři verze URL krát dvě, protože vše jde requestovat i přes doménu rarous.aspweb.cz. To jen tak pro zajímavost. Říkám si, že takhle se kloudnýho PageRanku nedočkám, ale o ten mi stejně nejde :) Stejně to ještě neni finální podoba jakou bych si představoval, ale na tu už momentálně nezbýva čas...</raw>
    <author>Aleš Roubíček</author>
    <published>2006-02-23T10:52:06.490</published>
    <url>url-mania</url>
    <category>Gryphoon</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-02-23T10:52:06.503</edited>
  </article>
  <article>
    <id>114</id>
    <title>Kladivo na čarodějnice</title>
    <description>Bourání mýtů ohledně ASP.NET v mém podání.</description>
    <html xml:space="preserve">
&lt;p&gt;Dneska začnu sérií článků, která se pokusí prolomit některé mýty
okolo ASP.NET 2.0. Spousta webových vývojářů má mylné informace
o&amp;#160;fungování této technologie a ještě větší skupina nemá informace
žádné. To bych se chtěl pokusit napravit.&lt;/p&gt;

&lt;p&gt;Začněme od začátku. &lt;a href="http://asp.net/"&gt;ASP.NET&lt;/a&gt; je součástí
.net Frameworku od Microsoftu, ale implementují ho i&amp;#160;opensource projekty
jako je &lt;a href="http://www.go-mono.com/"&gt;Mono&lt;/a&gt;, které staví na
standardizaci dotnetu jako takového. Ano základní bloky dotnetu jsou &lt;a
href="http://msdn.microsoft.com/netframework/ecma/"&gt;standardizovány&lt;/a&gt; a
mají svoji normu ECMA potažmo ISO. Framework samotný je silně postaven na
doporučeních W3C.&lt;/p&gt;

&lt;p&gt;K&amp;#160;samotnému ASP.NET. Spousta lidí si myslí, že je to stejný bastl
jako staré ASP a že je jeho pokračovatelem. Nikoliv, ASP.NET bylo celé
přepsané, tak aby mohlo využívat výhod jednotné platformy. V&amp;#160;ASP.NET
můžete využívat v&amp;#160;podstatě jakoukoli část frameworku (od ADO.NET,
přes práci s&amp;#160;grafikou a po vstupně výstupní operace) a využívat
jazykové nezávislosti. Velikou nevýhodou ASP bylo, že jste museli mít
spoustu vlastních knihoven, aby jste mohli vůbec něco udělat. Tyto knihovny
se musely složitě registrovat do systému, na kterém stránky běžely a
bylo k&amp;#160;tomu potřeba mít administrátorká oprávnění nebo otravovat
admina, což mají velice rádi :) S&amp;#160;příchodem dotnetu tohle všechno
odpadá, vlastní knihovny stačí jednoduše nahrát do adresáře bin
v&amp;#160;rootu webu a o&amp;#160;vše ostatní potřebné se postará běhové
prostředí.&lt;/p&gt;

&lt;p&gt;To by bylo stručně k&amp;#160;technologii. Další mýtem je nekvalitní
výstup. Je pravda, že ASP.NET v&amp;#160;základu nevypouští z&amp;#160;pohledu
evangelizace nejmodernější kód. To je pravdou především v&amp;#160;ASP.NET
1.x a v&amp;#160;ASP.NET 2.0&amp;#160;v&amp;#160;režimu výstupu Legacy. Tyto problémy
s&amp;#160;výstupem jsou ale snadno řešitelné, díky veliké modularitě
ASP.NET. Objekt Response, který má na starosti výstup má vlastnost Filter,
kterou můžeme nahradit vlastním výstupním filtrem (objekt typu Stream) a
přizpůsobit výstup k&amp;#160;obrazu svému. Jedno z&amp;#160;řešení najdete na
&lt;a href="http://www.aspnetresources.com/articles/HttpFilters.aspx"&gt;ASP.NET
Resources&lt;/a&gt;. Na výstup se aplikuje sada Regulérních výrazů, které mají
na starosti vylepšení kódu. K&amp;#160;našemu filtru si připíšeme HttpModul
a zkompilujeme do knihovny. Při další použití stačí přidat HttpModul do
konfiguračního souboru a vše funguje jak má. Jiným možným řešením je
vytvoření vlastního předka pro všechny stránky nebo Master, kde bude
Filtr aplikován. Opět si v&amp;#160;konfiguraci nastavíme předka pro stránky a
jede to.&lt;/p&gt;

&lt;p&gt;Teď, když už máme validní výstup, spousta z&amp;#160;vás si řekne, že
k&amp;#160;čemu mi je validní výstup. Když není přístupný. I&amp;#160;na to
v&amp;#160;Microsoftu mysleli. Základní ovládací prvky jsou napsány tak, aby
splňovaly podmínky &lt;a href="http://www.section508.gov"&gt;Section 508&lt;/a&gt;
&lt;br /&gt;a WCAG. I&amp;#160;když je kód všech složitějších prvků prasácky
tabulkový, je celkem přístupný. Pro mě je však tento fakt nedostatečný,
nemám rád znásilňování tabulek k&amp;#160;layoutování. Nevěšte hlavy
i&amp;#160;toto se dá hravě zvládnout, stačí jen chtít. Jedno obecně
aplikovatelné řešení jsem zde už psal v&amp;#160;článku &lt;a
href="http://rarous.net/clanek/85-beztabulkove-renderovani-controlu-v-asp-net-2-0.aspx"&gt;Beztabulkové
renderování controlů v&amp;#160;ASP.NET 2.0&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Závěrem bych chtěl poprosit nezasvěcené, aby neodsuzovali technologii,
ale vývojáře kteří jsou líní napsat kvalitní kód. Snahy Microsoftu
vedou spíše k&amp;#160;zpřístupnění webového vývoje i&amp;#160;programátorům
newebařům. Tím pádem je použití tabulek pro layoutování logické,
protože jsou zde předpřipravené kusy komponent, které už nějak
vypadají. Nikdo nepředpokládá znalosti CSS. Pro takové lidi je asi
klikací metoda ideální a výstup je nějak validní a přístupný, pro ty,
kteří kladou důraz i&amp;#160;na kvalitu, není moc těžké (pokud tedy vědí
jak) se kvalitního výstupu domoci. Ze začátku to chce trochu víc práce,
ale pak už jde všechno lehce a samo.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Dneska začnu sérií článků, která se pokusí prolomit některé mýty okolo ASP.NET 2.0. Spousta  webových vývojářů má mylné informace o fungování této technologie a ještě větší skupina nemá informace žádné. To bych se chtěl pokusit napravit.

Začněme od začátku. "ASP.NET":[http://asp.net/] je součástí .net Frameworku od Microsoftu, ale implementují ho i opensource projekty jako je Mono:[http://www.go-mono.com/], které staví na standardizaci dotnetu jako takového. Ano základní bloky dotnetu jsou standardizovány:[http://msdn.microsoft.com/netframework/ecma/] a mají svoji normu ECMA potažmo ISO. Framework samotný je silně postaven na doporučeních W3C.

K samotnému ASP.NET. Spousta lidí si myslí, že je to stejný bastl jako staré ASP a že je jeho pokračovatelem. Nikoliv, ASP.NET bylo celé přepsané, tak aby mohlo využívat výhod jednotné platformy. V ASP.NET můžete využívat v podstatě jakoukoli část frameworku (od ADO.NET, přes práci s grafikou a po vstupně výstupní operace) a využívat jazykové nezávislosti. Velikou nevýhodou ASP bylo, že jste museli mít spoustu vlastních knihoven, aby jste mohli vůbec něco udělat. Tyto knihovny se musely složitě registrovat do systému, na kterém stránky běžely a bylo k tomu potřeba mít administrátorká oprávnění nebo otravovat admina, což mají velice rádi :) S příchodem dotnetu tohle všechno odpadá, vlastní knihovny stačí jednoduše nahrát do adresáře bin v rootu webu a o vše ostatní potřebné se postará běhové prostředí.

To by bylo stručně k technologii. Další mýtem je nekvalitní výstup. Je pravda, že ASP.NET v základu nevypouští z pohledu evangelizace nejmodernější kód. To je pravdou především v ASP.NET 1.x a v ASP.NET 2.0 v režimu výstupu Legacy. Tyto problémy s výstupem jsou ale snadno řešitelné, díky veliké modularitě ASP.NET. Objekt Response, který má na starosti výstup má vlastnost Filter, kterou můžeme nahradit vlastním výstupním filtrem (objekt typu Stream) a přizpůsobit výstup k obrazu svému. Jedno z řešení najdete na "ASP.NET Resources":[http://www.aspnetresources.com/articles/HttpFilters.aspx]. Na výstup se aplikuje sada Regulérních výrazů, které mají na starosti vylepšení kódu. K našemu filtru si připíšeme HttpModul a zkompilujeme do knihovny. Při další použití stačí přidat HttpModul do konfiguračního souboru a vše funguje jak má. Jiným možným řešením je vytvoření vlastního předka pro všechny stránky nebo Master, kde bude Filtr aplikován. Opět si v konfiguraci nastavíme předka pro stránky a jede to.

Teď, když už máme validní výstup, spousta z vás si řekne, že k čemu mi je validní výstup. Když není přístupný. I na to v Microsoftu mysleli. Základní ovládací prvky jsou napsány tak, aby splňovaly podmínky "Section 508":[http://www.section508.gov]
 a WCAG. I když je kód všech složitějších prvků prasácky tabulkový, je celkem přístupný. Pro mě je však tento fakt nedostatečný, nemám rád znásilňování tabulek k layoutování. Nevěšte hlavy i toto se dá hravě zvládnout, stačí jen chtít. Jedno obecně aplikovatelné řešení jsem zde už psal v článku "Beztabulkové renderování controlů v ASP.NET 2.0":[http://rarous.net/clanek/85-beztabulkove-renderovani-controlu-v-asp-net-2-0.aspx].

Závěrem bych chtěl poprosit nezasvěcené, aby neodsuzovali technologii, ale vývojáře kteří jsou líní napsat kvalitní kód. Snahy Microsoftu vedou spíše k zpřístupnění webového vývoje i programátorům newebařům. Tím pádem je použití tabulek pro layoutování logické, protože jsou zde předpřipravené kusy komponent, které už nějak vypadají. Nikdo nepředpokládá znalosti CSS. Pro takové lidi je asi klikací metoda ideální a výstup je nějak validní a přístupný, pro ty, kteří kladou důraz i na kvalitu, není moc těžké (pokud tedy vědí jak) se kvalitního výstupu domoci. Ze začátku to chce trochu víc práce, ale pak už jde všechno lehce a samo.
</raw>
    <author>Aleš Roubíček</author>
    <published>2006-03-01T12:19:27.500</published>
    <url>kladivo-na-carodejnice</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-10-26T15:53:10.783</edited>
  </article>
  <article>
    <id>115</id>
    <title>Rarouš v Atlasu</title>
    <description>Jen čtěte, je to o mě a mé nové práci.</description>
    <html xml:space="preserve">
&lt;p&gt;Pro některé překvapení pro jiné již známá věc. Dnes jsem nastoupil
do zaměstnání a to jako dotnet developer do portálu &lt;a
href="http://www.atlas.cz"&gt;Atlas.cz&lt;/a&gt;. Ano (pro ty všímavější), proto ta
ikonka v&amp;#160;pravém sloupci. Odedneška jsem tedy členem týmu a sedím na
ose &lt;a href="http://blog.renestein.net/"&gt;René Stein&lt;/a&gt; &amp;#8211; &lt;a
href="http://www.mraveniste.org/"&gt;Jan Bien&lt;/a&gt;, takže jsem konečně osobně
poznal mé oblíbené blogery. Další jména mi ještě v&amp;#160;paměti
neuvízla (až na výjimky), tímto se omlouvám a určitě se časem doučím
:) Jeden den je na poznání lidí a práce zatim málo, ale vyzařuje
z&amp;#160;nich pohoda a kamarádství&amp;#8230;&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Pro některé překvapení pro jiné již známá věc. Dnes jsem nastoupil do zaměstnání a to jako dotnet developer do portálu "Atlas.cz":[http://www.atlas.cz]. Ano (pro ty všímavější), proto ta ikonka v pravém sloupci. Odedneška jsem tedy členem týmu a sedím na ose "René Stein":[http://blog.renestein.net/] -- "Jan Bien":[http://www.mraveniste.org/], takže jsem konečně osobně poznal mé oblíbené blogery. Další jména mi ještě v paměti neuvízla (až na výjimky), tímto se omlouvám a určitě se časem doučím :) Jeden den je na poznání lidí a práce zatim málo, ale vyzařuje z nich pohoda a kamarádství...</raw>
    <author>Aleš Roubíček</author>
    <published>2006-03-01T19:05:52.477</published>
    <url>rarous-v-atlasu</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-03-01T19:08:19.047</edited>
  </article>
  <article>
    <id>116</id>
    <title>Něco málo na téma školství</title>
    <description>Moje zkušenosti s našim školstvím. Taková malá rekapitulace a pravděpodobně poslední spot do rubriky Škola.</description>
    <html xml:space="preserve">
&lt;p&gt;Jak jste si mohli všimnout v&amp;#160;&lt;a
href="/clanek/115-rarous-v-atlasu.aspx"&gt;minulém spotu&lt;/a&gt;, zařadil jsem se do
pracovního procesu, což se v&amp;#160;mém případě neslučuje s&amp;#160;tím, že
bych nadále pokračoval ve studiu. Tímto spotem bych chtěl svoje působení
v&amp;#160;procesu vzdělávání shrnout. Jednou větou, naše školství není
v&amp;#160;pořádku. Co mě k&amp;#160;tomuto závěru vede?&lt;/p&gt;

&lt;p&gt;Již od &lt;a href="http://www.pslib.cz/"&gt;střední školy&lt;/a&gt; jsem byl já
i&amp;#160;moji souputníci tzv. &lt;em&gt;pokusným králíkem&lt;/em&gt;. Vysvětlím, proč
mám, nejen já, tento pocit. Na střední se nám několikrát změnil obor a
s&amp;#160;ním i&amp;#160;osnovy, takže tomu chyběla nějaká koncepce &amp;#8211;
z&amp;#160;výběrového oboru se stal vyvrhel na okraji pozornosti (hlavně
z&amp;#160;pohledu vedení školy). Možná od nás očekávali, že jim polezeme
do zadku a že budeme mimoškolní čas trávit aktivitami spojenými se
správou školní sítě. Místo toho se dočkali do značné míry rebelů,
kteří se dokázali ozvat na věci, které se jim nelíbily a to se zase
nelíbilo vedení :) Většina lidí z&amp;#160;naší třídy šla pak na
vysokou.&lt;/p&gt;

&lt;p&gt;Asi třetina šla na &lt;a href="http://www.fel.cvut.cz/"&gt;FEL&lt;/a&gt;. A&amp;#160;zde
jsme se opět stali těmi &lt;em&gt;pokusnými králíky&lt;/em&gt;. Byli jsme totiž
první studenti tzv. strukturovaného studia. Na nás si všichni zkoušeli
nové předměty, který často chyběla vazba na jiné, či se naopak kryly
&amp;#8211; chyběla prostě nějaká koncepce, což vyplívá i&amp;#160;ze &lt;a
href="https://www.feld.cvut.cz/referendum/K4zprava1-7-2005.pdf"&gt;zprávy skupiny
K4&lt;/a&gt;, která měla vyhodnotit stávající studijní program a říci, co
dál. Výsledky byly neuspokojivé, ale to pro nás studenty nebylo nic
nového, to jsme věděli už dávno. Velikým problémem je odtrženost škol
od reálného světa a neschopnost pružně reagovat na poptávku po
kvalitních oborech. To jsem bohužel zjistil relativně pozdě.&lt;/p&gt;

&lt;p&gt;Nebudu se zde rozepisovat o&amp;#160;tom, jak dokáže takový systém motivovat
ke studiu, bylo by to marné. Ze školy jsem čerpal věci (znalosti), které
se mi hodily a zbytek času jsem věnoval samostudiu úplně jiné látky, až
to došlo tak daleko, že jsem nezískal dostatek kreditů pro postup do
dalšího semestru a šel jsem do práce :) Času stráveného ve škole však
nelituji, nabyl jsem spoustu důležitých zkušeností a už vím, že takhle
ne pánové.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Jak jste si mohli všimnout v "minulém spotu":[/clanek/115-rarous-v-atlasu.aspx], zařadil jsem se do pracovního procesu, což se v mém případě neslučuje s tím, že bych nadále pokračoval ve studiu. Tímto spotem bych chtěl svoje působení v procesu vzdělávání shrnout. Jednou větou, naše školství není v pořádku. Co mě k tomuto závěru vede?

Již od "střední školy":[http://www.pslib.cz/] jsem byl já i moji souputníci tzv. *pokusným králíkem*. Vysvětlím, proč mám, nejen já, tento pocit. Na střední se nám několikrát změnil obor a s ním i osnovy, takže tomu chyběla nějaká koncepce - z výběrového oboru se stal vyvrhel na okraji pozornosti (hlavně z pohledu vedení školy). Možná od nás očekávali, že jim polezeme do zadku a že budeme mimoškolní čas trávit aktivitami spojenými se správou školní sítě. Místo toho se dočkali do značné míry rebelů, kteří se dokázali ozvat na věci, které se jim nelíbily a to se zase nelíbilo vedení :) Většina lidí z naší třídy šla pak na vysokou.

Asi třetina šla na FEL:[http://www.fel.cvut.cz/]. A zde jsme se opět stali těmi *pokusnými králíky*. Byli jsme totiž první studenti tzv. strukturovaného studia. Na nás si všichni zkoušeli nové předměty, který často chyběla vazba na jiné, či se naopak kryly - chyběla prostě nějaká koncepce, což vyplívá i ze "zprávy skupiny K4":[https://www.feld.cvut.cz/referendum/K4zprava1-7-2005.pdf], která měla vyhodnotit stávající studijní program a říci, co dál. Výsledky byly neuspokojivé, ale to pro nás studenty nebylo nic nového, to jsme věděli už dávno. Velikým problémem je odtrženost škol od reálného světa a neschopnost pružně reagovat na poptávku po kvalitních oborech. To jsem bohužel zjistil relativně pozdě.

Nebudu se zde rozepisovat o tom, jak dokáže takový systém motivovat ke studiu, bylo by to marné. Ze školy jsem čerpal věci (znalosti), které se mi hodily a zbytek času jsem věnoval samostudiu úplně jiné látky, až to došlo tak daleko, že jsem nezískal dostatek kreditů pro postup do dalšího semestru a šel jsem do práce :) Času stráveného ve škole však nelituji, nabyl jsem spoustu důležitých zkušeností a už vím, že takhle ne pánové.</raw>
    <author>Aleš Roubíček</author>
    <published>2006-03-05T07:42:40.460</published>
    <url>neco-malo-na-tema-skolstvi</url>
    <category>Škola</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-03-06T07:13:55.500</edited>
  </article>
  <article>
    <id>117</id>
    <title>O znásilňování typu dokumentu</title>
    <description>Víte o tom, že když si myslíte, že děláte něco dobře, memusí to dobré být?</description>
    <html xml:space="preserve">
&lt;p&gt;Čas od času si prohlížím zdrojové kódy stránek, které si zrovna
čtu. Jen tak pro inspiraci, či ze zvědavosti, je to taková profesní
deformace :) Všiml jsem si, že často používaným typem dokumentu je na
českých blozích &lt;em&gt;XHTML 1.0&amp;#160;Strict&lt;/em&gt;. Jo to beru, lidi se chtěj
držet standardů nebo chtěj být prostě IN. Je to chvály hodné, ale
většina asi netuší proč to dělá, že to dělají chybně. Pokud máte
dokument XHTML 1.0&amp;#160;Strict, &lt;strong&gt;musíte&lt;/strong&gt; ho servírovat
s&amp;#160;mime-typem &lt;code&gt;application/xhtml+xml&lt;/code&gt; nebo
&lt;code&gt;text/xml&lt;/code&gt;, ale rozhodně ne jako &lt;code&gt;text/html&lt;/code&gt;, který je
určen jen a pouze pro HTML, s&amp;#160;drobnou výjimkou XHTML
1.0&amp;#160;Transitional, kde je to tolerováno.&lt;/p&gt;

&lt;p&gt;Z&amp;#160;mého soukromého bádání na malém vzorku vychází, že to
obrovská majorita dělá &lt;strong&gt;blbě&lt;/strong&gt;. Najdou se světlé výjimky
postavené na &lt;a href="http://www.blogcms.org/"&gt;Blog:CMS&lt;/a&gt;, které,
posílají správný mime-type &lt;code&gt;application/xhtml+xml&lt;/code&gt; pro klienty,
které ho znají, ale pokud narazí na klienta, který XHTML nezná, posílají
mu mime-type &lt;code&gt;text/html&lt;/code&gt;, což je blbě :)&lt;/p&gt;

&lt;p&gt;Teď si tu udělám malé promo, protože Gryphoon je jediný redakční
systém, který znám, který už v&amp;#160;základu posílá nejen správný
mime-type, ale i&amp;#160;typ dokumentu pro prohlížeče, které neznají XHTML.
Navíc jde ještě o&amp;#160;kousek dál. Díky ASP.NET 2.0, která má
v&amp;#160;konfigurační souboru možnost &lt;a
href="/clanek/78-jak-na-validator-w3c.aspx"&gt;nastavit způsob výstupu&lt;/a&gt;,
gryphoon se chová i&amp;#160;podle toho. Takže, pokud je v&amp;#160;konfiguraci
nastaven režim &lt;em&gt;Strict&lt;/em&gt; posílá se na výstup plně validní XHTML
1.1&amp;#160;s&amp;#160;mime-typem &lt;code&gt;application/xhtml+xml&lt;/code&gt;, nebo HTML
4.01&amp;#160;Strict pro prohlížeče, které neznají XHTML. V&amp;#160;režimu
&lt;em&gt;Transitional&lt;/em&gt; jde na výstup XHTML 1.0&amp;#160;Transitional opět
s&amp;#160;patřičným mime-typem a v&amp;#160;režimu &lt;em&gt;Legacy&lt;/em&gt; vyjedou takové
ty divné věci, co jako HTML vypadají. Ovšem nekončí to jen u&amp;#160;typu
dokumentu, ale pokračuje to i&amp;#160;správným výstupem. Upravují se scripty,
formuláře a vůbec celý výsledný kód.&lt;/p&gt;

&lt;p&gt;Na závěr ještě taková perlička. W3C , které vydává webová
doporučení a podle kterých se Gryphoon řídí, se samo svými
doporučeními neřídí :)&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Čas od času si prohlížím zdrojové kódy stránek, které si zrovna čtu. Jen tak pro inspiraci, či ze zvědavosti, je to taková profesní deformace :) Všiml jsem si, že často používaným typem dokumentu je na českých blozích *XHTML 1.0 Strict*. Jo to beru, lidi se chtěj držet standardů nebo chtěj být prostě IN. Je to chvály hodné, ale většina asi netuší proč to dělá, že to dělají chybně. Pokud máte dokument XHTML 1.0 Strict, **musíte** ho servírovat s mime-typem `application/xhtml+xml` nebo `text/xml`, ale rozhodně ne jako `text/html`, který je určen jen a pouze pro HTML, s drobnou výjimkou XHTML 1.0 Transitional, kde je to tolerováno.

Z mého soukromého bádání na malém vzorku vychází, že to obrovská majorita dělá **blbě**. Najdou se světlé výjimky postavené na "Blog:CMS":[http://www.blogcms.org/], které, posílají správný mime-type `application/xhtml+xml` pro klienty, které ho znají, ale pokud narazí na klienta, který XHTML nezná, posílají mu mime-type `text/html`, což je blbě :)

Teď si tu udělám malé promo, protože Gryphoon je jediný redakční systém, který znám, který už v základu posílá nejen správný mime-type, ale i typ dokumentu pro prohlížeče, které neznají XHTML. Navíc jde ještě o kousek dál. Díky ASP.NET 2.0, která má v konfigurační souboru možnost "nastavit způsob výstupu":[/clanek/78-jak-na-validator-w3c.aspx], gryphoon se chová i podle toho. Takže, pokud je v konfiguraci nastaven režim  *Strict* posílá se na výstup plně validní XHTML 1.1 s mime-typem `application/xhtml+xml`, nebo HTML 4.01 Strict pro prohlížeče, které neznají XHTML. V režimu *Transitional* jde na výstup XHTML 1.0 Transitional opět s patřičným mime-typem a v režimu *Legacy* vyjedou takové ty divné věci, co jako HTML vypadají. Ovšem nekončí to jen u typu dokumentu, ale pokračuje to i správným výstupem. Upravují se scripty, formuláře a vůbec celý výsledný kód.

Na závěr ještě taková perlička. W3C , které vydává webová doporučení a podle kterých se Gryphoon řídí, se samo svými doporučeními neřídí :)
</raw>
    <author>Aleš Roubíček</author>
    <published>2006-03-12T11:10:44.533</published>
    <url>o-znasilnovani-typu-dokumentu</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-03-12T11:10:44.640</edited>
  </article>
  <article>
    <id>118</id>
    <title>RSS Galerie</title>
    <description>Zprovoznil jsem nový RSS export.</description>
    <html xml:space="preserve">
&lt;p&gt;Dnes jsem zprovoznil nový RSS export pro syndikaci galerií na mém webu.
Pro ty, co mají zájem: &lt;a href="/ws/syndikace.asmx/RssGalerie"&gt;RSS
galerie&lt;/a&gt;&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Dnes jsem zprovoznil nový RSS export pro syndikaci galerií na mém webu. Pro ty, co mají zájem: "RSS galerie":/ws/syndikace.asmx/RssGalerie</raw>
    <author>Aleš Roubíček</author>
    <published>2006-03-13T07:41:39.517</published>
    <url>rss-galerie</url>
    <category>Gryphoon</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-03-13T07:41:39.517</edited>
  </article>
  <article>
    <id>119</id>
    <title>Statistika</title>
    <description>Data vyplívající z grafů.</description>
    <html xml:space="preserve">
&lt;p&gt;Když jsem ve volné chvíli projížděl statistiky, nemohl jsem
nepostřehnout, že veliký podíl na mé návštěvnosti má &lt;a
href="http://borber.com/"&gt;Borek&lt;/a&gt;, který už na mě několikrát odkázal a
já na něj pořád ne :) Tímto to chci napravit, sic pozdě, protože &lt;a
href="http://borber.com/blog/"&gt;Borkův blog&lt;/a&gt; už asi znáte z&amp;#160;&lt;a
href="http://www.weblogy.cz"&gt;Weblogy.cz&lt;/a&gt;. Borek píše o&amp;#160;zajímavých
tématech a hlavně často o&amp;#160;dotnetu, Windows a Office. Dalším dobrým
počinem je &lt;a href="http://borber.com/roundedbox/"&gt;RoundedBox&lt;/a&gt; komponenta
pro ASP.NET, která dělá boxy s&amp;#160;kulatými rohy. Jde na to různými
způsoby a pro programátory je to snadná cesta k&amp;#160;docílení zaoblení na
webu.&lt;/p&gt;

&lt;p&gt;Dalším statistickým údajem je veliký zájem o&amp;#160;ověření pravosti
Windows :) Tu bohužel neprovádím ;) Na to tu jsou jiní. Zkuste třeba
nainstalovat tu novou utilitku, co je ke stažení přes Windows update &amp;#8211;
o&amp;#160;víkendu postnu i&amp;#160;fotky, co to dělá &amp;#8222;zlodějům&amp;#8220;.&lt;/p&gt;

&lt;p&gt;Když jsem u&amp;#160;tý statistiky, pohrál jsem si se statistikama na Pokecu,
od zítřka by měly počítat skutečný počet uživatelů v&amp;#160;chatu. Jo
držte nám palce, zejtra ráno se bude nasazovat nová verze &lt;a
href="http://pokec.atlas.cz/"&gt;Pokecu&lt;/a&gt; &amp;#8211; ta, co jsem se v&amp;#160;ní
šťoural. Tak jsem zvědav, jak se osvědčí, jestli bude stabilnější nebo
hrušková&amp;#8230;&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Když jsem ve volné chvíli projížděl statistiky, nemohl jsem nepostřehnout, že veliký podíl na mé návštěvnosti má Borek:[http://borber.com/], který už na mě několikrát odkázal a já na něj pořád ne :) Tímto to chci napravit, sic pozdě, protože "Borkův blog":[http://borber.com/blog/] už asi znáte z "Weblogy.cz":[http://www.weblogy.cz]. Borek píše o zajímavých tématech a hlavně často o dotnetu, Windows a Office. Dalším dobrým počinem je RoundedBox:[http://borber.com/roundedbox/] komponenta pro ASP.NET, která dělá boxy s kulatými rohy. Jde na to různými způsoby a pro programátory je to snadná cesta k docílení zaoblení na webu.

Dalším statistickým údajem je veliký zájem o ověření pravosti Windows :) Tu bohužel neprovádím ;) Na to tu jsou jiní. Zkuste třeba nainstalovat tu novou utilitku, co je ke stažení přes Windows update - o víkendu postnu i fotky, co to dělá "zlodějům".

Když jsem u tý statistiky, pohrál jsem si se statistikama na Pokecu, od zítřka by měly počítat skutečný počet uživatelů v chatu. Jo držte nám palce, zejtra ráno se bude nasazovat nová verze Pokecu:[http://pokec.atlas.cz/] - ta, co jsem se v ní šťoural. Tak jsem zvědav, jak se osvědčí, jestli bude stabilnější nebo hrušková...</raw>
    <author>Aleš Roubíček</author>
    <published>2006-03-14T15:19:29.123</published>
    <url>statistika</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-03-17T15:55:42.207</edited>
  </article>
  <article>
    <id>120</id>
    <title>Menu pro různé role</title>
    <description>Jak na to.</description>
    <html xml:space="preserve">
&lt;p&gt;ASP.NET 2.0&amp;#160;přichází s&amp;#160;konceptem SiteMaps spojeným
s&amp;#160;několika serverovými prvky určenými k&amp;#160;práci s&amp;#160;navigací
(Stopy, Menu, TreeView). V&amp;#160;zásadě to funguje jednoduše, stačí
vytvořit soubor &lt;strong&gt;Web.sitemap&lt;/strong&gt; např. v&amp;#160;rootu webu, na
který je defaultně namapovaný &lt;code&gt;SiteMapProvider&lt;/code&gt;, pak stačí
přidat požadované uzly navigace do sitemapu, požadované navigační prvky
do stránky a je to. Už to funguje.&lt;/p&gt;

&lt;p&gt;Ve spoustě scénářů to může stačit, ale někdy přijde čas omezit
některým uživatelům přístup do některých částí webu. V&amp;#160;článku
&lt;a href="http://gridviewguy.com/ArticleDetails.aspx?articleID=165"&gt;Creating
Menu Based on Role&lt;/a&gt; se autor pokusil nastínit, jak postupovat. Mě se na
tom nelíbí jedna věc. Vybírá menu programově podle role. Podle mého
skromného názoru je to zbytečná práce, protože ASP.NET 2.0&amp;#160;má
v&amp;#160;SiteMapu rozlišování rolí zabudované a proto by mělo stačit do
web.sitemap souboru přidat omezení na role:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-markup"&gt;&amp;lt;?xml version="1.0" encoding="utf-8" ?&amp;gt;
&amp;lt;siteMap xmlns="http://schemas.microsoft.com/AspNet/SiteMap-File-1.0" &amp;gt;
    &amp;lt;siteMapNode url="~/" title="root" description="Site Map Root"&amp;gt;
        &amp;lt;siteMapNode siteMapFile="~/Navigation/Admin.sitemap" roles="Admin" /&amp;gt;
        &amp;lt;siteMapNode siteMapFile="~/Navigation/User.sitemap" roles="User" /&amp;gt;
    &amp;lt;/siteMapNode&amp;gt;
&amp;lt;/siteMap&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Ale možná se pletu :)&lt;/p&gt;

&lt;h3&gt;Update&lt;/h3&gt;

&lt;p&gt;Dnes jsem narazil na zajímavou sérii článků o&amp;#160;práci se SiteMap,
kdyby jste měli zájem: &lt;a
href="http://aspnet.4guysfromrolla.com/articles/111605-1.aspx"&gt;Examining
ASP.NET 2.0's&amp;#160;Site Navigation&lt;/a&gt;&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">ASP.NET 2.0 přichází s konceptem SiteMaps spojeným s několika serverovými prvky určenými k práci s navigací (Stopy, Menu, TreeView). V zásadě to funguje jednoduše, stačí vytvořit soubor **Web.sitemap** např. v rootu webu, na který je defaultně namapovaný `SiteMapProvider`, pak stačí přidat požadované uzly navigace do sitemapu, požadované navigační prvky do stránky a je to. Už to funguje.

Ve spoustě scénářů to může stačit, ale někdy přijde čas omezit některým uživatelům přístup do některých částí webu. V článku "Creating Menu Based on Role":[http://gridviewguy.com/ArticleDetails.aspx?articleID=165] se autor pokusil nastínit, jak postupovat. Mě se na tom nelíbí jedna věc. Vybírá menu programově podle role. Podle mého skromného názoru je to zbytečná práce, protože ASP.NET 2.0 má v SiteMapu rozlišování rolí zabudované a proto by mělo stačit do web.sitemap souboru přidat omezení na role:

/---code xml
&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;siteMap xmlns="http://schemas.microsoft.com/AspNet/SiteMap-File-1.0" &gt;
    &lt;siteMapNode url="~/" title="root" description="Site Map Root"&gt;
        &lt;siteMapNode siteMapFile="~/Navigation/Admin.sitemap" roles="Admin" /&gt;
        &lt;siteMapNode siteMapFile="~/Navigation/User.sitemap" roles="User" /&gt;
    &lt;/siteMapNode&gt;
&lt;/siteMap&gt;
\---code

Ale možná se pletu :)

== Update

Dnes jsem narazil na zajímavou sérii článků o práci se SiteMap, kdyby jste měli zájem: "Examining ASP.NET 2.0's Site Navigation":[http://aspnet.4guysfromrolla.com/articles/111605-1.aspx]</raw>
    <author>Aleš Roubíček</author>
    <published>2006-03-15T09:16:47.423</published>
    <url>menu-pro-ruzne-role</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-03-17T14:33:55.600</edited>
  </article>
  <article>
    <id>121</id>
    <title>Atlas go Live</title>
    <description>S chutí do života.</description>
    <html xml:space="preserve">
&lt;p&gt;Ano, konečně je to tady. Microsoft dnes (se zahájením konference MIX'06)
uvolnil novou verzi &lt;a href="http://atlas.asp.net/"&gt;ASP.NET
&amp;#8218;Atlas&amp;#8216;&lt;/a&gt; s&amp;#160;licencí k&amp;#160;ostrému provozu. Nyní tedy
může být Atlas zařazen do produkčních produktů :)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a
	href="http://weblogs.asp.net/atlas/archive/2006/03/20/440631.aspx"&gt;Detaily
	releasu&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a href="mms://wm.microsoft.com/ms/uifx/asp_net_atlas.wmv"&gt;Video
	s&amp;#160;ukázkou vývoje v&amp;#160;Atlasu&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Ano, konečně je to tady. Microsoft dnes (se zahájením konference MIX'06) uvolnil novou verzi "ASP.NET 'Atlas'":[http://atlas.asp.net/] s licencí k ostrému provozu. Nyní tedy může být Atlas zařazen do produkčních produktů :)

* "Detaily releasu":[http://weblogs.asp.net/atlas/archive/2006/03/20/440631.aspx]
* "Video s ukázkou vývoje v Atlasu":[mms://wm.microsoft.com/ms/uifx/asp_net_atlas.wmv]</raw>
    <author>Aleš Roubíček</author>
    <published>2006-03-20T21:17:06.707</published>
    <url>atlas-go-live</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-03-21T14:04:52.720</edited>
  </article>
  <article>
    <id>122</id>
    <title>Pokec naprdel</title>
    <description>Pardon za hrubší ražení, ale musim to vyventilovat.</description>
    <html xml:space="preserve">
&lt;p&gt;Jak jsem se již &lt;a
href="http://www.rarous.net/clanek/119-statistika.aspx"&gt;zmiňoval&lt;/a&gt;, dělal
jsem úpravy na pokecu. Nakonec se to nahodilo až tenhle tejden, ale to neni
zase tak důležitý pro tento spot. Nová verze, měla zvýšit stabilitu
DataService, který je míchou celého Pokecu, a opravit další chybky. Když
se to v&amp;#160;úterý ráno vystageovalo byl jsem rád, že bude konečně
vidět moje práce :D Chyba lávky, už při testování na vývojářských
serverech se vynořovaly nějaké podivnosti, ale nakonec jsme je vyeliminovali
(dvě služby běžely proti jedný databázi a navzájem si rušily data),
takže sranda. Když se to nasadilo, myslel jsem že se taková chyba už
nestane.&lt;/p&gt;

&lt;p&gt;Včera se začaly na vostrým Pokecu vynořovat zrůdnosti jako mrtvé
místnosti i&amp;#160;obrovská čísla hostů. Začalo mě mrazit. Museli jsme
najít chybu, ale jak, když na testovacím serveru vše jede v&amp;#160;pohodě?
Ty chyby se nám nedařilo nasymulovat. Vytáhly jsme do boje zbraně
těžkého kalibru :) Profilovali jsme testovací databázi s&amp;#160;testovací
službou, ale objevovalo se tam podivně moc dat, vypnul jsem testovací
službu, data přibývala (?). Ty vole, asi má někdo ještě puštěnou
DataService, jak to dohledat? Udělali jsme zákeřnou věc, odpojili
databázi.&lt;/p&gt;

&lt;p&gt;U&amp;#160;systémáků jsme zjistili, že na provozní databázi visely ještě
dvě služby, tak se ukillovaly. Problém na Pokecu, nejdou místnosti, do &lt;a
href="http://pokec.atlas.cz/diskuze/diskuze.aspx?cat=150"&gt;diskuse&lt;/a&gt;
přibývají sprosté příspěvky (trochu je i&amp;#160;chápu, ale takhle brzo
odejít?). Konečně jsme našli chybu, provozní služba běžela proti
testovací databázi &amp;#8211; jejím odpojením došlo k&amp;#160;zastavení služby
a Pokec se tvářil na venek mrtvý.&lt;/p&gt;

&lt;h3&gt;Perlička závěrem&lt;/h3&gt;

&lt;p&gt;Celé ty tři dny běžela služba proti jiným datům, než stránky. Proto
ti duchové &amp;#8211; ozvěny minulosti :D&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Jak jsem se již zmiňoval:[http://www.rarous.net/clanek/119-statistika.aspx], dělal jsem úpravy na pokecu. Nakonec se to nahodilo až tenhle tejden, ale to neni zase tak důležitý pro tento spot. Nová verze, měla zvýšit stabilitu DataService, který je míchou celého Pokecu, a opravit další chybky. Když se to v úterý ráno vystageovalo byl jsem rád, že bude konečně vidět moje práce :D Chyba lávky, už při testování na vývojářských serverech se vynořovaly nějaké podivnosti, ale nakonec jsme je vyeliminovali (dvě služby běžely proti jedný databázi a navzájem si rušily data), takže sranda. Když se to nasadilo, myslel jsem že se taková chyba už nestane.

Včera se začaly na vostrým Pokecu vynořovat zrůdnosti jako mrtvé  místnosti i obrovská čísla hostů. Začalo mě mrazit. Museli jsme najít chybu, ale jak, když na testovacím serveru vše jede v pohodě? Ty chyby se nám nedařilo nasymulovat. Vytáhly jsme do boje zbraně těžkého kalibru :) Profilovali jsme testovací databázi s testovací službou, ale objevovalo se tam podivně moc dat, vypnul jsem testovací službu, data přibývala (?). Ty vole, asi má někdo ještě puštěnou DataService, jak to dohledat? Udělali jsme zákeřnou věc, odpojili databázi.

U systémáků jsme zjistili, že na provozní databázi visely ještě dvě služby, tak se ukillovaly. Problém na Pokecu, nejdou místnosti, do diskuse:[http://pokec.atlas.cz/diskuze/diskuze.aspx?cat=150] přibývají sprosté příspěvky (trochu je i chápu, ale takhle brzo odejít?). Konečně jsme našli chybu, provozní služba běžela proti testovací databázi - jejím odpojením došlo k zastavení služby a Pokec se tvářil na venek mrtvý.

== Perlička závěrem

Celé ty tři dny běžela služba proti jiným datům, než stránky. Proto ti duchové - ozvěny minulosti :D</raw>
    <author>Aleš Roubíček</author>
    <published>2006-03-23T14:36:32.513</published>
    <url>pokec-naprdel</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <is-published>0</is-published>
    <edited>2006-03-24T07:19:04.920</edited>
  </article>
  <article>
    <id>123</id>
    <title>Vítejte v novém Webu</title>
    <description>A co mě dnes ráno pobavilo?</description>
    <html xml:space="preserve">
&lt;p&gt;Projíždím si &amp;#8211; jako každé ráno &amp;#8211; svoji &lt;a
href="http://reader.google.com/"&gt;oblíbenou čtečku&lt;/a&gt; a narazil jsem na
zajímavý článek o&amp;#160;&lt;strong&gt;Web 2.0&lt;/strong&gt;. &lt;a
href="http://weblogs.asp.net/nleghari/archive/2006/03/23/440965.aspx"&gt;Welcome
to Web 2.0&lt;/a&gt;&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Projíždím si - jako každé ráno - svoji "oblíbenou čtečku":[http://reader.google.com/] a narazil jsem na zajímavý článek o **Web 2.0**. "Welcome to Web 2.0":[http://weblogs.asp.net/nleghari/archive/2006/03/23/440965.aspx]</raw>
    <author>Aleš Roubíček</author>
    <published>2006-03-24T07:25:05.910</published>
    <url>vitejte-v-novem-webu</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-03-24T07:25:05.907</edited>
  </article>
  <article>
    <id>124</id>
    <title>Ajajaj</title>
    <description>O novinkách na mém webu.</description>
    <html xml:space="preserve">
&lt;p&gt;Začal jsem si pohrávat s&amp;#160;&lt;a href="http://atlas.asp.net/"&gt;Atlasem&lt;/a&gt;.
Mojí první aplikací je &lt;strong&gt;Oblíbené čtení&lt;/strong&gt;, které možná
najdete v&amp;#160;pravém sloupci na titulní straně. Zatim je
v&amp;#160;&lt;em&gt;bataverzi&lt;/em&gt; :) takže kdyby vám to nefungovalo, klidně mi to
písněte (nejlépe na &lt;acronym
title="ales.roubicek@pbsoftware.cz"&gt;MSN&lt;/acronym&gt; nebo &lt;acronym
title="226-449-424"&gt;ICQ&lt;/acronym&gt;). Taky jsel celý pravý sloupec
redesignoval, aby vypadal víc jako aplikace než stream písmenek.
V&amp;#160;důsledku toho jsem předělal i&amp;#160;výpis Archívu a Rubrik, ale
zvolená technika (čistě CSS) asi neni ta nejvhodnější, asi to trochu
rozšířím o&amp;#160;nějakej script &amp;#8211; ikdyž ty moc rád nemám, ale
musim se někde začít učit i&amp;#160;to :) &amp;#8211; aby se to nechovalo tak
divoce. Taky jsem si všimnul, že nějak přestaly funguvat články, takže
to je teď bod č. 1, kterej musim pořešit.&lt;/p&gt;

&lt;h3&gt;Update 1&lt;/h3&gt;

&lt;p&gt;Tak pořešeno &amp;#8211; chyba byla v&amp;#160;blbě nastaveným cachování. To
jsem tupec. Taky jsem kvůli Atlasu změnil Content-type a Doctype, ve
strictním XHTML prostě nefunguje :(&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Začal jsem si pohrávat s Atlasem:[http://atlas.asp.net/]. Mojí první aplikací je **Oblíbené čtení**, které možná najdete v pravém sloupci na titulní straně. Zatim je v *bataverzi* :) takže kdyby vám to nefungovalo, klidně mi to písněte (nejlépe na "MSN"((ales.roubicek@pbsoftware.cz)) nebo "ICQ"((226-449-424))). Taky jsel celý pravý sloupec redesignoval, aby vypadal víc jako aplikace než stream písmenek. V důsledku toho jsem předělal i výpis Archívu a Rubrik, ale zvolená technika (čistě CSS) asi neni ta nejvhodnější, asi to trochu rozšířím o nějakej script - ikdyž ty moc rád nemám, ale musim se někde začít učit i to :) - aby se to nechovalo tak divoce. Taky jsem si všimnul, že nějak přestaly funguvat články, takže to je teď bod č. 1, kterej musim pořešit.

== Update 1
Tak pořešeno - chyba byla v blbě nastaveným cachování. To jsem tupec. Taky jsem kvůli Atlasu změnil Content-type a Doctype, ve strictním XHTML prostě nefunguje :(</raw>
    <author>Aleš Roubíček</author>
    <published>2006-03-27T17:36:53.897</published>
    <url>ajajaj</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-03-29T22:11:40.743</edited>
  </article>
  <article>
    <id>126</id>
    <title>Novinky ve světě ASP.NET</title>
    <description>Pár novinek ve vývoji ASP.NET. (Lehce aktualizovaná verze.)</description>
    <html xml:space="preserve">
&lt;p&gt;V&amp;#160;poslední době vychází řada nových projektů z&amp;#160;rukou
tvůrců ASP.NET. V&amp;#160;první řadě je to bezesporu revoluční framework
Atlas o&amp;#160;kterém jsem &lt;a href="/clanek/95-nova-generace-webu.aspx"
title="článek Nová generace webu"&gt;již psal&lt;/a&gt; a psát ještě budu. Jak
jsem &lt;a href="/clanek/121-atlas-go-live.aspx"
title="článek Atlas go Live"&gt;již psal&lt;/a&gt;, březnové &lt;acronym
title="Community Technical Preview"&gt;CTP&lt;/acronym&gt; bylo uvolněno s&amp;#160;go-live
licencí, to umožňuje používat Atlas na produkčních serverech. Budoucí
CTPčka budou s&amp;#160;touto licencí vypouštěny rovněž. Aby nedošlo
k&amp;#160;mílce, doplním, že Atlas neni závislý na ASP.NET, ikdyž je pro
něj primárně vyvíjen, a jeho výhody mohou &lt;a
href="http://www.shankun.com/AtlasPhp.aspx"&gt;využívat i&amp;#160;třeba
PHPkáři&lt;/a&gt; nebo i &amp;#8222;statici&amp;#8220;. Atlas je čistě klientská
záležitost &amp;#8211; teda až na zdroje dat samozřejmě. Data jsou
přijímána ve formátech XML nebo &lt;acronym
title="JavaScript Object Notation"&gt;JSON&lt;/acronym&gt;.&lt;/p&gt;

&lt;p&gt;V&amp;#160;příštím měsíci by měl být uvolněn první balíček ASP.NET
serverověklien&amp;#173;tských prvků postavených na Atlasu (kaskádové
dropdownlisty, drag panely, sbalovací panely ap.). Určitě takové komponenty
pomohou k&amp;#160;usnadnění vývoje interaktivních webových aplikací.&lt;/p&gt;

&lt;p&gt;Tak a na závěr si dáme pauzu od skvělého Atlasu a podívame se na mé
oblíbené téma &lt;em&gt;kvalita výstupu ASP.NET&lt;/em&gt;. Vývojáří slibují, že
již brzy vydají balíček Adaptérů i&amp;#160;se zdrojovými kódy, které
převádějí výstup na CSS strukturální kód. Dodám, že na Adaptérech je
postaven celý adaptivní rendering ASP.NET, takže ke změně výstupu bude
potřeba jen knihovna s&amp;#160;Adaptéry a upravené soubory
&lt;code&gt;*.browser&lt;/code&gt;. Opravena by měla být většina dnes
&amp;#8222;nepoužitelných kontrolů&amp;#8220;, které jsou layoutovány pomocí
tabulek. To je myslím &lt;strong&gt;cool&lt;/strong&gt;, ale mohlo to být rovnou. Ale
zase tu budeme mít ukázku zajímavých programátorských postupů. Více
o&amp;#160;adaptérech najdete &lt;a
href="http://www.asp.net/QuickStart/aspnet/doc/extensibility.aspx#A"&gt;na
stránce s&amp;#160;tutoriály k&amp;#160;ASP.NET&lt;/a&gt; a taky &lt;a
href="http://borber.com/blog/?p=488"&gt;u&amp;#160;Borka&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Zdroj: &lt;a
href="http://weblogs.asp.net/scottgu/archive/2006/03/30/441465.aspx"&gt;Weblog
Scotta Guthrie&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;PS: &lt;a href="http://www.400plusdifferences.com/"&gt;vývoj neni jen šedá
nuda&lt;/a&gt;&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">V poslední době vychází řada nových projektů z rukou tvůrců ASP.NET. V první řadě je to bezesporu revoluční framework Atlas o kterém jsem "již psal":[clanek(95)] a psát ještě budu. Jak jsem "již psal":[clanek(121)], březnové CTP((Community Technical Preview)) bylo uvolněno s go-live licencí, to umožňuje používat Atlas na produkčních serverech. Budoucí CTPčka budou s touto licencí vypouštěny rovněž. Aby nedošlo k mílce, doplním, že Atlas neni závislý na ASP.NET, ikdyž je pro něj primárně vyvíjen, a jeho výhody mohou "využívat i třeba PHPkáři":[AtlasPhp] nebo i "statici". Atlas je čistě klientská záležitost - teda až na zdroje dat samozřejmě. Data jsou přijímána ve formátech XML nebo JSON((JavaScript Object Notation)).

V příštím měsíci by měl být uvolněn první balíček ASP.NET serverověklientských prvků postavených na Atlasu (kaskádové dropdownlisty, drag panely, sbalovací panely ap.). Určitě takové komponenty pomohou k usnadnění vývoje interaktivních webových aplikací.

Tak a na závěr si dáme pauzu od skvělého Atlasu a podívame se na mé oblíbené téma *kvalita výstupu ASP.NET*. Vývojáří slibují, že již brzy vydají balíček Adaptérů i se zdrojovými kódy, které převádějí výstup na CSS strukturální kód. Dodám, že na Adaptérech je postaven celý adaptivní rendering ASP.NET, takže ke změně výstupu bude potřeba jen knihovna s Adaptéry a upravené soubory `*.browser`. Opravena by měla být většina dnes "nepoužitelných kontrolů", které jsou layoutovány pomocí tabulek. To je myslím **cool**, ale mohlo to být rovnou. Ale zase tu budeme mít ukázku zajímavých programátorských postupů. Více o adaptérech najdete "na stránce s tutoriály k ASP.NET":[QuickStarts] a taky "u Borka":[Borek-488].

Zdroj: "Weblog Scotta Guthrie":[Zdroj]

PS: "vývoj neni jen šedá nuda":[400rozdilu]

[clanek(95)]: /clanek/95-nova-generace-webu.aspx .(článek Nová generace webu)
[clanek(121)]: /clanek/121-atlas-go-live.aspx .(článek Atlas go Live)
[AtlasPhp]: http://www.shankun.com/AtlasPhp.aspx
[QuickStarts]: http://www.asp.net/QuickStart/aspnet/doc/extensibility.aspx#A
[Borek-488]: http://borber.com/blog/?p=488
[Zdroj]: http://weblogs.asp.net/scottgu/archive/2006/03/30/441465.aspx
[400rozdilu]: http://www.400plusdifferences.com/</raw>
    <author>Aleš Roubíček</author>
    <published>2006-04-06T07:32:00</published>
    <url>novinky-ve-svete-asp-net</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-04-06T07:41:38.580</edited>
  </article>
  <article>
    <id>128</id>
    <title>Zase klacky pod nohama</title>
    <description>Jak nám zákony mohou pomoci k větším penězům? Přidají nám práci na víc ;)</description>
    <html xml:space="preserve">
&lt;p&gt;Možná jste si již &lt;a
href="http://blog.filosof.biz/microsoft-active-x/"&gt;všimli&lt;/a&gt;, že díky
skvělé patentové politice USA dojde k&amp;#160;&lt;a
href="http://www.dgx.cz/trine/item/patent-co-polozi-pulku-webu"&gt;znefunkčnění
ActiveX prvků&lt;/a&gt; vkládaných do HTML stránek pomocí tagů
&lt;code&gt;object&lt;/code&gt; a &lt;code&gt;embed&lt;/code&gt;. Tuto metodu má totiž patentovanou
firma Eolas. Za dva měsíce bude nutné nejprve na takový prvek kliknout, aby
se zobrazil. To je velice špatná zpráva pro servery, které se živí
flashovou reklamou. První obětí je Microsoft, který zaplatil půl miliardy
USD a musí předělat IE, tak aby splňovalo požadavky.&lt;/p&gt;

&lt;p&gt;Když už jsme u&amp;#160;této problematiky. Konečně se někdo začne zabývat
tímhle nesmyslem, kdy se do hypertextu vkládají aktivní objekty – kusy
aplikací. Podle mě je to nešťastné řešení a mělo by se to řešit
pomocí ECMAScriptu. Bohužel podpora ze strany prohlížečů je špatná.
Nedávno jsem řešil, jak do stránky dynamicky vložit přehrávač zvuku
(MediaPlayer) a ovládat ho pomocí skriptů. To jsem narazil. Mozilla
v&amp;#160;defaultu ActiveX nepodporuje a je potřeba nejprve nainstalovat ActiveX
Plug-In, který je zdá se nestabilní a ne vždy funkční – alespoň
v&amp;#160;tomto případě se mine nepodařilo zprovoznit. Díky tomu nemáte
šanci se dostat k&amp;#160;vlastnostem a metodám takové prvku a ve stránce je
zbytečný.&lt;/p&gt;

&lt;p&gt;Myslím, že je čas, aby se sešla rada pro výrobu webových
prohlížečů, a vymysleli nějaký pořádný způsob, jak do stránek
vkládat programové objekty pomocí JS a zároveň se ujednotily na nějakém
způsoby zpřístupnění API takových objektů pro scriptování. Když
žijeme v&amp;#160;době, kdy se hlásí o&amp;#160;slovo AJAX a nové webové aplikace
si bez JS stejně neškrtnou, tak proč ne?&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Možná jste si již všimli:[http://blog.filosof.biz/microsoft-active-x/], že díky skvělé patentové politice USA dojde k "znefunkčnění ActiveX prvků":[http://www.dgx.cz/trine/item/patent-co-polozi-pulku-webu] vkládaných do HTML stránek pomocí tagů `object` a `embed`. Tuto metodu má totiž patentovanou firma Eolas. Za dva měsíce bude nutné nejprve na takový prvek kliknout, aby se zobrazil. To je velice špatná zpráva pro servery, které se živí flashovou reklamou. První obětí je Microsoft, který zaplatil půl miliardy USD a musí předělat IE, tak aby splňovalo požadavky.

Když už jsme u této problematiky. Konečně se někdo začne zabývat tímhle nesmyslem, kdy se do hypertextu vkládají aktivní objekty – kusy aplikací. Podle mě je to nešťastné řešení a mělo by se to řešit pomocí ECMAScriptu. Bohužel podpora ze strany prohlížečů je špatná. Nedávno jsem řešil, jak do stránky dynamicky vložit přehrávač zvuku (MediaPlayer) a ovládat ho pomocí skriptů. To jsem narazil. Mozilla v defaultu ActiveX nepodporuje a je potřeba nejprve nainstalovat ActiveX Plug-In, který je zdá se nestabilní a ne vždy funkční – alespoň v tomto případě se mine nepodařilo zprovoznit. Díky tomu nemáte šanci se dostat k vlastnostem a metodám takové prvku a ve stránce je zbytečný.

Myslím, že je čas, aby se sešla rada pro výrobu webových prohlížečů, a vymysleli nějaký pořádný způsob, jak do stránek vkládat programové objekty pomocí JS a zároveň se ujednotily na nějakém způsoby zpřístupnění API takových objektů pro scriptování. Když žijeme v době, kdy se hlásí o slovo AJAX a nové webové aplikace si bez JS stejně neškrtnou, tak proč ne?
</raw>
    <author>Aleš Roubíček</author>
    <published>2006-04-03T17:17:40.253</published>
    <url>zase-klacky-pod-nohama</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-04-03T20:30:31.270</edited>
  </article>
  <article>
    <id>129</id>
    <title>Začínáme s Atlasem</title>
    <description>První díl seriálu o Atlas Frameworku.</description>
    <html xml:space="preserve">
&lt;p&gt;&lt;a href="http://atlas.asp.net/"&gt;Atlas&lt;/a&gt; je kódové označení pro
&lt;del&gt;budoucí verzi ASP.NET, ale v&amp;#160;současnosti je to&lt;/del&gt; client side
framework, který je nadstavbou pro ASP.NET 2.0. Atlas je produktem Microsoftu
a je ve fázi vývoje, v&amp;#160;současné době je však dostatečně stabilní
a dopředně kompatibilní na to, abychom se s&amp;#160;ním mohli seznámit a
vytvářet aplikace. Současná verze oplívá „go-live“ licencí, takže
aplikace v&amp;#160;něm vytvořené mohou být bez omezení nasazeny na
produkční servery.&lt;/p&gt;

&lt;p&gt;Atlas se koncepčně dělí na dvě části – klientskou a serverovou.
&lt;em&gt;Klientská část&lt;/em&gt; může bez problémů fungovat bez serverové,
naopak to ale neplatí. Základem Atlasu je tedy JavaScriptový framework,
který si klade za cíl ulehčit vývoj tzv. AJAXových aplikací. Podobnou
iniciativou je např. &lt;a href="http://prototype.conio.net/"&gt;Prototype&lt;/a&gt;,
který vznikl u&amp;#160;tvůrců Ruby on Rails.&lt;/p&gt;

&lt;p&gt;Framework samotný je rozdělen do několika vrstev: &lt;img style="float:right"
src="/data/obrazky/atlas_klient.png" alt="image" /&gt;&lt;/p&gt;

&lt;dl&gt;
	&lt;dt&gt;Vrstva kompatibility&lt;/dt&gt;

	&lt;dd&gt;Má na starosti vyrovnat rozdíly v&amp;#160;implementaci JavaScriptu
	v&amp;#160;různých prohlížečích. V&amp;#160;současnosti podporuje
	InternetExplorer, Mozillu/Firefox a Safari. Opera je zatím mimo hru, ale snad
	se to s&amp;#160;příchodem deváté verze změní (ta už by měla podporovat
	objekt XmlHTTPRequest).&lt;/dd&gt;

	&lt;dt&gt;Vrstva OOP&lt;/dt&gt;

	&lt;dd&gt;Asi nejvíce kontroverzní vrstva, která se snaží přinést do
	JavaScriptu základy &lt;acronym
	title="Objektově orientované programování"&gt;OOP&lt;/acronym&gt;. Přináší
	možnosti dědičnosti, namespacy, abstraktní třídy a rozhranní :)&lt;/dd&gt;

	&lt;dt&gt;Vrstva komponent&lt;/dt&gt;

	&lt;dd&gt;Tato vrstva přináší klientské komponenty pro tvorbu uživatelského
	rozhranní. Namátkou ListView, Timer, Button, Hyperlink aj. Tyto komponenty se
	používají pouze na straně skriptů a jsou virtualizací struktur popsaných
	pomocí XHTML. Ne všechny komponenty jsou vizuální a jejich počet není
	konečný, můžete si snadno vytvořit komponenty vlastní.&lt;/dd&gt;

	&lt;dt&gt;Datová vrstva&lt;/dt&gt;

	&lt;dd&gt;Má za úkol přistupovat k&amp;#160;datům zprostředkovaným webovými
	službami a následně je zpřístupnit ve tvaru, se kterým je JavaScript
	schopný pracovat. V&amp;#160;současné době dokáže Atlas bez problémů
	konzumovat data z&amp;#160;ASP.NET Webservices a &lt;acronym
	title="Windows Communication Fundation"&gt;WCF&lt;/acronym&gt; a pomocí bridges
	i&amp;#160;se službami třetích stran. Ale tento výrok není zcela přesný,
	Atlas prostě zvládne přijímat data ve formátech XML a &lt;acronym
	title="JavaScript Object Notation"&gt;JSON&lt;/acronym&gt;, což jsou standardní
	formáty pro AJAXovou komunikaci.&lt;/dd&gt;

	&lt;dt&gt;Deklarativní vrstva&lt;/dt&gt;

	&lt;dd&gt;Tato vrstva si klade za cíl usnadnit programování tzv. deklarativní
	metodou – něco jako XAML nebo XUL u&amp;#160;tlustých klientů – a
	přináší XML-Script. V&amp;#160;tomto skriptu se nejsnadněji deklarují
	komponenty, které jsou součástí stránky, jejich chování a svázání
	s&amp;#160;daty a XHTML šablonami.&lt;/dd&gt;
&lt;/dl&gt;

&lt;p&gt;Tak to by měla být klientská část, která je nezávislá na platformě
ASP.NET. Doufám, že jsem na nic nezapomněl. Nad tím vším je postavena
&lt;em&gt;serverová část&lt;/em&gt;. Jedná se o&amp;#160;sadu komponent – tzv.
Extenderů. Extendery jsou typy komponent, které jsou časté ve WinFormových
aplikacích, a v&amp;#160;podstatě rozšiřují funkčnost jiných komponent.
Např. aplikací &lt;code&gt;AutoCompleteExtender&lt;/code&gt;u&amp;#160;na
&lt;code&gt;TextBox&lt;/code&gt; dostaneme &lt;em&gt;TextBox s&amp;#160;našeptávačem&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Základní komponentou je &lt;code&gt;ScriptManager&lt;/code&gt;, bez něho jsou všechny
komponenty mrtvé. Ve ScriptManageru se připojují JavaScriptové knihovny a
komponenty, webové služby jako zdroje dat a definuje se zde šablona pro
chybové hlášky. ScriptManager z&amp;#160;těchto informací generuje výsledný
XML-Script a načítá potřebné skripty z&amp;#160;Assembly. (Klientská část
Atlasu je pro potřeby ASP.NET zakompilovaná v&amp;#160;Assembly a volaná pomocí
handleru WebResource.axd.)&lt;/p&gt;

&lt;p&gt;Tak a to by pro začátek mohlo stačit. Dnes jsme sfoukli takové uvedení
do problematiky, v&amp;#160;příštím díle se podíváme na zoubek už
praktickým ukázkám a začneme s&amp;#160;nejsilnější komponentou &amp;#8211;
&lt;code&gt;UpdatePanel&lt;/code&gt;. Ukážeme si, jak se pomocí něho dají snadno
převést současné ASP.NET aplikace na AJAXové.&lt;/p&gt;

&lt;h3&gt;Zajímavé odkazy&lt;/h3&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href="http://atlas.asp.net/"&gt;ASP.NET Atlas&lt;/a&gt; &amp;#8211; hlavní stránka
	projektu&lt;/li&gt;

	&lt;li&gt;&lt;a href="http://www.nikhilk.net/Category.ASPNET.aspx"&gt;Nikhil Kothari&lt;/a&gt;
	&amp;#8211; hlavní architekt Atlasu&lt;/li&gt;

	&lt;li&gt;&lt;a href="http://weblogs.asp.net/scottgu/"&gt;Scott Guthrie&lt;/a&gt; &amp;#8211; šéf
	vývoje ASP.NET, ISS a Visual WebDeveloper&lt;/li&gt;

	&lt;li&gt;&lt;a href="http://weblogs.asp.net/atlas/"&gt;Atlas Announcements&lt;/a&gt; &amp;#8211;
	stránka s&amp;#160;novinkami o&amp;#160;Atlasu&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Zajímavých odkazů mám daleko víc, ale ty až v&amp;#160;dalším díle
;)&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Atlas:[Atlas] je kódové označení pro --budoucí verzi ASP.NET, ale v současnosti je to-- client side framework, který je nadstavbou pro ASP.NET 2.0. Atlas je produktem Microsoftu a je ve fázi vývoje, v současné době je však dostatečně stabilní a dopředně kompatibilní na to, abychom se s ním mohli seznámit a vytvářet aplikace. Současná verze oplívá „go-live“ licencí, takže aplikace v něm vytvořené mohou být bez omezení nasazeny na produkční servery.

Atlas se koncepčně dělí na dvě části – klientskou a serverovou. *Klientská část* může bez problémů fungovat bez serverové, naopak to ale neplatí. Základem Atlasu je tedy JavaScriptový framework, který si klade za cíl ulehčit vývoj tzv. AJAXových aplikací. Podobnou iniciativou je např. Prototype:[Prototype], který vznikl u tvůrců Ruby on Rails.

Framework samotný je rozdělen do několika vrstev:
[*/data/obrazky/atlas_klient.png &gt;]
Vrstva kompatibility:
 - Má na starosti vyrovnat rozdíly v implementaci JavaScriptu v různých prohlížečích. V současnosti podporuje InternetExplorer, Mozillu/Firefox a Safari. Opera je zatím mimo hru, ale snad se to s příchodem deváté verze změní (ta už by měla podporovat objekt XmlHTTPRequest).

Vrstva OOP:
 - Asi nejvíce kontroverzní vrstva, která se snaží přinést do JavaScriptu základy OOP((Objektově orientované programování)). Přináší možnosti dědičnosti, namespacy, abstraktní třídy a rozhranní :)

Vrstva komponent:
 - Tato vrstva přináší klientské komponenty pro tvorbu uživatelského rozhranní. Namátkou ListView, Timer, Button, Hyperlink aj. Tyto komponenty se používají pouze na straně skriptů a jsou virtualizací struktur popsaných pomocí XHTML. Ne všechny komponenty jsou vizuální a jejich počet není konečný, můžete si snadno vytvořit komponenty vlastní.

Datová vrstva:
 - Má za úkol přistupovat k datům zprostředkovaným webovými službami a následně je zpřístupnit ve tvaru, se kterým je JavaScript schopný pracovat. V současné době dokáže Atlas bez problémů konzumovat data z ASP.NET Webservices a WCF((Windows Communication Fundation)) a pomocí bridges i se službami třetích stran. Ale tento výrok není zcela přesný, Atlas prostě zvládne přijímat data ve formátech XML a JSON((JavaScript Object Notation)), což jsou standardní formáty pro AJAXovou komunikaci.

Deklarativní vrstva:
 - Tato vrstva si klade za cíl usnadnit programování tzv. deklarativní metodou – něco jako XAML nebo XUL u tlustých klientů – a přináší XML-Script. V tomto skriptu se nejsnadněji deklarují komponenty, které jsou součástí stránky, jejich chování  a svázání s daty a XHTML šablonami.

Tak to by měla být klientská část, která je nezávislá na platformě ASP.NET. Doufám, že jsem na nic nezapomněl. Nad tím vším je postavena *serverová část*. Jedná se o sadu komponent – tzv. Extenderů. Extendery jsou typy komponent, které jsou časté ve WinFormových aplikacích, a v podstatě rozšiřují funkčnost jiných komponent. Např. aplikací `AutoCompleteExtender`u na `TextBox` dostaneme *TextBox s našeptávačem*.

Základní komponentou je `ScriptManager`, bez něho jsou všechny komponenty mrtvé. Ve ScriptManageru se připojují JavaScriptové knihovny a komponenty, webové služby jako zdroje dat a definuje se zde šablona pro chybové hlášky. ScriptManager z těchto informací generuje výsledný XML-Script a načítá potřebné skripty z Assembly. (Klientská část Atlasu je pro potřeby ASP.NET zakompilovaná v Assembly a volaná pomocí handleru WebResource.axd.)

Tak a to by pro začátek mohlo stačit. Dnes jsme sfoukli takové uvedení do problematiky, v příštím díle se podíváme na zoubek už praktickým ukázkám a začneme s nejsilnější komponentou - `UpdatePanel`. Ukážeme si, jak se pomocí něho dají snadno převést současné ASP.NET aplikace na AJAXové.

== Zajímavé odkazy
* "ASP.NET Atlas":[Atlas] - hlavní stránka projektu
* "Nikhil Kothari":[Nikhilk] - hlavní architekt Atlasu
* "Scott Guthrie":[ScottGu] - šéf vývoje ASP.NET, ISS a Visual WebDeveloper
* "Atlas Announcements":[AtlasBlog] - stránka s novinkami o Atlasu

Zajímavých odkazů mám daleko víc, ale ty až v dalším díle ;)

[Atlas]: http://atlas.asp.net/
[AtlasBlog]: http://weblogs.asp.net/atlas/
[Prototype]: http://prototype.conio.net/
[Nikhilk]: http://www.nikhilk.net/Category.ASPNET.aspx
[ScottGu]: http://weblogs.asp.net/scottgu/
[WilcoB]: http://www.wilcob.com/Wilco/Atlas.aspx</raw>
    <author>Aleš Roubíček</author>
    <published>2006-04-07T15:36:40.543</published>
    <url>zaciname-s-atlasem</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-04-12T08:00:01.930</edited>
  </article>
  <article>
    <id>130</id>
    <title>Aktuálně 3</title>
    <description>Několik slov k blogování a dění za poslední dobu</description>
    <html xml:space="preserve">
&lt;p&gt;Za poslední dobu se toho dost změnilo. &lt;a
href="http://blog.pbsoftware.cz/"&gt;Kdekdo dneska bloguje&lt;/a&gt; nebo se o&amp;#160;to
&lt;a href="http://blog.mikemaly.net/"&gt;znovu pokouší&lt;/a&gt;. Chvály hodné na tom
je, že používají můj systém Gryphoon, horší je že mi přidělávaj
starosti :D Ale starosti to jsou celkem milé. O&amp;#160;Jerryho jsem použil již
dříve proklamované &lt;a
href="/clanek/89-css-sablony-pro-vase-projekty.aspx"&gt;CSS Templaty&lt;/a&gt;, tak snad
se mu to bude líbit.&lt;/p&gt;

&lt;p&gt;Dalším bodem mého příspěvku bude i&amp;#160;trocha hudby. V&amp;#160;pátek
jsou na výstavišti &lt;a href="http://www.vibrations.cz/"&gt;Vibrations&lt;/a&gt;, kde
vystoupí se svým DJ setem jeden zmým oblíbených &amp;#8211; Eric Prydz. Já
tam budu určitě &amp;#8211; slavit svátek &amp;#8211; s&amp;#160;nad i&amp;#160;pár
kamarádů. Takže pokud chcete zapařit na pouřádnej housík, zkuste si
ještě sehnat vstupenku. S&amp;#160;tímto témate tak trochu souvisí i&amp;#160;to,
že jsem přidal do strának boxík se streamama setů Alessia Busty. Takže
až budete číst můj seriál o&amp;#160;Atlasu, můžete přitom poslouchat
i&amp;#160;muziku :)&lt;/p&gt;

&lt;p&gt;No tak muziku máme za sebou, na řadě jsou hasiči. V&amp;#160;sobotu 29. dubna
se koná ve Zdislavě okrsková soutěž. Další soutěží v&amp;#160;kalendáři
je Pohár starosty obce Osečná plánovaný na půlku června.&lt;/p&gt;

&lt;p&gt;Já to dneska nějak odbývám. Posledním bodem je taková malá inzerce.
Jak možná vite od března pracuju v&amp;#160;portálu Atlas, který má ambice
stát se druhým na trhu. K&amp;#160;tomu, aby to bylo možné je zapotřebí
větší množství vývojářu, než je tomu nyní. Takže pokud ovládáte
ASP.NET a MS SQL a chcete být mým kolegou v&amp;#160;mladém vývojářském
kolektivu, dejte mi vědět na e-mail.&lt;/p&gt;

&lt;p&gt;A&amp;#160;to je konec dnešních zpráv. Děkuji za pozornost.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Za poslední dobu se toho dost změnilo. "Kdekdo dneska bloguje":[http://blog.pbsoftware.cz/] nebo se o to "znovu pokouší":[http://blog.mikemaly.net/]. Chvály hodné na tom je, že používají můj systém Gryphoon, horší je že mi přidělávaj starosti :D Ale starosti to jsou celkem milé. O Jerryho jsem použil již dříve proklamované "CSS Templaty":[/clanek/89-css-sablony-pro-vase-projekty.aspx], tak snad se mu to bude líbit.

Dalším bodem mého příspěvku bude i trocha hudby. V pátek jsou na výstavišti Vibrations:[http://www.vibrations.cz/], kde vystoupí se svým DJ setem jeden zmým oblíbených - Eric Prydz. Já tam budu určitě - slavit svátek - s nad i pár kamarádů. Takže pokud chcete zapařit na pouřádnej housík, zkuste si ještě sehnat vstupenku. S tímto témate tak trochu souvisí i to, že jsem přidal do strának boxík se streamama setů Alessia Busty. Takže až budete číst můj seriál o Atlasu, můžete přitom poslouchat i muziku :)

No tak muziku máme za sebou, na řadě jsou hasiči. V sobotu 29. dubna se koná ve Zdislavě okrsková soutěž. Další soutěží v kalendáři je Pohár starosty obce Osečná plánovaný na půlku června.

Já to dneska nějak odbývám. Posledním bodem je taková malá inzerce. Jak možná vite od března pracuju v portálu Atlas, který má ambice stát se druhým na trhu. K tomu, aby to bylo možné je zapotřebí větší množství vývojářu, než je tomu nyní. Takže pokud ovládáte ASP.NET a MS SQL a chcete být mým kolegou v mladém vývojářském kolektivu, dejte mi vědět na e-mail.

A to je konec dnešních zpráv. Děkuji za pozornost.</raw>
    <author>Aleš Roubíček</author>
    <published>2006-04-10T15:53:49.830</published>
    <url>aktualne-3</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-04-10T21:17:11.797</edited>
  </article>
  <article>
    <id>131</id>
    <title>Atlas April CTP</title>
    <description>Nová verze Atlasu.</description>
    <html xml:space="preserve">
&lt;p&gt;Dnes v&amp;#160;noci vyšla nová verze Atlasu, stahovat můžete na &lt;a
href="http://atlas.asp.net"&gt;domovských stránkách&lt;/a&gt;. Dubnová verze
přináší především opravu chyb březnové a přináší trochu nové
funkčnosti.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Dnes v noci vyšla nová verze Atlasu, stahovat můžete na "domovských stránkách":[Atlas]. Dubnová verze přináší především opravu chyb březnové a přináší trochu nové funkčnosti.

[Atlas]: http://atlas.asp.net</raw>
    <author>Aleš Roubíček</author>
    <published>2006-04-11T07:33:35.627</published>
    <url>atlas-april-ctp</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-04-11T07:33:35.623</edited>
  </article>
  <article>
    <id>132</id>
    <title>Začínáme s Atlasem 2</title>
    <description>Druhý díl seriálu o Atlasu.</description>
    <html xml:space="preserve">
&lt;p&gt;&lt;img style="float:right" src="/data/obrazky/atlas_server.png"
alt="Diagram serverové části Atlasu" /&gt; V&amp;#160;&lt;a
href="http://rarous.net/clanek/129-zaciname-s-atlasem.aspx"&gt;minulém díle&lt;/a&gt;
jsme si představili, co to Atlas je, jakou má zhruba strukturu a k&amp;#160;čemu
se hodí. Jak jsem slíbil budeme se dnes věnovat serverové části Atlasu a
ukážeme si, jak jednoduše přetvořit stávající ASP.NET 2.0&amp;#160;aplikaci
na AJAXovou. Tak s&amp;#160;chutí do toho :)&lt;/p&gt;

&lt;p&gt;V&amp;#160;minulém díle jsem popsal, jakou má strukturu klientská část
Atlasu, v&amp;#160;tomto se podíváme na zoubek té serverové. Součástí
serverové části jsou komponenty – Extendery, které obohacují současné
ASP.NET komponenty o&amp;#160;interaktivní chování podobné tomu, jak se
chovají komponenty WinForms. Krom extenderů jsou zde ještě komponenty
&lt;code&gt;ScriptManger&lt;/code&gt; &amp;#8211; popsaný v&amp;#160;minulém díle &amp;#8211;
&lt;code&gt;UpdatePanel&lt;/code&gt; a &lt;code&gt;UpdateProgress&lt;/code&gt; zajišťující a
informující o&amp;#160;průběhu komunikace klientského skriptu s&amp;#160;aplikací
na serveru.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Teď trochu odbočím.&lt;/em&gt; Možná si vzpomínáte na jednu
z&amp;#160;novinek ASP.NET, tzv. CallBacky. První zmínky vyvolaly bouřlivé
reakce, ale posléze ticho po pěšině. &lt;a
href="http://www.dotnetjunkies.com/Tutorial/E80EC96F-1C32-4855-85AE-9E30EECF13D7.dcik"&gt;CallBack&lt;/a&gt;
je alternativou PostBacku, kdy se např. při stránkování v
&lt;code&gt;GridView&lt;/code&gt; nemusí reloadovat celá stránka, ale je využito
objektu XmlHTTPRequest k&amp;#160;aktualizaci datové mřížky, čímž se
snižuje datový tok a nemusí se celá stránka přerenderovat. CallBack je
jistou formou AJAXu, ale většinou je potřeba psát ručně, kusy JavaScriptu
a ty registrovat na serveru a posléze je posílat. Tento způsob zdá se mi
poněkud neohrabaným.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Zpět k&amp;#160;Atlasu.&lt;/em&gt; Atlas myšlenku CallBacku dotahuje do
použitelné podoby a v&amp;#160;poslední verzi dokáže díky CallBackům
z&amp;#160;obyčejné ASP.NET stránky udělat AJAXovou :) Nyní malá ukázka.
Mějme GridView s&amp;#160;povoleným řazením podle libovolného sloupce a
stránkování.&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-markup"&gt;&amp;lt;asp:GridView ID="GridView1" runat="server" AllowPaging="true" AllowSorting="true"
        AutoGenerateColumns="true" DataSourceID="ZdrojDat"&amp;gt;
&amp;lt;/asp:GridView&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Takováto mřížka při každém přechodu na další stránku nebo
srovnání podle určitého sloupce PostBackuje a překreslí se stránka
s&amp;#160;požadovaným pohledem. Nyní uděláme lehkou úpravu a
k&amp;#160;PostBackům docházet nebude, docílíme AJAXu :)&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-markup"&gt;&amp;lt;atlas:ScriptManager ID="TheScriptManager" EnablePartialRendering="true" runat="server" /&amp;gt;
&amp;lt;atlas:UpdatePanel ID="GridUpdate" runat="server" Mode="Always"&amp;gt;
        &amp;lt;ContentTemplate&amp;gt;
                &amp;lt;asp:GridView ID="DatovaMrizka" runat="server" AllowPaging="true" AllowSorting="true"
                        AutoGenerateColumns="true" DataSourceID="ZdrojDat"&amp;gt;
                &amp;lt;/asp:GridView&amp;gt;
        &amp;lt;/ContentTemplate&amp;gt;
&amp;lt;/atlas:UpdatePanel&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Ano, to je skoro vše! Za předpokladu, že jste použili šablonu Atlas
WebSite ve vašem Visual WebDeveloperu nebo Visual Studiu – to předpokládá
nainstalovaný Atlas z&amp;#160;&lt;a href="http://atlas.asp.net/"&gt;domovské
stránky&lt;/a&gt;. Nezapomeňte, že každá Atlasová serverová komponenta
potřebuje mít ve stránce &lt;code&gt;ScriptManager&lt;/code&gt; jinak nebude
fungovat.&lt;/p&gt;

&lt;p&gt;Tak máme za sebou první ukázku kódu. Docela pohoda ne? :) No, serverový
Atlas nejsou jen komponenty, ale také webové služby a bridže. Ono se totiž
dá v&amp;#160;Atlasu programovat minimálně podle dvou hlavních schémat.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Serverovou stranu využijete pouze na krmení klientské strany daty pomocí
	webových služeb a na klientu pojedeme všechno v&amp;#160;JavaScriptu,
	XML-Scriptu a XHTML šablonách.&lt;/li&gt;

	&lt;li&gt;Využijeme podpory CallBacků u&amp;#160;serverových komponent a použijeme
	extendery na vylepšení uživatelského zážitku s&amp;#160;klasickými
	komponentami.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Třetí možností je využití obou postupů, ale pak v&amp;#160;tom asi bude
pěkný guláš. Druhou možnost jsme si už předvedli, povězme si něco
o&amp;#160;té první. Tak tedy, Atlas pomocí HttpHandleru přebírá volání
webových služeb (ASMX) a přidává vytváření JavaScriptových proxy pro
metody služby. Pomocí těchto proxy funkcí komunikuje klientský Atlas
s&amp;#160;webovou službou. Tady v&amp;#160;dřívějších verzích nastal problém,
nešlo efektivně konzumovat služby třetích stran, které jsme nemohli
donutit, aby nám vracely požadované JS proxy.&lt;/p&gt;

&lt;p&gt;Poslední verze přichází s&amp;#160;tzv. bridži. Bridž je handler, který
konzumuje služby třetí strany a vytváří k&amp;#160;ní potřebné proxy
funkce. Klientská strana pak volá tento bridž namísto služby. Třetí
podporovanou možností je konzumace služeb postavených na &lt;acronym
title="Windows Communication Fundation"&gt;WCF&lt;/acronym&gt; dříve známé jako
Indigo. Další novinkou poslední verze je XmlDataSource pro klientskou
stranu. Můžete konzumovat libovolný XML soubor, pohybovat se kouzlech
pomocí XPath a provádět transformace pomocí XSLT. Tak to by bylo ke
zdrojům dat.&lt;/p&gt;

&lt;p&gt;Prozatím poslední ze serverových částí je možnost vytváření
Gadgets. &lt;a href="http://microsoftgadgets.com/"&gt;Gadgets&lt;/a&gt; jsou kousky kódu
– komponenty – určené pro začlenění na portál &lt;a
href="http://www.live.com/"&gt;Live.com&lt;/a&gt; (popř. &lt;a
href="http://www.start.com/"&gt;Start.com&lt;/a&gt;) a pravděpodobně půjdou tyto
komponenty integrovat i&amp;#160;do chystaného Desktop Sidebaru ve &lt;a
href="http://www.microsoft.com/windowsvista/"&gt;Windows Vista&lt;/a&gt;. Tímto bych
zakončil druhý díl povídání o&amp;#160;Atlasu a příště bychom si mohli
vytvořit nějakou použitelnou aplikaci :)&lt;/p&gt;

&lt;h3&gt;Zajímavé odkazy&lt;/h3&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href="http://blog.vyvojar.cz/mjurek/archive/2006/04/09/7852.aspx"&gt;AJAX
	bublina nebo trend?&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a href="http://www.shankun.com/Default.aspx?categoryID=1"&gt;Shanku
	Niyogi&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a href="http://www.wilcob.com/Wilco/Atlas.aspx"&gt;Wilco Bauer&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">[*/data/obrazky/atlas_server.png .(Diagram serverové části Atlasu)&gt;]
V "minulém díle":[clanek(129)] jsme si představili, co to Atlas je, jakou má zhruba strukturu a k čemu se hodí. Jak jsem slíbil budeme se dnes věnovat serverové části Atlasu a ukážeme si, jak jednoduše přetvořit stávající ASP.NET 2.0 aplikaci na AJAXovou. Tak s chutí do toho :)

V minulém díle jsem popsal, jakou má strukturu klientská část Atlasu, v tomto se podíváme na zoubek té serverové. Součástí serverové části jsou komponenty – Extendery, které obohacují současné ASP.NET komponenty o interaktivní chování podobné tomu, jak se chovají komponenty WinForms. Krom extenderů jsou zde ještě komponenty `ScriptManger` - popsaný v minulém díle - `UpdatePanel` a `UpdateProgress` zajišťující a informující o průběhu komunikace klientského skriptu s aplikací na serveru.

*Teď trochu odbočím.* Možná si vzpomínáte na jednu z novinek ASP.NET, tzv. CallBacky. První zmínky vyvolaly bouřlivé reakce, ale posléze ticho po pěšině. CallBack:[CallBack] je alternativou PostBacku, kdy se např. při stránkování v `GridView` nemusí reloadovat celá stránka, ale je využito objektu XmlHTTPRequest k aktualizaci datové mřížky, čímž se snižuje datový tok a nemusí se celá stránka přerenderovat. CallBack je jistou formou AJAXu, ale většinou je potřeba psát ručně, kusy JavaScriptu a ty registrovat na serveru a posléze je posílat. Tento způsob zdá se mi poněkud neohrabaným.

*Zpět k Atlasu.* Atlas myšlenku CallBacku dotahuje do použitelné podoby a v poslední verzi dokáže díky CallBackům z obyčejné ASP.NET stránky udělat AJAXovou :)  Nyní malá ukázka. Mějme GridView s povoleným řazením podle libovolného sloupce a stránkování.

/---code xml
&lt;asp:GridView ID="GridView1" runat="server" AllowPaging="true" AllowSorting="true"
	AutoGenerateColumns="true" DataSourceID="ZdrojDat"&gt;
&lt;/asp:GridView&gt;
\---code

Takováto mřížka při každém přechodu na další stránku nebo srovnání podle určitého sloupce PostBackuje a překreslí se stránka s požadovaným pohledem. Nyní uděláme lehkou úpravu a k PostBackům docházet nebude, docílíme AJAXu :)

/---code xml
&lt;atlas:ScriptManager ID="TheScriptManager" EnablePartialRendering="true" runat="server" /&gt;
&lt;atlas:UpdatePanel ID="GridUpdate" runat="server" Mode="Always"&gt;
	&lt;ContentTemplate&gt;
		&lt;asp:GridView ID="DatovaMrizka" runat="server" AllowPaging="true" AllowSorting="true"
			AutoGenerateColumns="true" DataSourceID="ZdrojDat"&gt;
		&lt;/asp:GridView&gt;
	&lt;/ContentTemplate&gt;
&lt;/atlas:UpdatePanel&gt;
\---code

Ano, to je skoro vše! Za předpokladu, že jste použili šablonu Atlas WebSite ve vašem Visual WebDeveloperu nebo Visual Studiu – to předpokládá nainstalovaný Atlas z "domovské stránky":[Atlas]. Nezapomeňte, že každá Atlasová serverová komponenta potřebuje mít ve stránce `ScriptManager` jinak nebude fungovat.

Tak máme za sebou první ukázku kódu. Docela pohoda ne? :) No, serverový Atlas nejsou jen komponenty, ale také webové služby a bridže. Ono se totiž dá v Atlasu programovat minimálně podle dvou hlavních schémat.

1.  Serverovou stranu využijete pouze na krmení klientské strany daty pomocí webových služeb a na klientu pojedeme všechno v JavaScriptu, XML-Scriptu a XHTML šablonách.
2.  Využijeme podpory CallBacků u serverových komponent a použijeme extendery na vylepšení uživatelského zážitku s klasickými komponentami.

Třetí možností je využití obou postupů, ale pak v tom asi bude pěkný guláš. Druhou možnost jsme si už předvedli, povězme si něco o té první. Tak tedy, Atlas pomocí HttpHandleru přebírá volání webových služeb (ASMX) a přidává vytváření JavaScriptových proxy pro metody služby. Pomocí těchto proxy funkcí komunikuje klientský Atlas s webovou službou. Tady v dřívějších verzích nastal problém, nešlo efektivně konzumovat služby třetích stran, které jsme nemohli donutit, aby nám vracely požadované JS proxy.

Poslední verze přichází s tzv. bridži. Bridž je handler, který konzumuje služby třetí strany a vytváří k ní potřebné proxy funkce. Klientská strana pak volá tento bridž namísto služby. Třetí podporovanou možností je konzumace služeb postavených na WCF((Windows Communication Fundation)) dříve známé jako Indigo. Další novinkou poslední verze je XmlDataSource pro klientskou stranu. Můžete konzumovat libovolný XML soubor, pohybovat se kouzlech pomocí XPath a provádět transformace pomocí XSLT. Tak to by bylo ke zdrojům dat.

Prozatím poslední ze serverových částí je možnost vytváření Gadgets. Gadgets:[Gadgets] jsou kousky kódu – komponenty – určené pro začlenění na portál "Live.com":[Live] (popř. "Start.com":[Start]) a pravděpodobně půjdou tyto komponenty integrovat i do chystaného Desktop Sidebaru ve "Windows Vista":[Vista]. Tímto bych zakončil druhý díl povídání o Atlasu a příště bychom si mohli vytvořit nějakou použitelnou aplikaci :)

== Zajímavé odkazy
* "AJAX bublina nebo trend?":[MJurek]
* "Shanku Niyogi":[ShankuN]
* "Wilco Bauer":[WilcoB]

[Atlas]: http://atlas.asp.net/
[MJurek]: http://blog.vyvojar.cz/mjurek/archive/2006/04/09/7852.aspx
[ShankuN]: http://www.shankun.com/Default.aspx?categoryID=1
[WilcoB]: http://www.wilcob.com/Wilco/Atlas.aspx
[Live]: http://www.live.com/
[Start]: http://www.start.com/
[Vista]: http://www.microsoft.com/windowsvista/
[Gadgets]: http://microsoftgadgets.com/
[clanek(129)]: http://rarous.net/clanek/129-zaciname-s-atlasem.aspx
[CallBack]: http://www.dotnetjunkies.com/Tutorial/E80EC96F-1C32-4855-85AE-9E30EECF13D7.dcik</raw>
    <author>Aleš Roubíček</author>
    <published>2006-04-11T09:05:00</published>
    <url>zaciname-s-atlasem-2</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-04-11T11:04:01.453</edited>
  </article>
  <article>
    <id>133</id>
    <title>Začínáme s Atlasem 2a</title>
    <description>Pokračování seriálu o Atlasu.</description>
    <html xml:space="preserve">
&lt;p&gt;Možná si říkáte, proč jsem zvolil tak divný nadpis. Odpověď je
nasnadě, tento článek není slibovaným třetím dílem s praktickou
ukázkou použití Atlasu, ale spíše praktickým doplněním předchozích
dvou dílů o linky na zajímavé věci ohledně Atlasu. Omlouvám se tedy, že
nyní neuvedu slibovaný kód, o který samozřejmě nepřijdete – ale
vyžaduje delší přípravu – a snad vám budou následující řádky
dostatečnou útěchou…&lt;/p&gt;

&lt;p&gt;Začnu horkou novinkou. Právě byla uvolněna &lt;a
href="http://atlas.asp.net/default.aspx?tabid=47&amp;amp;subtabid=477"&gt;sada
Atlasích komponent&lt;/a&gt;, které by měly usnadnit práci ASP.NET vývojářům
v obvyklých AJAXových scénářích. Můžete si je i přímo &lt;a
href="http://atlas.asp.net/atlastoolkit/"&gt;vyzkoušet&lt;/a&gt; online. Sada obsahuje
následující komponenty:&lt;/p&gt;

&lt;dl&gt;
	&lt;dt&gt;CascadingDropDown&lt;/dt&gt;

	&lt;dd&gt;Kaskádní DropDown listy, klasický scénář použití AJAXu.&lt;/dd&gt;

	&lt;dt&gt;CollaspiblePanel&lt;/dt&gt;

	&lt;dd&gt;Sbalovací panely, opět častá věc u různých boxíků.&lt;/dd&gt;

	&lt;dt&gt;ConfirmButton&lt;/dt&gt;

	&lt;dd&gt;Extender, který při aplikaci na některý z Buttonů vyžaduje potvrzení
	provedení akce.&lt;/dd&gt;

	&lt;dt&gt;DragPanel&lt;/dt&gt;

	&lt;dd&gt;Extender, který udělá ze zvoleného boxu, box volně přemisťovatelný
	po stránce. Zatím netuším jaký je rozdíl mezi DragDropExtenderem ze
	základního balíčku, ale pravděpodobně bude navíc podporovat součinnost
	jinými komponentami z AtlasToolkitu.&lt;/dd&gt;

	&lt;dt&gt;HoverMenu&lt;/dt&gt;

	&lt;dd&gt;Popup okýnko s mnohem větší flexibilitou než HoverBehavior na
	klientské straně, viz &lt;a
	href="http://atlas.asp.net/atlastoolkit/HoverMenu/HoverMenu.aspx"&gt;ukázka&lt;/a&gt;&lt;/dd&gt;

	&lt;dt&gt;PopupControl&lt;/dt&gt;

	&lt;dd&gt;Další popup, tentokrát určený k trochu jiným scénářům, viz &lt;a
	href="http://atlas.asp.net/atlastoolkit/PopupControl/PopupControl.aspx"&gt;ukázka&lt;/a&gt;&lt;/dd&gt;

	&lt;dt&gt;ReorderList&lt;/dt&gt;

	&lt;dd&gt;Prvek svázaný s daty, který umožňuje reorganizaci pomocí
	přetahování.&lt;/dd&gt;

	&lt;dt&gt;TextBoxWatermark&lt;/dt&gt;

	&lt;dd&gt;Něco podobného, jako mám v hledacím políčku. Do TextBoxu se vyplní
	předepsaný text např. „Hledaný text“ a po kliknutí do
	políčka zmizí.&lt;/dd&gt;

	&lt;dt&gt;ToggleButton&lt;/dt&gt;

	&lt;dd&gt;Extender, který změní klasický CheckBox na obrázkový.&lt;/dd&gt;
&lt;/dl&gt;

&lt;p&gt;V toolkitu najdete jak ukázky předpřipraveného kódu k okamžitému
použití tak i klasickou SDK dokumentaci. To by bylo k žhavé novince zvané
&lt;a
href="http://atlas.asp.net/default.aspx?tabid=47&amp;amp;subtabid=477"&gt;AtlasToolkit&lt;/a&gt;
a nyní bych se chtěl zaměřit na nástroje, které nám ulehčí práci při
vývoji AJAXových aplikací, Atlas nevyjímaje.&lt;/p&gt;

&lt;h3 id="nastroje"&gt;Nástroje&lt;/h3&gt;

&lt;p&gt;V první řadě je to kvalitní vývojové prostředí, já doporučuji
volně stažitelný &lt;a
href="http://msdn.microsoft.com/vstudio/express/vwd/default.aspx"&gt;Visual
WebDeveloper&lt;/a&gt;, který je určen pro vývoj ASP.NET 2.0 aplikací, ale je
vhodný i pro vývoj v Atlasu, sice ještě značně pokulhává Intellisense
při vývoji JavaScriptu – což mi přijde logické vzhledem k silné
netypovosti tohoto jazyka – i při editaci XML-Scriptu – tady zase
uvažuji o napsání vlastního schématu, který by měl Intellisence
generovat. No vývojáři slibujou, že v nové verzi „Orcas“ bude plná
podpora vývoje v Atlasu, tak uvidíme.&lt;/p&gt;

&lt;p&gt;Nejdůležitějším nástrojem je samotný &lt;a
href="http://www.microsoft.com/downloads/details.aspx?FamilyId=B01DC501-B3C1-4EC0-93F0-7DAC68D2F787&amp;amp;displaylang=en"&gt;Atlas&lt;/a&gt;,
který se po instalaci integruje do Visual WebDeveloperu v podobě šablony
nového projektu.&lt;/p&gt;

&lt;p&gt;Další dobrou pomůckou jsou &lt;a
href="http://www.nikhilk.net/Project.JSUtils.aspx"&gt;JS Utils&lt;/a&gt; přidávající
do JavaScriptu možnosti &lt;em&gt;kompilace&lt;/em&gt;. Balíček obsahuje dva nástroje
JSX2JS a JSA2JS. JSX je tzv. Extended JScript – umožňuje v kódu
používat direktivy preprocesoru vhodné pro ladění kódu i s možností
odlišování prohlížeče, JSA je JScript Assembly a ta umožňuje navíc
includovat další JS a JSX soubory, po kompilaci dojde ke spojení souborů do
jednoho a komprimaci přebytečných bílých znaků. Celé se to dá pomocí
HttpModulu zaintegrovat do runtime ASP.NET a provádět JIT kompilaci.
Samozřejmě kompilaci nepravou.&lt;/p&gt;

&lt;p&gt;Pokud používáte MSIE, bude pro vás nepostradatelný &lt;a
href="http://www.nikhilk.net/Project.WebDevHelper.aspx"&gt;Web Developer
Hepler&lt;/a&gt;, který přidá do prohlížeče možnosti debugování JS kódu,
logování provozu na HTTP, DOM inspektor, informace o stránce, requesty a
návraty dat apod. Pokud ladíte ASP.NET na localhostu podporuje WDH
traceování, prohlížení ViewState a mnoho dalšího. Hodně užitečné.
Další pomůckou je &lt;a
href="http://www.microsoft.com/downloads/details.aspx?familyid=E59C3964-672D-4511-BB3E-2D5E1DB91038&amp;amp;displaylang=en"&gt;Developer
Toolbar&lt;/a&gt;, z dílny vývojářů MSIE.&lt;/p&gt;

&lt;p&gt;Pokud používáte Firefox, tak něco podobného umí &lt;a
href="https://addons.mozilla.org/firefox/1843/"&gt;FireBug&lt;/a&gt; a &lt;a
href="https://addons.mozilla.org/firefox/60/"&gt;WebDeveloper Toolbar&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Pokud používáte Operu, máte asi smůlu, doufám, že jen zatím, Opera
není v Atlasu podporovaná.&lt;/p&gt;

&lt;p&gt;Pokud používáte Safari, nevím, co bych vám doporučil, nikdy jsem neměl
možnost tento prohlížeč vyzkoušet, ale je podporovaný v Atlasu, takže,
zde by neměl být problém ;)&lt;/p&gt;

&lt;h3 id="toc-webcasty"&gt;Webcasty&lt;/h3&gt;

&lt;p&gt;Dnes je tato forma prezentace velice populární a v Microsoftu
nezaostávají :)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Nikhil Kothari – Představení platformy Atlas a její vize &lt;a
	href="http://www.microsoft.com/downloads/details.aspx?familyid=5CC5CE52-45B7-4C64-992C-4F0FBC8C8221&amp;amp;displaylang=en"&gt;EXE&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;Scott Guthrie – Ukázka vývoje ToDo listu &lt;a
	href="http://download.microsoft.com/download/8/5/8/85803fdd-fe9a-4783-ab37-e0c565172ffd/asp_net_atlas.wmv"&gt;WMV&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;Jonathan Hawkins – Přednáška o Atlasu s diváckými dotazy &lt;a
	href="http://download.microsoft.com/download/1/3/1/131b8030-b16e-4f75-b197-f7df71811181/ATLAS_Technology%20Preview_2-27-06.wmv"&gt;WMV&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id="toc-ukazky-kodu-z-mix-06"&gt;Ukázky kódu z MIX 06&lt;/h3&gt;

&lt;p&gt;&lt;a href="http://www.mix06.com/default.aspx?css=226dd03b3"&gt;MIX 06&lt;/a&gt; byla
konference věnovaná webovému vývoji z pohledu Microsoftu. Krom uvedeni
Beta2 verze Internet Exploreru 7 zde byla vypuštěna March CTP Atlasu a Atlasu
samotnému bylo věnováno hodně prostoru. Zde některé z přednášek a
zdrojových kódů:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Nikhil Kothari &lt;a
	href="http://www.nikhilk.net/Content/Presentations/MIX06.zip"&gt;ZIP&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;Brad Abrams a Rick Spencer &lt;a
	href="http://download.microsoft.com/download/b/6/0/b607f6f5-2843-4bc1-b41d-1396e33e81f2/DiceRUs.zip"&gt;ZIP&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;Shanku Niyogi &lt;a
	href="http://www.shankun.com/Downloads/MIX_Talk.zip"&gt;ZIP&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;Jonathan Hawkins &lt;a
	href="http://outdoorexplorer.org/atlasmap/atlasmap.zip"&gt;ZIP&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Doufám, že vám tento článek pomohl najít vhodné nástroje k vývoji
v Atlasu, či přinesl zajímavé informace ohledně vývoje samotného.
Příště se už opravdu pustíme do praktické ukázky a jak už jsem
naznačoval minule, mělo by jít o RSS čtečku.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Možná si říkáte, proč jsem zvolil tak divný nadpis. Odpověď je nasnadě, tento článek není slibovaným třetím dílem s praktickou ukázkou použití Atlasu, ale spíše praktickým doplněním předchozích dvou dílů o linky na zajímavé věci ohledně Atlasu. Omlouvám se tedy, že nyní neuvedu slibovaný kód, o který samozřejmě nepřijdete – ale vyžaduje delší přípravu – a snad vám budou následující řádky dostatečnou útěchou…

Začnu horkou novinkou. Právě byla uvolněna "sada Atlasích komponent":[AtlasToolkit], které by měly usnadnit práci ASP.NET vývojářům v obvyklých AJAXových scénářích. Můžete si je i přímo "vyzkoušet":[AtlasToolkitPreview] online. Sada obsahuje následující komponenty:

CascadingDropDown:
 - Kaskádní DropDown listy, klasický scénář použití AJAXu.
CollaspiblePanel:
 - Sbalovací panely, opět častá věc u různých boxíků.
ConfirmButton:
 - Extender, který při aplikaci na některý z Buttonů vyžaduje potvrzení provedení akce.
DragPanel:
 - Extender, který udělá ze zvoleného boxu, box volně přemisťovatelný po stránce. Zatím netuším jaký je rozdíl mezi DragDropExtenderem ze základního balíčku, ale pravděpodobně bude navíc podporovat součinnost jinými komponentami z AtlasToolkitu.
HoverMenu:
 - Popup okýnko s mnohem větší flexibilitou než HoverBehavior na klientské straně, viz ukázka:[http://atlas.asp.net/atlastoolkit/HoverMenu/HoverMenu.aspx]
PopupControl:
 - Další popup, tentokrát určený k trochu jiným scénářům, viz ukázka:[http://atlas.asp.net/atlastoolkit/PopupControl/PopupControl.aspx]
ReorderList:
 - Prvek svázaný s daty, který umožňuje reorganizaci pomocí přetahování.
TextBoxWatermark:
 - Něco podobného, jako mám v hledacím políčku. Do TextBoxu se vyplní předepsaný text např. „Hledaný text“ a po kliknutí do políčka zmizí.
ToggleButton:
 - Extender, který změní klasický CheckBox na obrázkový.

V toolkitu najdete jak ukázky předpřipraveného kódu k okamžitému použití tak i klasickou SDK dokumentaci. To by bylo k žhavé novince zvané AtlasToolkit:[AtlasToolkit] a nyní bych se chtěl zaměřit na nástroje, které nám ulehčí práci při vývoji AJAXových aplikací, Atlas nevyjímaje.

== Nástroje .[#nastroje]
V první řadě je to kvalitní vývojové prostředí, já doporučuji volně stažitelný "Visual WebDeveloper":[VWD], který je určen pro vývoj ASP.NET 2.0 aplikací, ale je vhodný i pro vývoj v Atlasu, sice ještě značně pokulhává Intellisense při vývoji JavaScriptu – což mi přijde logické vzhledem k silné netypovosti tohoto jazyka – i při editaci XML-Scriptu – tady zase uvažuji o napsání vlastního schématu, který by měl Intellisence generovat. No vývojáři slibujou, že v nové verzi „Orcas“ bude plná podpora vývoje v Atlasu, tak uvidíme.

Nejdůležitějším nástrojem je samotný Atlas:[Atlas], který se po instalaci integruje do Visual WebDeveloperu v podobě šablony nového projektu.

Další dobrou pomůckou jsou "JS Utils":[JSUtils] přidávající do JavaScriptu možnosti *kompilace*. Balíček obsahuje dva nástroje JSX2JS a JSA2JS. JSX je tzv. Extended JScript – umožňuje v kódu používat direktivy preprocesoru vhodné pro ladění kódu i s možností odlišování prohlížeče, JSA je JScript Assembly a ta umožňuje navíc includovat další JS a JSX soubory, po kompilaci dojde ke spojení souborů do jednoho a komprimaci přebytečných bílých znaků. Celé se to dá pomocí HttpModulu zaintegrovat do runtime ASP.NET a provádět JIT kompilaci. Samozřejmě kompilaci nepravou.

Pokud používáte MSIE, bude pro vás nepostradatelný "Web Developer Hepler":[WDH], který přidá do prohlížeče možnosti debugování JS kódu, logování provozu na HTTP, DOM inspektor, informace o stránce, requesty a návraty dat apod. Pokud ladíte ASP.NET na localhostu podporuje  WDH traceování, prohlížení ViewState a mnoho dalšího. Hodně užitečné. Další pomůckou je "Developer Toolbar":[DT], z dílny vývojářů MSIE.

Pokud používáte Firefox, tak něco podobného umí "FireBug":[FireBug] a "WebDeveloper Toolbar":[WDT].

Pokud používáte Operu, máte asi smůlu, doufám, že jen zatím, Opera není v Atlasu podporovaná.

Pokud používáte Safari, nevím, co bych vám doporučil, nikdy jsem neměl možnost tento prohlížeč vyzkoušet, ale je podporovaný v Atlasu, takže, zde by neměl být problém ;)

== Webcasty
Dnes je tato forma prezentace velice populární a v Microsoftu nezaostávají :)

- Nikhil Kothari - Představení platformy Atlas a její vize EXE:[http://www.microsoft.com/downloads/details.aspx?familyid=5CC5CE52-45B7-4C64-992C-4F0FBC8C8221&amp;displaylang=en]
- Scott Guthrie - Ukázka vývoje ToDo listu WMV:[http://download.microsoft.com/download/8/5/8/85803fdd-fe9a-4783-ab37-e0c565172ffd/asp_net_atlas.wmv]
- Jonathan Hawkins - Přednáška o Atlasu s diváckými dotazy WMV:[http://download.microsoft.com/download/1/3/1/131b8030-b16e-4f75-b197-f7df71811181/ATLAS_Technology%20Preview_2-27-06.wmv]

== Ukázky kódu z MIX 06
"MIX 06":[Mix06] byla konference věnovaná webovému vývoji z pohledu Microsoftu. Krom uvedeni Beta2 verze Internet Exploreru 7 zde byla vypuštěna March CTP Atlasu a Atlasu samotnému bylo věnováno hodně prostoru. Zde některé z přednášek a zdrojových kódů:

- Nikhil Kothari ZIP:[http://www.nikhilk.net/Content/Presentations/MIX06.zip]
- Brad Abrams a Rick Spencer ZIP:[http://download.microsoft.com/download/b/6/0/b607f6f5-2843-4bc1-b41d-1396e33e81f2/DiceRUs.zip]
- Shanku Niyogi ZIP:[http://www.shankun.com/Downloads/MIX_Talk.zip]
- Jonathan Hawkins ZIP:[http://outdoorexplorer.org/atlasmap/atlasmap.zip]

Doufám, že vám tento článek pomohl najít vhodné nástroje k vývoji v Atlasu, či přinesl zajímavé informace ohledně vývoje samotného. Příště se už opravdu pustíme do praktické ukázky a jak už jsem naznačoval minule, mělo by jít o RSS čtečku.

[Atlas]: http://www.microsoft.com/downloads/details.aspx?FamilyId=B01DC501-B3C1-4EC0-93F0-7DAC68D2F787&amp;displaylang=en
[AtlasToolkit]: http://atlas.asp.net/default.aspx?tabid=47&amp;subtabid=477
[AtlasToolkitPreview]: http://atlas.asp.net/atlastoolkit/
[VWD]: http://msdn.microsoft.com/vstudio/express/vwd/default.aspx
[JSUtils]: http://www.nikhilk.net/Project.JSUtils.aspx
[WDH]: http://www.nikhilk.net/Project.WebDevHelper.aspx
[DT]: http://www.microsoft.com/downloads/details.aspx?familyid=E59C3964-672D-4511-BB3E-2D5E1DB91038&amp;displaylang=en
[FireBug]: https://addons.mozilla.org/firefox/1843/
[WDT]: https://addons.mozilla.org/firefox/60/
[Mix06]: http://www.mix06.com/default.aspx?css=226dd03b3</raw>
    <author>Aleš Roubíček</author>
    <published>2006-04-13T08:08:25.983</published>
    <url>zaciname-s-atlasem-2a</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-06-23T15:31:59.117</edited>
  </article>
  <article>
    <id>134</id>
    <title>Opět novinky v ASP.NET</title>
    <description>Pár novinek z ASP.NET.</description>
    <html xml:space="preserve">
&lt;p&gt;ASP.NET team dnes uvolnil kompletní zdrojové kódy všech Providerů.
které jsou ASP.NET 2.0&amp;#160;k&amp;#160;nalezení. Autoři věří, že to pomůže
k&amp;#160;vytváření vlastních providerů. Licence je k&amp;#160;použití jak
v&amp;#160;komerčních, tak nekomerčních projektech. &lt;a
href="http://download.microsoft.com/download/a/b/3/ab3c284b-dc9a-473d-b7e3-33bacfcc8e98/ProviderToolkitSamples.msi"&gt;K&amp;#160;dostání
u&amp;#160;vašeho prodejce.&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Nedávno psal &lt;a href="http://weblogs.asp.net/scottgu/"&gt;ScottGu&lt;/a&gt;, aby
vývojáři nenasazovali na produkční servery aplikace v&amp;#160;&lt;em&gt;Debug
modu&lt;/em&gt;. Důvodů je hned několik. Aplikace je pomaleší (není
optimalizovaný kód), žere víc paměti a v&amp;#160;neposlední řadě se
necachují zdroje předávané přes WebResource.axd. Toho si všiml
i&amp;#160;můj kolega Dan Steigerwald, když testoval Atlas. Takže pozor! Raději
si zkontrolujte, zda máte ve vašem produkčním &lt;strong&gt;web.config&lt;/strong&gt;
souboru uvedeno &lt;code&gt;&amp;lt;compilation debug="false" /&amp;gt;&lt;/code&gt; a nezapomeňte
vypnout i&amp;#160;traceování, to rovněž ubírá na výkonu.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">ASP.NET team dnes uvolnil kompletní zdrojové kódy všech Providerů. které jsou ASP.NET 2.0 k nalezení. Autoři věří, že to pomůže k vytváření vlastních providerů. Licence je k použití jak v komerčních, tak nekomerčních projektech. "K dostání u vašeho prodejce.":[http://download.microsoft.com/download/a/b/3/ab3c284b-dc9a-473d-b7e3-33bacfcc8e98/ProviderToolkitSamples.msi]

Nedávno psal [ScottGu], aby vývojáři nenasazovali na produkční servery aplikace v *Debug modu*. Důvodů je hned několik. Aplikace je pomaleší (není optimalizovaný kód), žere víc paměti a v neposlední řadě se necachují zdroje předávané přes WebResource.axd. Toho si všiml i můj kolega Dan Steigerwald, když testoval Atlas. Takže pozor! Raději si zkontrolujte, zda máte ve vašem produkčním **web.config** souboru uvedeno `&lt;compilation debug="false" /&gt;` a nezapomeňte vypnout i traceování, to rovněž ubírá na výkonu.

[ScottGu]: http://weblogs.asp.net/scottgu/ ScottGu</raw>
    <author>Aleš Roubíček</author>
    <published>2006-04-14T07:07:56.037</published>
    <url>opet-novinky-v-asp-net</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-04-14T07:08:43.563</edited>
  </article>
  <article>
    <id>135</id>
    <title>Eric Prydz poprvé v Praze - update</title>
    <description>Menší report z akce. Přidány odkazy na další report a fotky.</description>
    <html xml:space="preserve">
&lt;p&gt;V&amp;#160;pátek jsem navštívil společně s&amp;#160;kamarády &lt;a
href="http://www.vibrations.cz/"&gt;Vibrations&lt;/a&gt;, kde mimo jiné premiérově
vystoupil jeden z&amp;#160;mých nejoblíbenějších DJs &lt;a
href="http://www.ericprydz.com/"&gt;Eric Prydz&lt;/a&gt;. Konečně jsem si mohl na
živo a s&amp;#160;pořádným zvukem vychutnat Erikův live set. A&amp;#160;byla to
opravdu bomba! Kubovi se Erikovo vystoupení moc nelíbilo, ale já s&amp;#160;&lt;a
href="http://mikemaly.net/"&gt;mikem&lt;/a&gt; jsme si to dokonale užívali. &lt;img
class="right" src="/data/obrazky/vibrations.jpg" alt="Vibrations Live" /&gt; Eric
nastoupil s&amp;#160;dokonalostí zvanou &lt;strong&gt;1 2 3&lt;/strong&gt;&amp;#160;kterou vydal
společně s&amp;#160;&lt;a href="http://www.axwell.nu/"&gt;Axwellem&lt;/a&gt; pod jmenovkou
&lt;em&gt;AxEr&lt;/em&gt;, následoval remix The Drill, pravděpodobně Erikův :) pak už
se to vezlo jeden dobrej elektro-houseovej kus za druhým, namátkou
z&amp;#160;těch co jsem poznal: Draft (Remix), Sucker DJ (Remix), Good Life
(Remix), A&amp;#160;Bit Patchy (Remix), Sweet Dreams (steve angello bootleg remix),
Copy Rat, Re-Match, Aftermath (Paolo Mojo Remix), Tomas Andersson… Prostě
geniální dvě hodiny house music. Pak jsme se šli trochu vyvětrat na chodbu
a na hodinu jsme zapluli do Chilličili, kde hráli do pohody ve stylu Boba
Sinclara :) Takže každej kdo tam nebyl má čeho litovat, ale nemusí, už za
měsíc se do Prahy přiřítí další ze Swedish House Mafia &amp;#8211; &lt;a
href="http://www.steveangello.tv/"&gt;Steve Angello&lt;/a&gt;!&lt;/p&gt;

&lt;h3&gt;Další čtení&lt;/h3&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a
	href="http://www.mikemaly.net/clanek/12-vodafone-vibrations-report.aspx"&gt;Mikův
	report z&amp;#160;akce&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a
	href="http://www.mikemaly.net/galerie/2006-04-14_vodafone_vibrations/default.aspx"&gt;Mikovy
	fotky z&amp;#160;akce&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">V pátek jsem navštívil společně s kamarády Vibrations:[http://www.vibrations.cz/], kde mimo jiné premiérově vystoupil jeden z mých nejoblíbenějších DJs "Eric Prydz":[http://www.ericprydz.com/]. Konečně jsem si mohl na živo a s pořádným zvukem vychutnat Erikův live set. A byla to opravdu bomba! Kubovi se Erikovo vystoupení moc nelíbilo, ale já s mikem:[http://mikemaly.net/] jsme si to dokonale užívali. [*/data/obrazky/vibrations.jpg .(Vibrations Live)[right]*] Eric nastoupil s dokonalostí zvanou **1 2 3** kterou vydal společně s Axwellem:[http://www.axwell.nu/] pod jmenovkou *AxEr*, následoval remix The Drill, pravděpodobně Erikův :) pak už se to vezlo jeden dobrej elektro-houseovej kus za druhým, namátkou z těch co jsem poznal: Draft (Remix), Sucker DJ (Remix), Good Life (Remix), A Bit Patchy (Remix), Sweet Dreams (steve angello bootleg remix), Copy Rat, Re-Match, Aftermath (Paolo Mojo Remix), Tomas Andersson… Prostě geniální dvě hodiny house music. Pak jsme se šli trochu vyvětrat na chodbu a na hodinu jsme zapluli do Chilličili, kde hráli do pohody ve stylu Boba Sinclara :) Takže každej kdo tam nebyl má čeho litovat, ale nemusí, už za měsíc se do Prahy přiřítí další ze Swedish House Mafia - "Steve Angello":[http://www.steveangello.tv/]!

== Další čtení
- "Mikův report z akce":http://www.mikemaly.net/clanek/12-vodafone-vibrations-report.aspx
- "Mikovy fotky z akce":http://www.mikemaly.net/galerie/2006-04-14_vodafone_vibrations/default.aspx
</raw>
    <author>Aleš Roubíček</author>
    <published>2006-04-18T09:16:00</published>
    <url>eric-prydz-poprve-v-praze</url>
    <category>Muzika</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-04-20T12:34:00.237</edited>
  </article>
  <article>
    <id>136</id>
    <title>Texy RPC wrapper pro dotnet</title>
    <description>Texy se na nás směje.</description>
    <html xml:space="preserve">
&lt;h3&gt;Update 2&lt;/h3&gt;

&lt;p&gt;Protože se změnil protokol komunikace s&amp;#160;Texy RPC a já měl
i&amp;#160;pár nápdů na vylepšení, použijte raději &lt;a
href="/clanek/196-texy-net-release-candidate.aspx"&gt;Texy.net RC1&lt;/a&gt;, je to
&lt;strong&gt;jediná funkční&lt;/strong&gt; verze ;)&lt;/p&gt;

&lt;h3&gt;Update&lt;/h3&gt;

&lt;p&gt;&lt;em&gt;Napsal jsem knihovnu, která zprostředkovává kounikaci s&amp;#160;Texy!
XML-RPC, která je mnohem lepší než toto řešení. Najdete ji
v&amp;#160;článku &lt;a href="/clanek/158-texy-net-1-0-beta.aspx"&gt;Texy.net
1.0&amp;#160;beta&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Ještě jsem ani nestihl napsat, že &lt;a
href="http://www.dgx.cz/trine/"&gt;DGX&lt;/a&gt; uvolnil finální release &lt;a
href="http://www.texy.info/"&gt;Texy! 1.0&lt;/a&gt;&amp;#160;a včera večer přidal ještě
XML RPC rozhranní pro Texy (na adrese &lt;code&gt;http://xmlrpc.texy.info/&lt;/code&gt;).
Toho jsem nemohl nevyužít k&amp;#160;procvičení vzdáleného volání
z&amp;#160;ASP.NET. Sice to neni tak elegantní řešení jako u&amp;#160;&lt;a
href="/clanek/64-texy-web-service-ws.aspx"&gt;Texy WS&lt;/a&gt;, ale je tu další
možnost, jak Texy do dotnetu implementovat&amp;#8230;&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-csharp"&gt;using System;
using System.IO;
using System.Net;
using System.Web;
using System.Collections;
using System.Web.Services;
using System.Web.Services.Protocols;
using System.Xml;
using System.Text;

[WebService(
    Namespace = "http://rarous.net/ws/",
    Description = "XML RPC to SOAP bridge for Texy!")]
[WebServiceBinding(ConformsTo = WsiProfiles.BasicProfile1_1)]
public class TexyService : System.Web.Services.WebService {

    public TexyService () { }

    [WebMethod(Description = "Konvertuje vstupní text do XHTML")]
    public string ConvertToXhtml(string text)
    {
        Uri url = new Uri("http://xmlrpc.texy.info/");
        HttpWebRequest request = WebRequest.Create(url) as HttpWebRequest;
        request.UserAgent = "Gryphoon Texy Bridge 0.1";
        request.Accept = "text/html, text/xml, application/xhtml+xml, application/xml";
        request.ContentType = "text/xml";
        request.Method = "POST";

        XmlTextWriter writer = new XmlTextWriter(request.GetRequestStream(), Encoding.UTF8);
        writer.WriteStartDocument();
        writer.WriteStartElement("methodCall");
            writer.WriteElementString("methodName", "texy1.toHtml");
            writer.WriteStartElement("params");
                writer.WriteStartElement("param");
                    writer.WriteStartElement("value");
                        writer.WriteElementString("string", text);
                    writer.WriteEndElement();
                writer.WriteEndElement();
            writer.WriteEndElement();
        writer.WriteEndElement();
        writer.Close();

        HttpWebResponse response = request.GetResponse() as HttpWebResponse;
        XmlTextReader reader = new XmlTextReader(response.GetResponseStream());

        string output = String.Empty;
        object val = reader.NameTable.Add("string");
        while (reader.Read())
        {
            if (reader.NodeType == XmlNodeType.Element &amp;amp;&amp;amp; reader.Name.Equals(val))
                output = Server.HtmlDecode(reader.ReadInnerXml());
        }

        reader.Close();
        response.Close();

        return output;
    }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Rovnou jsem wrapper implementoval do Webové služby pro další využití
(např. v&amp;#160;Atlasu), ale celá magie je pouze v&amp;#160;metodě
&lt;code&gt;ConvertToXhtml&lt;/code&gt;, která se o&amp;#160;všechno postará. Tohle je
první nástřel a možná má ještě nějaký mouchy, ale to se podá ;)
Určitě chci ještě dopsat možnost konfigurace, kterou &lt;a
href="http://www.texy.info/cz/xmlrpc"&gt;Texy RPC taky nabízí&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href="/ws/TexyService.asmx"&gt;Ukázka služby&lt;/a&gt;&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">== Update 2
Protože se změnil protokol komunikace s Texy RPC a já měl i pár nápdů na vylepšení, použijte raději "Texy.net RC1":[/clanek/196-texy-net-release-candidate.aspx], je to **jediná funkční** verze ;)

== Update
*Napsal jsem knihovnu, která zprostředkovává kounikaci s Texy! XML-RPC, která je mnohem lepší než toto řešení. Najdete ji v článku "Texy.net 1.0 beta":[/clanek/158-texy-net-1-0-beta.aspx]*

Ještě jsem ani nestihl napsat, že DGX:[http://www.dgx.cz/trine/] uvolnil finální release "Texy! 1.0":[http://www.texy.info/] a včera večer přidal ještě XML RPC rozhranní pro Texy (na adrese `http://xmlrpc.texy.info/`). Toho jsem nemohl nevyužít k procvičení vzdáleného volání z ASP.NET. Sice to neni tak elegantní řešení jako u "Texy WS":[/clanek/64-texy-web-service-ws.aspx], ale je tu další možnost, jak Texy do dotnetu implementovat...

/---code csharp
using System;
using System.IO;
using System.Net;
using System.Web;
using System.Collections;
using System.Web.Services;
using System.Web.Services.Protocols;
using System.Xml;
using System.Text;

[WebService(
    Namespace = "http://rarous.net/ws/",
    Description = "XML RPC to SOAP bridge for Texy!")]
[WebServiceBinding(ConformsTo = WsiProfiles.BasicProfile1_1)]
public class TexyService : System.Web.Services.WebService {

    public TexyService () { }

    [WebMethod(Description = "Konvertuje vstupní text do XHTML")]
    public string ConvertToXhtml(string text)
    {
        Uri url = new Uri("http://xmlrpc.texy.info/");
        HttpWebRequest request = WebRequest.Create(url) as HttpWebRequest;
        request.UserAgent = "Gryphoon Texy Bridge 0.1";
        request.Accept = "text/html, text/xml, application/xhtml+xml, application/xml";
        request.ContentType = "text/xml";
        request.Method = "POST";

        XmlTextWriter writer = new XmlTextWriter(request.GetRequestStream(), Encoding.UTF8);
        writer.WriteStartDocument();
        writer.WriteStartElement("methodCall");
            writer.WriteElementString("methodName", "texy1.toHtml");
            writer.WriteStartElement("params");
                writer.WriteStartElement("param");
                    writer.WriteStartElement("value");
                        writer.WriteElementString("string", text);
                    writer.WriteEndElement();
                writer.WriteEndElement();
            writer.WriteEndElement();
        writer.WriteEndElement();
        writer.Close();

        HttpWebResponse response = request.GetResponse() as HttpWebResponse;
        XmlTextReader reader = new XmlTextReader(response.GetResponseStream());

        string output = String.Empty;
        object val = reader.NameTable.Add("string");
        while (reader.Read())
        {
            if (reader.NodeType == XmlNodeType.Element &amp;&amp; reader.Name.Equals(val))
                output = Server.HtmlDecode(reader.ReadInnerXml());
        }

        reader.Close();
        response.Close();

        return output;
    }
}
\---

Rovnou jsem wrapper implementoval do Webové služby pro další využití (např. v Atlasu), ale celá magie je pouze v metodě `ConvertToXhtml`, která se o všechno postará. Tohle je první nástřel a možná má ještě nějaký mouchy, ale to se podá ;) Určitě chci ještě dopsat možnost konfigurace, kterou "Texy RPC taky nabízí":[http://www.texy.info/cz/xmlrpc].

"Ukázka služby":[/ws/TexyService.asmx]</raw>
    <author>Aleš Roubíček</author>
    <published>2006-04-20T12:35:31.787</published>
    <url>texy-rpc-wrapper-pro-dotnet</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2007-04-20T07:22:54.727</edited>
  </article>
  <article>
    <id>138</id>
    <title>První praktická ukázka použití Atlasu</title>
    <description>Další díl seriálu o Atlas frameworku, tentokrát praktická ukázka. (Rozšířeno o Progress)</description>
    <html xml:space="preserve">
&lt;p&gt;Když už jsem v&amp;#160;&lt;a
href="/clanek/136-texy-rpc-wrapper-pro-dotnet.aspx"&gt;minulém spotu&lt;/a&gt; napsal
takovou pěknou webovou službu, proč ji nevyužít k&amp;#160;praktické ukázce
využití Atlasu :) Následůjící kód převádí zadaný text v&amp;#160;Texy
syntaxu na XHTML a zobrazí ho do stránky s&amp;#160;polečně s&amp;#160;výpisem
získaného kódu.&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-markup"&gt;&amp;lt;%@ Page Language="C#" %&amp;gt;

&amp;lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&amp;gt;
&amp;lt;html xmlns="http://www.w3.org/1999/xhtml"&amp;gt;
&amp;lt;head id="Head1" runat="server"&amp;gt;
    &amp;lt;title&amp;gt;Texy Converter v Atlasu&amp;lt;/title&amp;gt;
    &amp;lt;style type="text/css"&amp;gt;
        .bordered {border:3px double #CCC;}
        .pre {font-family:monospace;}
    &amp;lt;/style&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
    &amp;lt;form id="form1" runat="server"&amp;gt;
        &amp;lt;atlas:ScriptManager ID="ScriptManager1" runat="server" /&amp;gt;

        &amp;lt;div&amp;gt;
            &amp;lt;fieldset&amp;gt;
                &amp;lt;legend&amp;gt;Převést Texy! do XHTML&amp;lt;/legend&amp;gt;
                &amp;lt;label for="texyInput"&amp;gt;Texy kód&amp;lt;/label&amp;gt;
                &amp;lt;br /&amp;gt;
                &amp;lt;textarea id="texyInput" cols="80" rows="12"&amp;gt;
                ukázkový kód v "Texy!":[http://www.texy.info]
                &amp;lt;/textarea&amp;gt;
                &amp;lt;br /&amp;gt;
                &amp;lt;input type="button" id="convertButton" value="Převeď" /&amp;gt;
            &amp;lt;/fieldset&amp;gt;

            &amp;lt;!-- Zprava behem nacitani dat --&amp;gt;
            &amp;lt;div id="progress"&amp;gt;Načítám data...&amp;lt;/div&amp;gt;

            &amp;lt;!-- Placeholder pro vystup --&amp;gt;
            &amp;lt;div id="output"&amp;gt;
                &amp;lt;h2&amp;gt;Formátovaný text&amp;lt;/h2&amp;gt;
                &amp;lt;div id="xhtmlOutput" class="bordered"&amp;gt;&amp;lt;/div&amp;gt;
                &amp;lt;h2&amp;gt;XHTML kód&amp;lt;/h2&amp;gt;
                &amp;lt;div id="textOutput" class="bordered pre"&amp;gt;&amp;lt;/div&amp;gt;
            &amp;lt;/div&amp;gt;
        &amp;lt;/div&amp;gt;
    &amp;lt;/form&amp;gt;

    &amp;lt;script type="text/xml-script"&amp;gt;
        &amp;lt;page xmlns:script="http://schemas.microsoft.com/xml-script/2005"&amp;gt;
            &amp;lt;components&amp;gt;
                &amp;lt;control id="output" visible="false" /&amp;gt;
                &amp;lt;control id="progress" visible="false" /&amp;gt;

                &amp;lt;label id="xhtmlOutput"&amp;gt;
                  &amp;lt;bindings&amp;gt;
                    &amp;lt;binding id="resultsBinding1" dataContext="texyService"
                             dataPath="result" property="text" automatic="false" /&amp;gt;
                  &amp;lt;/bindings&amp;gt;
                &amp;lt;/label&amp;gt;

                &amp;lt;label id="textOutput" htmlEncode="true"&amp;gt;
                  &amp;lt;bindings&amp;gt;
                    &amp;lt;binding id="resultsBinding2" dataContext="texyService"
                             dataPath="result" property="text" automatic="false" /&amp;gt;
                  &amp;lt;/bindings&amp;gt;
                &amp;lt;/label&amp;gt;

                &amp;lt;textBox id="texyInput" /&amp;gt;

                &amp;lt;button id="convertButton"&amp;gt;
                  &amp;lt;click&amp;gt;
                    &amp;lt;invokeMethod target="texyService" method="invoke" /&amp;gt;
                    &amp;lt;setProperty target="progress" property="visible" value="true" /&amp;gt;
                  &amp;lt;/click&amp;gt;
                &amp;lt;/button&amp;gt;

                &amp;lt;serviceMethod id="texyService" methodName="ConvertToXhtml"
                               url="/ws/TexyService.asmx"&amp;gt;
                  &amp;lt;bindings&amp;gt;
                    &amp;lt;binding property="parameters" propertyKey="text"
                             dataContext="texyInput" dataPath="text" /&amp;gt;
                  &amp;lt;/bindings&amp;gt;
                  &amp;lt;completed&amp;gt;
                    &amp;lt;invokeMethod target="resultsBinding1" method="evaluateIn" /&amp;gt;
                    &amp;lt;invokeMethod target="resultsBinding2" method="evaluateIn" /&amp;gt;
                    &amp;lt;setProperty target="output" property="visible" value="true" /&amp;gt;
                    &amp;lt;setProperty target="progress" property="visible" value="false" /&amp;gt;
                  &amp;lt;/completed&amp;gt;
                &amp;lt;/serviceMethod&amp;gt;
            &amp;lt;/components&amp;gt;
        &amp;lt;/page&amp;gt;
    &amp;lt;/script&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Celá ukázka se obešla bez napsání jediného řádku JS kódu &amp;#8211;
byla použita deklarativní metoda :) Na ukázce neni moc zvláštností. Jde
o&amp;#160;standardní ASP.NET stránku s&amp;#160;přidaným
&lt;code&gt;ScriptManagerem&lt;/code&gt;, formulářem pro zadávání textu a placeholdery
pro vypsání výsledku. Následuje &lt;strong&gt;XML-Script&lt;/strong&gt; a tomu se
podíváme na zoubek.&lt;/p&gt;

&lt;p&gt;Prvním krokem je přidání komponent &amp;#8211; navázání HTML prvků
s&amp;#160;objektovým modelem Atlasu. Přidal jsem &lt;code&gt;output&lt;/code&gt; a
zneviditelnil ho, aby se neukazovaly prázdné divy a nadpisy před příchodem
dat. Přidal jsem další dva divy jako &lt;code&gt;label&lt;/code&gt;y, které načítají
data z&amp;#160;webové služby, a ten druhý encoduje HTML na entity.&lt;/p&gt;

&lt;p&gt;Přidání &lt;code&gt;textBox&lt;/code&gt;u&amp;#160;pro vstup je samozřejmostí :)
Odesílacímu tlačítku přiřadíme ovladač události &lt;code&gt;click&lt;/code&gt; a
nastavíme, aby odeslal data webové službě a zobrazil box s&amp;#160;výsledkem.
Poslední komponentou je samotná služba. Ta má pouze jeden vstupní parametr
&lt;code&gt;text&lt;/code&gt;, který je svázaný s&amp;#160;hodnotou vstupního
políčka.&lt;/p&gt;

&lt;p&gt;A&amp;#160;pokud proběhla komunikace se službou v&amp;#160;pořádku a máme
výsledek, svážeme ho s&amp;#160;výstupními placeholdery. A&amp;#160;to je pro
dnešek vše, přátelé. Na případné dotazy rád odpovím
v&amp;#160;komentářích.&lt;/p&gt;

&lt;h3&gt;Doplnění&lt;/h3&gt;

&lt;p&gt;Díky věcné &lt;a
href="/clanek/138-prvni-prakticka-ukazka-pouziti-atlasu.aspx#km144"&gt;připomínce&lt;/a&gt;
Petra v&amp;#160;komentářích jsem doplnil zobrazení zprávy o&amp;#160;průběhu
akce při probíhající komunikaci se službou. Díky ;)&lt;/p&gt;

&lt;p&gt;&lt;a href="http://rarous.net/ukazky/texy-atlas.aspx"&gt;Ukázka aplikace&lt;/a&gt;&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Když už jsem v "minulém spotu":[/clanek/136-texy-rpc-wrapper-pro-dotnet.aspx] napsal takovou pěknou webovou službu, proč ji nevyužít k praktické ukázce využití Atlasu :) Následůjící kód převádí zadaný text v Texy syntaxu na XHTML a zobrazí ho do stránky s polečně s výpisem získaného kódu.

/---code xml
&lt;%@ Page Language="C#" %&gt;

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head id="Head1" runat="server"&gt;
    &lt;title&gt;Texy Converter v Atlasu&lt;/title&gt;
    &lt;style type="text/css"&gt;
        .bordered {border:3px double #CCC;}
        .pre {font-family:monospace;}
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;form id="form1" runat="server"&gt;
        &lt;atlas:ScriptManager ID="ScriptManager1" runat="server" /&gt;

        &lt;div&gt;
            &lt;fieldset&gt;
                &lt;legend&gt;Převést Texy! do XHTML&lt;/legend&gt;
                &lt;label for="texyInput"&gt;Texy kód&lt;/label&gt;
                &lt;br /&gt;

                &lt;textarea id="texyInput" cols="80" rows="12"&gt;
                ukázkový kód v "Texy!":[http://www.texy.info]
                &lt;/textarea&gt;
                &lt;br /&gt;
                &lt;input type="button" id="convertButton" value="Převeď" /&gt;
            &lt;/fieldset&gt;

            &lt;!-- Zprava behem nacitani dat --&gt;
            &lt;div id="progress"&gt;Načítám data...&lt;/div&gt;

            &lt;!-- Placeholder pro vystup --&gt;
            &lt;div id="output"&gt;
                &lt;h2&gt;Formátovaný text&lt;/h2&gt;
                &lt;div id="xhtmlOutput" class="bordered"&gt;&lt;/div&gt;
                &lt;h2&gt;XHTML kód&lt;/h2&gt;
                &lt;div id="textOutput" class="bordered pre"&gt;&lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/form&gt;

    &lt;script type="text/xml-script"&gt;
        &lt;page xmlns:script="http://schemas.microsoft.com/xml-script/2005"&gt;
            &lt;components&gt;
                &lt;control id="output" visible="false" /&gt;
                &lt;control id="progress" visible="false" /&gt;

                &lt;label id="xhtmlOutput"&gt;
                  &lt;bindings&gt;
                    &lt;binding id="resultsBinding1" dataContext="texyService"
                             dataPath="result" property="text" automatic="false" /&gt;
                  &lt;/bindings&gt;
                &lt;/label&gt;

                &lt;label id="textOutput" htmlEncode="true"&gt;
                  &lt;bindings&gt;
                    &lt;binding id="resultsBinding2" dataContext="texyService"
                             dataPath="result" property="text" automatic="false" /&gt;
                  &lt;/bindings&gt;
                &lt;/label&gt;

                &lt;textBox id="texyInput" /&gt;

                &lt;button id="convertButton"&gt;
                  &lt;click&gt;
                    &lt;invokeMethod target="texyService" method="invoke" /&gt;
                    &lt;setProperty target="progress" property="visible" value="true" /&gt;
                  &lt;/click&gt;
                &lt;/button&gt;

                &lt;serviceMethod id="texyService" methodName="ConvertToXhtml"
                               url="/ws/TexyService.asmx"&gt;
                  &lt;bindings&gt;
                    &lt;binding property="parameters" propertyKey="text"
                             dataContext="texyInput" dataPath="text" /&gt;
                  &lt;/bindings&gt;
                  &lt;completed&gt;
                    &lt;invokeMethod target="resultsBinding1" method="evaluateIn" /&gt;
                    &lt;invokeMethod target="resultsBinding2" method="evaluateIn" /&gt;
                    &lt;setProperty target="output" property="visible" value="true" /&gt;
                    &lt;setProperty target="progress" property="visible" value="false" /&gt;
                  &lt;/completed&gt;
                &lt;/serviceMethod&gt;
            &lt;/components&gt;
        &lt;/page&gt;
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
\---

Celá ukázka se obešla bez napsání jediného řádku JS kódu - byla použita deklarativní metoda :) Na ukázce neni moc zvláštností. Jde o standardní ASP.NET stránku s přidaným `ScriptManagerem`, formulářem pro zadávání textu a placeholdery pro vypsání výsledku. Následuje **XML-Script** a tomu se podíváme na zoubek.

Prvním krokem je přidání komponent - navázání HTML prvků s objektovým modelem Atlasu. Přidal jsem `output` a zneviditelnil ho, aby se neukazovaly prázdné divy a nadpisy před příchodem dat. Přidal jsem další dva divy jako `label`y, které načítají data z webové služby, a ten druhý encoduje HTML na entity.

Přidání `textBox`u pro vstup je samozřejmostí :) Odesílacímu tlačítku přiřadíme ovladač události `click` a nastavíme, aby odeslal data webové službě a zobrazil box s výsledkem. Poslední komponentou je samotná služba. Ta má pouze jeden vstupní parametr `text`, který je svázaný s hodnotou vstupního políčka.

A pokud proběhla komunikace se službou v pořádku a máme výsledek, svážeme ho s výstupními placeholdery. A to je pro dnešek vše, přátelé. Na případné dotazy rád odpovím v komentářích.

== Doplnění

Díky věcné "připomínce":[/clanek/138-prvni-prakticka-ukazka-pouziti-atlasu.aspx#km144] Petra v komentářích jsem doplnil zobrazení zprávy o průběhu akce při probíhající komunikaci se službou. Díky ;)

"Ukázka aplikace":[http://rarous.net/ukazky/texy-atlas.aspx]</raw>
    <author>Aleš Roubíček</author>
    <published>2006-04-25T21:46:00</published>
    <url>prvni-prakticka-ukazka-pouziti-atlasu</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-04-26T10:30:58.243</edited>
  </article>
  <article>
    <id>139</id>
    <title>Kniha o tvorbě a konzumaci WS zdarma</title>
    <description>Apress vydal free knihu o tvorbě a konzumaci webových služeb s návazností na velké hráče - Google a Amazon.</description>
    <html xml:space="preserve">
&lt;p&gt;Tento článeček je jen odkazovací, moc vlastní invence nepřináší, ale
i&amp;#160;tak je poměrně zajímavý. Teda pokud vás, stejně jako mě, zajímá
problematika webových služeb &amp;#8211; pro některé jedna z&amp;#160;webových
bublin. Nakladatelsví Apress vydalo knihu &lt;a
href="http://apress.com/book/bookDisplay.html?bID=273"&gt;Google, Amazon, and
Beyond: Creating and Consuming Web Services&lt;/a&gt;. &lt;a
href="http://www.apress.com/free/content/googleamazon.pdf"&gt;Ke stažení&lt;/a&gt;
(2.1&amp;#160;MiB, PDF)&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Tento článeček je jen odkazovací, moc vlastní invence nepřináší, ale i tak je poměrně zajímavý. Teda pokud vás, stejně jako mě, zajímá problematika webových služeb - pro některé jedna z webových bublin. Nakladatelsví Apress vydalo knihu "Google, Amazon, and Beyond: Creating and Consuming Web Services":[http://apress.com/book/bookDisplay.html?bID=273]. "Ke stažení":[http://www.apress.com/free/content/googleamazon.pdf] (2.1 MiB, PDF)</raw>
    <author>Aleš Roubíček</author>
    <published>2006-04-23T07:33:21.397</published>
    <url>kniha-o-tvorbe-a-konzumaci-ws-zdarma</url>
    <category>Webové služby</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-04-23T07:34:01.863</edited>
  </article>
  <article>
    <id>140</id>
    <title>IE7 beta 2</title>
    <description>Komentář k uvolnění skutečné Beta2 Internet Exploreru 7 s pár postřehy, co se změnilo.</description>
    <html xml:space="preserve">
&lt;p&gt;Je tomu tak právě byla vydáná &lt;strong&gt;skutečná beta2&lt;/strong&gt; IE7.
Verze, které byly dosud, byly pouze Beta2 Preview. Dnešní release by měl
přinést opravu, chyb které byly reportovány díky Preview verzím. Beta 2,
bude uvolněna i&amp;#160;v němčině, arabštině, japonštině a finštině :)
Čeština ve výčtu chybí ;) Dalšími důležitými releasy by měla být
WinVi Beta 2, IE7 beta3, následovaná RCčkama a finální verze bychom se
měli dočkat někdy v&amp;#160;druhé půlce tohoto roku. (osobně tipuju konec
listopadu)&lt;/p&gt;

&lt;p&gt;Pokud se rozhodnete pro &lt;a
href="http://www.microsoft.com/windows/ie/downloads/default.mspx"&gt;instalaci
IE7b2&lt;/a&gt; nezpoměňte nejprve &lt;a
href="http://www.dgx.cz/trine/item/jak-odinstalovat-ie7-beta/category/web-design"&gt;odinstalovat
předchozí IE7&lt;/a&gt; verze! Pokud se vám to, stejně jako mně, nepovede
&amp;#8211; smazal jsem si restorepointy :D &amp;#8211; dejte vědět, přes mail vám
napovím, jak na to ;)&lt;/p&gt;

&lt;h3&gt;Doplnění&lt;/h3&gt;

&lt;p&gt;Tak už jsem vyzkoušel a tady jsou mé postřehy:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Lehká změna UI, nyní je decentnější, jemnější a konzistentnější,
	změna neji nikterak markatní, ale je příjemná&lt;/li&gt;

	&lt;li&gt;Renderovací chyby asi zůstaly : pořád se mi rozpadají kulaté rohy
	v&amp;#160;&lt;a href="http://www.gmail.com/"&gt;GMailu&lt;/a&gt;, floatování taky ještě
	neni OK (viz taby na &lt;a href="http://www.atlas.cz/"&gt;titulce Atlasu&lt;/a&gt;)&lt;/li&gt;

	&lt;li&gt;Pravděpodobně došlo k&amp;#160;odstarnění některých chyb
	v&amp;#160;JavaScriptu &amp;#8211; začal mi fungovat &lt;a
	href="http://reader.google.com/"&gt;Google Reader&lt;/a&gt;, který Preview verzi
	spolehlivě odstřelil.&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Je tomu tak právě byla vydáná **skutečná beta2** IE7. Verze, které byly dosud, byly pouze Beta2 Preview. Dnešní release by měl přinést opravu, chyb které byly reportovány díky Preview verzím. Beta 2, bude uvolněna i v němčině, arabštině, japonštině a finštině :) Čeština ve výčtu chybí ;) Dalšími důležitými releasy by měla být WinVi Beta 2, IE7 beta3, následovaná RCčkama a finální verze bychom se měli dočkat někdy v druhé půlce tohoto roku. (osobně tipuju konec listopadu)

Pokud se rozhodnete pro "instalaci IE7b2":[http://www.microsoft.com/windows/ie/downloads/default.mspx] nezpoměňte nejprve "odinstalovat předchozí IE7":[http://www.dgx.cz/trine/item/jak-odinstalovat-ie7-beta/category/web-design] verze! Pokud se vám to, stejně jako mně, nepovede - smazal jsem si restorepointy :D - dejte vědět, přes mail vám napovím, jak na to ;)

== Doplnění
Tak už jsem vyzkoušel a tady jsou mé postřehy:
- Lehká změna UI, nyní je decentnější, jemnější a konzistentnější, změna neji nikterak markatní, ale je příjemná
- Renderovací chyby asi zůstaly : pořád se mi rozpadají kulaté rohy v GMailu:[http://www.gmail.com/], floatování taky ještě neni OK (viz taby na "titulce Atlasu":[http://www.atlas.cz/])
- Pravděpodobně došlo k odstarnění některých chyb v JavaScriptu - začal mi fungovat "Google Reader":[http://reader.google.com/], který Preview verzi spolehlivě odstřelil.</raw>
    <author>Aleš Roubíček</author>
    <published>2006-04-25T09:55:00</published>
    <url>ie7-beta-2</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-04-25T09:57:17.910</edited>
  </article>
  <article>
    <id>141</id>
    <title>Remember Me or not?</title>
    <description>Ukázka špatného návrhu ASP.NET 2.0</description>
    <html xml:space="preserve">
&lt;p&gt;Taky se vám stalo, že jste chtěli využích svělých dovedností
MemberShip Provideru a Login controls, a když jste zaškrtli &lt;em&gt;Remember
Me&lt;/em&gt;, tak se to chopvalo úplně stejně? Tak to jste narazili na chybu,
teda alespoň podle mě to chyba je. Podle vývojářů ASP.NET je to &lt;em&gt;by
design&lt;/em&gt; :(&lt;/p&gt;

&lt;p&gt;Problém je v&amp;#160;tom, že ASP.NET 2.0&amp;#160;načítá životnost
perzistentní i&amp;#160;neperzistentní cookie z&amp;#160;web.configu a to pouze
z&amp;#160;jedné hodnoty! Tato hodnota je pro obě metody stejná, tak v&amp;#160;čem
je rozdíl? ASP.NET 1.x načítalo pro neperzistentní cookie stejnou hodnotu
z&amp;#160;web.configu, ale perzistentní cookie byla natvrdo asi na 50&amp;#160;let.
Teď opravdu nechápu, k&amp;#160;čemu mi je perzistentní cookie, když expiruje
za stejnou dobu jako neperzistentí&amp;#8230;&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Taky se vám stalo, že jste chtěli využích svělých dovedností MemberShip Provideru a Login controls, a když jste zaškrtli *Remember Me*, tak se to chopvalo úplně stejně? Tak to jste narazili na chybu, teda alespoň podle mě to chyba je. Podle vývojářů ASP.NET je to *by design* :(

Problém je v tom, že ASP.NET 2.0 načítá životnost perzistentní i neperzistentní cookie z web.configu a to pouze z jedné hodnoty! Tato hodnota je pro obě metody stejná, tak v čem je rozdíl? ASP.NET 1.x načítalo pro neperzistentní cookie stejnou hodnotu z web.configu, ale perzistentní cookie byla natvrdo asi na 50 let. Teď opravdu nechápu, k čemu mi je perzistentní cookie, když expiruje za stejnou dobu jako neperzistentí...</raw>
    <author>Aleš Roubíček</author>
    <published>2006-04-26T09:51:47.243</published>
    <url>remember-me-or-not</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-04-26T09:53:27.180</edited>
  </article>
  <article>
    <id>142</id>
    <title>Omluva za výpadek</title>
    <description>Omlouvám se za dlouhý výpadek serveru.</description>
    <html xml:space="preserve">
&lt;p&gt;Tímto se chci omluvit za dlouhý výpadek těchto stránek. Bohužel jsem ho
nemohl nijak ovlivnit, chyba byla u&amp;#160;poskytovatele připojení. Následně
se budu snažit výpadek dohnat hodnotnými spoty ;)&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Tímto se chci omluvit za dlouhý výpadek těchto stránek. Bohužel jsem ho nemohl nijak ovlivnit, chyba byla u poskytovatele připojení. Následně se budu snažit výpadek dohnat hodnotnými spoty ;)</raw>
    <author>Aleš Roubíček</author>
    <published>2006-05-03T13:54:12.210</published>
    <url>omluva-za-vypadek</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-05-03T13:54:12.300</edited>
  </article>
  <article>
    <id>143</id>
    <title>Školení OOP, UML a návrhových vzorů</title>
    <description>Poslední tři dny jsem se účastnil školení OOP, UML a návrhových vzorů. Zde jsou mé dojmy.</description>
    <html xml:space="preserve">
&lt;p&gt;Poslední tři dny jsem se účastnil &lt;a
href="http://blog.renestein.net/PermaLink,guid,bacdc2f2-68ca-428b-8489-98a31e946b27.aspx"&gt;školení
OOP, UML a návrhových vzorů&lt;/a&gt;, které pořádá &lt;a
href="http://blog.renestein.net/"&gt;René Stein&lt;/a&gt;. Na školení jsem se dostal
čirou náhodou a dověděl jsem se o&amp;#160;tom až den před zahájením –
můj kolega Filip se nechal zapsat právě na tento kurz, ale vzhledem
k&amp;#160;tomu, že zrovna dokončuje důležitý projekt, nemohl se zúčastnit.
Protože již byl kurz zaplacený, byl jsem nakonec vyslán já – tímto
děkuji ;)&lt;/p&gt;

&lt;p&gt;Začnu nejdříve tím, co se mi na kurzu nelíbilo: nelíbilo se mi, že pro
tři učebny je pouze jedna toaleta v&amp;#160;podobě &lt;span
title="samozřejmě záchodové"&gt;jedné mísy&lt;/span&gt;. Tím výčet mé
nespokojenosti končí :)&lt;/p&gt;

&lt;p&gt;René se ze mne snažil vypáčit nějaký feedback, ale záměrně jsem
mlžil a nechal jsem si ho až na tento zápisek, který píšu po shlédnutí
kompletní sady přednášek. Školení pro mě bylo přínosem, ať už proto,
že jsem se setkal se zajímavými lidmi z&amp;#160;oboru nebo proto, že jsem
poznal příjemnou pizzerii, která leží jen pár metrů od míst, která
jsme skoro denně navštěvoval několik let (2,5&amp;#160;roku FELace na katedře
počítačů :D). Samozřejmě, že největším přínosem pro mě byl obsah
přednášek, kdy se René snaží v&amp;#160;prvním dni projet OOP
s&amp;#160;návazností na UML, zbořit některé mýty – &lt;a
href="/clanek/114-kladivo-na-carodejnice.aspx"&gt;to já rád&lt;/a&gt; – a srovnat
znalosti posluchačů na úroveň, se kterou budou schopni vstřebávat
informace prezentované v&amp;#160;následujících dnech. Musím říct, že je to
pěkná &lt;em&gt;nalejvárna&lt;/em&gt; a to, co jiní vykládají celé semestry, René
zvládne za tři dny a má to větší efektivnost. Výhodou tohoto kurzu je
spousta praktických ukázek a výměna zkušeností z&amp;#160;praxe lektora, tak
účastníků kurzu.&lt;/p&gt;

&lt;p&gt;Vzhledem k&amp;#160;tomu, že je školení velice přínosné, musím ho
doporučit všem, kdož mají zájem navrhovat a psát kvalitní objektové
aplikace. René taky chystá návazný kurz, který bude zaměřen více na
praktickou stránku věci s&amp;#160;využitím znalostí právě z&amp;#160;tohoto
kurzu. Nevím, jestli neprozradím nějaké tajemství, ale můžeme se těšit
i&amp;#160;na knihu věnovanou této problematice. &lt;strong&gt;Díky
René.&lt;/strong&gt;&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Poslední tři dny jsem se účastnil "školení OOP, UML a návrhových vzorů":[http://blog.renestein.net/PermaLink,guid,bacdc2f2-68ca-428b-8489-98a31e946b27.aspx], které pořádá [ReneStein]. Na školení jsem se dostal čirou náhodou a dověděl jsem se o tom až den před zahájením – můj kolega Filip se nechal zapsat právě na tento kurz, ale vzhledem k tomu, že zrovna dokončuje důležitý projekt, nemohl se zúčastnit. Protože již byl kurz zaplacený, byl jsem nakonec vyslán já – tímto děkuji ;)

Začnu nejdříve tím, co se mi na kurzu nelíbilo: nelíbilo se mi, že pro tři učebny je pouze jedna toaleta v podobě "jedné mísy .(samozřejmě záchodové)". Tím výčet mé nespokojenosti končí :)

René se ze mne snažil vypáčit nějaký feedback, ale záměrně jsem mlžil a nechal jsem si ho až na tento zápisek, který píšu po shlédnutí kompletní sady přednášek. Školení pro mě bylo přínosem, ať už proto, že jsem se setkal se zajímavými lidmi z oboru nebo proto, že jsem poznal příjemnou pizzerii, která leží jen pár metrů od míst, která jsme skoro denně navštěvoval několik let (2,5 roku FELace na katedře počítačů :D). Samozřejmě, že největším přínosem pro mě byl obsah přednášek, kdy se René snaží v prvním dni projet OOP s návazností na UML, zbořit některé mýty – "to já rád":[/clanek/114-kladivo-na-carodejnice.aspx] – a srovnat znalosti posluchačů na úroveň, se kterou budou schopni vstřebávat informace prezentované v následujících dnech. Musím říct, že je to pěkná *nalejvárna* a to, co jiní vykládají celé semestry, René zvládne za tři dny a má to větší efektivnost. Výhodou tohoto kurzu je spousta praktických ukázek a výměna zkušeností z praxe lektora, tak účastníků kurzu.

Vzhledem k tomu, že je školení velice přínosné, musím ho doporučit všem, kdož mají zájem navrhovat a psát kvalitní objektové aplikace. René taky chystá návazný kurz, který bude zaměřen více na praktickou stránku věci s využitím znalostí právě z tohoto kurzu. Nevím, jestli neprozradím nějaké tajemství, ale můžeme se těšit i na knihu věnovanou této problematice. **Díky René.**

[ReneStein]: http://blog.renestein.net/ René Stein
</raw>
    <author>Aleš Roubíček</author>
    <published>2006-05-05T21:10:24.377</published>
    <url>skoleni-oop-uml-a-navrhovych-vzoru</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-05-05T21:14:09.547</edited>
  </article>
  <article>
    <id>144</id>
    <title>Web Application Project</title>
    <description>Staronový model webového projektu pro VS2005.</description>
    <html xml:space="preserve">
&lt;p&gt;Kupí se mi témata, o&amp;#160;kterých chci psát, ale nějak na ně nezbývá
času. Začnu tedy zprávou, o&amp;#160;které dnes píšou snad všichni.
Vývojový team ASP.NET, IIS a VWD uvolnil finální verzi &lt;a
href="http://msdn.microsoft.com/asp.net/reference/infrastructure/wap/default.aspx"&gt;Web
Application Project&lt;/a&gt; (WAP), což neni nic jiného než starý model
webového projektu z&amp;#160;VS2003 s&amp;#160;podporou ASP.NET 2.0&amp;#160;a MSBuildu.
Osobně se mi s&amp;#160;tímto typem projektu pracuje lépe než Web Site
projektem, který je ve VS2005 defaultní.&lt;/p&gt;

&lt;p&gt;Nový typ projektu se po nainstalování přidá do nabídky výběru
projektu a je tu i&amp;#160;kontextová možnost převést stávající weby na
tento model. Nejvíce se však bude WAP hodit při migraci webů z&amp;#160;VS2003,
pro niž existuje &lt;a
href="http://webproject.scottgu.com/CSharp/Migration/Migration.aspx"&gt;pěkný
tutoriál&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Pokud se rozhodnete pro instalaci WAPu, musíte si nejprve nainstalovat &lt;a
href="http://go.microsoft.com/fwlink/?LinkId=63636"&gt;záplatu pro VS2005&lt;/a&gt;,
která umožní fungování WAP. Poslední důležitou informací je, že WAP
bude součástí VS2005 SP1 a bude dále podporovaný i&amp;#160;v následujících
verzích. Ve verzi SP1 dozná ještě několika vylepšení plynoucích právě
z&amp;#160;chystaných změn VS SP1.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Kupí se mi témata, o kterých chci psát, ale nějak na ně nezbývá času. Začnu tedy zprávou, o které dnes píšou snad všichni. Vývojový team ASP.NET, IIS a VWD uvolnil finální verzi "Web Application Project":[wap] (WAP), což neni nic jiného než starý model webového projektu z VS2003 s podporou ASP.NET 2.0 a MSBuildu. Osobně se mi s tímto typem projektu pracuje lépe než Web Site projektem, který je ve VS2005 defaultní.

Nový typ projektu se po nainstalování přidá do nabídky výběru projektu a je tu i kontextová možnost převést stávající weby na tento model. Nejvíce se však bude WAP hodit při migraci webů z VS2003, pro niž existuje "pěkný tutoriál":[migrace].

Pokud se rozhodnete pro instalaci WAPu, musíte si nejprve nainstalovat "záplatu pro VS2005":[zaplata], která umožní fungování WAP. Poslední důležitou informací je, že WAP bude součástí VS2005 SP1 a bude dále podporovaný i v následujících verzích. Ve verzi SP1 dozná ještě několika vylepšení plynoucích právě z chystaných změn VS SP1.

[wap]: http://msdn.microsoft.com/asp.net/reference/infrastructure/wap/default.aspx
[migrace]: http://webproject.scottgu.com/CSharp/Migration/Migration.aspx
[zaplata]: http://go.microsoft.com/fwlink/?LinkId=63636</raw>
    <author>Aleš Roubíček</author>
    <published>2006-05-09T20:20:27.053</published>
    <url>web-application-project</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-05-09T20:20:27.080</edited>
  </article>
  <article>
    <id>145</id>
    <title>PHP, brzda internetu?</title>
    <description>Proč se PHP nasazuje do scénářů, pro které není evidentně určeno?</description>
    <html xml:space="preserve">
&lt;p&gt;Nechci tímto článkem rozpoutávat flamewar, ani polemiky, zda je lepší
PHP nebo ASP.NET – každé má své využití v&amp;#160;odlišných
scénářích. To jen tak pro začátek. Tenhle článek se pozastavuje nad
tím, jak jsou některé věci (PHP) znásilňovány k&amp;#160;jiným věcem, na
které nejsou vhodné (SOAP služby).&lt;/p&gt;

&lt;p&gt;Kolega Filip – ten, díky němuž jsem šel na školení :) – řeší
zajímavý problém. V&amp;#160;rámci spolupráce s&amp;#160;jednou firmou (není
podstatné s&amp;#160;jakou) potřebuje vzdáleně volat jejich API a to je
poskytnuto pomocí webové služby na protokolu SOAP. To je super. Háček je
v&amp;#160;tom, že zase tak super to není, protože vzdálená implementace
nerespektuje standardy. A&amp;#160;to navíc standardy, které osobně považuji za
mnohem důležitější než (X)HTML a CSS – modly spousty webdesignérů.
Konkrétně jde o&amp;#160;WSDL. WSDL je formát, který formálně popisuje
rozhraní služby, struktury využívané při vzdálené komunikaci a datové
typy vlastností struktur. Podle tohoto popisu můžete nechat vygenerovat
Proxy třídy pro komunikaci se službou, tak že se služba chová jako jedna
z&amp;#160;tříd vašeho projektu. A&amp;#160;pomalu se dostáváme k&amp;#160;nadpisu :)
Jelikož PHP formálně nezná datové typy – je typované dynamicky –
nedochází ke správné interpretaci typů vlastností struktur. To by zase
tak úplně nevadilo, že místo Integerů a Booleanů vám choděj Stringy, to
se dá přežít, ale horší je, že PHP přidává do SOAP zpráv elementy,
které nejsou ve WSDL popsány a tudíž se s&amp;#160;nimi nepopere parser.&lt;/p&gt;

&lt;p&gt;Můj odhad je, že služba je napsaná v&amp;#160;PHP 5, které má podporu
SOAPu, vlastní zkušenosti s&amp;#160;tím ale nemám. Na PHP 4&amp;#160;jsem zkoušel
framework nuSOAP, který má trochu odlišné výstupy než zmiňovaná
služba. PHP 5, tedy přináší možnost vytvářet a konzumovat webové
služby běžící na protokolu SOAP, ale jeho výstupy si pravděpodobně
neodpovídají. WSDL by totiž měl popisovat, jak bude výsledná SOAP zpráva
vypadat a konzument se na to spoléhá, ale výstupní zpráva má úplně
jiný formát. To pěkně děkuju. To si mám napsat vlastní WSDLko, abych
mohl konzumovat cizí službu, na kterou se nemohu spolehnout, nebo ručně
parsovat hodnoty z&amp;#160;příchozích zpráv a skládat zprávy odchozí?
A&amp;#160;co když se za čas služba pozmění? Bodejď by pak WS nebyly
považovány za další webovou bublinu, s&amp;#160;tímhle přístupem to ani
jinak nejde…&lt;/p&gt;

&lt;h3&gt;Slovníček&lt;/h3&gt;

&lt;dl&gt;
	&lt;dt&gt;&lt;a href="http://www.w3.org/TR/soap12-part0/"&gt;SOAP&lt;/a&gt;&lt;/dt&gt;

	&lt;dd&gt;Simple Object Access Protocol&lt;/dd&gt;

	&lt;dd&gt;XML protokol pro podporu komunikace webových služeb nejen přes HTTP&lt;/dd&gt;

	&lt;dt&gt;&lt;a href="http://www.w3.org/TR/wsdl20-primer/"&gt;WSDL&lt;/a&gt;&lt;/dt&gt;

	&lt;dd&gt;Web Service Description Language&lt;/dd&gt;

	&lt;dd&gt;XML jazyk, využívající XSD k&amp;#160;formálnímu popisu rozhraní
	webových služeb&lt;/dd&gt;
&lt;/dl&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve"> Nechci tímto článkem rozpoutávat flamewar, ani polemiky, zda je lepší PHP nebo ASP.NET – každé má své využití v odlišných scénářích. To jen tak pro začátek. Tenhle článek se pozastavuje nad tím, jak jsou některé věci (PHP) znásilňovány k jiným věcem, na které nejsou vhodné (SOAP služby).

Kolega Filip – ten, díky němuž jsem šel na školení :) – řeší zajímavý problém. V rámci spolupráce s jednou firmou (není podstatné s jakou) potřebuje vzdáleně volat jejich API a to je poskytnuto pomocí webové služby na protokolu SOAP. To je super. Háček je v tom, že zase tak super to není, protože vzdálená implementace nerespektuje standardy. A to navíc standardy, které osobně považuji za mnohem důležitější než (X)HTML a CSS – modly spousty webdesignérů. Konkrétně jde o WSDL.  WSDL je formát, který formálně popisuje rozhraní služby, struktury využívané při vzdálené komunikaci a datové typy vlastností struktur. Podle tohoto popisu můžete nechat vygenerovat Proxy třídy pro komunikaci se službou, tak že se služba chová jako jedna z tříd vašeho projektu. A pomalu se dostáváme k nadpisu :) Jelikož PHP formálně nezná datové typy – je typované dynamicky – nedochází ke správné interpretaci typů vlastností struktur. To by zase tak úplně nevadilo, že místo Integerů a Booleanů vám choděj Stringy, to se dá přežít, ale horší je, že PHP přidává do SOAP zpráv elementy, které nejsou ve WSDL popsány a tudíž se s nimi nepopere parser.

Můj odhad je, že služba je napsaná v PHP 5, které má podporu SOAPu, vlastní zkušenosti s tím ale nemám. Na PHP 4 jsem zkoušel framework nuSOAP, který má trochu odlišné výstupy než zmiňovaná služba. PHP 5, tedy přináší možnost vytvářet a konzumovat webové služby běžící na protokolu SOAP, ale jeho výstupy si pravděpodobně neodpovídají. WSDL by totiž měl popisovat, jak bude výsledná SOAP zpráva vypadat a konzument se na to spoléhá, ale výstupní zpráva má úplně jiný formát. To pěkně děkuju. To si mám napsat vlastní WSDLko, abych mohl konzumovat cizí službu, na kterou se nemohu spolehnout, nebo ručně parsovat hodnoty z příchozích zpráv a skládat zprávy odchozí? A co když se za čas služba pozmění? Bodejď by pak WS nebyly považovány za další webovou bublinu, s tímhle přístupem to ani jinak nejde…

== Slovníček
SOAP:[http://www.w3.org/TR/soap12-part0/]:
 - Simple Object Access Protocol
 - XML protokol pro podporu komunikace webových služeb nejen přes HTTP
WSDL:[http://www.w3.org/TR/wsdl20-primer/]:
 - Web Service Description Language
 - XML jazyk, využívající XSD k formálnímu popisu rozhraní webových služeb
</raw>
    <author>Aleš Roubíček</author>
    <published>2006-05-09T20:59:25.223</published>
    <url>php-brzda-internetu</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-05-09T20:59:25.220</edited>
  </article>
  <article>
    <id>146</id>
    <title>Hrajeme si s ViewState</title>
    <description>Článek o zvýšení výkonosti ViewState, díky cacheování na straně serveru.</description>
    <html xml:space="preserve">
&lt;p&gt;&lt;a
href="http://www.eggheadcafe.com/articles/20040613.asp"&gt;http://www.eg&amp;#173;gheadcafe.com/&amp;#8230;200406&amp;#173;13.asp&lt;/a&gt;
&lt;a
href="http://www.eggheadcafe.com/articles/20060208.asp"&gt;http://www.eg&amp;#173;gheadcafe.com/&amp;#8230;200602&amp;#173;08.asp&lt;/a&gt;&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">http://www.eggheadcafe.com/articles/20040613.asp
http://www.eggheadcafe.com/articles/20060208.asp</raw>
    <author>Aleš Roubíček</author>
    <published>2006-05-11T08:56:45.787</published>
    <url>hrajeme-si-s-viewstate</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <is-published>0</is-published>
    <edited>2006-05-11T09:13:20.440</edited>
  </article>
  <article>
    <id>147</id>
    <title>Webcasty z Mix06</title>
    <description>Linky na zajímavá videa z konference Mix06.</description>
    <html xml:space="preserve">
&lt;p&gt;O &lt;a href="http://www.mix06.com/"&gt;Mix06&lt;/a&gt; jsem se už zmiňoval
v&amp;#160;souvislosti s&amp;#160;&lt;a href="http://atlas.asp.net/"&gt;ASP.NET Atlas&lt;/a&gt; a
tento týden byly uvolněny &lt;a href="http://sessions.mix06.com/"&gt;záznamy
přednášek&lt;/a&gt;. Záznamy jsou zpracovány velice slušně, po celou dobu
vidíte jak přednášejícího, tak prezentaci a dema. Osobně doporučuji
sérii věnovanou Atlasu:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a
	href="http://sessions.mix06.com/view.asp?sessionChoice=2001&amp;amp;disc=&amp;amp;pid=NGW014&amp;amp;yearChoice=2005"&gt;Developing
	a Better User Experience with Atlas&lt;/a&gt; by Shanku Niyogi&lt;/li&gt;

	&lt;li&gt;&lt;a
	href="http://sessions.mix06.com/view.asp?sessionChoice=2001&amp;amp;disc=&amp;amp;pid=NGW052&amp;amp;yearChoice=2005"&gt;Designing
	a Better User Experience with AJAX and Atlas&lt;/a&gt; by Rick Spencer&lt;/li&gt;

	&lt;li&gt;&lt;a
	href="http://sessions.mix06.com/view.asp?sessionChoice=2001&amp;amp;disc=&amp;amp;pid=NGW002&amp;amp;yearChoice=2005"&gt;Building
	Components and Services for the Programmable Web&lt;/a&gt; by Nikhil Kothari&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">O [mix06] jsem se už zmiňoval v souvislosti s "ASP.NET Atlas":[atlas] a tento týden byly uvolněny "záznamy přednášek":[zaznamy]. Záznamy jsou zpracovány velice slušně, po celou dobu vidíte jak přednášejícího, tak prezentaci a dema. Osobně doporučuji sérii věnovanou Atlasu:

- "Developing a Better User Experience with Atlas":[http://sessions.mix06.com/view.asp?sessionChoice=2001&amp;disc=&amp;pid=NGW014&amp;yearChoice=2005] by Shanku Niyogi
- "Designing a Better User Experience with AJAX and Atlas":[http://sessions.mix06.com/view.asp?sessionChoice=2001&amp;disc=&amp;pid=NGW052&amp;yearChoice=2005] by Rick Spencer
- "Building Components and Services for the Programmable Web":[http://sessions.mix06.com/view.asp?sessionChoice=2001&amp;disc=&amp;pid=NGW002&amp;yearChoice=2005] by Nikhil Kothari

[atlas]: http://atlas.asp.net/
[mix06]: http://www.mix06.com/ Mix06
[zaznamy]: http://sessions.mix06.com/</raw>
    <author>Aleš Roubíček</author>
    <published>2006-05-11T16:31:32.367</published>
    <url>webcasty-z-mix06</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-05-11T16:31:32.397</edited>
  </article>
  <article>
    <id>148</id>
    <title>Ruční stránkování v GridView</title>
    <description>Chcete zvýšit výkon a snížit objem přenášených dat u stránkování komponent svázaných s daty? Pokračujte ve čtení...</description>
    <html xml:space="preserve">
&lt;p&gt;&lt;a
href="http://aspnet.4guysfromrolla.com/demos/printPage.aspx?path=/articles/031506-1.aspx"&gt;http://aspnet&amp;#173;.4guysfromrolla&amp;#173;.com/&amp;#8230;intPage&amp;#173;.aspx?&amp;#8230;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a
href="http://aspnet.4guysfromrolla.com/demos/printPage.aspx?path=/articles/032206-1.aspx"&gt;http://aspnet&amp;#173;.4guysfromrolla&amp;#173;.com/&amp;#8230;intPage&amp;#173;.aspx?&amp;#8230;&lt;/a&gt;&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">http://aspnet.4guysfromrolla.com/demos/printPage.aspx?path=/articles/031506-1.aspx

http://aspnet.4guysfromrolla.com/demos/printPage.aspx?path=/articles/032206-1.aspx</raw>
    <author>Aleš Roubíček</author>
    <published>2006-05-12T13:24:49.340</published>
    <url>rucni-strankovani-v-gridview</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <is-published>0</is-published>
    <edited>2007-01-12T14:11:30.923</edited>
  </article>
  <article>
    <id>149</id>
    <title>Polívková</title>
    <description>Něco o té polívce s nudlema.</description>
    <html xml:space="preserve">
&lt;p&gt;&lt;em&gt;Psát webové aplikace v PHP je jako jíst polívku vidličkou.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Ano, sice se najíte, ale dá vám to mnohem víc práce než lžící, ale
to nejlepší zůstane na dně. Co je vám platné, že víte přesný postup
přípravy polívky, víte jaké koření a ingredience se do ní dávají?&lt;/p&gt;

&lt;p&gt;Častým argumentem konzumentů polívek vidličkou bývá, že se ta
polívka dá z talíře přece vypít. Ano, to je fakt, ale to už se nebavíme
o konzumaci polívky vidličkou.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">*Psát webové aplikace v PHP je jako jíst polívku vidličkou.*

Ano, sice se najíte, ale dá vám to mnohem víc práce než lžící, ale to nejlepší zůstane na dně. Co je vám platné, že víte přesný postup přípravy polívky, víte jaké koření a ingredience se do ní dávají?

Častým argumentem konzumentů polívek vidličkou bývá, že se ta polívka dá z talíře přece vypít. Ano, to je fakt, ale to už se nebavíme o konzumaci polívky vidličkou.</raw>
    <author>Aleš Roubíček</author>
    <published>2006-05-15T08:44:30.240</published>
    <url>polivkova</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <tags>php</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T18:37:08.617</edited>
  </article>
  <article>
    <id>150</id>
    <title>Přehledná konfigurace</title>
    <description>Reakce na Konfigurace  v .NET</description>
    <html xml:space="preserve">
&lt;p&gt;Dnes vyšel na Vyvojar.cz článek s názvem &lt;a
href="http://www.vyvojar.cz/Default.aspx?tabid=1&amp;amp;newsType=ArticleView&amp;amp;articleId=409"&gt;Konfigurace
v .NET&lt;/a&gt;, kde autor pěkně ukazuje XML Serializaci složitějších objektů
do XML. Po tud se mi to líbí a nemám námitek. Ovšem k jakému účelu je
to použito – nemám slov.&lt;/p&gt;

&lt;p&gt;Ať žijí půlmegové a větší konfiguráky!&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Dnes vyšel na Vyvojar.cz článek s názvem "Konfigurace v .NET":[http://www.vyvojar.cz/Default.aspx?tabid=1&amp;newsType=ArticleView&amp;articleId=409], kde autor pěkně ukazuje XML Serializaci složitějších objektů do XML. Po tud se mi to líbí a nemám námitek. Ovšem k jakému účelu je to použito - nemám slov.

Ať žijí půlmegové a větší konfiguráky!</raw>
    <author>Aleš Roubíček</author>
    <published>2006-05-18T06:10:55.520</published>
    <url>prehledna-konfigurace</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>xml</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T18:37:30.260</edited>
  </article>
  <article>
    <id>151</id>
    <title>Intellisense pro SQL</title>
    <description>Skvělá věc, kterou potřebuje každý vývojář, který pracuje s T-SQL.</description>
    <html xml:space="preserve">
&lt;p&gt;Red Gate vydali novou verzi &lt;a
href="http://www.red-gate.com/products/sql_prompt/index.htm"&gt;SQL Prompt&lt;/a&gt;,
což je skvělá utilitka, schovaná v trayi, které rozpozná, když píšete
SQL dotazy v jakémkoli editoru, a vyhodí vám nabídku Intellisense
s možnými keywordy, tabulkami, sloupcemi apod. Umí dokonce formátovát
dotazy, aby byly přehlednější. Tak na co ještě čekáte, když &lt;a
href="http://www.red-gate.com/products/sql_prompt/index.htm"&gt;je to
zdarma&lt;/a&gt;? :D&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Red Gate vydali novou verzi "SQL Prompt":[sqlPrompt], což je skvělá utilitka, schovaná v trayi, které rozpozná, když píšete SQL dotazy v jakémkoli editoru, a vyhodí vám nabídku Intellisense s možnými keywordy, tabulkami, sloupcemi apod. Umí dokonce formátovát dotazy, aby byly přehlednější. Tak na co ještě čekáte, když "je to zdarma":[sqlPrompt]? :D

[sqlPrompt]: http://www.red-gate.com/products/sql_prompt/index.htm</raw>
    <author>Aleš Roubíček</author>
    <published>2006-05-22T19:32:24.163</published>
    <url>intellisense-pro-sql</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>intellisense sql</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T18:36:45.850</edited>
  </article>
  <article>
    <id>152</id>
    <title>Evoluce ve webovém vývoji</title>
    <description>Jeden z možných směrů vývoje AJAXových aplikací.</description>
    <html xml:space="preserve">
&lt;p&gt;Možná jste si všimli, že se v poslední době pouští Microsoft do
AJAXu. Jejich &lt;a href="/clanek/129-zaciname-s-atlasem.aspx"&gt;Atlas framework&lt;/a&gt;
je zatím v alfa stádiu, ale i tak je plně použitelný a funkční – až
na pár bugů. Tímto frameworkem otevírá dveře vývojářům serverside
aplikací (typicky píšících v C#, Javě, VB.NET nebo i v PHP) ke vstupu
na klienta. Atlas se snaží přinést do JavaScriptu i jakousi podporu OOP,
takže můžete používat namespacy, classy, interfejsy (fuj to je hnusný
slovo – zdravím doc. Müllera), dědičnost a další vymoženosti, na
které jsem zvyklý ze C#.&lt;/p&gt;

&lt;p&gt;Problém je ovšem v tom, že pořád musím psát v JavaScriptu. Nemám
rád tenhle jazyk. Občas v něm něco napíšu, ale je to peklo – právě
proto že v něm málo píšu, ho tak dobře neumím, a protože ho tak dobře
neumím, tak v něm málo píšu. :) Atlas naštěstí přináší
i deklarativní metodu psaní aplikací pomocí &lt;a
href="/clanek/138-prvni-prakticka-ukazka-pouziti-atlasu.aspx"&gt;XML-Scriptu&lt;/a&gt;,
který je mi podstatně bližší. Ale stejně v něm nejde napsat vše –
hlavně vlastní komponenty.&lt;/p&gt;

&lt;p&gt;Protože bude Atlas součástí příští verze Visual Studia „Orcas“,
přemýšlejí soudruzi v Microsoftu, jakým způsobem zjednodušit vývoj
aplikací v Atlasu, připravit kvalitní vývojové nástroje se všemi
vymoženostmi (Intellisense, debugging apod.). Vzhledem k tomu, že je
JavaScript dynamicky typovaný, je s Intellisence celkem problém – dneska
se ve studiu objeví jen zřídka. To by ale nebyl Microsoft, kdyby nepřišel
s něčím novým…&lt;/p&gt;

&lt;h3 id="toc-na-scenu-prichazi-script"&gt;Na scénu přichází Script#&lt;/h3&gt;

&lt;p&gt;Ano, je tu to, na co jsem dlouho čekal, konečně může psát klientské
skripty v pořádném jazyku. O co tedy jde? O zimních prázdninách si
Nikhil Kothari – duchovní otec Atlas frameworku – uvědomil, že se v JS
píše fakt blbě a že by bylo lepší psát v C# i skripty. Jenže jak
donutit prohlížeče, aby zpracovali C#? To je prakticky nemožné. Nikhil na
to šel od lesa a napsal vlastní kompilátor, který místo MSIL generuje JS.
Přidal k tomu ještě sscorelib a máme tu &lt;strong&gt;Script#&lt;/strong&gt;
(skriptšárp). Script# je fakticky C#, nemusíte se učit žádný nový jazyk
(teda pokud umíte C# &lt;span title="pozor mimoděkismus"&gt;jako já&lt;/span&gt;). Navíc
dostanete v balení knihovnu, která obsahuje standardní DOM a vůbec vše, co
můžete najít v JavaSriptu. Kompilátor generuje JS kód určený pro Atlas
framework, takže výsledkem může být jak &lt;code&gt;js&lt;/code&gt; soubor, tak
&lt;code&gt;dll&lt;/code&gt;, kde jsou skripty jako resource – stejně jako je tomu
u poslední verze Atlasu. Kompilátor zvládá DEBUG – včetně
preprocesoru – i minimalizovat kód (a to jak ořezání bílých znaků,
tak i náhradu jmen proměnných za zkratky jako &lt;code&gt;$0&lt;/code&gt;). Je toho moc,
nejlépe, když si to &lt;a
href="http://www.nikhilk.net/Content/Samples/ScriptSharp.zip"&gt;vyzkoušíte
sami&lt;/a&gt; nebo se podíváte na desetiminutovou &lt;a
href="http://www.nikhilk.net/Content/Video/ScriptSharpIntro.wmv"&gt;video
ukázku&lt;/a&gt;. Zatím je kompilátor ve fázi funkčního prototypu a
k dokonalosti potřebuje ještě hodně práce, ale jako ukázka možného
směru je to bomba.&lt;/p&gt;

&lt;h3 id="toc-zajimavost-zaverem"&gt;Zajímavost závěrem&lt;/h3&gt;

&lt;p&gt;Docela zajímavé je, že soudruzi v Google přemýšlejí podobně a
podstatě totéž přinášejí ve svém Web Toolkitu.&lt;/p&gt;

&lt;h3 id="toc-zdroj"&gt;Zdroj&lt;/h3&gt;

&lt;p&gt;&lt;a href="http://www.nikhilk.net/Entry.aspx?id=121"&gt;Nikhil Kothari –
Script# Prototype&lt;/a&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Možná jste si všimli, že se v poslední době pouští Microsoft do AJAXu. Jejich "Atlas framework":[/clanek/129-zaciname-s-atlasem.aspx] je zatím v alfa stádiu, ale i tak je plně použitelný a funkční – až na pár bugů. Tímto frameworkem otevírá dveře vývojářům serverside aplikací (typicky píšících v C#, Javě, VB.NET nebo i v PHP) ke vstupu na klienta. Atlas se snaží přinést do JavaScriptu i jakousi podporu OOP, takže můžete používat namespacy, classy, interfejsy (fuj to je hnusný slovo – zdravím doc. Müllera), dědičnost a další vymoženosti, na které jsem zvyklý ze C#.

Problém je ovšem v tom, že pořád musím psát v JavaScriptu. Nemám rád tenhle jazyk. Občas v něm něco napíšu, ale je to peklo – právě proto že v něm málo píšu, ho tak dobře neumím, a protože ho tak dobře neumím, tak v něm málo píšu. :) Atlas naštěstí přináší i deklarativní metodu psaní aplikací pomocí "XML-Scriptu":[/clanek/138-prvni-prakticka-ukazka-pouziti-atlasu.aspx], který je mi podstatně bližší. Ale stejně v něm nejde napsat vše – hlavně vlastní komponenty.

Protože bude Atlas součástí příští verze Visual Studia „Orcas“, přemýšlejí soudruzi v Microsoftu, jakým způsobem zjednodušit vývoj aplikací v Atlasu, připravit kvalitní vývojové nástroje se všemi vymoženostmi (Intellisense, debugging apod.). Vzhledem k tomu, že je JavaScript dynamicky typovaný, je s Intellisence celkem problém – dneska se ve studiu objeví jen zřídka. To by ale nebyl Microsoft, kdyby nepřišel s něčím novým…

== Na scénu přichází Script#
Ano, je tu to, na co jsem dlouho čekal, konečně může psát klientské skripty v pořádném jazyku. O co tedy jde? O zimních prázdninách si Nikhil Kothari – duchovní otec Atlas frameworku – uvědomil, že se v JS píše fakt blbě a že by bylo lepší psát v C# i skripty. Jenže jak donutit prohlížeče, aby zpracovali C#? To je prakticky nemožné. Nikhil na to šel od lesa a napsal vlastní kompilátor, který místo MSIL generuje JS. Přidal k tomu ještě sscorelib a máme tu **Script#** (skriptšárp). Script# je fakticky C#, nemusíte se učit žádný nový jazyk (teda pokud umíte C# "jako já .(pozor mimoděkismus)"). Navíc dostanete v balení knihovnu, která obsahuje standardní DOM a vůbec vše, co můžete najít v JavaSriptu. Kompilátor generuje JS kód určený pro Atlas framework, takže výsledkem může být jak `js` soubor, tak `dll`, kde jsou skripty jako resource – stejně jako je tomu u poslední verze Atlasu. Kompilátor zvládá DEBUG – včetně preprocesoru – i minimalizovat kód (a to jak ořezání bílých znaků, tak i náhradu jmen proměnných za zkratky jako `$0`). Je toho moc, nejlépe, když si to "vyzkoušíte sami":[http://www.nikhilk.net/Content/Samples/ScriptSharp.zip] nebo se podíváte na desetiminutovou "video ukázku":[http://www.nikhilk.net/Content/Video/ScriptSharpIntro.wmv]. Zatím je kompilátor ve fázi funkčního prototypu a k dokonalosti potřebuje ještě hodně práce, ale jako ukázka možného směru je to bomba.

== Zajímavost závěrem
Docela zajímavé je, že soudruzi v Google přemýšlejí podobně a podstatě totéž přinášejí ve svém Web Toolkitu.

== Zdroj
"Nikhil Kothari - Script# Prototype":[http://www.nikhilk.net/Entry.aspx?id=121]
</raw>
    <author>Aleš Roubíček</author>
    <published>2006-05-23T07:57:31.347</published>
    <url>evoluce-ve-webovem-vyvoji</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>csharp javascript scriptsharp ajax</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T18:36:15.023</edited>
  </article>
  <article>
    <id>153</id>
    <title>Steve Angello poprvé v Praze</title>
    <description>Kamarád Erica Prydze míří měsíc po Ericovi do Prahy a  nebude sám.</description>
    <html xml:space="preserve">
&lt;p&gt;Už tento pátek přijeden jeden z&amp;#160;mých nejoblíbenějších
houseových producentů &amp;#8211; Steve Angello. Přijede společně s&amp;#160;Paul
van Dykem do T-Mobile arény. Já jsem stihl lístky ještě za čtyři stovky,
ale na místě budou stát už kolem litříku.&lt;/p&gt;

&lt;p&gt;Určitě to bude skvělá pařba a už se moc těšim&amp;#8230;&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Už tento pátek přijeden jeden z mých nejoblíbenějších houseových producentů - Steve Angello. Přijede společně s Paul van Dykem do T-Mobile arény. Já jsem stihl lístky ještě za čtyři stovky, ale na místě budou stát už kolem litříku.

Určitě to bude skvělá pařba a už se moc těšim...</raw>
    <author>Aleš Roubíček</author>
    <published>2006-05-23T12:00:00</published>
    <url>steve-angello-poprve-v-praze</url>
    <category>Muzika</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-05-23T08:05:12.270</edited>
  </article>
  <article>
    <id>154</id>
    <title>To se mi zase něco povedlo</title>
    <description>Přepsal jsem si všechny komentáře.</description>
    <html xml:space="preserve">
&lt;p&gt;Tak se mi povedlo díky mému pospíchání přepsat všechny komentáře
k&amp;#160;příspěvkům &amp;#8211; takové znehodnocení informací :( Je mi
z&amp;#160;toho smutno. O&amp;#160;tom, že bych měl databázi zálohovanou silně
pochybuju, to jsem ale vůl. takže pozor, až budu příště psát
&lt;code&gt;UPDATE&lt;/code&gt;, musim připsat i &lt;code&gt;WHERE&lt;/code&gt;! Kretén, kterén a
ještě jednou kretén&amp;#8230;&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Tak se mi povedlo díky mému pospíchání přepsat všechny komentáře k příspěvkům - takové znehodnocení informací :( Je mi z toho smutno. O tom, že bych měl databázi zálohovanou silně pochybuju, to jsem ale vůl. takže pozor, až budu příště psát `UPDATE`, musim připsat i `WHERE`! Kretén, kterén a ještě jednou kretén...</raw>
    <author>Aleš Roubíček</author>
    <published>2006-05-23T18:54:38.820</published>
    <url>to-se-mi-zase-neco-povedlo</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-05-23T19:04:33.377</edited>
  </article>
  <article>
    <id>155</id>
    <title>Páteční střípky</title>
    <description>Střípky z páteční akce. Z nějakého podivného důvodu ve stylu LIFO.</description>
    <html xml:space="preserve">
&lt;p&gt;Málem jsem se rozmázl o&amp;#160;sloup. Pomalu přestává pršet. Je 0.35,
sedím v&amp;#160;tramvaji a přes zavlhčené sklo pozoruji míhající se světla
lamp na Evropské třídě. &lt;img class="right"
src="/data/obrazky/orosene_okno.jpg" alt="Zapršené okno tramvaje" /&gt; Přestup
na Hradčanské proběhl nečekaně rychle – čekala tam dvacítka. Schoval
jsem se pod stromem, ale stejně na mne kapalo. Na Štrosmajeráku prší,
ostatně jako celou cestu z&amp;#160;T-Mobile arény. Rozloučil jsem se se Zuzkou,
Kubou a Dádisem a vyrazil směr postel. Čekání jsem si krátil
prohlížením nafocených fotek, ale dlaždičky moc nehřály. Zuzka šla
najít kluky. Nakonec snad trefil. Mike šel na záchod, ale trochu špatným
směrem.&lt;/p&gt;

&lt;p&gt;Prolezli jsme tribunu, ale kluci nikde – tady je nemůžeme najít. Mike se
nás snažil vyfotit, ale nějak mu to nefotilo – třikrát spadl na zem,
nakonec se to snad ale povedlo. Po Stevově vystoupení jsem si dal dvě
Nestea, docela bodly, i&amp;#160;když pořád cítím tu Whiskey. (1.05&amp;#160;Teď
volal Mike, že už taky jde.) &lt;img class="left"
src="/data/obrazky/steve_angello_1.jpg" alt="Steve Angello live" /&gt; Stevův set
byl úžasný, přesně to, co jsem potřeboval: věci, co sem poznal (Eric
Prydz feat. Adeva – In&amp;amp;Out(Re-Mode), Röyksopp &amp;#8211; What Else Is
There? (Trentemöller Remix), Eurythmix – Sweet Dreams (Steve Angello Bootleg
Mix), Deep Dish – Say Hello (Steve Angello &amp;amp; Sebastian Ingrosso Remix),
Buy Now – for sale, Steve Angello – Teasing Mr. Charlie, Steve Lawler –
That Sound (Steve Angello &amp;amp; Sebastian Ingrosso Remix), Who’s Who – Not
so Dirty, Who’s Who – Sexy Fuck, Steve Angello &amp;#8211; Streight). Další
věci jsem taky znal, ale vypadla mi jména :D. Nabušený dvě hodiny,
určitě to za to stálo. Steve má můj respekt.&lt;/p&gt;

&lt;p&gt;&lt;img class="right" src="/data/obrazky/steve_angello_2.jpg"
alt="Steve Angello live" /&gt; Šel jsem si ho dopředu vyfotit z&amp;#160;blízka
(zoom nestačil) a ňáká děvka se mi snažila vytáhnout z&amp;#160;kapsy
peněženky – zpravil to vražený loket do onoho prostoru. Přišel Paul van
Dyk a potřásl si pravicí se Stevem. Je vidět jak si to užívá, extrémní
fáze ještě přes sampler prodlužuje a vytahuje do vejšek – nářez.
Přišli jsme v&amp;#160;čas, ještě Steve nehrál.&lt;/p&gt;

&lt;p&gt;Jakub se hned někde ztratil v&amp;#160;davu a už jsme ho nenašli.
Z&amp;#160;hospody jdeme ke kasám – je vyprodáno, ale čekaj tam na nás kluci.
Skočil jsem si na záchod – oni zatím zaplatili. Šel jsem do hospody pro
ségru a klucí. Lístek pro Zuzku jsem koupil za pjéťo od nějakých
slováku, co se s&amp;#160;nima seznámil Jakub. Pěkně chčije, ale už jsme
u&amp;#160;arény – pěkná fronta před vstupem. Za deset minut začíná Steve
a to musím stihnout. Vylejzáme na Štrosmajeráku a flašky už jsou prádný
– „Ty lidi se na nás koukaj. Já se stydím,“ pronesl Mike při výlezu
ze šaliny. Docela ostuda, ale to je fuk. Jakub bouchnul šáňo, za chvíli to
snad pojede – prší (ale já tam cítím, chčije).&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a
	href="http://axwell.proboards38.com/index.cgi?action=display&amp;amp;board=general&amp;amp;thread=1148815664&amp;amp;page=1"&gt;Diskuse
	u&amp;#160;Axwella&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a href="/galerie/2006-05-26_Paul_van_Dyk/default.aspx"&gt;Fotoalbum
	z&amp;#160;akce&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Málem jsem se rozmázl o sloup. Pomalu přestává pršet. Je 0.35, sedím v tramvaji a přes zavlhčené sklo pozoruji míhající se světla lamp na Evropské třídě. [* /data/obrazky/orosene_okno.jpg .(Zapršené okno tramvaje)[right] *] Přestup na Hradčanské proběhl nečekaně rychle – čekala tam dvacítka. Schoval jsem se pod stromem, ale stejně na mne kapalo. Na Štrosmajeráku prší, ostatně jako celou cestu z T-Mobile arény. Rozloučil jsem se se Zuzkou, Kubou a Dádisem a vyrazil směr postel. Čekání jsem si krátil prohlížením nafocených fotek, ale dlaždičky moc nehřály. Zuzka šla najít kluky. Nakonec snad trefil. Mike šel na záchod, ale trochu špatným směrem.

Prolezli jsme tribunu, ale kluci nikde – tady je nemůžeme najít. Mike se nás snažil vyfotit, ale nějak mu to nefotilo – třikrát spadl na zem, nakonec se to snad ale povedlo. Po Stevově vystoupení jsem si dal dvě Nestea, docela bodly, i když pořád cítím tu Whiskey. (1.05 Teď volal Mike, že už taky jde.) [* /data/obrazky/steve_angello_1.jpg .(Steve Angello live)[left] *] Stevův set byl úžasný, přesně to, co jsem potřeboval: věci, co sem poznal (Eric Prydz feat. Adeva – In&amp;Out(Re-Mode), Röyksopp - What Else Is There? (Trentemöller Remix), Eurythmix – Sweet Dreams (Steve Angello Bootleg Mix), Deep Dish – Say Hello (Steve Angello &amp; Sebastian Ingrosso Remix), Buy Now – for sale, Steve Angello – Teasing Mr. Charlie, Steve Lawler – That Sound (Steve Angello &amp; Sebastian Ingrosso Remix),  Who’s Who – Not so Dirty, Who’s Who – Sexy Fuck, Steve Angello - Streight). Další věci jsem taky znal, ale vypadla mi jména :D. Nabušený dvě hodiny, určitě to za to stálo. Steve má můj respekt.

[* /data/obrazky/steve_angello_2.jpg .(Steve Angello live)[right] *] Šel jsem si ho dopředu vyfotit z blízka (zoom nestačil) a ňáká děvka se mi snažila vytáhnout z kapsy peněženky – zpravil to vražený loket do onoho prostoru. Přišel Paul van Dyk a potřásl si pravicí se Stevem. Je vidět jak si to užívá, extrémní fáze ještě přes sampler prodlužuje a vytahuje do vejšek – nářez. Přišli jsme v čas, ještě Steve nehrál.

Jakub se hned někde ztratil v davu a už jsme ho nenašli. Z hospody jdeme ke kasám – je vyprodáno, ale čekaj tam na nás kluci. Skočil jsem si na záchod – oni zatím zaplatili. Šel jsem do hospody pro ségru a klucí. Lístek pro Zuzku jsem koupil za pjéťo od nějakých slováku, co se s nima seznámil Jakub. Pěkně chčije, ale už jsme u arény – pěkná fronta před vstupem. Za deset minut začíná Steve a to musím stihnout. Vylejzáme na Štrosmajeráku a flašky už jsou prádný – „Ty lidi se na nás koukaj. Já se stydím,“ pronesl Mike při výlezu ze šaliny. Docela ostuda, ale to je fuk. Jakub bouchnul šáňo, za chvíli to snad pojede – prší (ale já tam cítím, chčije).

* "Diskuse u Axwella":[http://axwell.proboards38.com/index.cgi?action=display&amp;board=general&amp;thread=1148815664&amp;page=1]
* "Fotoalbum z akce":[/galerie/2006-05-26_Paul_van_Dyk/default.aspx]</raw>
    <author>Aleš Roubíček</author>
    <published>2006-05-28T09:18:35.707</published>
    <url>patecni-stripky</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-07-26T11:03:06.770</edited>
  </article>
  <article>
    <id>156</id>
    <title>Texy, alternativa k politice ČSSD</title>
    <description>Na poli českého webdesignu zuří těžké agitační boje o to koho volit. Vůdčí osobnosti české blogerské scény zbrojí proti KSČSSD, ale objevuje se tu i nová vlna brojičů proti Texy.</description>
    <html xml:space="preserve">
&lt;p&gt;Na poli českého webdesignu zuří těžké agitační boje o to koho
volit. Vůdčí osobnosti české blogerské scény zbrojí proti KSČSSD, ale
objevuje se tu i &lt;a
href="http://blog.filosof.biz/zhoubne-standardy-braome-se/"&gt;nová vlna brojičů
proti Texy&lt;/a&gt;.&lt;/p&gt;

&lt;div class="center image"&gt;&lt;img src="/data/obrazky/fuck_texy.jpg"
alt="bilboard odpůrců Texy" /&gt;
	&lt;p&gt;Kdo asi stojí za nechutnou kampaňí?&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;Ano i Texy se stala otázkou přesvědčení a tak vězte, že kdo
nepoužívá &lt;a href="http://www.texy.info/"&gt;Texy ke generování úhledného
XHTML kódu&lt;/a&gt;, je zákonitě voličem levice! Ano vážení, je tomu bohužel
tak. Kdo nevolí Texy volí Jistoty a prosperity HTML syntaxe. Je tato volba
opravdu tak špatná? To nechám na čtenářích, nechť se rozhodnou koho
budou volit.&lt;/p&gt;

&lt;div class="center image"&gt;&lt;img
src="http://www.dgx.cz/kartinki/co-voli-filosof.jpg"
alt="že by změna kabátů?" /&gt;
	&lt;p&gt;Pravda se pomalu začíná odkrývat…&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;PS. Všimněte si &lt;a href="http://www.weblogy.cz/"
title="všimněte si motta webu"&gt;politického optimismu&lt;/a&gt; největšího
mravence v zemi, který si myslí, že se agregovalo, agreguje a agregovat
bude… Držme mu palce, protože těch vlád a režimů Weblogy.cz ještě moc
nezažily.&lt;/p&gt;

&lt;p&gt;PPS. Dave, já taky nevolím ČSSD ;) &lt;del&gt;Ovšem, nejsem osobnost…&lt;/del&gt;
&lt;ins&gt;Tak už jsem :)&lt;/ins&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Na poli českého webdesignu zuří těžké agitační boje o to koho volit. Vůdčí osobnosti české blogerské scény zbrojí proti KSČSSD, ale objevuje se tu i "nová vlna brojičů proti Texy":[http://blog.filosof.biz/zhoubne-standardy-braome-se/].


[* /data/obrazky/fuck_texy.jpg .(bilboard odpůrců Texy) *] *** Kdo asi stojí za nechutnou kampaňí? .[center]


Ano i Texy se stala otázkou přesvědčení a tak vězte, že kdo nepoužívá "Texy ke generování úhledného XHTML kódu":[texy], je zákonitě voličem levice! Ano vážení, je tomu bohužel tak. Kdo nevolí Texy volí Jistoty a prosperity HTML syntaxe. Je tato volba opravdu tak špatná? To nechám na čtenářích, nechť se rozhodnou koho budou volit.


[* http://www.dgx.cz/kartinki/co-voli-filosof.jpg .(že by změna kabátů?) *] *** Pravda se pomalu začíná odkrývat... .[center]

PS. Všimněte si "politického optimismu":[weblogy] největšího mravence v zemi, který si myslí, že se agregovalo, agreguje a agregovat bude... Držme mu palce, protože těch vlád a režimů Weblogy.cz ještě moc nezažily.

PPS. Dave, já taky nevolím ČSSD ;) --Ovšem, nejsem osobnost...-- ++Tak už jsem :)++

[weblogy]: http://www.weblogy.cz/ .(všimněte si motta webu)
[texy]: http://www.texy.info/</raw>
    <author>Aleš Roubíček</author>
    <published>2006-05-30T12:55:05.327</published>
    <url>texy-alternativa-k-politice-cssd</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>texy</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T18:35:28.443</edited>
  </article>
  <article>
    <id>157</id>
    <title>Dnešní browsery jsou nepoužitelné</title>
    <description>Dnešní prohlížeče jsou prakticky nepoužitelné k prohlížení sofistikovanějších dokumentů a nepřímo tak nutí webdesignery k prasárnám. Jak jinak se dá vysvětlit diletantsví, kdy se ostylovaný XML dokument renderuje v Quirks módu? Oč jde?</description>
    <html xml:space="preserve">
&lt;p&gt;Dnešní prohlížeče jsou prakticky nepoužitelné k&amp;#160;prohlížení
sofistikovanějších dokumentů a nepřímo tak nutí webdesignery
k&amp;#160;prasárnám. Jak jinak se dá vysvětlit diletantsví, kdy se
ostylovaný XML dokument renderuje v&amp;#160;Quirks módu? Oč jde?&lt;/p&gt;

&lt;p&gt;XHTML má být rozšiřitelný značkovací jazyk využívající mechanismů
XML. Rozšiřitelnost je bohužel explicitní pomocí přepsání DTD, což
neni moc vhodné řešení. Proto vznikla reinterpretace XHTML v&amp;#160;XSD. Zde
se už dá implicitně rozšiřovat jazyk pomocí xml namespaců, prefixů a
schémat. Dokument je tak validní vůči schématům a to i&amp;#160;typově.
Bohužel pokud chcete nastylovat takovýto dokument, renderujete v&amp;#160;Quirks
módu. Fuck'em!&lt;/p&gt;

&lt;p&gt;No nic, stejně s&amp;#160;tím nic neudělám&amp;#8230; Tak aspoň upozorním na
to, že DGX vydal &lt;a href="http://www.texy.info/cz/changelog"&gt;novou verzi
Texy!&lt;/a&gt;.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Dnešní prohlížeče jsou prakticky nepoužitelné k prohlížení sofistikovanějších dokumentů a nepřímo tak nutí webdesignery k prasárnám. Jak jinak se dá vysvětlit diletantsví, kdy se ostylovaný XML dokument renderuje v Quirks módu? Oč jde?

XHTML má být rozšiřitelný značkovací jazyk využívající mechanismů XML. Rozšiřitelnost je bohužel explicitní pomocí přepsání DTD, což neni moc vhodné řešení. Proto vznikla reinterpretace XHTML v XSD. Zde se už dá implicitně rozšiřovat jazyk pomocí xml namespaců, prefixů a schémat. Dokument je tak validní vůči schématům a to i typově. Bohužel pokud chcete nastylovat takovýto dokument, renderujete v Quirks módu. Fuck'em!

No nic, stejně s tím nic neudělám... Tak aspoň upozorním na to, že DGX vydal "novou verzi Texy!":[http://www.texy.info/cz/changelog].</raw>
    <author>Aleš Roubíček</author>
    <published>2006-06-06T21:32:47.293</published>
    <url>dnesni-browsery-jsou-nepouzitelne</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <is-published>0</is-published>
    <edited>2006-06-07T19:43:27.363</edited>
  </article>
  <article>
    <id>158</id>
    <title>Texy.net 1.0 beta 2</title>
    <description>Uvolňují druhou beta verzi dotnet knihovny zpřístupňující Texy!</description>
    <html xml:space="preserve">
&lt;h3 id="toc-update"&gt;Update&lt;/h3&gt;

&lt;p&gt;&lt;img src="/data/obrazky/texy-net.png" class="right" alt="Texy.net logo" /&gt;
Beta 2 respektuje změny v rozhranní &lt;a
href="http://www.texy.info/cz/xmlrpc"&gt;Texy! XML-RPC&lt;/a&gt; a již plně podporuje
definování povolených classů, stylů a tagů. Zatím nevyřešenou věcí je
komprese přenášeného textu. &lt;strong&gt;Verze beta 1 již není funkční a je
nutné jí nahradit betou 2!&lt;/strong&gt;&lt;/p&gt;

&lt;h3 id="toc-ke-stazeni"&gt;Ke stažení&lt;/h3&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href="/data/soubory/Texy-net-10-beta2.zip"&gt;Texy.net 1.0 beta 2&lt;/a&gt;
	(obsahuje potřebné knihovny, dokumentaci a zdrojové kódy)&lt;/li&gt;

	&lt;li&gt;&lt;a href="/data/soubory/TexyNet.vsi"&gt;Šablona do Visual Studia s ukázkou
	použití&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;Konečně jsem dopsal knihovnu, která zpřístupňuje &lt;a
href="http://www.texy.info/cz/"&gt;Texy!&lt;/a&gt; pro dotnet 2.0 aplikace. Knihovna
interně využívá &lt;a href="http://www.texy.info/cz/xmlrpc"&gt;Texy! XML-RPC&lt;/a&gt;
za pomocí knihovny &lt;a href="http://www.xml-rpc.net/"&gt;XML-RPC.net&lt;/a&gt;.
Implementováno je skoro vše, krom GZip komprimace přenosu (v příští
verzi přibude možnost přenos komprimovat) &lt;del&gt;a ještě není plně
funkční definování povolených classů, stylů a tagů – konkrétní
implementaci musím ještě probrat s &lt;a
href="http://www.dgx.cz/trine/"&gt;DGX&lt;/a&gt; :)&lt;/del&gt;&lt;/p&gt;

&lt;h3 id="toc-ukazka-pouziti"&gt;Ukázka použití&lt;/h3&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;%@ Page Language="C#" AutoEventWireup="true"  CodeFile="Default.aspx.cs" Inherits="_Default" %&amp;gt;

&amp;lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&amp;gt;

&amp;lt;html xmlns="http://www.w3.org/1999/xhtml"&amp;gt;
&amp;lt;head runat="server"&amp;gt;
    &amp;lt;title&amp;gt;Ukázka Texy.net&amp;lt;/title&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
    &amp;lt;form id="form1" runat="server"&amp;gt;
    &amp;lt;div&amp;gt;
    &amp;lt;asp:TextBox ID="Input" runat="server" TextMode="multiline"&amp;gt;&amp;lt;/asp:TextBox&amp;gt;
    &amp;lt;br /&amp;gt;&amp;lt;asp:Button ID="SubmitButton" runat="server" OnClick="SubmitButton_Click" Text="Převést" /&amp;gt;
    &amp;lt;asp:Literal ID="Output" runat="server"&amp;gt;&amp;lt;/asp:Literal&amp;gt;
    &amp;lt;/div&amp;gt;
    &amp;lt;/form&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;using System;
using System.Data;
using System.Configuration;
using System.Web;
using System.Web.Security;
using System.Web.UI;
using System.Web.UI.WebControls;
using System.Web.UI.WebControls.WebParts;
using System.Web.UI.HtmlControls;
using PBSoftware.Gryphoon.TexyRpc;

public partial class _Default : System.Web.UI.Page
{
    protected void SubmitButton_Click(object sender, EventArgs e)
    {
        Texy texy = new Texy(Input.Text);
        bool useConfiguration = true;

        texy.Configuration.HeadingModule.Top = 3;

        Output.Text = texy.ToXhtml(useConfiguration);
    }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Ukázková stránka obsahuje tlačítko &lt;code&gt;SubmitButton&lt;/code&gt; po jehož
stisknutí dojde k převedení obdahu TextBoxu &lt;code&gt;Input&lt;/code&gt; pomocí Texy!
a výsledek je vypsám pomocí Literalu &lt;code&gt;Output&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Knihovnu uvolňuji k volnému použití pod &lt;strong&gt;Creative
Commons&lt;/strong&gt; licencí. Případné připomínky zanechte v komentářích.
:) V balíčku je i &lt;a
href="/sandbox/texy-doc/index.html"&gt;dokumentace&lt;/a&gt;.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">== Update
[*/data/obrazky/texy-net.png .(Texy.net logo)[right]*]
Beta 2 respektuje změny v rozhranní "Texy! XML-RPC":[texy-rpc] a již plně podporuje definování povolených classů, stylů a tagů. Zatím nevyřešenou věcí je komprese přenášeného textu. **Verze beta 1 již není funkční a je nutné jí nahradit betou 2!**

== Ke stažení
* "Texy.net 1.0 beta 2":[/data/soubory/Texy-net-10-beta2.zip] (obsahuje potřebné knihovny, dokumentaci a zdrojové kódy)
* "Šablona do Visual Studia s ukázkou použití":[/data/soubory/TexyNet.vsi]

------

Konečně jsem dopsal knihovnu, která zpřístupňuje "Texy!":[texy] pro dotnet 2.0 aplikace. Knihovna interně využívá "Texy! XML-RPC":[texy-rpc] za pomocí knihovny "XML-RPC.net":[rpc-net]. Implementováno je skoro vše, krom GZip komprimace přenosu (v příští verzi přibude možnost přenos komprimovat) --a ještě není plně funkční definování povolených classů, stylů a tagů - konkrétní implementaci musím ještě probrat s DGX:[dgx] :)--

== Ukázka použití
/---code xml
&lt;%@ Page Language="C#" AutoEventWireup="true"  CodeFile="Default.aspx.cs" Inherits="_Default" %&gt;

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;

&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head runat="server"&gt;
    &lt;title&gt;Ukázka Texy.net&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;form id="form1" runat="server"&gt;
    &lt;div&gt;
    &lt;asp:TextBox ID="Input" runat="server" TextMode="multiline"&gt;&lt;/asp:TextBox&gt;
    &lt;br /&gt;&lt;asp:Button ID="SubmitButton" runat="server" OnClick="SubmitButton_Click" Text="Převést" /&gt;
    &lt;asp:Literal ID="Output" runat="server"&gt;&lt;/asp:Literal&gt;
    &lt;/div&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
\---code

/---code csharp
using System;
using System.Data;
using System.Configuration;
using System.Web;
using System.Web.Security;
using System.Web.UI;
using System.Web.UI.WebControls;
using System.Web.UI.WebControls.WebParts;
using System.Web.UI.HtmlControls;
using PBSoftware.Gryphoon.TexyRpc;

public partial class _Default : System.Web.UI.Page
{
    protected void SubmitButton_Click(object sender, EventArgs e)
    {
        Texy texy = new Texy(Input.Text);
        bool useConfiguration = true;

        texy.Configuration.HeadingModule.Top = 3;

        Output.Text = texy.ToXhtml(useConfiguration);
    }
}
\---code

Ukázková stránka obsahuje tlačítko `SubmitButton` po jehož stisknutí dojde k převedení obdahu TextBoxu `Input` pomocí Texy! a výsledek je vypsám pomocí Literalu `Output`.

Knihovnu uvolňuji k volnému použití pod **Creative Commons** licencí. Případné připomínky zanechte v komentářích. :) V balíčku je i "dokumentace":[/sandbox/texy-doc/index.html].

[texy]: http://www.texy.info/cz/
[texy-rpc]: http://www.texy.info/cz/xmlrpc
[rpc-net]: http://www.xml-rpc.net/
[dgx]: http://www.dgx.cz/trine/</raw>
    <author>Aleš Roubíček</author>
    <published>2006-06-19T15:30:00</published>
    <url>texy-net-1-0-beta</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>texynet</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T18:34:18.630</edited>
  </article>
  <article>
    <id>159</id>
    <title>Migrace z ASP.NET 1.x</title>
    <description>Jak co nejefektivaněji přemigrovat ASP.NET 1.x weby na 2.0.</description>
    <html xml:space="preserve">
&lt;p&gt;Pokud stojíte před rozhodnutím přemigrovat vaše staré ASP.NET 1.x
aplikace do dvojky nebo už jste se rozhodli, doporučuji vám zabrowsdat na
následující stránku: &lt;a
href="http://msdn.microsoft.com/asp.net/reference/migration/upgrade/"&gt;Upgrade
from ASP.NET 1.x&lt;/a&gt;. Najdete zde několik praktyckých článků, jak
přemigrovat pomocí &lt;a href="/clanek/144-web-application-project.aspx"&gt;Web
Application Projectu&lt;/a&gt; nebo pomocí Web Site Projectu. Najdete zde také odkaz
na záplatu &lt;a
href="http://www.microsoft.com/downloads/details.aspx?familyid=7cecd652-fc04-4ef8-a28a-25c5006677d8&amp;amp;displaylang=en"&gt;Web
Project Conversion Wizard&lt;/a&gt;, který opravuje několik chyb v konverzi, která
je součástí Visual Studia 2005.&lt;/p&gt;

&lt;p&gt;Z vlastních zkušeností musím doporučit nainstalovat Web Application
Project, který převod usnadňuje obrovsky a u rozsáhlejších projektů je
dosažení uspokojivých výsledků s Web Site Projectem skoro nemožné nebo
velice zdlouhavé ;)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Pokud stojíte před rozhodnutím přemigrovat vaše staré ASP.NET 1.x aplikace do dvojky nebo už jste se rozhodli, doporučuji vám zabrowsdat na následující stránku: "Upgrade from ASP.NET 1.x":[http://msdn.microsoft.com/asp.net/reference/migration/upgrade/]. Najdete zde několik praktyckých článků, jak přemigrovat pomocí "Web Application Projectu":[/clanek/144-web-application-project.aspx] nebo pomocí Web Site Projectu. Najdete zde také odkaz na záplatu "Web Project Conversion Wizard":[http://www.microsoft.com/downloads/details.aspx?familyid=7cecd652-fc04-4ef8-a28a-25c5006677d8&amp;displaylang=en], který opravuje několik chyb v konverzi, která je součástí Visual Studia 2005.

Z vlastních zkušeností musím doporučit nainstalovat Web Application Project, který převod usnadňuje obrovsky a u rozsáhlejších projektů je dosažení uspokojivých výsledků s Web Site Projectem skoro nemožné nebo velice zdlouhavé ;)</raw>
    <author>Aleš Roubíček</author>
    <published>2006-06-12T10:49:39.377</published>
    <url>migrace-z-asp-net-1-x</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>aspnet</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T18:32:21.863</edited>
  </article>
  <article>
    <id>160</id>
    <title>Další nová alba</title>
    <description>V sekci Galerie přibyla čtyři nová alba. A chystám další...</description>
    <html xml:space="preserve">
&lt;p&gt;V&amp;#160;sekci Galerie přibyla čtyři nová alba. První obsahuje fotografie
z&amp;#160;hasičské soutěže &lt;a
href="/galerie/2006-06-17_Pohar_starosty_Osecne/default.aspx"&gt;Pohár starosty
obce Osečná&lt;/a&gt; a ta druhá z&amp;#160;&lt;a
href="/galerie/2006-06-24_Martin_Hranac_v_Dubnici/default.aspx"&gt;diskotéky
v&amp;#160;Dubnici&lt;/a&gt;. Třetím albem jsou fotky, které jsem nafotil &lt;a
href="/galerie/2006-06-18_zahrada/default.aspx"&gt;na naší zahradě&lt;/a&gt; a to
čtvrtý obsahuje &lt;a href="/galerie/2006-05-21_Shake_66/default.aspx"&gt;fotky
z&amp;#160;Shaku&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;V&amp;#160;přípravě mám velké album fotek z&amp;#160;&lt;em&gt;Akce &amp;#8211; Paul van
Dyk v&amp;#160;Praze&lt;/em&gt;. Již brzy na vašich monitorech&amp;#8230;&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">V sekci Galerie přibyla čtyři nová alba. První obsahuje fotografie z hasičské soutěže "Pohár starosty obce Osečná":[/galerie/2006-06-17_Pohar_starosty_Osecne/default.aspx] a ta druhá z "diskotéky v Dubnici":[/galerie/2006-06-24_Martin_Hranac_v_Dubnici/default.aspx]. Třetím albem jsou fotky, které jsem nafotil "na naší zahradě":[/galerie/2006-06-18_zahrada/default.aspx] a to čtvrtý obsahuje "fotky z Shaku":[/galerie/2006-05-21_Shake_66/default.aspx].

V přípravě mám velké album fotek z *Akce - Paul van Dyk v Praze*. Již brzy na vašich monitorech...</raw>
    <author>Aleš Roubíček</author>
    <published>2006-06-27T17:20:00</published>
    <url>dalsi-nova-alba</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-06-27T17:22:20.063</edited>
  </article>
  <article>
    <id>161</id>
    <title>Návody na tvorbu ASP.NET stránek</title>
    <description>Perfektní návody na tvorbu ASP.NET stránek pro práci s daty</description>
    <html xml:space="preserve">
&lt;p&gt;Přímo na domovské stránce &lt;a href="http://asp.net/"&gt;ASP.NET&lt;/a&gt; vyšla &lt;a
href="http://asp.net/learn/dataaccess/"&gt;sada návodů&lt;/a&gt; na tvorbu ASP.NET
2.0 stránek, které pracují s daty. Je zde popsán postup od vytvoření
třívrstvé aplikace (&lt;acronym title="Data Access Layer"&gt;DAL&lt;/acronym&gt;,
&lt;acronym title="Business Logic Layer"&gt;BLL&lt;/acronym&gt;, &lt;acronym
title="Presentation Layer"&gt;PL&lt;/acronym&gt;) přes Master-Deatil pohledy na data po
kompletní řešení. Ukázky kódů jsou jak v jazyce Visual Basic .NET tak
v C#, ale většinou se jedná o ukázku &lt;acronym
title="Rapid Application Development"&gt;RAD&lt;/acronym&gt; ve Visual Studiu :) Za
celým 20 dílným tutoriálem stojí Scott Mitchel, &lt;a
href="http://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco"&gt;autor
několika knih&lt;/a&gt; o ASP.NET a autor &lt;a
href="http://www.4guysfromrolla.com"&gt;několika&lt;/a&gt; &lt;a
href="http://scottonwriting.net/"&gt;zajímavých&lt;/a&gt; webů.&lt;/p&gt;

&lt;p&gt;Ještě něž mě začnete kamenovat, vrátím se k číslu 20 :) Vím, na
zmíněných stránkách je k nalezení pouze 15 tutoriálů. Ta další
pětka tam také je, ale není odnikud odkázána. Stačí pouze změnit číslo
v URL a jste tam :)&lt;/p&gt;

&lt;p&gt;Přejí příjemné studování.&lt;/p&gt;

&lt;p&gt;PS. Osobně se mi podobný způsob psaní aplikací úplně nezamlouvá, ale
pořád je to čistější než některé opičárny, které občas můžeme
potkat ;)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Přímo na domovské stránce "ASP.NET":[aspnet] vyšla "sada návodů":[dataaccess] na tvorbu ASP.NET 2.0 stránek, které pracují s daty. Je zde popsán postup od vytvoření třívrstvé aplikace (DAL((Data Access Layer)), BLL((Business Logic Layer)), PL((Presentation Layer))) přes Master-Deatil pohledy na data po kompletní řešení. Ukázky kódů jsou jak v jazyce Visual Basic .NET tak v C#, ale většinou se jedná o ukázku RAD((Rapid Application Development)) ve Visual Studiu :) Za celým 20 dílným tutoriálem stojí Scott Mitchel, "autor několika knih":[http://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco] o ASP.NET a autor "několika":[http://www.4guysfromrolla.com] "zajímavých":[http://scottonwriting.net/] webů.

Ještě něž mě začnete kamenovat, vrátím se k číslu 20 :) Vím, na zmíněných stránkách je k nalezení pouze 15 tutoriálů. Ta další pětka tam také je, ale není odnikud odkázána. Stačí pouze změnit číslo v URL a jste tam :)

Přejí příjemné studování.

PS. Osobně se mi podobný způsob psaní aplikací úplně nezamlouvá, ale pořád je to čistější než některé opičárny, které občas můžeme potkat ;)

[aspnet]: http://asp.net/
[dataaccess]: http://asp.net/learn/dataaccess/</raw>
    <author>Aleš Roubíček</author>
    <published>2006-06-27T10:07:21.770</published>
    <url>navody-na-tvorbu-asp-net-stranek</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>aspnet</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T18:28:42.660</edited>
  </article>
  <article>
    <id>162</id>
    <title>Hudební novinky pro začátek léta</title>
    <description>Začíná nám léto, to si žádá velké pařby se spoustou výborné muziky. Právě vycházejí skvělé věci, na které se těším už půl roku, takže směle do nich!</description>
    <html xml:space="preserve">
&lt;p&gt;Začíná nám léto, to si žádá velké pařby se spoustou výborné
muziky. Právě vycházejí skvělé věci, na které se těším už půl
roku, takže směle do nich!&lt;/p&gt;

&lt;p&gt;První věc už vyšla u&amp;#160;labelu &lt;a
href="http://www.joiarecords.com/"&gt;Joia Records&lt;/a&gt; a jmenuje se &lt;a
href="http://mp3.juno.co.uk/MP3/SF222194-01-01-01.mp3"&gt;Click&lt;/a&gt;. Věcička
hodně povedená a na svědomí ji má známá dvojka &lt;em&gt;Steve Angello &amp;amp;
Sebastian Ingrosso&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Druhá v&amp;#160;hodně podobné náladě výjde u&amp;#160;labelu &lt;a
href="http://www.refune.com/"&gt;Refune&lt;/a&gt; pod názvem &lt;a
href="http://mp3.uniquedist.info/samplesC053/REF006A1.mp3"&gt;Otherwize Then&lt;/a&gt; a
stojí za ní duo &lt;em&gt;Steve Angello &amp;amp; Laidback Luke&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Třetí věc výjde u&amp;#160;labelu &lt;a href="http://www.sizerecords.com/"&gt;Size
Records&lt;/a&gt; pod názvem &lt;a
href="http://mp3.uniquedist.info/samplesC047/SIZE013A.mp3"&gt;Sexy F***&lt;/a&gt; a ta
je z&amp;#160;rukou &lt;em&gt;Who's&amp;#160;who&lt;/em&gt; alias Steva Angella.&lt;/p&gt;

&lt;p&gt;Prozatím poslední skvělou věcí je &lt;a
href="http://mp3.uniquedist.info/samplesC052/JOIA025A.mp3"&gt;Fatz Theme&lt;/a&gt;/&lt;a
href="http://mp3.uniquedist.info/samplesC052/JOIA025B.mp3"&gt;Flycker&lt;/a&gt;.
Vychází u&amp;#160;labelu &lt;a href="http://www.joiarecords.com/"&gt;Joia Records&lt;/a&gt;
a je z&amp;#160;rukou &lt;em&gt;Sheridan&lt;/em&gt;a alias Erica Prydze.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Začíná nám léto, to si žádá velké pařby se spoustou výborné muziky. Právě vycházejí skvělé věci, na které se těším už půl roku, takže směle do nich!

První věc už vyšla u labelu [joia] a jmenuje se "Click":[http://mp3.juno.co.uk/MP3/SF222194-01-01-01.mp3]. Věcička hodně povedená a na svědomí ji má známá dvojka *Steve Angello &amp; Sebastian Ingrosso*.

Druhá v hodně podobné náladě výjde u labelu [refune] pod názvem "Otherwize Then":[http://mp3.uniquedist.info/samplesC053/REF006A1.mp3] a stojí za ní duo *Steve Angello &amp; Laidback Luke*.

Třetí věc výjde u labelu [size] pod názvem "Sexy F***":[http://mp3.uniquedist.info/samplesC047/SIZE013A.mp3] a ta je z rukou *Who's who* alias Steva Angella.

Prozatím poslední skvělou věcí je "Fatz Theme":[http://mp3.uniquedist.info/samplesC052/JOIA025A.mp3]/"Flycker":[http://mp3.uniquedist.info/samplesC052/JOIA025B.mp3]. Vychází u labelu [joia] a je z rukou *Sheridan*a alias Erica Prydze.

[joia]: http://www.joiarecords.com/ Joia Records
[size]: http://www.sizerecords.com/ Size Records
[refune]: http://www.refune.com/ Refune</raw>
    <author>Aleš Roubíček</author>
    <published>2006-06-27T13:08:15.850</published>
    <url>hudebni-novinky-pro-zacatek-leta</url>
    <category>Muzika</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-06-27T13:10:13.753</edited>
  </article>
  <article>
    <id>163</id>
    <title>Jsou tam :)</title>
    <description>Podařilo se mi zrestaurovat ztracené komentáře :)</description>
    <html xml:space="preserve">
&lt;p&gt;„Kdo?“ „Néé, co!“&lt;/p&gt;

&lt;p&gt;Odedneška mám dovolenou (až do konce příštího týdne) a tak jsem se
podíval na zoubek &lt;a href="/clanek/154-to-se-mi-zase-neco-povedlo.aspx"&gt;mým
ztraceným komentářům&lt;/a&gt;. Postup jak na to jsem si už dopředu vymyslel.
Využil jsem toho, že si všechny komentáře syndikuju v &lt;a
href="http://reader.google.com/"&gt;Google Readeru&lt;/a&gt;. Přepsané komentáře jsem
si v GR označil labelem a využil možnosti takový label sdílet (ve formátu
Atom). Napsal jsem si importér z Atomu do SQL Update příkazu a začal
sosat data.&lt;/p&gt;

&lt;p&gt;Ano sosat jsem musel postupně, protože GR exporty mají jen dvacet položek
a já potřeboval těch komentářů vysosnout zhruba 200 :) Takže jsem musel
ručně odštítkovat naimportované komentáře a opět provést import. No
alespoň část toho procesu se mi povedlo zautomatizovat a ušetřit tak pár
hodin práce :)&lt;/p&gt;

&lt;p&gt;Důležité však je, že většina komentářu je zase ve své původní
podobě a na spráném místě. Bohužel přibližně deset komentářů jsem
v onen osudný den nestihl nasyndikovat. Ty jsou asi nenávratně pryč, teda
pokud je někdo nemá někde v útrobách své čtečky :) Kdyby je náhodou
někdo našel, prosím o jejich vrácení :D&lt;/p&gt;

&lt;p&gt;Děkuji za pozornost.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">"Kdo?" "Néé, co!"

Odedneška mám dovolenou (až do konce příštího týdne) a tak jsem se podíval na zoubek "mým ztraceným komentářům":[/clanek/154-to-se-mi-zase-neco-povedlo.aspx]. Postup jak na to jsem si už dopředu vymyslel. Využil jsem toho, že si všechny komentáře syndikuju v "Google Readeru":[http://reader.google.com/]. Přepsané komentáře jsem si v GR označil labelem a využil možnosti takový label sdílet (ve formátu Atom). Napsal jsem si importér z Atomu do SQL Update příkazu a začal sosat data.

Ano sosat jsem musel postupně, protože GR exporty mají jen dvacet položek a já potřeboval těch komentářů vysosnout zhruba 200 :) Takže jsem musel ručně odštítkovat naimportované komentáře a opět provést import. No alespoň část toho procesu se mi povedlo zautomatizovat a ušetřit tak pár hodin práce :)

Důležité však je, že většina komentářu je zase ve své původní podobě a na spráném místě. Bohužel přibližně deset komentářů jsem v onen osudný den nestihl nasyndikovat. Ty jsou asi nenávratně pryč, teda pokud je někdo nemá někde v útrobách své čtečky :) Kdyby je náhodou někdo našel, prosím o jejich vrácení :D

Děkuji za pozornost.</raw>
    <author>Aleš Roubíček</author>
    <published>2006-06-28T14:33:14.787</published>
    <url>jsou-tam</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <tags>rss atom google reader</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T18:28:03.863</edited>
  </article>
  <article>
    <id>164</id>
    <title>Phunky Summer Beatz</title>
    <description>Alessio Busta je zpět!</description>
    <html xml:space="preserve">
&lt;ol&gt;
	&lt;li&gt;Paolo Mojo – 1983 (Eric Prydz Remix)&lt;/li&gt;

	&lt;li&gt;Pryda – Seadweller&lt;/li&gt;

	&lt;li&gt;Phunk Investigation – You Don't Fool Me (Tali Freaks Remix)&lt;/li&gt;

	&lt;li&gt;Retarded Funk – Venta&lt;/li&gt;

	&lt;li&gt;Steve Angello – Teasing Mr. Charlie (Long Vesrion)&lt;/li&gt;

	&lt;li&gt;Lorraine – Transatlantic Flight (Axwell Remix)&lt;/li&gt;

	&lt;li&gt;Steve Angello &amp;amp; Sebastian Ingrosso – Click&lt;/li&gt;

	&lt;li&gt;Scrape feat. D Empress – Be My Friend (Ian Carey Dub Mix)&lt;/li&gt;

	&lt;li&gt;Steve Angello &amp;amp; Laidback Luke – Otherwize Then&lt;/li&gt;

	&lt;li&gt;DJ Flex &amp;amp; Sandy Wilhelm – Love For You (Steve Angello &amp;amp; Sebastian
	Ingrosso Remix)&lt;/li&gt;

	&lt;li&gt;Lee Cabrera feat. Mim – I Watch You (Ian Carey Remix)&lt;/li&gt;

	&lt;li&gt;Michael Gray – The Weekend (Ian Carey Remix)&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Ke stažení: &lt;a href="/files/alessio_busta_-_phunky_summer_beatz.wma"
onclick="javascript:_gat._getTracker("&gt;Alessio Busta – Phunky Summer
Beatz&lt;/a&gt; (WMA 128kbps, 75 MiB)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">1.  Paolo Mojo - 1983 (Eric Prydz Remix)
2.  Pryda - Seadweller
3.  Phunk Investigation - You Don't Fool Me (Tali Freaks Remix)
4.  Retarded Funk - Venta
5.  Steve Angello - Teasing Mr. Charlie (Long Vesrion)
6.  Lorraine - Transatlantic Flight (Axwell Remix)
7.  Steve Angello &amp; Sebastian Ingrosso - Click
8.  Scrape feat. D Empress - Be My Friend (Ian Carey Dub Mix)
9.  Steve Angello &amp; Laidback Luke - Otherwize Then
10.  DJ Flex &amp; Sandy Wilhelm - Love For You (Steve Angello &amp; Sebastian Ingrosso Remix)
11.  Lee Cabrera feat. Mim - I Watch You (Ian Carey Remix)
12.  Michael Gray - The Weekend (Ian Carey Remix)

Ke stažení: &lt;a href="/files/alessio_busta_-_phunky_summer_beatz.wma" onClick="javascript:_gat._getTracker("UA-90726-1")._trackPageview('/files/alessio_busta_-_phunky_summer_beatz.wma');"&gt;Alessio Busta - Phunky Summer Beatz&lt;/a&gt; (WMA 128kbps, 75 MiB)</raw>
    <author>alessio busta</author>
    <published>2006-07-02T09:45:54.760</published>
    <url>phunky-summer-beatz</url>
    <category>Muzika</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-06-23T15:12:36.897</edited>
  </article>
  <article>
    <id>165</id>
    <title>Asynchronní stránkování v ASP.NET</title>
    <description>Ukázka využití komponenty MultiView s ASP.NET 'Atlas' k asynchronnímu stránkování prezentovaných dat.</description>
    <html xml:space="preserve">
&lt;p&gt;V jednom z komentářů k článku &lt;a
href="/clanek/132-zaciname-s-atlasem-2.aspx"&gt;Začínáme s Atlasem 2&lt;/a&gt; se
komentující ptal na to, jak může docílit toho, aby se nenačítala
MasterPage celá, ale pouze ContentPages. To jsem označil za nepochopení
MasterPages, protože ty slouží pouze jako šablony společných prvků pro
skupinu stránek. MasterPages slouží k udržení jednotného vzhledu a
struktury stránek a k pomyslnému oddělení obsahu a zbytku stránky
dochází pouze na serveru. Na klienta se posílá pouze jedna jediná
stránka – složená z mástru a obsahu. Je to zkrátka něco jako razítko
na výkresu, jednotlivá políčka musíte vyplnit sami a výkres je také
nedělitelný :).&lt;/p&gt;

&lt;p&gt;Tazatel však chtěl docílit efektu framů, kde by se načítal jen
měnící se obsah a zbytek zůstal v prohlížeči. Jedním z možných
řešení je využití ASP.NET komponenty &lt;code&gt;asp:MultiView&lt;/code&gt; společně
s ASP.NET ‚Atlas‘. To si nyní představíme podrobněji…&lt;/p&gt;

&lt;p&gt;Komponenta &lt;em&gt;MultiView&lt;/em&gt; je novou kompozitní komponentou v ASP.NET
2.0, která je přímou příbuznou &lt;a
href="/clanek/106-samanismus-v-asp-net-2-0.aspx"&gt;&lt;em&gt;Wizardů&lt;/em&gt;&lt;/a&gt;.
MultiView je elegantnějším řešením tam, kde se dříve využívali
skrývané Panely a s množstvím různých panelů na stránce docházelo
k velikému zmatku. Nesměli jste zapomenout jedny panely schovat a další
zase naopak zobrazit. MultiView pouze zadáte index požadovaného pohledu,
který se má zobrazit. Doporučení hodnou praktikou je si pro jednotlivé
pohledy vytvořit výčet (enumeraci). Kód pak získá větší přehlednost a
i po několika týdnech budete vědět o jaký pohled šlo ;).&lt;/p&gt;

&lt;p&gt;Tak jsme si teoreticy probrali komponentu MultiView a nyní si ukážeme
praktickou ukázku. Takže mějme následující MasterPage:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;%@ Master Language="C#" %&amp;gt;

&amp;lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&amp;gt;

&amp;lt;html xmlns="http://www.w3.org/1999/xhtml" lang="cs" xml:lang="cs"&amp;gt;
&amp;lt;head runat="server"&amp;gt;
    &amp;lt;title&amp;gt;Ukázky s ASP.NET 'Atlas'&amp;lt;/title&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
    &amp;lt;form id="form1" runat="server"&amp;gt;
    &amp;lt;div&amp;gt;
        &amp;lt;h1&amp;gt;Ukázky s ASP.NET 'Atlas'&amp;lt;/h1&amp;gt;
        &amp;lt;asp:contentplaceholder id="ContentPlaceHolder1" runat="server"&amp;gt;
        &amp;lt;/asp:contentplaceholder&amp;gt;
        &amp;lt;p&amp;gt;&amp;amp;copy;2006 Aleš Roubíček. Některá práva vyhrazena. creative commons&amp;lt;/p&amp;gt;
    &amp;lt;/div&amp;gt;
    &amp;lt;/form&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;K ní vytvoříme následující ContentPage:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;%@ Page Language="C#" MasterPageFile="Atlas.master" Title="Ukázka MultiView" %&amp;gt;

&amp;lt;script runat="server"&amp;gt;

        enum PageViews
        {
                First = 0,
                Second = 1
        }

        protected void FirstViewButton_Click(object sender, EventArgs e)
        {
                PagesMultiView.ActiveViewIndex = (int)PageViews.First;
        }

        protected void SecondViewButton_Click(object sender, EventArgs e)
        {
                PagesMultiView.ActiveViewIndex = (int)PageViews.Second;
        }

&amp;lt;/script&amp;gt;

&amp;lt;asp:Content ID="Content1" ContentPlaceHolderID="ContentPlaceHolder1" Runat="Server"&amp;gt;

        &amp;lt;asp:LinkButton ID="FirstViewButton" runat="server" Text="První stránka"
                        OnClick="FirstViewButton_Click"&amp;gt;&amp;lt;/asp:LinkButton&amp;gt;

        &amp;lt;asp:LinkButton ID="SecondViewButton" runat="server" Text="Druhá stránka"
                        OnClick="SecondViewButton_Click"&amp;gt;&amp;lt;/asp:LinkButton&amp;gt;

        &amp;lt;asp:MultiView ID="PagesMultiView" runat="server" ActiveViewIndex="0"&amp;gt;

                &amp;lt;asp:View ID="FirstView" runat="server"&amp;gt;
                        &amp;lt;h2&amp;gt;První stránka&amp;lt;/h2&amp;gt;
                        &amp;lt;p&amp;gt;Obsah první stránky.&amp;lt;/p&amp;gt;
                &amp;lt;/asp:View&amp;gt;

                &amp;lt;asp:View ID="SecondView" runat="server"&amp;gt;
                        &amp;lt;h2&amp;gt;Druhá stránka&amp;lt;/h2&amp;gt;
                        &amp;lt;p&amp;gt;Obsah druhé stránky.&amp;lt;/p&amp;gt;
                &amp;lt;/asp:View&amp;gt;

        &amp;lt;/asp:MultiView&amp;gt;

&amp;lt;/asp:Content&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Tato stránka obsahuje dvě tlačítka a jeden MultiView. Tlačítka mají
nastarosti přepínat pohledy. Přepínání je prováděno v ovladačích
události &lt;em&gt;Click&lt;/em&gt;. Prozatím nic úchvatného, máme stránku, která
umí přepínat svůj obsah, ale stejně se vždy musí poslat požadavek na
server, kde se přepne pohled a pak se odešle nová celá stránka. To
neřeší náš problém :( Naštěstí konečné řešení je velice blízko :)
Stačí oživit stránku pomocí ASP.NET ‚Atlas‘. Výsledná ContentPage
bude vypadat následujícně:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;%@ Page Language="C#" MasterPageFile="Atlas.master" Title="Ukázka MultiView" %&amp;gt;

&amp;lt;script runat="server"&amp;gt;

        enum PageViews
        {
                First = 0,
                Second = 1
        }

        protected void FirstViewButton_Click(object sender, EventArgs e)
        {
                PagesMultiView.ActiveViewIndex = (int)PageViews.First;
        }

        protected void SecondViewButton_Click(object sender, EventArgs e)
        {
                PagesMultiView.ActiveViewIndex = (int)PageViews.Second;
        }

&amp;lt;/script&amp;gt;

&amp;lt;asp:Content ID="Content1" ContentPlaceHolderID="ContentPlaceHolder1" Runat="Server"&amp;gt;

        &amp;lt;atlas:ScriptManager ID="ScriptManager1" runat="server" EnablePartialRendering="true"&amp;gt;
        &amp;lt;/atlas:ScriptManager&amp;gt;

        &amp;lt;asp:LinkButton ID="FirstViewButton" runat="server" Text="První stránka"
                                        OnClick="FirstViewButton_Click"&amp;gt;&amp;lt;/asp:LinkButton&amp;gt;

        &amp;lt;asp:LinkButton ID="SecondViewButton" runat="server" Text="Druhá stránka"
                                        OnClick="SecondViewButton_Click"&amp;gt;&amp;lt;/asp:LinkButton&amp;gt;

        &amp;lt;atlas:UpdatePanel ID="ViewUpdate" runat="server" RenderMode="Block"&amp;gt;

                &amp;lt;ContentTemplate&amp;gt;
                        &amp;lt;asp:MultiView ID="PagesMultiView" runat="server" ActiveViewIndex="0"&amp;gt;

                                &amp;lt;asp:View ID="FirstView" runat="server"&amp;gt;
                                        &amp;lt;h2&amp;gt;První stránka&amp;lt;/h2&amp;gt;
                                        &amp;lt;p&amp;gt;Obsah první stránky.&amp;lt;/p&amp;gt;
                                &amp;lt;/asp:View&amp;gt;

                                &amp;lt;asp:View ID="SecondView" runat="server"&amp;gt;
                                        &amp;lt;h2&amp;gt;Druhá stránka&amp;lt;/h2&amp;gt;
                                        &amp;lt;p&amp;gt;Obsah druhé stránky.&amp;lt;/p&amp;gt;
                                &amp;lt;/asp:View&amp;gt;

                        &amp;lt;/asp:MultiView&amp;gt;
                &amp;lt;/ContentTemplate&amp;gt;

                &amp;lt;Triggers&amp;gt;
                        &amp;lt;atlas:ControlEventTrigger ControlID="FirstViewButton" EventName="Click" /&amp;gt;
                        &amp;lt;atlas:ControlEventTrigger ControlID="SecondViewButton" EventName="Click" /&amp;gt;
                &amp;lt;/Triggers&amp;gt;

        &amp;lt;/atlas:UpdatePanel&amp;gt;

&amp;lt;/asp:Content&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Tímto máme hotovo. Při změně pohledu dojde k asynchronnímu načtení
pouze vnitřku stránky a zbytek MasterPage zůstane v prohlížeči.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">V jednom z komentářů k článku [clanek(132)] se komentující ptal na to, jak může docílit toho, aby se nenačítala MasterPage celá, ale pouze ContentPages. To jsem označil za nepochopení MasterPages, protože ty slouží pouze jako šablony společných prvků pro skupinu stránek. MasterPages slouží k udržení jednotného vzhledu a struktury stránek a k pomyslnému oddělení obsahu a zbytku stránky dochází pouze na serveru. Na klienta se posílá pouze jedna jediná stránka - složená z mástru a obsahu. Je to zkrátka něco jako razítko na výkresu, jednotlivá políčka musíte vyplnit sami a výkres je také nedělitelný :).

Tazatel však chtěl docílit efektu framů, kde by se načítal jen měnící se obsah a zbytek zůstal v prohlížeči. Jedním z možných řešení je využití ASP.NET komponenty `asp:MultiView` společně s ASP.NET 'Atlas'. To si nyní představíme podrobněji...

Komponenta *MultiView* je novou kompozitní komponentou v ASP.NET 2.0, která je přímou příbuznou *Wizardů*:[clanek(106)]. MultiView je elegantnějším řešením tam, kde se dříve využívali skrývané Panely a s množstvím různých panelů na stránce docházelo k velikému zmatku. Nesměli jste zapomenout jedny panely schovat a další zase naopak zobrazit. MultiView pouze zadáte index požadovaného pohledu, který se má zobrazit. Doporučení hodnou praktikou je si pro jednotlivé pohledy vytvořit výčet (enumeraci). Kód pak získá větší přehlednost a i po několika týdnech budete vědět o jaký pohled šlo ;).

Tak jsme si teoreticy probrali komponentu MultiView a nyní si ukážeme praktickou ukázku. Takže mějme následující MasterPage:

/---code xml
&lt;%@ Master Language="C#" %&gt;

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;

&lt;html xmlns="http://www.w3.org/1999/xhtml" lang="cs" xml:lang="cs"&gt;
&lt;head runat="server"&gt;
    &lt;title&gt;Ukázky s ASP.NET 'Atlas'&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;form id="form1" runat="server"&gt;
    &lt;div&gt;
	&lt;h1&gt;Ukázky s ASP.NET 'Atlas'&lt;/h1&gt;
        &lt;asp:contentplaceholder id="ContentPlaceHolder1" runat="server"&gt;
        &lt;/asp:contentplaceholder&gt;
        &lt;p&gt;&amp;copy;2006 Aleš Roubíček. Některá práva vyhrazena. creative commons&lt;/p&gt;
    &lt;/div&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
\---

K ní vytvoříme následující ContentPage:

/---code xml
&lt;%@ Page Language="C#" MasterPageFile="Atlas.master" Title="Ukázka MultiView" %&gt;

&lt;script runat="server"&gt;

	enum PageViews
	{
		First = 0,
		Second = 1
	}

	protected void FirstViewButton_Click(object sender, EventArgs e)
	{
		PagesMultiView.ActiveViewIndex = (int)PageViews.First;
	}

	protected void SecondViewButton_Click(object sender, EventArgs e)
	{
		PagesMultiView.ActiveViewIndex = (int)PageViews.Second;
	}

&lt;/script&gt;

&lt;asp:Content ID="Content1" ContentPlaceHolderID="ContentPlaceHolder1" Runat="Server"&gt;

	&lt;asp:LinkButton ID="FirstViewButton" runat="server" Text="První stránka"
			OnClick="FirstViewButton_Click"&gt;&lt;/asp:LinkButton&gt;

	&lt;asp:LinkButton ID="SecondViewButton" runat="server" Text="Druhá stránka"
			OnClick="SecondViewButton_Click"&gt;&lt;/asp:LinkButton&gt;

	&lt;asp:MultiView ID="PagesMultiView" runat="server" ActiveViewIndex="0"&gt;

		&lt;asp:View ID="FirstView" runat="server"&gt;
			&lt;h2&gt;První stránka&lt;/h2&gt;
			&lt;p&gt;Obsah první stránky.&lt;/p&gt;
		&lt;/asp:View&gt;

		&lt;asp:View ID="SecondView" runat="server"&gt;
			&lt;h2&gt;Druhá stránka&lt;/h2&gt;
			&lt;p&gt;Obsah druhé stránky.&lt;/p&gt;
		&lt;/asp:View&gt;

	&lt;/asp:MultiView&gt;

&lt;/asp:Content&gt;
\---

Tato stránka obsahuje dvě tlačítka a jeden MultiView. Tlačítka mají nastarosti přepínat pohledy. Přepínání je prováděno v ovladačích události *Click*. Prozatím nic úchvatného, máme stránku, která umí přepínat svůj obsah, ale stejně se vždy musí poslat požadavek na server, kde se přepne pohled a pak se odešle nová celá stránka. To neřeší náš problém :( Naštěstí konečné řešení je velice blízko :) Stačí oživit stránku pomocí ASP.NET 'Atlas'. Výsledná ContentPage bude vypadat následujícně:

/---code xml
&lt;%@ Page Language="C#" MasterPageFile="Atlas.master" Title="Ukázka MultiView" %&gt;

&lt;script runat="server"&gt;

	enum PageViews
	{
		First = 0,
		Second = 1
	}

	protected void FirstViewButton_Click(object sender, EventArgs e)
	{
		PagesMultiView.ActiveViewIndex = (int)PageViews.First;
	}

	protected void SecondViewButton_Click(object sender, EventArgs e)
	{
		PagesMultiView.ActiveViewIndex = (int)PageViews.Second;
	}

&lt;/script&gt;

&lt;asp:Content ID="Content1" ContentPlaceHolderID="ContentPlaceHolder1" Runat="Server"&gt;

	&lt;atlas:ScriptManager ID="ScriptManager1" runat="server" EnablePartialRendering="true"&gt;
	&lt;/atlas:ScriptManager&gt;

	&lt;asp:LinkButton ID="FirstViewButton" runat="server" Text="První stránka"
					OnClick="FirstViewButton_Click"&gt;&lt;/asp:LinkButton&gt;

	&lt;asp:LinkButton ID="SecondViewButton" runat="server" Text="Druhá stránka"
					OnClick="SecondViewButton_Click"&gt;&lt;/asp:LinkButton&gt;

	&lt;atlas:UpdatePanel ID="ViewUpdate" runat="server" RenderMode="Block"&gt;

		&lt;ContentTemplate&gt;
			&lt;asp:MultiView ID="PagesMultiView" runat="server" ActiveViewIndex="0"&gt;

				&lt;asp:View ID="FirstView" runat="server"&gt;
					&lt;h2&gt;První stránka&lt;/h2&gt;
					&lt;p&gt;Obsah první stránky.&lt;/p&gt;
				&lt;/asp:View&gt;

				&lt;asp:View ID="SecondView" runat="server"&gt;
					&lt;h2&gt;Druhá stránka&lt;/h2&gt;
					&lt;p&gt;Obsah druhé stránky.&lt;/p&gt;
				&lt;/asp:View&gt;

			&lt;/asp:MultiView&gt;
		&lt;/ContentTemplate&gt;

		&lt;Triggers&gt;
			&lt;atlas:ControlEventTrigger ControlID="FirstViewButton" EventName="Click" /&gt;
			&lt;atlas:ControlEventTrigger ControlID="SecondViewButton" EventName="Click" /&gt;
		&lt;/Triggers&gt;

	&lt;/atlas:UpdatePanel&gt;

&lt;/asp:Content&gt;
\---

Tímto máme hotovo. Při změně pohledu dojde k asynchronnímu načtení pouze vnitřku stránky a zbytek MasterPage zůstane v prohlížeči.

[clanek(106)]: /clanek/106-samanismus-v-asp-net-2-0.aspx
[clanek(132)]: /clanek/132-zaciname-s-atlasem-2.aspx Začínáme s Atlasem 2</raw>
    <author>Aleš Roubíček</author>
    <published>2006-07-04T21:05:53.947</published>
    <url>asynchronni-strankovani-v-asp-net</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>aspnet ajax</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T18:27:14.550</edited>
  </article>
  <article>
    <id>166</id>
    <title>EAI</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Extravagantní arogantní introvert.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Extravagantní arogantní introvert.</raw>
    <author>Aleš Roubíček</author>
    <published>2006-07-16T23:07:46.313</published>
    <url>eai</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-07-16T23:07:46.513</edited>
  </article>
  <article>
    <id>167</id>
    <title>Přednáška o Abletone Live</title>
    <description>Pozvánka na přednášku o skvělém softwaru pro DJ a živé hraní.</description>
    <html xml:space="preserve">
&lt;p&gt;&lt;img src="http://disk.cz/disk/img/OBRAZKY-WEB/ABLETON/live5_9090.jpg"
class="right" alt="Ableton Live" /&gt; Dnes se od 18. hodin koná přednáš
o použití &lt;a href="http://www.ableton.com/"&gt;Ableton Live&lt;/a&gt; pro živé
hraní a DJing. Místo konání je Apple Center na Andělu v Praze. Já si
tuhle možnost určitě nenechám ujít, a co vy? PS. Na akci je se třeba &lt;a
href="http://www.appleobchod.cz/?page=training"&gt;zaregistrovat&lt;/a&gt;.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">[*http://disk.cz/disk/img/OBRAZKY-WEB/ABLETON/live5_9090.jpg .(Ableton Live)[right]*]
Dnes se od 18. hodin koná přednáš o použití "Ableton Live":[http://www.ableton.com/] pro živé hraní a DJing. Místo konání je Apple Center na Andělu v Praze. Já si tuhle možnost určitě nenechám ujít, a co vy? PS. Na akci je se třeba "zaregistrovat":[http://www.appleobchod.cz/?page=training].</raw>
    <author>Aleš Roubíček</author>
    <published>2006-07-18T14:51:10.767</published>
    <url>prednaska-o-abletone-live</url>
    <category>Muzika</category>
    <keywords></keywords>
    <tags>ableton</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T18:23:56.347</edited>
  </article>
  <article>
    <id>168</id>
    <title>Nový kabátek pro Microsoft.com</title>
    <description>Redesign homepage Microsoft.com, preview verze funkční pouze v MSIE :(.</description>
    <html xml:space="preserve">
&lt;p&gt;Microsoft připravuje redesign svých stránek. Jak vypadá současný stav
se můžete podívat na &lt;a
href="http://preview.microsoft.com/en/us/default.aspx"&gt;Microsoft.com
Preview&lt;/a&gt; (POZOR: IE only). Jako homepage mi přijde dostatečně výrazná
i&amp;#160;celkem přehledná, ale zatim mi nefunguje formulář pro hledání,
ačkoliv je v&amp;#160;takovém pěkném zašupovacím boxu :) Ještě to chce
trochu zapracovat i&amp;#160;na těch &amp;#8222;bílých&amp;#8220; místech. Kód se chce
tvářit jako XHTML 1.0&amp;#160;Strict, ale i&amp;#160;na Trasitional má ještě
hodně daleko.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Microsoft připravuje redesign svých stránek. Jak vypadá současný stav se můžete podívat na "Microsoft.com Preview":[http://preview.microsoft.com/en/us/default.aspx] (POZOR: IE only). Jako homepage mi přijde dostatečně výrazná i celkem přehledná, ale zatim mi nefunguje formulář pro hledání, ačkoliv je v takovém pěkném zašupovacím boxu :) Ještě to chce trochu zapracovat i na těch "bílých" místech. Kód se chce tvářit jako XHTML 1.0 Strict, ale i na Trasitional má ještě hodně daleko.</raw>
    <author>Aleš Roubíček</author>
    <published>2006-07-25T09:50:17.313</published>
    <url>novy-kabatek-pro-microsoft-com</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-07-25T10:45:05.093</edited>
  </article>
  <article>
    <id>169</id>
    <title>Nová alba v galerii</title>
    <description>Přidal jsem pár dalších alb do galerie.</description>
    <html xml:space="preserve">
&lt;p&gt;Tehle měsíc je fakt náročnej, každou chvíli nějaká oslava nebo kalba
:) a to ještě není konec…&lt;/p&gt;

&lt;p&gt;Začnu tou nejstarší (dlouho slibovanou) akcí &lt;a
href="/galerie/2006-05-26_Paul_van_Dyk/default.aspx"&gt;Paul van Dyk&lt;/a&gt;, konečně
jsem se dokopal k tomu vybrat pár fotek z toho kvanta, co jsme nafotili ;)
ještě mě čeká přebrat Vibrations. Pak tu máme dva Hegeše &lt;a
href="/galerie/2006-07-07_Heges/default.aspx"&gt;7. 7.&lt;/a&gt; a &lt;a
href="/galerie/2006-07-21_Heges/default.aspx"&gt;21. 7.&lt;/a&gt; a jeden &lt;a
href="/galerie/2006-07-20_Duplex/default.aspx"&gt;Duplex&lt;/a&gt;. Posledním mega albem
jsou fotky ze &lt;a
href="/galerie/2006-07-08-2_Zuzky_narozky/default.aspx"&gt;Zuzčiných
narozenin&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Příjemný pohled, přeje Aleš.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Tehle měsíc je fakt náročnej, každou chvíli nějaká oslava nebo kalba :) a to ještě není konec...

Začnu tou nejstarší (dlouho slibovanou) akcí "Paul van Dyk":[/galerie/2006-05-26_Paul_van_Dyk/default.aspx], konečně jsem se dokopal k tomu vybrat pár fotek z toho kvanta, co jsme nafotili ;) ještě mě čeká přebrat Vibrations.
Pak tu máme dva Hegeše "7. 7.":[/galerie/2006-07-07_Heges/default.aspx] a "21. 7.":[/galerie/2006-07-21_Heges/default.aspx] a jeden "Duplex":[/galerie/2006-07-20_Duplex/default.aspx].
Posledním mega albem jsou fotky ze "Zuzčiných narozenin":[/galerie/2006-07-08-2_Zuzky_narozky/default.aspx].

Příjemný pohled, přeje Aleš.</raw>
    <author>Aleš Roubíček</author>
    <published>2006-07-26T10:28:56.693</published>
    <url>nova-alba-v-galerii</url>
    <category>Kamarádi</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-06-23T15:25:45.927</edited>
  </article>
  <article>
    <id>170</id>
    <title>Nový kabátek pro Mraveniste.org</title>
    <description>Nejvýznamnější mraveniště internetu redesignovalo svoji Homepage.</description>
    <html xml:space="preserve">
&lt;p&gt;Ačkoli to vypadá, jako by bylo Mraveniště uzavřeno, mravenci nikdy
nespí a stále pracují. Dnes v&amp;#160;noci došlo k&amp;#160;nasazení zcela nové
homepage &lt;a href="http://www.mraveniste.org/"&gt;největší webové kupky
jehličí&lt;/a&gt;. Změna je to jistě zásadní a v&amp;#160;některých ohledech
průlomová. Možná se dočkáme nového grafického stylu pro &lt;strong&gt;Web
2.5&lt;/strong&gt;&amp;#160;aplikace.&lt;/p&gt;

&lt;p&gt;Osobně mi na nové homepage chybí možnost vyhledávání na tak rozsáhlé
stránce, jinak se mi po grafické stránce líbí velice, ale pořád se
nemohu ubránit dojmu, že už jsem to někde viděl :-/&lt;/p&gt;

&lt;p&gt;Z&amp;#160;testů vychází, že stránka se nezobrazuje zcela korektně
v&amp;#160;prohlížečích Opera a na alternativních OS (tj. všechny krom
Windows). Pro majitele takovéhoto exotického softwarového vybavení
přikládám i&amp;#160;exkluzivní screenshot nové homepage Mraveniště.&lt;/p&gt;

&lt;div&gt;&lt;a href="http://www.mraveniste.org/"&gt;&lt;img
src="/data/obrazky/Mraveniste.png" alt="" /&gt;&lt;/a&gt;&lt;/div&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Ačkoli to vypadá, jako by bylo Mraveniště uzavřeno, mravenci nikdy nespí a stále pracují. Dnes v noci došlo k nasazení zcela nové homepage "největší webové kupky jehličí":[http://www.mraveniste.org/]. Změna je to jistě zásadní a v některých ohledech průlomová. Možná se dočkáme nového grafického stylu pro **Web 2.5** aplikace.

Osobně mi na nové homepage chybí možnost vyhledávání na tak rozsáhlé stránce, jinak se mi po grafické stránce líbí velice, ale pořád se nemohu ubránit dojmu, že už jsem to někde viděl :-/

Z testů vychází, že stránka se nezobrazuje zcela korektně v prohlížečích Opera a na alternativních OS (tj. všechny krom Windows). Pro majitele takovéhoto exotického softwarového vybavení přikládám i exkluzivní screenshot nové homepage Mraveniště.

[* /data/obrazky/Mraveniste.png *]:[http://www.mraveniste.org/]

</raw>
    <author>Aleš Roubíček</author>
    <published>2006-07-28T12:55:56.683</published>
    <url>novy-kabatek-pro-mraveniste-org</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-07-28T13:09:43.880</edited>
  </article>
  <article>
    <id>171</id>
    <title>Blok using</title>
    <description>Pár slov k zajímavému bloku, který může zvýšit výkon vaší aplikace.</description>
    <html xml:space="preserve">
&lt;p&gt;Jazyk C# je obdařen velice zajímavým blokem uvozený slovem
&lt;em&gt;using&lt;/em&gt;. Víte k čemu slouží? Používáte ho? Pokud jste si na jednu
z předchozích otázek odpověděli negativně, měli byste si přečíst
následující řádky. :)&lt;/p&gt;

&lt;p&gt;Klíčové slovo &lt;code&gt;using&lt;/code&gt; má v C# hned dva významy. Tím prvním
je import namespaců a vytváření aliasů k třídám, ale ten je
pravděpodobně provařený. Druhým významem je uvození bloku, ve kterém se
používá komponenta implementující rozhranní &lt;code&gt;IDisposable&lt;/code&gt;.
Implementace IDisposable se používá k uvolňování zdrojů.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;SqlConnection conn  = new SqlConnection(connString);
conn.Open();
// práce s databází
conn.Close();&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;To byla ukázka naivního přístupu k databázi, kdy se spoléháme, na to,
že vše proběhne v pořádku a dojde k zavolání &lt;code&gt;conn.Close()&lt;/code&gt;,
což může být klidně pravda, ale pokud dojde k vyvolání jakékoli
vyjímky před zavoláním &lt;code&gt;conn.Close()&lt;/code&gt;, zůstane připojení
stále otevřené, dokud nedojde k timeoutu a objekt &lt;code&gt;conn&lt;/code&gt;
nezpracuje GC. To může trvat hodně dlouho a zabírat tak zbytečně cenné
systémové zdroje.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;using (SqlConnection conn  = new SqlConnection(connString)) {
    conn.Open();
    // práce s databází
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;A takle by se to mělo psát. :) Blok using přijímá jako parametr
disposovatelné komponenty a na konci bloku zavolá
&lt;code&gt;IDisposable.Dispose()&lt;/code&gt;. V případě SqlConnection volá metoda
&lt;em&gt;Dispose&lt;/em&gt; metodu &lt;em&gt;Close&lt;/em&gt;. Nutno podotknout, že k zavolání
metody &lt;em&gt;Dispose&lt;/em&gt; dojde i při vyhození vyjímky. Jak je toho dosaženo?
Blok using neni nic jiného než zkráceným (a pro mě i přehlednějším)
zápisem následujícího kódu.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;SqlConnection conn  = new SqlConnection(connString);
try {
    conn.Open();
    // práce s databází
}
finally {
    conn.Dispose();
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Toť celé tajemství a kouzlo bloku using. Závěrem bych vám chtěl
ještě doporučit blok using používat všude tam, kde používáte
nejrůznější Readery, Writer a jiné třídy implemetující rozhranní
IDisposable, protože tak můžete ušetřit cenné zdroje a zvýšit tak výkon
vaší aplikace :) Hodně štěstí…&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Jazyk C# je obdařen velice zajímavým blokem uvozený slovem *using*. Víte k čemu slouží? Používáte ho? Pokud jste si na jednu z předchozích otázek odpověděli negativně, měli byste si přečíst následující řádky. :)

Klíčové slovo `using` má v C# hned dva významy. Tím prvním je import namespaců a vytváření aliasů k třídám, ale ten je pravděpodobně provařený. Druhým významem je uvození bloku, ve kterém se používá komponenta  implementující rozhranní `IDisposable`. Implementace IDisposable se používá k uvolňování zdrojů.

/---code csharp
SqlConnection conn  = new SqlConnection(connString);
conn.Open();
// práce s databází
conn.Close();
\---code

To byla ukázka naivního přístupu k databázi, kdy se spoléháme, na to, že vše proběhne v pořádku a dojde k zavolání `conn.Close()`, což může být klidně pravda, ale pokud dojde k vyvolání jakékoli vyjímky před zavoláním `conn.Close()`, zůstane připojení stále otevřené, dokud nedojde k timeoutu a objekt `conn` nezpracuje GC. To může trvat hodně dlouho a zabírat tak zbytečně cenné systémové zdroje.

/---code csharp
using (SqlConnection conn  = new SqlConnection(connString)) {
    conn.Open();
    // práce s databází
}
\---code

A takle by se to mělo psát. :)  Blok using přijímá jako parametr disposovatelné komponenty a na konci bloku zavolá `IDisposable.Dispose()`. V případě SqlConnection volá metoda *Dispose* metodu *Close*. Nutno podotknout, že k zavolání metody *Dispose* dojde i při vyhození vyjímky. Jak je toho dosaženo? Blok using neni nic jiného než zkráceným (a pro mě i přehlednějším) zápisem následujícího kódu.

/---code csharp
SqlConnection conn  = new SqlConnection(connString);
try {
    conn.Open();
    // práce s databází
}
finally {
    conn.Dispose();
}
\---

Toť celé tajemství a kouzlo bloku using. Závěrem bych vám chtěl ještě doporučit blok using používat všude tam, kde používáte nejrůznější Readery, Writer a jiné třídy implemetující rozhranní IDisposable, protože tak můžete ušetřit cenné zdroje a zvýšit tak výkon vaší aplikace :) Hodně štěstí...
</raw>
    <author>Aleš Roubíček</author>
    <published>2006-07-28T19:33:08.953</published>
    <url>blok-using</url>
    <category>Tuning</category>
    <keywords></keywords>
    <tags>csharp idisposable</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T18:25:57.647</edited>
  </article>
  <article>
    <id>172</id>
    <title>Alessio Busta - Rainin' Vibes</title>
    <description>Další houseový kousek v podání Alessia Busty.</description>
    <html xml:space="preserve">
&lt;ol&gt;
	&lt;li&gt;ATB – Let U Go (AT&amp;amp;R Mix)&lt;/li&gt;

	&lt;li&gt;Mason – Exeeder&lt;/li&gt;

	&lt;li&gt;Ian Carey – Love Won't Wait (Original Mix)&lt;/li&gt;

	&lt;li&gt;Buy Now – For Sale&lt;/li&gt;

	&lt;li&gt;Buy Now – For Sale (Rude Mix Edit)&lt;/li&gt;

	&lt;li&gt;Underworld – Born Slippy (Spacecab Remix)&lt;/li&gt;

	&lt;li&gt;Bob Marley – Exodus (Joey Negro Club Mix)&lt;/li&gt;

	&lt;li&gt;Bob Sinclar feat. The Hard Boys – Hard (Superchumbo Dub)&lt;/li&gt;

	&lt;li&gt;Digitalism – Zdarlight (Axwell Bootleg)&lt;/li&gt;

	&lt;li&gt;Yello – Oh Yeah Oh' Six (Booka Shade Remix)&lt;/li&gt;

	&lt;li&gt;Ndea Davenport – One Day My Love (D Ramirez Vocal)&lt;/li&gt;

	&lt;li&gt;Menace &amp;amp; Adam – Rockin' (Original Mix)&lt;/li&gt;

	&lt;li&gt;DJ Disciple – Yes (Ian Carey Dub)&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Ke stažení &lt;a href="/files/alessio_busta_-_rainin_vibes.wma"
onclick="javascript:_gat._getTracker("&gt;Alessio Busta – Rainin' Vibes&lt;/a&gt; (WMA
96 kbps; 47,6 MiB)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">1.  ATB - Let U Go (AT&amp;R Mix)
2.  Mason - Exeeder
3.  Ian Carey - Love Won't Wait (Original Mix)
4.  Buy Now - For Sale
5.  Buy Now - For Sale (Rude Mix Edit)
6.  Underworld - Born Slippy (Spacecab Remix)
7.  Bob Marley - Exodus (Joey Negro Club Mix)
8.  Bob Sinclar feat. The Hard Boys - Hard (Superchumbo Dub)
9.  Digitalism - Zdarlight (Axwell Bootleg)
10.  Yello - Oh Yeah Oh' Six (Booka Shade Remix)
11.  Ndea Davenport - One Day My Love (D Ramirez Vocal)
12.  Menace &amp; Adam - Rockin' (Original Mix)
13.  DJ Disciple - Yes (Ian Carey Dub)

Ke stažení &lt;a href="/files/alessio_busta_-_rainin_vibes.wma" onClick="javascript:_gat._getTracker("UA-90726-1")._trackPageview('/files/alessio_busta_-_rainin_vibes.wma');"&gt;Alessio Busta - Rainin' Vibes&lt;/a&gt; (WMA 96 kbps; 47,6 MiB)</raw>
    <author>alessio busta</author>
    <published>2006-08-01T09:58:49.433</published>
    <url>alessio-busta-rainin-vibes</url>
    <category>Muzika</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-06-23T15:11:08.050</edited>
  </article>
  <article>
    <id>174</id>
    <title>Pár tipů pro vývojáře.</title>
    <description>Několik novinek na poli Visual Studia a vývojových nástrojů za posledni dobu.</description>
    <html xml:space="preserve">
&lt;p&gt;Microsoft vydal &lt;a
href="http://www.microsoft.com/downloads/details.aspx?FamilyID=69d2219f-ce82-46a5-8aec-072bd4bb955e&amp;amp;DisplayLang=en"&gt;service
pack 1 pro Visual Studio 2003&lt;/a&gt; a do konce roku by snad mohl vyjít service
pack i pro Visual Studio 2005.&lt;/p&gt;

&lt;p&gt;Sháníte source control? Ale nechce se vám složitě instalovat Subversion.
Doporučuji &lt;a href="http://www.purecm.com"&gt;PureCM&lt;/a&gt;. Instalace je velice
jednoduchá a pokud vám budou stačit dvě současná připojení v jedné
hodině, je i zcela zdarma. Ideální řešení pro jednotlivce i malé týmy.
My ho v práci používáme už několik měsíců a i díky našemu feedbacku
se produkt posunul o dost dopředu a odchytalo se i několik chyb. :)&lt;/p&gt;

&lt;p&gt;Znáte &lt;a
href="http://www.devexpress.com/Downloads/NET/IDETools/DXCore/"&gt;DXCore&lt;/a&gt;? Ne?
Škoda :) DXCore je framework integrující se do Visual Studia a poskytující
API pro práci s kódem. Na DXCore jsou postaveny placené produkty CodeRush a
Refactor!. Mě se docela zalíbil plug-in na &lt;a
href="http://joel.fjorden.se/static.php?page=CodeStyleEnforcer"&gt;kotrolu
dodržování konvencí&lt;/a&gt; pro psaní kódu. Další zajímavé pluginy se &lt;a
href="http://del.icio.us/AndrewConnell/%22DXCore+Plugins%22"&gt;dají najít&lt;/a&gt; a
nebo dopsat :)&lt;/p&gt;

&lt;p&gt;Už jste zkoušeli &lt;a
href="https://blogs.msdn.com/sandcastle/"&gt;Sandcastle&lt;/a&gt;? Jde o kompilátor
dokumentace k dotnetovým assembly. Bohužel jeho použití není
nejtriviálnější (zlatej nDoc). Naštěstí se našlo několik lidiček,
kteří napsali shellové skripty, &lt;a
href="http://www.codeproject.com/useritems/SandcastleCreateBat.asp"&gt;baťáky&lt;/a&gt;
a podobně, ale i to se mi nelíbí :) Nejelegantnějším řešením se mi
zdá být MSBuild target a &lt;a
href="http://blog.ljusberg.com/2006/08/sandcastle-visual-studio-project.html"&gt;Dokumentační
projekt integrovaný přímo do Visual Studia&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Doufám, že aspoň něco zužitkujete ;)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Microsoft vydal "service pack 1 pro Visual Studio 2003":[ http://www.microsoft.com/downloads/details.aspx?FamilyID=69d2219f-ce82-46a5-8aec-072bd4bb955e&amp;DisplayLang=en] a do konce roku by snad mohl vyjít service pack i pro Visual Studio 2005.

Sháníte source control? Ale nechce se vám složitě instalovat Subversion. Doporučuji PureCM:[http://www.purecm.com]. Instalace je velice jednoduchá a pokud vám budou stačit dvě současná připojení v jedné hodině, je i zcela zdarma. Ideální řešení pro jednotlivce i malé týmy. My ho v práci používáme už několik měsíců a i díky našemu feedbacku se produkt posunul o dost dopředu a odchytalo se i několik chyb. :)

Znáte DXCore:[ http://www.devexpress.com/Downloads/NET/IDETools/DXCore/]? Ne? Škoda :) DXCore je framework integrující se do Visual Studia a poskytující API pro práci s kódem. Na DXCore jsou postaveny placené produkty CodeRush a Refactor!. Mě se docela zalíbil plug-in na "kotrolu dodržování konvencí":[http://joel.fjorden.se/static.php?page=CodeStyleEnforcer] pro psaní kódu. Další zajímavé pluginy se "dají najít":[http://del.icio.us/AndrewConnell/%22DXCore+Plugins%22] a nebo dopsat :)

Už jste zkoušeli Sandcastle:[https://blogs.msdn.com/sandcastle/]? Jde o kompilátor dokumentace k dotnetovým assembly. Bohužel jeho použití není nejtriviálnější (zlatej nDoc). Naštěstí se našlo několik lidiček, kteří napsali shellové skripty, baťáky:[http://www.codeproject.com/useritems/SandcastleCreateBat.asp]  a podobně, ale i to se mi nelíbí  :) Nejelegantnějším řešením se mi zdá být MSBuild target a "Dokumentační projekt integrovaný přímo do Visual Studia":[http://blog.ljusberg.com/2006/08/sandcastle-visual-studio-project.html].

Doufám, že aspoň něco zužitkujete ;)
</raw>
    <author>Aleš Roubíček</author>
    <published>2006-08-16T20:37:56.367</published>
    <url>par-tipu-pro-vyvojare-</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>vs vs2003 purecm vcs coderush refactor msbuild sandcastle</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T18:21:08.567</edited>
  </article>
  <article>
    <id>175</id>
    <title>Proč lidé nechtějí platit za software?</title>
    <description>To je otázka, na kterou stále hledám odpověď, kterou v tonto článku nenaleznete...</description>
    <html xml:space="preserve">
&lt;p&gt;To je otázka, na kterou stále hledám odpověď, kterou v tonto článku
nenaleznete :D&lt;/p&gt;

&lt;p&gt;Po pročtení diskuze &lt;a
href="http://diskuse.jakpsatweb.cz/index.php?action=vthread&amp;amp;forum=4&amp;amp;topic=32431"&gt;V čem
kódujete?&lt;/a&gt;, mě docela zarazila následující věta:&lt;/p&gt;

&lt;blockquote&gt;
	&lt;p&gt;PSPad nebo Dreamweaver 8, podle nálady.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Co mě na této větě zarazilo? Že pisatel používá podle nálady
software, který je zadarmo, nebo software, který stojí něco okolo patnácti
tisíc kurun. Toto chování mi nepřipadá moc logické. Já kdybych si koupil
Dreamweaver za patnáct tisíc, tak bych se z něj snažil vytřískat co jde
(a že toho jde opravdu hodně). Nevím, třeba pisatel vydělává takové
sumy, že mu nevadí nepoužívat software za celkem vysokou částku. Ale divil
bych se tomu.&lt;/p&gt;

&lt;p&gt;Další, pro mě zarážející, informací bylo něco ve smyslu: Cokoli, co
zvýrazňuje syntaxi a je to zadarmo. Proč nejsou lidé ochotní platit za
nástroje, které jim nemalou měrou dopomáhájí k slušným výdělkům?
Nepochopím…&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">To je otázka, na kterou stále hledám odpověď, kterou v tonto článku nenaleznete :D

Po pročtení diskuze [diskuse], mě docela zarazila následující věta:

&gt; PSPad nebo Dreamweaver 8, podle nálady.

Co mě na této větě zarazilo? Že pisatel používá podle nálady software, který je zadarmo, nebo software, který stojí něco okolo patnácti tisíc kurun. Toto chování mi nepřipadá moc logické. Já kdybych si koupil Dreamweaver za patnáct tisíc, tak bych se z něj snažil vytřískat co jde (a že toho jde opravdu hodně). Nevím, třeba pisatel vydělává takové sumy, že mu nevadí nepoužívat software za celkem vysokou částku. Ale divil bych se tomu.

Další, pro mě zarážející, informací bylo něco ve smyslu: Cokoli, co zvýrazňuje syntaxi a je to zadarmo. Proč nejsou lidé ochotní platit za nástroje, které jim nemalou měrou dopomáhájí k slušným výdělkům? Nepochopím…

[diskuse]: http://diskuse.jakpsatweb.cz/index.php?action=vthread&amp;forum=4&amp;topic=32431 V čem kódujete?
</raw>
    <author>Aleš Roubíček</author>
    <published>2006-08-21T14:45:12.800</published>
    <url>proc-lide-nechteji-platit-za-software</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>dreamweaver</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T18:23:08.440</edited>
  </article>
  <article>
    <id>176</id>
    <title>Alessio Busta - Electro Session</title>
    <description>Musica elettronica di Alessio Busta</description>
    <html xml:space="preserve">
&lt;ol&gt;
	&lt;li&gt;Joachim Garraud – Space Invaders are Back&lt;/li&gt;

	&lt;li&gt;Ame – Rej (Wally Lopez Remix)&lt;/li&gt;

	&lt;li&gt;Sandy Vee – Just a Cliche&lt;/li&gt;

	&lt;li&gt;Dj DLG – Latin Bomb (Robbie Rivera Remix)&lt;/li&gt;

	&lt;li&gt;Raul Ricon – Indigenous People (Body)&lt;/li&gt;

	&lt;li&gt;Get Far – Shining Star (Gianluca Motta Remix)&lt;/li&gt;

	&lt;li&gt;Erick Morillo feat. P Diddy – Dance I Sad (Touche Instrumental)&lt;/li&gt;

	&lt;li&gt;Darude – Sandstorm (Dj Dello Electro Mix)&lt;/li&gt;

	&lt;li&gt;Commander Tom – I can't sleep&lt;/li&gt;

	&lt;li&gt;In-N-Out – Musica Automatica&lt;/li&gt;

	&lt;li&gt;Chris Lake – Changes (Funkagenda Remix)&lt;/li&gt;

	&lt;li&gt;Mixin Marc – Right Here Right Now (Dub Mix)&lt;/li&gt;

	&lt;li&gt;Tiësto feat. BT – Love Comes Again (Robert Vadney Remix)&lt;/li&gt;

	&lt;li&gt;Therese – Time (StoneBridge HMB Dub)&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Ke stažení: &lt;a href="/files/alessio_busta_-_electro_session.wma"
onclick="javascript:_gat._getTracker("&gt;Alessio Busta – Electro Session&lt;/a&gt;
(WMA 96 kbps; 54,1 MiB)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">1.  Joachim Garraud - Space Invaders are Back
2.  Ame - Rej (Wally Lopez Remix)
3.  Sandy Vee - Just a Cliche
4.  Dj DLG - Latin Bomb (Robbie Rivera Remix)
5.  Raul Ricon - Indigenous People (Body)
6.  Get Far - Shining Star (Gianluca Motta Remix)
7.  Erick Morillo feat. P Diddy - Dance I Sad (Touche Instrumental)
8.  Darude - Sandstorm (Dj Dello Electro Mix)
9.  Commander Tom - I can't sleep
10.  In-N-Out - Musica Automatica
11.  Chris Lake - Changes (Funkagenda Remix)
12.  Mixin Marc - Right Here Right Now (Dub Mix)
13.  Tiësto feat. BT - Love Comes Again (Robert Vadney Remix)
14.  Therese - Time (StoneBridge HMB Dub)

Ke stažení: &lt;a href="/files/alessio_busta_-_electro_session.wma" onClick="javascript:_gat._getTracker("UA-90726-1")._trackPageview('/files/alessio_busta_-_electro_session.wma');"&gt;Alessio Busta - Electro Session&lt;/a&gt; (WMA 96 kbps; 54,1 MiB)</raw>
    <author>alessio busta</author>
    <published>2006-08-22T15:30:02.547</published>
    <url>alessio-busta-electro-session</url>
    <category>Muzika</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-06-23T15:09:37.250</edited>
  </article>
  <article>
    <id>177</id>
    <title>Internet Explorer 7 RC1 je venku</title>
    <description>Včera v pozdních večerních hodinách byl vypuštěn první kandidát na release Windows Internet Exploreru 7.</description>
    <html xml:space="preserve">
&lt;p&gt;Včera v pozdních večerních hodinách byl vypuštěn první kandidát na
release Windows Internet Exploreru 7. Přináší hlavně zvýšení stability
a výkonu a opět opravu několika bugů, které byly nalezeny v betafázi.&lt;/p&gt;

&lt;p&gt;Vývojáři upozorňují, že byla přepracována architektura rozšíření
(Add-ons) a proto některé němusí fungovat správně. Současná architektura
by se však již do finální verze měnit neměla.&lt;/p&gt;

&lt;p&gt;Příjemnou novinkou je, že se instalátor umí vypořádat s předchozími
betaverzemi, takže je nemusíte odebírat ručně. Nicméně nepřijdete o dva
nutné restarty (v případě upgradu z IE 6 jen jeden). Na první pohled asi
žádné významné změny nepoznáte, možná rychlejší startování
prohlížeče. Víc jsem toho ale otestovat nestihl. Další postřehy, pokud
budou čekejte v updatu článku :)&lt;/p&gt;

&lt;p&gt;Stahovat můžete za &lt;a
href="http://www.microsoft.com/windows/ie/default.mspx"&gt;stránek Internet
Exploreru&lt;/a&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Včera v pozdních večerních hodinách byl vypuštěn první kandidát na release Windows Internet Exploreru 7. Přináší hlavně zvýšení stability a výkonu a opět opravu několika bugů, které byly nalezeny v betafázi.

Vývojáři upozorňují, že byla přepracována architektura rozšíření (Add-ons) a proto některé němusí fungovat správně. Současná architektura by se však již do finální verze měnit neměla.

Příjemnou novinkou je, že se instalátor umí vypořádat s předchozími betaverzemi, takže je nemusíte odebírat ručně. Nicméně nepřijdete o dva nutné restarty (v případě upgradu z IE 6 jen jeden). Na první pohled asi žádné významné změny nepoznáte, možná rychlejší startování prohlížeče. Víc jsem toho ale otestovat nestihl. Další postřehy, pokud budou čekejte v updatu článku :)

Stahovat můžete za "stránek Internet Exploreru":[http://www.microsoft.com/windows/ie/default.mspx]</raw>
    <author>Aleš Roubíček</author>
    <published>2006-08-25T09:13:25.767</published>
    <url>internet-explorer-7-rc1-je-venku</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>ie7</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T18:19:18.360</edited>
  </article>
  <article>
    <id>178</id>
    <title>Nový kabátek pro Atlas.cz</title>
    <description>Portál Atlas.cz se dnes o půlnoci převlékl do nového kabátku a musím říct, že mu to sluší.</description>
    <html xml:space="preserve">
&lt;p&gt;Zatím třetí &lt;a href="http://www.atlas.cz"&gt;český portál Atlas.cz&lt;/a&gt;
nasadil dnes o půlnoci novou homepage. Ikdyž mě někdo může napadnou ze
zaujatosti, mně osobně se líbí. Opět, jak už je u Atlasu zvykem, nechybí
personalizace a opět je o hodně vylepšená. Skoro všechno v prostředním
a pravém sloupci se dá zpřeházet, povypínat a přidávat. Boxů se
službami Atlasu není zase tolik, ale pevně věřím, že ještě nějaké
přibudou (určitě se spuštěním chystaných nových služeb).&lt;/p&gt;

&lt;p&gt;Nemám moc chuť reagovat na lidi, co tu budou řvát, že je to
„okopírované Yahoo“. Tak to sem prosím ani nepište. To, že tu jistá
míra inspirace bude, jsem věděl (dokonce jsem si to i přál a nejen já),
ale grafické návrhy jsou originální, kód stránek taky, takže se
o žádnou krádež nejedná! Rozložení layotu mi přijde příjemné a
velice použitelné. Uživatelé při usertestingu si ostatně novou homepae
pochvalovali. Já si jí také pochvaluji a přeji jí i Altasu hodně
spokojených uživatelů.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Zatím třetí "český portál Atlas.cz":[http://www.atlas.cz] nasadil dnes o půlnoci novou homepage. Ikdyž mě někdo může napadnou ze zaujatosti, mně osobně se líbí. Opět, jak už je u Atlasu zvykem, nechybí personalizace a opět je o hodně vylepšená. Skoro všechno v prostředním a pravém sloupci se dá zpřeházet, povypínat a přidávat. Boxů se službami Atlasu není zase tolik, ale pevně věřím, že ještě nějaké přibudou (určitě se spuštěním chystaných nových služeb).

Nemám moc chuť reagovat na lidi, co tu budou řvát, že je to "okopírované Yahoo". Tak to sem prosím ani nepište. To, že tu jistá míra inspirace bude, jsem věděl (dokonce jsem si to i přál a nejen já), ale grafické návrhy jsou originální, kód stránek taky, takže se o žádnou krádež nejedná! Rozložení layotu mi přijde příjemné a velice použitelné. Uživatelé při usertestingu si ostatně novou homepae pochvalovali. Já si jí také pochvaluji a přeji jí i Altasu hodně spokojených uživatelů.
</raw>
    <author>Aleš Roubíček</author>
    <published>2006-08-31T07:36:38.630</published>
    <url>novy-kabatek-pro-atlas-cz</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>atlas homepage</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T18:18:53.940</edited>
  </article>
  <article>
    <id>179</id>
    <title>Moje první zkušenosti s Vistou</title>
    <description>Konečně jsem se dostal k dlouho očekávanému vyzkoušení Windows Vista a jsem kupodivu spokojen :) </description>
    <html xml:space="preserve">
&lt;p&gt;Konečně jsem se dostal k dlouho očekávanému vyzkoušení Windows Vista
a jsem kupodivu spokojen :)&lt;/p&gt;

&lt;p&gt;Předběžné ohlasy z betafáze byli většinou se smíšenými pocity.
Přesto jsem si zaregistroval jedno licenční číslo k Beta 2 a chystal se
jí instalovat na nový komp, ale do VirtualPC se mi instalace nezdařila, tak
jsem od toho na nějaký čas upustil. Když se teď začaly na blozích
oběvovat celkem kladné ohlasy na první Release Candidate verzi, začal jsem
o Vistě znovu uvažovat, nakonec mě přesvědčili screenshoty od ScottaGu,
kde mu běželo ve Vistách Visual Studio :) V tom nenasytném systému? No,
šak víme.&lt;/p&gt;

&lt;p&gt;V práci jsem si tedy stáhl image Vista RC1, rozdělil disk na dvě
partition (dualboot se po ředchozích zkušenostech zdál přece jen
schůdnější variantou), a vložil instalační DVD do mechaniky. Autorun mi
nabídl možnost otestovat kompatibilitu s novým systémem. Pár věcí
vypadalo, že asi ve Vistách po upgradu nepůjde, ale upgrade jsem stejně
v úmyslu neměl :) Restartoval jsem počítač, v bootmenu jsem vybral DVD
mechaniku a… nic. „Že by ta image nebyla bootovatelná? To snad ne!“
Vyndal jsem DVD oprášil ho (ikdyž bylo čerstvě vypálený) a zkusil to
znovu. Instalátor se už tentokrát chytl.&lt;/p&gt;

&lt;p&gt;Instalace se vás nazačátku zeptá na to jaké chcete používat
prostředí, vybral jsem si české (pozor neplést s češtinou ;)), nastavil
si svoji oblíbenou Czech (QWERTY) klávesnici. Pak jsem zadal svoje beta
licenční číslo, vybral cílovou partition a jelo to. Docela svižně,
akorát deformace obrazu na mém wide screenu byla trochu nepříjemná. :) Po
zkopírování systémových souborů do počítače došlo k restartu a
k dokončení instalace. Založení uživatelského účtu už bylo ve
správně rozpoznaném rozlišení a dostal jsem na výběr i pěknou sadu
pozadí pro wide screeny :) Pěkně, na detaily je dbáno už od začátku.&lt;/p&gt;

&lt;p&gt;Po přihlášení na mě čekalo Aero a Startup Manager, efekty běhaly
plynule. Windows Experience Index 2,0. Není to moc (stahuje to dolu nVidia
Grafika) :D Zapnul jsem WiFi kartu, u hodin se zobrazil ukazatel signálu jako
na mobilu a zachvilku i bublia hlásící nalezené sítě. Pohoda, zatim jsem
nepotřeboval instalovat jedinej ovladač a všechno funguje bez sebemenších
problémů. Spustil jsem si Task Manager, zjišťuje něco kolem 470 MiB
zabrané paměti systémem. Pro někoho je to hodně, ale s trochou
matematické analýzy zjistíte, že jde o nepatrně vyšší číslo něž
u Windows XP s nainstalovaným Windows Desktop Search, Windows Defenderem a
s ovladačemi pro nejrůznější zařízení, která skrývá můj notebook ve
svých útrobách.&lt;/p&gt;

&lt;p&gt;Každého programátora zajímá jestli jdou ty barvičky (Aero) vypnout. Ano
jdou. To je ale asi očekávaná odpověď vždyť tu mám ještě Vista Basic
režim. Docela rozšířeným mýtem je, že Vista Basic je nejvíce easy
režim, kterej jde ve Vistě zapnout. Dobrá zpráva pro ortodoxní šediváky
je, že režimy Windows Classic a Windows Standars známé z WinXP, zůstaly.
No ale stejně jsem si zase vrátil Aero…&lt;/p&gt;

&lt;p&gt;První věc, kterou jsem doinstaloval, byla betaverze 2007 Microsoft Office
System, jak jinak. Krásná grafitová barva se nastavila ve Vistě automaticky,
což mi ulehčilo prácí s přenastavováním z azurové příšerky :)
Takže Office je bez problémů. Další věcí, která mě zajímala, bylo jak
se Vista popere s Visual Studiem. Musím říct, že bez problémů, dokonce mi
subjektivně přišlo, že Studio běhá rychleji :D&lt;/p&gt;

&lt;p&gt;Tak to jsou mé první dojmy z Visty. V testování a přípravě na
přechod budu určitě pokračovat a snad si i najdu chvilku na napsání pár
řádků o zkušenostech s IIS7 a dalších vývojářských novinkách
ve Vistě.&lt;/p&gt;

&lt;p&gt;Test proběhl na stroji Dell Latitude D620, Intel Core Duo T2300, 1 GiB RAM,
nVidia Quadro NVS 110M 256 MiB.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Konečně jsem se dostal k dlouho očekávanému vyzkoušení Windows Vista a jsem kupodivu spokojen :)

Předběžné ohlasy z betafáze byli většinou  se smíšenými pocity. Přesto jsem si zaregistroval jedno licenční číslo k Beta 2 a chystal se jí instalovat na nový komp, ale do VirtualPC se mi instalace nezdařila, tak jsem od toho na nějaký čas upustil. Když se teď začaly na blozích oběvovat celkem kladné ohlasy na první Release Candidate verzi, začal jsem o Vistě znovu uvažovat, nakonec mě přesvědčili screenshoty od ScottaGu, kde mu běželo ve Vistách Visual Studio :) V tom nenasytném systému? No, šak víme.

V práci jsem si tedy stáhl image Vista RC1, rozdělil disk na dvě partition (dualboot se po ředchozích zkušenostech zdál přece jen schůdnější variantou), a vložil instalační DVD do mechaniky. Autorun mi nabídl možnost otestovat kompatibilitu s novým systémem. Pár věcí vypadalo, že asi ve Vistách po upgradu nepůjde, ale upgrade jsem stejně v úmyslu neměl :) Restartoval jsem počítač, v bootmenu jsem vybral DVD mechaniku a... nic. „Že by ta image nebyla bootovatelná? To snad ne!“ Vyndal jsem DVD oprášil ho (ikdyž bylo čerstvě vypálený) a zkusil to znovu. Instalátor se už tentokrát chytl.

Instalace se vás nazačátku zeptá na to jaké chcete používat prostředí, vybral jsem si české (pozor neplést s češtinou ;)), nastavil si svoji oblíbenou Czech (QWERTY) klávesnici. Pak jsem zadal svoje beta licenční číslo, vybral cílovou partition a jelo to. Docela svižně, akorát deformace obrazu na mém wide screenu byla trochu nepříjemná. :) Po zkopírování systémových souborů do počítače došlo k restartu a k dokončení instalace. Založení uživatelského účtu už bylo ve správně rozpoznaném rozlišení a dostal jsem na výběr i pěknou sadu pozadí pro wide screeny :) Pěkně, na detaily je dbáno už od začátku.

Po přihlášení na mě čekalo Aero a Startup Manager, efekty běhaly plynule. Windows Experience Index 2,0. Není to moc (stahuje to dolu nVidia Grafika) :D Zapnul jsem WiFi kartu, u hodin se zobrazil ukazatel signálu jako na mobilu a zachvilku i bublia hlásící nalezené sítě. Pohoda, zatim jsem nepotřeboval instalovat jedinej ovladač a všechno funguje bez sebemenších problémů. Spustil jsem si Task Manager, zjišťuje něco kolem 470 MiB zabrané paměti systémem. Pro někoho je to hodně, ale s trochou matematické analýzy zjistíte, že jde o nepatrně vyšší číslo něž u Windows XP s nainstalovaným Windows Desktop Search, Windows Defenderem a s ovladačemi pro nejrůznější zařízení, která skrývá můj notebook ve svých útrobách.

Každého programátora zajímá jestli jdou ty barvičky (Aero) vypnout. Ano jdou. To je ale asi očekávaná odpověď vždyť tu mám ještě Vista Basic režim. Docela rozšířeným mýtem je, že Vista Basic je nejvíce easy režim, kterej jde ve Vistě zapnout. Dobrá zpráva pro ortodoxní šediváky je, že režimy Windows Classic a Windows Standars známé z WinXP, zůstaly. No ale stejně jsem si zase vrátil Aero...

První věc, kterou jsem doinstaloval, byla betaverze 2007 Microsoft Office System, jak jinak. Krásná grafitová barva se nastavila ve Vistě automaticky, což mi ulehčilo prácí s přenastavováním z azurové příšerky :) Takže Office je bez problémů.  Další věcí, která mě zajímala, bylo jak se Vista popere s Visual Studiem.  Musím říct, že bez problémů, dokonce mi subjektivně přišlo, že Studio běhá rychleji :D

Tak to jsou mé první dojmy z Visty. V testování a přípravě na přechod budu určitě pokračovat a snad si i najdu chvilku na napsání pár řádků o zkušenostech s IIS7 a dalších vývojářských novinkách ve Vistě.

Test proběhl na stroji Dell Latitude D620, Intel Core Duo T2300, 1 GiB RAM, nVidia Quadro NVS 110M 256 MiB.
</raw>
    <author>Aleš Roubíček</author>
    <published>2006-09-11T10:05:50.207</published>
    <url>moje-prvni-zkusenosti-s-vistou</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <tags>windows vista</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T18:17:33.470</edited>
  </article>
  <article>
    <id>180</id>
    <title>Personalizace RSS exportu z Weblogy.cz</title>
    <description>Nedokumentované přepínače pro RSS export oblíbené agregační služby.</description>
    <html xml:space="preserve">
&lt;p&gt;V článku &lt;a
href="http://www.dgx.cz/trine/item/dobry-web-je-nasim-nedostiznym-vzorem"&gt;Dobrý
web je naším vzorem&lt;/a&gt; na La Trine došlo i na téma &lt;a
href="http://www.weblogy.cz/"&gt;Weblogy.cz&lt;/a&gt; a personalizace. Někdo si
posteskl, že se na této službě vyskytují články, o které nemá zájem,
a že by některé zdroje neměly být v této službě agregovány.&lt;/p&gt;

&lt;p&gt;Pokud tedy nechcete články z některého ze zdrojů na Weblozích vidět,
stačí si v &lt;a href="http://www.weblogy.cz/zdroje/"&gt;seznamu zdrojů&lt;/a&gt;
nežádaný zdroj zablokovat pomocí volby blokovat, za jménem zdroje. Málo
kdo však ví, že podobně jde personalizovat i RSS export z této
služby.&lt;/p&gt;

&lt;p&gt;Konkrétně &lt;a
href="http://www.dgx.cz/trine/item/dobry-web-je-nasim-nedostiznym-vzorem#comment-7646"&gt;DGX
si posteskl&lt;/a&gt;, že to nejde. No a dnešní článek je otom, že to jde. :)
Jak na to?&lt;/p&gt;

&lt;p&gt;Například pokud se vám nelíbí články z mého blogu, přidejte si do
adresy &lt;a href="http://www.weblogy.cz/export/rss/"&gt;RSS exportu Weblogů&lt;/a&gt;
parametr &lt;code&gt;blacklist=146&lt;/code&gt;. Kde 146 je id mého blogu. Toto id
zjistíte právě v URL tlačítka blokovat. Takže výsledný export bez
Rarouš Weblogu bude mít URL:
&lt;code&gt;http://www.weblogy.cz/export/rss/?blacklist=146&lt;/code&gt;. Parametr blacklist
přijímá kolekci idček oddělených čárkou, takže tímto způsobem
můžete zakázat více zdrojů.&lt;/p&gt;

&lt;p&gt;A to je vše.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">V článku "Dobrý web je naším vzorem":[http://www.dgx.cz/trine/item/dobry-web-je-nasim-nedostiznym-vzorem] na La Trine došlo i na téma "Weblogy.cz":[http://www.weblogy.cz/] a personalizace. Někdo si posteskl, že se na této službě vyskytují články, o které nemá zájem, a že by některé zdroje neměly být v této službě agregovány.

Pokud tedy nechcete články z některého ze zdrojů na Weblozích vidět, stačí si v "seznamu zdrojů":[http://www.weblogy.cz/zdroje/] nežádaný zdroj zablokovat pomocí volby blokovat, za jménem zdroje. Málo kdo však ví, že podobně jde personalizovat i RSS export z této služby.

Konkrétně "DGX si posteskl":[http://www.dgx.cz/trine/item/dobry-web-je-nasim-nedostiznym-vzorem#comment-7646], že to nejde. No a dnešní článek je otom, že to jde. :) Jak na to?

Například pokud se vám nelíbí články z mého blogu, přidejte si do adresy "RSS exportu Weblogů":[http://www.weblogy.cz/export/rss/] parametr `blacklist=146`. Kde 146 je id mého blogu. Toto id zjistíte právě v URL tlačítka blokovat. Takže výsledný export bez Rarouš Weblogu bude mít URL: `http://www.weblogy.cz/export/rss/?blacklist=146`. Parametr blacklist přijímá kolekci idček oddělených čárkou, takže tímto způsobem můžete zakázat více zdrojů.

A to je vše.</raw>
    <author>Aleš Roubíček</author>
    <published>2006-09-14T13:21:44.800</published>
    <url>personalizace-rss-exportu-z-weblogy-cz</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>rss weblogy</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T18:17:01.157</edited>
  </article>
  <article>
    <id>181</id>
    <title>Sněženky a machři (30:54)</title>
    <description>Díky možnosti vidět do zákulisí služby Weblogy.cz mám k dispozici zajímavá statistická data ohledně správnosti RSS výstupu jednotlivých zdrojů. Více než půlka uspěla. To je ta dobrá zpráva.</description>
    <html xml:space="preserve">
&lt;p&gt;Díky možnosti vidět do zákulisí služby Weblogy.cz mám k dispozici
zajímavá statistická data ohledně správnosti RSS výstupu jednotlivých
zdrojů. Více než půlka uspěla. To je ta dobrá zpráva.&lt;/p&gt;

&lt;p&gt;Většinou jde o výstupy kvalitních &lt;span
title="Nucleus, Gryphoon, Wordpress"&gt;redakčních systémů&lt;/span&gt; a veřejných
blogovacích služeb. To jsou ti machři. A co naše sněženky?&lt;/p&gt;

&lt;p&gt;Nejčastější chybou je entitování entit, kdy v kódu najdete něco jako
&lt;code&gt;&amp;amp;amp;nbsp;&lt;/code&gt; na místě, kde by měla být nedělitelná mezera.
Další častou chybou je vkládání HTML do &lt;code&gt;description&lt;/code&gt; nebo
ještě lépe HTML v description uzavřít do &lt;code&gt;&amp;lt;![CDATA[&lt;/code&gt;
&lt;code&gt;]]&amp;gt;&lt;/code&gt; což je taktéž chybou. Další, již méně častou
chybou, je použití jmenných entit, které nejsou v XML podporovány, bez
použití &lt;em&gt;DOCTYPE&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Tak se milé sněženky polepšete, ať jste také mezi námi, machry :D&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Díky možnosti vidět do zákulisí služby Weblogy.cz mám k dispozici zajímavá statistická data ohledně správnosti RSS výstupu jednotlivých zdrojů. Více než půlka uspěla. To je ta dobrá zpráva.

Většinou jde o výstupy kvalitních "redakčních systémů .(Nucleus, Gryphoon, Wordpress)" a veřejných blogovacích služeb. To jsou ti machři. A co naše sněženky?

Nejčastější chybou je entitování entit, kdy v kódu najdete něco jako `&amp;amp;nbsp;` na místě, kde by měla být nedělitelná mezera. Další častou chybou je vkládání HTML do `description` nebo ještě lépe HTML v description uzavřít do `&lt;![CDATA[` `]]&gt;` což je taktéž chybou. Další, již méně častou chybou, je použití jmenných entit, které nejsou v XML podporovány, bez použití *DOCTYPE*.

Tak se milé sněženky polepšete, ať jste také mezi námi, machry :D
</raw>
    <author>Aleš Roubíček</author>
    <published>2006-09-21T12:55:14.787</published>
    <url>snezenky-a-machri-3054</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>rss weblogy</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T18:15:21.687</edited>
  </article>
  <article>
    <id>182</id>
    <title>Atlas ICQ je tu</title>
    <description>Po měsících dřiny můžeme konečně nabídnout českým uživatelům ICQ klienta v češtině s napojením na naše služby.</description>
    <html xml:space="preserve">
&lt;p&gt;Když jsem &lt;a href="/weblog/115-rarous-v-atlasu.aspx"&gt;nastupoval do
Atlasu&lt;/a&gt;, rozjížděl se projekt, o kterém se moc nemluvilo a spíš se
vše drželo v tajnosti. Atlas jednal s ICQ o spolupráci. Stal se
mediálním zástupcen pro český trh a od května se u českých ICQ klientů
zobrazovala i naše reklama. Tím však spolupráce nekončí.&lt;/p&gt;

&lt;p&gt;Celou tu dobu se připravovalo technické zázemí na propojení Atlasu a
ICQ. Nyní můžeme nabídnou plně česky lokalizovaného klienta s napojením
na služby Atlasu. Propojení se určitě neobešlo o některá úskalí,
která mě vyprovokovala např. k napsání článk &lt;a
href="/weblog/145-php-brzda-internetu.aspx"&gt;PHP, brzda internetu?&lt;/a&gt;. Na mě
spadlo přepsání &lt;a href="http://registrace.atlas.cz/"&gt;registrace&lt;/a&gt;, což
taky nebylo nic příjemného, ale nakonec se to snad povedlo :)&lt;/p&gt;

&lt;p&gt;Tak stahujte na &lt;a href="http://www.icq.atlas.cz/"&gt;icq.atlas.cz&lt;/a&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Když jsem "nastupoval do Atlasu":[clanek(115)], rozjížděl se projekt, o kterém se moc nemluvilo a spíš se vše drželo v tajnosti. Atlas jednal s ICQ o spolupráci. Stal se mediálním zástupcen pro český trh a od května se u českých ICQ klientů zobrazovala i naše reklama. Tím však spolupráce nekončí.

Celou tu dobu se připravovalo technické zázemí na propojení Atlasu a ICQ. Nyní můžeme nabídnou plně česky lokalizovaného klienta s napojením na služby Atlasu. Propojení se určitě neobešlo o některá úskalí, která mě vyprovokovala např. k napsání článk [clanek(145)]. Na mě spadlo přepsání registrace:[http://registrace.atlas.cz/], což taky nebylo nic příjemného, ale nakonec se to snad povedlo :)

Tak stahujte na "icq.atlas.cz":[http://www.icq.atlas.cz/]

[clanek(115)]: /weblog/115-rarous-v-atlasu.aspx
[clanek(145)]: /weblog/145-php-brzda-internetu.aspx PHP, brzda internetu?</raw>
    <author>Aleš Roubíček</author>
    <published>2006-09-26T14:26:34.717</published>
    <url>atlas-icq-je-tu</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <tags>atlas icq</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T18:14:30.110</edited>
  </article>
  <article>
    <id>183</id>
    <title>Prohlášení uživatelů Marknet.cz</title>
    <description>Uživatelé Marknet.cz vyzývají majitele pana Radima Hasalíka, aby se služby vzdal ve prospěch pana Matěje Nováka. </description>
    <html xml:space="preserve">
&lt;p&gt;My, uživatelé serveru &lt;a href="http://marknet.cz"&gt;Marknet.cz&lt;/a&gt;
prostřednictvím své odborové organizace, vyzýváme touto cestou majitele a
veřejného zástupce tohoto serveru, pana Radima Hasalíka, aby se vzdal
všech svých funkcí na Marknet.cz a doménu i&amp;#160;se všemi závazky
bezplatně předal do rukou pana Matěje Nováka ze společnosti Ataxo s.r.o.
Tento svůj požadavek odůvodňujeme odstrašujícícm chováním pana
Hasalíka v&amp;#160;posledních dnech, kterým způsobil značné poškození
služby a urážku jejich uživatelů.&lt;/p&gt;

&lt;p&gt;Pan Matěj Novák opakovaně &lt;a
href="http://pressportal.cz/pachollini/tz/1635-marknet-cz-a-marknet-eu-nemusi-zaniknout/"&gt;veřejně
nabídnul&lt;/a&gt; možnost osobního převzetí služby a pokračování
v&amp;#160;jejím provozu bez podobných nestandardních výpadů, jaké
předvádí pan Hasalík. Podle vyádření provozovatelů &lt;a
href="http://weblogy.cz"&gt;Weblogy.cz&lt;/a&gt;, kteří pro Marknet.cz dodávají
technické řešení, je z&amp;#160;jejich hlediska tato cesta velmi dobře
shůdná.&lt;/p&gt;

&lt;p&gt;Tuto výzvu činíme klidnou nerevoluční cestou a proto věříme, že pan
Radim Hasalík přistoupí na naši odborovou diskusi a dojdeme společného
řešení skrze pana Matěje Nováka. Děkujeme za pozornost a nyní se
můžeme vrátit zpět k&amp;#160;plnění našich společných úkolů.&lt;/p&gt;

&lt;p&gt;Pro nezasvěcené: &lt;a href="http://www.weblogy.cz/hledat/?q=marknet"&gt;Co vše
se o&amp;#160;Marknet.cz napsalo&lt;/a&gt; (články z&amp;#160;Weblogy.cz)&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">My, uživatelé serveru "Marknet.cz":[http://marknet.cz] prostřednictvím své odborové organizace, vyzýváme touto cestou majitele a veřejného zástupce tohoto serveru, pana Radima Hasalíka, aby se vzdal všech svých funkcí na Marknet.cz a doménu i se všemi závazky bezplatně předal do rukou pana Matěje Nováka ze společnosti Ataxo s.r.o. Tento svůj požadavek odůvodňujeme odstrašujícícm chováním pana Hasalíka v posledních dnech, kterým způsobil značné poškození služby a urážku jejich uživatelů.

Pan Matěj Novák opakovaně "veřejně nabídnul":[http://pressportal.cz/pachollini/tz/1635-marknet-cz-a-marknet-eu-nemusi-zaniknout/] možnost osobního převzetí služby a pokračování v jejím provozu bez podobných nestandardních výpadů, jaké předvádí pan Hasalík. Podle vyádření provozovatelů "Weblogy.cz":[http://weblogy.cz], kteří pro Marknet.cz dodávají technické řešení, je z jejich hlediska tato cesta velmi dobře shůdná.

Tuto výzvu činíme klidnou nerevoluční cestou a proto věříme, že pan Radim Hasalík přistoupí na naši odborovou diskusi a dojdeme společného řešení skrze pana Matěje Nováka. Děkujeme za pozornost a nyní se můžeme vrátit zpět k plnění našich společných úkolů.

Pro nezasvěcené: "Co vše se o Marknet.cz napsalo":[http://www.weblogy.cz/hledat/?q=marknet] (články z Weblogy.cz)
</raw>
    <author>leopold</author>
    <published>2006-10-11T10:38:18.237</published>
    <url>prohlaseni-uzivatelu-marknet-cz</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-10-11T11:53:59.330</edited>
  </article>
  <article>
    <id>184</id>
    <title>ASP.NET AJAX Extensions beta 1</title>
    <description>Atlas Framework se blíží ke stabilní verzi.</description>
    <html xml:space="preserve">
&lt;p&gt;Dnes byla po dlouhé odmlce vypuštěna další verze ‚Atlas‘ Frameworku,
tentokráté již pod komerčním názvem a ve fázi beta testování. Co se
vše změnilo?&lt;/p&gt;

&lt;p&gt;Krom názvu tedy doznal framework &lt;a
href="http://ajax.asp.net/files/AspNet_AJAX_CTP_to_Beta_Whitepaper.aspx"&gt;značných
změn&lt;/a&gt;. Prvně byl framework rozdělen na &lt;em&gt;Core&lt;/em&gt; a &lt;em&gt;Preview&lt;/em&gt;
část. &lt;a
href="http://download.microsoft.com/download/3/1/c/31cb8c2d-d6e5-4b5e-ae1c-79724667f7d1/ASPAJAXExtSetup.msi"&gt;Core&lt;/a&gt;
obsahuje nejdůležitější jádro frameworku (JSON, Class Library,
Compatibility layer apod.) a jeho velikost se podařilo stlačit na přibližně
20 KiB (GZip komprese), což je velice dobrá zpráva, konečně se Atlas
stává použitelným i v reálném světě :) &lt;a
href="http://download.microsoft.com/download/a/a/9/aa9949bb-58e4-4048-85f3-35ac4ab5cc04/ASPAJAXCTP.msi"&gt;Preview&lt;/a&gt;
balíček obsahuje spoustu dalších věcí, které byly součástí
předchozích verzí a budou nadále vyvíjeny s možností zařazení do Core
po jejich dostatečné stabilizaci a otestování kompatibility. &lt;a
href="http://www.codeplex.com/Release/ProjectReleases.aspx?ProjectName=AtlasControlToolkit"&gt;ControlToolkit&lt;/a&gt;
zůstává a byl opět rozšířen o další nové Extendery.&lt;/p&gt;

&lt;p&gt;Krom struktury projektu došlo i na technologické změny. Tou
nejdůležitější změnou je přechod z closures na prototypování. Tím
doznal framework i značného výkonostního nárůstů, protože prototypy
obecně spotřebovávají mnohem méně paměti. Vývojáři si od
prototypování slibují také snadnější vývoj a podporu pro Intellisenee v
‚Orcas‘ studiu. Podlě náznaků to vypadá, že Intellisense poběží
díky metadatům v JavaScriptu (obdoba Atributů v C#). Nechme se
překvapit.&lt;/p&gt;

&lt;p&gt;Co se týče serverové části tzv. ASP.NET 2.0 AJAX Extensions, tak
všechny controly mají nyní prefix &lt;code&gt;asp&lt;/code&gt; namísto
&lt;code&gt;atlas&lt;/code&gt; a od příští verze dotnet frameworku budou i jeho
integrální součástí. AJAX Extensions také nahrazují stávající
&lt;strong&gt;Validátory&lt;/strong&gt;, které byly přepsány nad &lt;a
href="http://ajax.asp.net/downloads/beta/default.aspx?tabid=47&amp;amp;subtabid=471"&gt;MS
AJAX Library&lt;/a&gt;. Snad budou fungovat mnohem lépe než ty stávající.&lt;/p&gt;

&lt;p&gt;Osobně jsem ještě velice zajímavě vypadající novinky nezkoušel, ale
snad se brzy naskytne ta možnost :)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Dnes byla po dlouhé odmlce vypuštěna další verze 'Atlas' Frameworku, tentokráté již pod komerčním názvem a ve fázi beta testování. Co se vše změnilo?

Krom názvu tedy doznal framework "značných změn":[http://ajax.asp.net/files/AspNet_AJAX_CTP_to_Beta_Whitepaper.aspx]. Prvně byl framework rozdělen na *Core* a *Preview* část. Core:[http://download.microsoft.com/download/3/1/c/31cb8c2d-d6e5-4b5e-ae1c-79724667f7d1/ASPAJAXExtSetup.msi] obsahuje nejdůležitější jádro frameworku (JSON, Class Library, Compatibility layer apod.) a jeho velikost se podařilo stlačit na přibližně 20 KiB (GZip komprese), což je velice dobrá zpráva, konečně se Atlas stává použitelným i v reálném světě :) Preview:[http://download.microsoft.com/download/a/a/9/aa9949bb-58e4-4048-85f3-35ac4ab5cc04/ASPAJAXCTP.msi] balíček obsahuje spoustu dalších věcí, které byly součástí předchozích verzí a budou nadále vyvíjeny s možností zařazení do Core po jejich dostatečné stabilizaci a otestování kompatibility. ControlToolkit:[http://www.codeplex.com/Release/ProjectReleases.aspx?ProjectName=AtlasControlToolkit] zůstává a byl opět rozšířen o další nové Extendery.

Krom struktury projektu došlo i na technologické změny. Tou nejdůležitější změnou je přechod z closures na prototypování. Tím doznal framework i značného výkonostního nárůstů, protože prototypy obecně spotřebovávají mnohem méně paměti. Vývojáři si od prototypování slibují také snadnější vývoj a podporu pro Intellisenee v 'Orcas' studiu. Podlě náznaků to vypadá, že Intellisense poběží díky metadatům v JavaScriptu (obdoba Atributů v C#). Nechme se překvapit.

Co se týče serverové části tzv. ASP.NET 2.0 AJAX Extensions, tak všechny controly mají nyní prefix `asp` namísto `atlas` a od příští verze dotnet frameworku budou i jeho integrální součástí. AJAX Extensions také nahrazují stávající **Validátory**, které byly přepsány nad "MS AJAX Library":[http://ajax.asp.net/downloads/beta/default.aspx?tabid=47&amp;subtabid=471]. Snad budou fungovat mnohem lépe než ty stávající.

Osobně jsem ještě velice zajímavě vypadající novinky nezkoušel, ale snad se brzy naskytne ta možnost :)</raw>
    <author>Aleš Roubíček</author>
    <published>2006-10-20T20:28:03.800</published>
    <url>asp-net-ajax-extensions-beta-1</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>aspnet ajax javascript</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T18:11:30.467</edited>
  </article>
  <article>
    <id>185</id>
    <title>Formát OpenSearch – díl 1.</title>
    <description>Formát OpenSearch je zajímavou XML implementací. Pojďme se na něj podívat trochu blíž. V tomto díle se podíváme na to, jak implementovat vlastní vyhledávací plug-in do Internet Exploreru 7.0 a Firefoxu 2.0.</description>
    <html xml:space="preserve">
&lt;p&gt;O formát OpenSearch jsem se začal zajímat někdy najaře letošního roku
z velmi prostého důvodu – lze v něm snadno definovat vlastní
vyhledávací modul pro Internet Explorer 7.0 a Firefox 2.0. To však není
vše, co tento formát umí a k čemu je určený.&lt;/p&gt;

&lt;h3 id="toc-definice-vyhledavaciho-modulu"&gt;Definice vyhledávacího modulu&lt;/h3&gt;

&lt;p&gt;Pokud máte na svém webu implementováno vyhledávání, můžete svým
návštěvníkům zkrátit cestu přidáním vlastního modulu, který se
přidá do seznamu vyhledávacích strojů ve vašem prohlížeči. Jak na to
vám vysvětlí následující odstavce :)&lt;/p&gt;

&lt;p&gt;Nejprve je nutné napsat OpenSearch Description dokument s definicí vašeho
modulu. Malá ukázka:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;?xml version="1.0" encoding="UTF-8"?&amp;gt;
&amp;lt;OpenSearchDescription xmlns="http://a9.com/-/spec/opensearch/1.1/"&amp;gt;
  &amp;lt;ShortName&amp;gt;Web Search&amp;lt;/ShortName&amp;gt;
  &amp;lt;Description&amp;gt;Use Example.com to search the Web.&amp;lt;/Description&amp;gt;
  &amp;lt;Tags&amp;gt;example web&amp;lt;/Tags&amp;gt;
  &amp;lt;Contact&amp;gt;admin@example.com&amp;lt;/Contact&amp;gt;
  &amp;lt;Url type="text/html"
       template="http://example.com/?q={searchTerms} "/&amp;gt;
  &amp;lt;Url type="application/rss+xml"
       template="http://example.com/?q={searchTerms}&amp;amp;amp;amp;format=rss"/&amp;gt;
&amp;lt;/OpenSearchDescription&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Ukázka popisuje fiktivní vyhledávač, který poskytuje výsledky hledání
ve formě HTML a RSS (dva elementy &lt;code&gt;Url&lt;/code&gt; s definovaným
content-typem), důležitým parametrem je &lt;code&gt;{searchTerms}&lt;/code&gt;, který
klient (např. prohlížeč) nahradí svým dotazem, &lt;a
href="http://www.opensearch.org/Specifications/OpenSearch/1.1#OpenSearch_1.1_parameters"&gt;další
parametry&lt;/a&gt; . Obsah elementu &lt;code&gt;ShortName&lt;/code&gt; určuje název
vyhledávacího stroje – tento se bude zobrazovat v seznamu vyhledávacích
modulů. Další elementy jen přidávají další metadata pro
autodiscovery.&lt;/p&gt;

&lt;p&gt;Pak stačí přidat do vašich stránek element &lt;code&gt;link&lt;/code&gt;, který
odkazuje na soubor vytvořený v předešlém kroku. Připojení je obdobné
s připojováním RSS nebo Atom kanálu. Příklad:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;link rel="Search"
      href="http://www.example.com/opensearch.xml"
      type="application/opensearchdescription+xml"
      title="Example Search" /&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src="/data/obrazky/search.png" class="right"
alt="rozsvícené tlačítko" /&gt; Pokud pak navštívíte takovou stránku,
prohlížeč vám dá vědět, že našel modul rozsvícením tlačítka pro
výběr modulu.&lt;/p&gt;

&lt;p&gt;Další možností, jak modul vytvořit je použít &lt;a
href="http://www.searchplugins.net/generate.aspx"&gt;generátor&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id="toc-souvisejici"&gt;Související&lt;/h3&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href="http://www.opensearch.org/"&gt;OpenSearch.org&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a href="http://www.searchplugins.net/"&gt;Search Plugins&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">O formát OpenSearch jsem se začal zajímat někdy najaře letošního roku z velmi prostého důvodu – lze v něm snadno definovat vlastní vyhledávací modul pro Internet Explorer 7.0 a Firefox 2.0. To však není vše, co tento formát umí a k čemu je určený.

Definice vyhledávacího modulu
=============================

Pokud máte na svém webu implementováno vyhledávání, můžete svým návštěvníkům zkrátit cestu přidáním vlastního modulu, který se přidá do seznamu vyhledávacích strojů ve vašem prohlížeči. Jak na to vám vysvětlí následující odstavce :)

Nejprve je nutné napsat OpenSearch Description dokument s definicí  vašeho modulu. Malá ukázka:

/---code xml
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;OpenSearchDescription xmlns="http://a9.com/-/spec/opensearch/1.1/"&gt;
  &lt;ShortName&gt;Web Search&lt;/ShortName&gt;
  &lt;Description&gt;Use Example.com to search the Web.&lt;/Description&gt;
  &lt;Tags&gt;example web&lt;/Tags&gt;
  &lt;Contact&gt;admin@example.com&lt;/Contact&gt;
  &lt;Url type="text/html"
       template="http://example.com/?q={searchTerms} "/&gt;
  &lt;Url type="application/rss+xml"
       template="http://example.com/?q={searchTerms}&amp;amp;amp;format=rss"/&gt;
&lt;/OpenSearchDescription&gt;
\---code

Ukázka popisuje fiktivní vyhledávač, který poskytuje výsledky hledání ve formě HTML a RSS (dva elementy `Url` s definovaným content-typem), důležitým parametrem je `{searchTerms}`, který klient (např. prohlížeč) nahradí svým dotazem, "další parametry":[http://www.opensearch.org/Specifications/OpenSearch/1.1#OpenSearch_1.1_parameters] . Obsah elementu `ShortName` určuje název vyhledávacího stroje – tento se bude zobrazovat v seznamu vyhledávacích modulů. Další elementy jen přidávají další metadata pro autodiscovery.

Pak stačí přidat do vašich stránek element `link`, který odkazuje na soubor vytvořený v předešlém kroku. Připojení je obdobné s připojováním RSS nebo Atom kanálu. Příklad:

/---code xml
&lt;link rel="Search"
      href="http://www.example.com/opensearch.xml"
      type="application/opensearchdescription+xml"
      title="Example Search" /&gt;
\---code

[* /data/obrazky/search.png .(rozsvícené tlačítko)[right]*]
Pokud pak navštívíte takovou stránku, prohlížeč vám dá vědět, že našel modul rozsvícením tlačítka pro výběr modulu.

Další možností, jak modul vytvořit je použít generátor:[http://www.searchplugins.net/generate.aspx].

Související
===========
* OpenSearch.org:[http://www.opensearch.org/]
* "Search Plugins":[http://www.searchplugins.net/]

</raw>
    <author>Aleš Roubíček</author>
    <published>2006-10-24T11:36:42.163</published>
    <url>format-opensearch-dil-1</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>rss opensearch ie7 firefox</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T18:08:55.387</edited>
  </article>
  <article>
    <id>186</id>
    <title>Vyhledávač ve zdrojích o dotnetu</title>
    <description>Vyhledávejte ve zdrojích o dotnetu pomocí perzonalizovaného vyhledávání Googlu.</description>
    <html xml:space="preserve">
&lt;p&gt;Možná už víte o možnosti postavit si vlastní vyhledávač postavený
na Googlu. Tuto možnost nabízí Google v rámci projektu &lt;a
href="http://www.google.com/coop/"&gt;Google Co-op&lt;/a&gt;. Díky rychlé reakci dotnet
komunity máme nyní možnost vyhledávat potřebné informace na speciálím &lt;a
href="http://www.google.com/coop/cse?cx=014414512506709758688%3Alw8tquo75fu"&gt;.net
Search&lt;/a&gt; enginu a navíc si ho můžete &lt;a
href="javascript:window.external.AddSearchProvider('http://static.dotnetkicks.com/tools/search/dotnetsearch.xml')"&gt;integrovat&lt;/a&gt;
do vašeho oblíbeného prohlížeče…&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Možná už víte o možnosti postavit si vlastní vyhledávač postavený na Googlu. Tuto možnost nabízí Google v rámci projektu [coop]. Díky rychlé reakci dotnet komunity máme nyní možnost vyhledávat potřebné informace na speciálím [dotnetSearch] enginu a navíc si ho můžete integrovat:[integrate] do vašeho oblíbeného prohlížeče...


[coop]: http://www.google.com/coop/ Google Co-op
[integrate]: javascript:window.external.AddSearchProvider('http://static.dotnetkicks.com/tools/search/dotnetsearch.xml')
[dotnetSearch]: http://www.google.com/coop/cse?cx=014414512506709758688%3Alw8tquo75fu .net Search</raw>
    <author>Aleš Roubíček</author>
    <published>2006-10-26T13:31:18.580</published>
    <url>vyhledavac-ve-zdrojich-o-dotnetu</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>google search dotnet</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T18:09:17.403</edited>
  </article>
  <article>
    <id>188</id>
    <title>Axwell Club-mode</title>
    <description>Jeden z "plážových mixů" Alessia Busty ;)</description>
    <html xml:space="preserve">
&lt;p&gt;Původně byl tento mix určený pro Competition na Axwellově foru, ale
nestihl jsem uzávěrku. Byla by škoda, aby tenhle mix zapadl :) Vybíral jsem
spíš starší clubové věci. Pravidla byla dost striktní (max 30min, pouze
Axwellova tvorba, MP3 128 kbps apod.) :) Doufám, že se bude líbit.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Axwell – Feel The Vibe (Extended Vocal Mix)&lt;/li&gt;

	&lt;li&gt;Room 5 feat. Oliver Chaetham – Make Luv (Axwell Remix)&lt;/li&gt;

	&lt;li&gt;Playmaker – Black Pony (Axwell &amp;amp; Stonebridge Club Mix)&lt;/li&gt;

	&lt;li&gt;Mambana – Felicidad (Axwell Vocal Mix)&lt;/li&gt;

	&lt;li&gt;Axwell – Lead Guitar (Axwell Club)&lt;/li&gt;

	&lt;li&gt;Axwell feat. Charles Salter – I Found You (Classic Edit)&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Ke stažení &lt;a href="/files/alessio_busta_-_axwell_club-mode.mp3"
onclick="javascript:_gat._getTracker("&gt;Alessio Busta – Axwell Club-mode&lt;/a&gt;
(MP3 128 kbps, 27,3 MiB)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Původně byl tento mix určený pro Competition na Axwellově foru, ale nestihl jsem uzávěrku. Byla by škoda, aby tenhle mix zapadl :) Vybíral jsem spíš starší clubové věci. Pravidla byla dost striktní (max 30min, pouze Axwellova tvorba, MP3 128 kbps apod.) :) Doufám, že se bude líbit.

1.  Axwell - Feel The Vibe (Extended Vocal Mix)
2.  Room 5 feat. Oliver Chaetham - Make Luv (Axwell Remix)
3.  Playmaker - Black Pony (Axwell &amp; Stonebridge Club Mix)
4.  Mambana - Felicidad (Axwell Vocal Mix)
5.  Axwell - Lead Guitar (Axwell Club)
6.  Axwell feat. Charles Salter - I Found You (Classic Edit)

Ke stažení &lt;a href="/files/alessio_busta_-_axwell_club-mode.mp3" onClick="javascript:_gat._getTracker("UA-90726-1")._trackPageview('/files/alessio_busta_-_axwell_club-mode.mp3');"&gt;Alessio Busta - Axwell Club-mode&lt;/a&gt; (MP3 128 kbps, 27,3 MiB)</raw>
    <author>alessio busta</author>
    <published>2006-10-27T11:58:53.720</published>
    <url>axwell-club-mode</url>
    <category>Muzika</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-06-23T15:07:26.030</edited>
  </article>
  <article>
    <id>189</id>
    <title>Formát OpenSearch – díl 2.</title>
    <description>Po úvodním dílu, který nám ukázal jak si přidat vlastní vyhledávací modul do prohlížeče, si probereme formát OpenSearch Description trochu podrobněji.</description>
    <html xml:space="preserve">
&lt;p&gt;OpenSearch je otevřený formát založený na XML, jehož vývoj iniciovala
a podporuje firma Amazon. V současné době existuje Draft 3 verze 1.1,
kterou implementují i nejnovější verze oblíbených prohlížečů &lt;a
href="http://www.microsoft.com/cze/windows/ie/default.mspx"&gt;Internet Explorer
7&lt;/a&gt; a &lt;a href="http://www.firefox.cz/"&gt;Firefox 2.0&lt;/a&gt; nebo vyhledávač &lt;a
href="http://www.a9.com"&gt;A9&lt;/a&gt; právě od Amazonu. OpenSearch je sada
specifikací z nichž nejdůležitější jsou formáty OpenSearch Description
a OpenSearch Response. Tyto formáty jsou určeny k popisu vyhledávaciho
stroje a popisu nalezených výsledků.&lt;/p&gt;

&lt;h3 id="toc-opensearch-description"&gt;OpenSearch Description&lt;/h3&gt;

&lt;p&gt;Tento formát je, jak už název napovídá, určen k popisu vyhledávacího
stroje. Základní elementy patří do jmenného prostoru
&lt;code&gt;http://a9.com/-/spec/opensearch/1.1/&lt;/code&gt; a kořenovou značkou je
&lt;code&gt;OpenSearchDescription&lt;/code&gt;. Tato obsahuje následující
subelementy:&lt;/p&gt;

&lt;dl&gt;
	&lt;dt&gt;ShortName&lt;/dt&gt;

	&lt;dd&gt;Název vyhledávacího stroje&lt;/dd&gt;

	&lt;dd&gt;Musí být v dokumentu právě jednou a jeho obsah je omezen na 16 znaků
	čistého textu.&lt;/dd&gt;

	&lt;dt&gt;Description&lt;/dt&gt;

	&lt;dd&gt;Popis vyhledávacího stroje&lt;/dd&gt;

	&lt;dd&gt;Musí být v dokumentu právě jednou a jeho obsah je omezen na
	1024 znaků čistého textu.&lt;/dd&gt;

	&lt;dt&gt;Url&lt;/dt&gt;

	&lt;dd&gt;URL hledaného datazu&lt;/dd&gt;

	&lt;dd&gt;Musí být v dokumentu alespoň jednou, nejedná se o párovou značku,
	obsah je definován následujícímí atributy.&lt;/dd&gt;

	&lt;dd&gt;povinný atribut &lt;em&gt;template&lt;/em&gt; definuje šablonu url datazu, šablona je
	parametrizována pomocí &lt;a href="#template"&gt;OpenSearch URL template
	syntaxe&lt;/a&gt;, povinný je parametr &lt;code&gt;{searchTerms}&lt;/code&gt;, který je
	nahrazován hledanou frází&lt;/dd&gt;

	&lt;dd&gt;povinný atribut &lt;em&gt;type&lt;/em&gt; určuje MIME typ výstupu hledání&lt;/dd&gt;

	&lt;dd&gt;nepovinné atriuty &lt;em&gt;indexOffset&lt;/em&gt; a &lt;em&gt;pageOffset&lt;/em&gt; slouží
	k posunutí indexu prvního výsledku nebo první stránky, oba jsou
	přednastaveny na jedničku. Ovlivňují počítání nepovinných parametrů
	&lt;code&gt;{startIndex?}&lt;/code&gt; a &lt;code&gt;{startPage?}&lt;/code&gt;.&lt;/dd&gt;

	&lt;dt&gt;Contact&lt;/dt&gt;

	&lt;dd&gt;Nepovinný element definující kontakt na adminstrátorara. Element může
	obsahovat pouze e-mailovou adresu a v dokumentu se může vyskytovat
	maximálně jednou.&lt;/dd&gt;

	&lt;dt&gt;Tags&lt;/dt&gt;

	&lt;dd&gt;Nepovinný element obasující klíčová slova oddělená mezerou. Délka
	je omezena na 255 znaků a element se může v dokumentu vyskytovat
	maximálně jednou.&lt;/dd&gt;

	&lt;dt&gt;LongName&lt;/dt&gt;

	&lt;dd&gt;Název vyhledávacího stroje ve formě čitelné pro lidi&lt;/dd&gt;

	&lt;dd&gt;Může se v dokumentu vyskytovat maximálně jednou a měl by být
	preferovaný pro zobrazování před ShortName. Délka je omezena na
	48 znak.&lt;/dd&gt;

	&lt;dt&gt;Image&lt;/dt&gt;

	&lt;dd&gt;Ubsahuje URL obrázku, grafické ikonky, spojené s vyhledávačem.&lt;/dd&gt;

	&lt;dd&gt;Počet výskytů není omezen, jednotlivé obrázky se mohou lišit ve
	velikosti a MIME typu, které jsou specifikovány následujícími volitelnými
	atributy.&lt;/dd&gt;

	&lt;dd&gt;Atribut &lt;em&gt;width&lt;/em&gt; určuje šířku obrázku&lt;/dd&gt;

	&lt;dd&gt;Atribut &lt;em&gt;height&lt;/em&gt; určuje šířku obrázku&lt;/dd&gt;

	&lt;dd&gt;Atribut &lt;em&gt;type&lt;/em&gt; určuje MIME typ obrázku&lt;/dd&gt;

	&lt;dt&gt;Language&lt;/dt&gt;

	&lt;dd&gt;Definuje jazyk výsledku hledání, obsah může obsahovat pouze zkratku
	jazyka podle XML nebo asterix (*) pro všechny jazyky.&lt;/dd&gt;

	&lt;dt&gt;InputEncoding&lt;/dt&gt;

	&lt;dd&gt;Znaková sada přijímaná vyhledávacím strojem. Pokud nejí určeno
	použije se UTF-8 kódování.&lt;/dd&gt;

	&lt;dt&gt;OutputEncoding&lt;/dt&gt;

	&lt;dd&gt;Znaková sada výstupu hledání.&lt;/dd&gt;
&lt;/dl&gt;

&lt;p&gt;Sepecifikace definuje ještě několik dalších elementů pro definici práv
k dokumentu, ochrana mladistvích apod. které se používají ve specifických
případech a jejich použití není zas tak běžné. Nyní si ještě
doplníme výčet URL parametru.&lt;/p&gt;

&lt;h3 id="template"&gt;OpenSearch URL parameters&lt;/h3&gt;

&lt;p&gt;Parametry se používají v atributu &lt;code&gt;template&lt;/code&gt; značky
&lt;code&gt;Url&lt;/code&gt; a jsou nahrazovány konkrétními daty dotazu. Syntaxe
parametru je velice jednoduchá: název pramatru je uzavřen ve složených
závrokách a nepovinnost parametru je vyjádřena otazníkem před uzavírací
závorkou. Příklad: &lt;code&gt;{povinnyParametr}&lt;/code&gt; a
&lt;code&gt;{nepovinnyParametr?}&lt;/code&gt;. Parametry mohou být rozšířeny o vlastní
sady pomocí XML jmenných prostorů. Ukázka &lt;code&gt;&amp;lt;Url
xmlns:moje="urn:moje-rozsireni"
template="http://example.com/?q={searchTerms}&amp;amp;amp;neco={moje:neco}"
...&lt;/code&gt;.&lt;/p&gt;

&lt;dl&gt;
	&lt;dt&gt;searchTerms&lt;/dt&gt;

	&lt;dd&gt;Parametr je nahrazen hledanou frází&lt;/dd&gt;

	&lt;dt&gt;count&lt;/dt&gt;

	&lt;dd&gt;Parametr je nahrazen počtem výsledků na stránku&lt;/dd&gt;

	&lt;dt&gt;startIndex&lt;/dt&gt;

	&lt;dd&gt;Parametr je nahrazen indexem výsledku&lt;/dd&gt;

	&lt;dt&gt;startPage&lt;/dt&gt;

	&lt;dd&gt;Parametr je nahrazen číslem stránky&lt;/dd&gt;

	&lt;dt&gt;language&lt;/dt&gt;

	&lt;dd&gt;Parametr je nahrazen jazykem&lt;/dd&gt;

	&lt;dt&gt;inputEncoding&lt;/dt&gt;

	&lt;dd&gt;Parametr je nahrazen vstupním kódováním&lt;/dd&gt;

	&lt;dt&gt;outputEncoding&lt;/dt&gt;

	&lt;dd&gt;Parametr je nahrazen výstupním kódováním&lt;/dd&gt;
&lt;/dl&gt;

&lt;p&gt;Ukázku kódu najdete v &lt;a
href="/clanek/185-format-opensearch-dil-1.aspx"&gt;prvním díle&lt;/a&gt; této mini
série. Tímto bych ukončil popis formátu OpenSearch Description a příště
bych rád něco o formátu OpenSearch Response.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">OpenSearch je otevřený formát založený na XML, jehož vývoj iniciovala a podporuje firma Amazon. V současné době existuje Draft 3 verze 1.1, kterou implementují i nejnovější verze oblíbených prohlížečů [ie7] a [firefox2] nebo vyhledávač [a9] právě od Amazonu. OpenSearch je sada specifikací z nichž nejdůležitější jsou formáty OpenSearch Description a OpenSearch Response. Tyto formáty jsou určeny k popisu vyhledávaciho stroje a popisu nalezených výsledků.

OpenSearch Description
======================

Tento formát je, jak už název napovídá, určen k popisu vyhledávacího stroje. Základní elementy patří do jmenného prostoru `http://a9.com/-/spec/opensearch/1.1/` a kořenovou značkou je `OpenSearchDescription`. Tato obsahuje následující subelementy:

ShortName:
 - Název vyhledávacího stroje
 - Musí být v dokumentu právě jednou a jeho obsah je omezen na 16 znaků čistého textu.
Description:
 - Popis vyhledávacího stroje
 - Musí být v dokumentu právě jednou a jeho obsah je omezen na 1024 znaků čistého textu.
Url:
 - URL hledaného datazu
 - Musí být v dokumentu alespoň jednou, nejedná se o párovou značku, obsah je definován následujícímí atributy.
 - povinný atribut *template* definuje šablonu url datazu, šablona je parametrizována pomocí "OpenSearch URL template syntaxe":[#template], povinný je parametr `{searchTerms}`, který je nahrazován hledanou frází
 - povinný atribut *type* určuje MIME typ výstupu hledání
 - nepovinné atriuty *indexOffset* a *pageOffset* slouží k posunutí indexu prvního výsledku nebo první stránky, oba jsou přednastaveny na jedničku. Ovlivňují počítání nepovinných parametrů `{startIndex?}` a `{startPage?}`.
Contact:
 - Nepovinný element definující kontakt na adminstrátorara. Element může obsahovat pouze e-mailovou adresu a v dokumentu se může vyskytovat maximálně jednou.
Tags:
 - Nepovinný element obasující klíčová slova oddělená mezerou. Délka je omezena na 255 znaků a element se může v dokumentu vyskytovat maximálně jednou.
LongName:
 - Název vyhledávacího stroje ve formě čitelné pro lidi
 - Může se v dokumentu vyskytovat maximálně jednou a měl by být preferovaný pro zobrazování před ShortName. Délka je omezena na 48 znak.
Image:
 - Ubsahuje URL obrázku, grafické ikonky, spojené s vyhledávačem.
 - Počet výskytů není omezen, jednotlivé obrázky se mohou lišit ve velikosti a MIME typu, které jsou specifikovány následujícími volitelnými atributy.
 - Atribut *width* určuje šířku obrázku
 - Atribut *height* určuje šířku obrázku
 - Atribut *type* určuje MIME typ obrázku
Language:
 - Definuje jazyk výsledku hledání, obsah může obsahovat pouze zkratku jazyka podle XML nebo asterix (*) pro všechny jazyky.
InputEncoding:
 - Znaková sada přijímaná vyhledávacím strojem. Pokud nejí určeno použije se UTF-8 kódování.
OutputEncoding:
 - Znaková sada výstupu hledání.

Sepecifikace definuje ještě několik dalších elementů pro definici práv k dokumentu, ochrana mladistvích apod. které se používají ve specifických případech a jejich použití není zas tak běžné. Nyní si ještě doplníme výčet URL parametru.

OpenSearch URL parameters .[#template]
=========================

Parametry se používají v atributu `template` značky `Url` a jsou nahrazovány konkrétními daty dotazu. Syntaxe  parametru je velice jednoduchá: název pramatru je uzavřen ve složených závrokách a nepovinnost parametru je vyjádřena otazníkem před uzavírací závorkou. Příklad: `{povinnyParametr}` a `{nepovinnyParametr?}`. Parametry mohou být rozšířeny o vlastní sady pomocí XML jmenných prostorů. Ukázka `&lt;Url xmlns:moje="urn:moje-rozsireni" template="http://example.com/?q={searchTerms}&amp;amp;neco={moje:neco}" ...`.

searchTerms:
 - Parametr je nahrazen hledanou frází
count:
 - Parametr je nahrazen počtem výsledků na stránku
startIndex:
 - Parametr je nahrazen indexem výsledku
startPage:
 - Parametr je nahrazen číslem stránky
language:
 - Parametr je nahrazen jazykem
inputEncoding:
 - Parametr je nahrazen vstupním kódováním
outputEncoding:
 - Parametr je nahrazen výstupním kódováním

Ukázku kódu najdete v "prvním díle":[clanek(185)] této mini série. Tímto bych ukončil popis formátu OpenSearch Description a příště bych rád něco o formátu OpenSearch Response.

[ie7]: http://www.microsoft.com/cze/windows/ie/default.mspx  Internet Explorer 7
[firefox2]: http://www.firefox.cz/ Firefox 2.0
[a9]: www.a9.com A9
[clanek(185)]: /clanek/185-format-opensearch-dil-1.aspx
</raw>
    <author>Aleš Roubíček</author>
    <published>2006-10-29T12:01:14.770</published>
    <url>format-opensearch-dil-2</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>rss opensearch ie7 firefox</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T18:07:22.713</edited>
  </article>
  <article>
    <id>190</id>
    <title>Beta mapy na Atlasu - Update</title>
    <description>Atlas vypustil novou verzi map.</description>
    <html xml:space="preserve">
&lt;p&gt;&lt;a href="http://mapy.atlas.cz/"&gt;Mapy Atlasu&lt;/a&gt; dospěly do betafáze a já
jsem tomu rád :) Konečně jsou tu mapy, které se mi dobře používají.
Kluci na tom docela dřeli a ikdyž není všechno úplně 100%, věřím že
brzy bude.&lt;/p&gt;

&lt;p&gt;Ohlasy jsou zatím vcelku pozitivní. Nefunkčnost v Opeře je téma samo
pro sebe :) Většinou jsou výtky na nesedíci podklady, ale ty snad ještě
dorovnáme. Veronika rozjela &lt;a href="http://pokec.atlas.cz/blogy/mapy"&gt;blog na
komunitách&lt;/a&gt;, kde budou přibývat informace o vývoji a novinkách. Ohlasy
můžete zanechávat tady nebo v &lt;a
href="http://pokec.atlas.cz/diskuze/diskuze.aspx?cat=2212"&gt;diskusi&lt;/a&gt;…&lt;/p&gt;

&lt;h3 id="toc-update"&gt;Update&lt;/h3&gt;

&lt;p&gt;Chtěl bych vás poprosit, pokud vám něco nefunguje, zkuste problém popsat
podrobněji a nezapomeňte dopsat i prohlížeč a verzi. Děkujeme za
spolupráci.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">"Mapy Atlasu":[http://mapy.atlas.cz/] dospěly do betafáze a já jsem tomu rád :) Konečně jsou tu mapy, které se mi dobře používají. Kluci na tom docela dřeli a ikdyž není všechno úplně 100%, věřím že brzy bude.

Ohlasy jsou zatím vcelku pozitivní. Nefunkčnost v Opeře je téma samo pro sebe :) Většinou jsou výtky na nesedíci podklady, ale ty snad ještě dorovnáme. Veronika rozjela "blog na komunitách":[http://pokec.atlas.cz/blogy/mapy], kde budou přibývat informace o vývoji a novinkách. Ohlasy můžete zanechávat tady nebo v "diskusi":[http://pokec.atlas.cz/diskuze/diskuze.aspx?cat=2212]...

Update
======

Chtěl bych vás poprosit, pokud vám něco nefunguje, zkuste problém popsat podrobněji a nezapomeňte dopsat i prohlížeč a verzi. Děkujeme za spolupráci.</raw>
    <author>Aleš Roubíček</author>
    <published>2006-11-03T10:05:00</published>
    <url>beta-mapy-na-atlasu</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>atlas amapy</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T18:06:12.543</edited>
  </article>
  <article>
    <id>191</id>
    <title>Sociální sítě</title>
    <description>Sociální sítě se vezou na vlně Webu 2.0, již jsem také uvízl.</description>
    <html xml:space="preserve">
&lt;p&gt;Sociální sítě se vezou na vlně Webu 2.0, již jsem také uvízl.&lt;/p&gt;

&lt;p&gt;Do kterých to sítí že jsem uvízl? Jsou to &lt;a
href="http://last.fm/"&gt;last.fm&lt;/a&gt; a &lt;a
href="http://linkedin.com/"&gt;LinkedIn&lt;/a&gt;.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href="http://www.last.fm/user/rarous"&gt;Můj profil na last.fm&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a href="http://www.linkedin.com/in/rarous"&gt;Můj profil na LinkedIn&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;Podčarou: &lt;a href="http://www.last.fm/music/Alessio%20Busta"&gt;Alessio Busta
na last.fm&lt;/a&gt;, heh pokud chcete přibýt do úzké skupinky vyvolených
posluchačů, zapněte si last.fm player a &lt;a
href="http://rarousmusic.com/mp3/alessio_busta_-_electro_session_part_5-rm.mp3"&gt;poslouchejte&lt;/a&gt; ;)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Sociální sítě se vezou na vlně Webu 2.0, již jsem také uvízl.

Do kterých to sítí že jsem uvízl? Jsou to [last.fm] a [linkedin].

-  "Můj profil na last.fm":[last.fm profil]
-  "Můj profil na LinkedIn":[linkedin profil]

--------

Podčarou: "Alessio Busta na last.fm":[alessio busta], heh pokud chcete přibýt do úzké skupinky vyvolených posluchačů, zapněte si last.fm player a poslouchejte:[http://rarousmusic.com/mp3/alessio_busta_-_electro_session_part_5-rm.mp3] ;)

[last.fm]: http://last.fm/ last.fm
[linkedin]: http://linkedin.com/ LinkedIn
[alessio busta]: http://www.last.fm/music/Alessio%20Busta
[last.fm profil]: http://www.last.fm/user/rarous
[linkedin profil]: http://www.linkedin.com/in/rarous</raw>
    <author>Aleš Roubíček</author>
    <published>2006-11-08T09:52:19.753</published>
    <url>socialni-site</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <tags>web20</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T18:04:33.683</edited>
  </article>
  <article>
    <id>192</id>
    <title>Exkluzivní zprávy z vývoje Atlas Map</title>
    <description>Exkluzivní zprávy z vývoje Atlas Map</description>
    <html xml:space="preserve">
&lt;p&gt;Vývoj &lt;a href="http://amapy.cz/"&gt;map&lt;/a&gt; trval ultra krátkou dobu. Něco
pod tři měsíce. Gattovi diagramy opět prokázali, že když chcete boha
rozesmát – sdělte mu své plány. Dnes večer (ale raději až po půlnoci)
mapy opět krapet dospějí. Lehká sumarizace, co je nového na Atlas mapách,
doplněná stručným komentářem – z pohledu vývojáře.&lt;/p&gt;

&lt;p&gt;Nové funkce: GPS souřadnice, nasosnutí i vyhledání.&lt;/p&gt;

&lt;p&gt;Brouci:&lt;/p&gt;

&lt;h3 id="toc-opera"&gt;Opera&lt;/h3&gt;

&lt;p&gt;Opera ano (skoro) – v průběhu celého vývoje map jsem testoval
i v Opeře. Tento nejpomalejší prohlížeč (platí pro AJAX aplikace,
které hooodně malují) používají skoro všichni mí přátelé, takže
opomenout ho, dodám munici do debat svým názorovým oponentům – a to
nechci :) Tak tento prohlížeč byl těsně před releasem map sestřelen
unikátním fixem pro &lt;acronym title="Internet Explorer"&gt;IE&lt;/acronym&gt;, jež
jediný ho donutí (kromě úpravy &lt;acronym
title="Hypertext Transfer Protocol"&gt;HTTP&lt;/acronym&gt; hlaviček) korektně &lt;a
href="http://evil.che.lu/2006/9/25/no-more-ie6-background-flicker"&gt;kešovat
pozadí&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Takže pozor, fixem fixovat jen IE, jinak XmlHttpRequest v Opeře
stávkovat bude.&lt;/p&gt;

&lt;p&gt;Další „problém“ Opery. Její pedantské lpění na standardech
bohužel způsobilo, že poslední dvě měřítka stále nefungují. DIV
o šířce půl miliónu px prostě vadí :) Má ale štěstí holka, protože
ten vadí i mě, a půjde-li vše ok, příští týden budou mapy šlapat pod
Operou kompletně.&lt;/p&gt;

&lt;p&gt;PS: rychlost map v pořadí od nejrychlejšího prohlížeče: IE7, IE6, FF
a Opera (nejpomalejší).&lt;/p&gt;

&lt;p&gt;PS2: Safari více méně funguje, ale věnovat více se mu budu týden
přespříští.&lt;/p&gt;

&lt;h3 id="toc-kolecko-mysi"&gt;Kolečko myši&lt;/h3&gt;

&lt;p&gt;Po ostrých debatách mezi zastánci GIS a těmi co o GIS vůbec nic
nevědí ;) kolečko otočeno (pro ostatní, teď se chová jako na mapách
Googlu)&lt;/p&gt;

&lt;h3 id="toc-png-v-inernet-exploreru"&gt;PNG v Inernet Exploreru&lt;/h3&gt;

&lt;p&gt;Implementace &lt;acronym title="Portable Network Graphic"&gt;PNG&lt;/acronym&gt; v IE7
se interně stále spoléhá na staré známé filtry IE6, jež mají tu pěknou
vlastnost, že jich nelze aplikovat více přes sebe. (pro ostatní, bublina
v IE7 už vypadá ok, bohužel jsme se museli rozloučit s efektem
opacity)&lt;/p&gt;

&lt;p&gt;A to je zatím vše. O dalších opravených chybách se šířit
nebudu ,–)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Vývoj map:[amapy] trval ultra krátkou dobu. Něco pod tři měsíce. Gattovi diagramy opět prokázali, že když chcete boha rozesmát – sdělte mu své plány. Dnes večer (ale raději až po půlnoci) mapy opět krapet dospějí. Lehká sumarizace, co je nového na Atlas mapách, doplněná stručným komentářem – z pohledu vývojáře.

Nové funkce: GPS souřadnice, nasosnutí i vyhledání.

Brouci:

Opera
=====

Opera ano (skoro) – v průběhu celého vývoje map jsem testoval i v Opeře. Tento nejpomalejší prohlížeč (platí pro AJAX aplikace, které hooodně malují) používají skoro všichni mí přátelé, takže opomenout ho, dodám munici do debat svým názorovým oponentům – a to nechci :) Tak tento prohlížeč byl těsně před releasem map sestřelen unikátním fixem pro IE((Internet Explorer)), jež jediný ho donutí (kromě úpravy HTTP((Hypertext Transfer Protocol)) hlaviček) korektně "kešovat pozadí":[image caching].

Takže pozor, fixem fixovat jen IE, jinak XmlHttpRequest v Opeře stávkovat bude.

Další "problém" Opery. Její pedantské lpění na standardech bohužel způsobilo, že poslední dvě měřítka stále nefungují. DIV o šířce půl miliónu px prostě vadí :) Má ale štěstí holka, protože ten vadí i mě, a půjde-li vše ok, příští týden budou mapy šlapat pod Operou kompletně.

PS: rychlost map v pořadí od nejrychlejšího prohlížeče: IE7, IE6, FF a Opera (nejpomalejší).

PS2: Safari více méně funguje, ale věnovat více se mu budu týden přespříští.

Kolečko myši
============

Po ostrých debatách mezi zastánci GIS a těmi co o GIS vůbec nic nevědí ;) kolečko otočeno (pro ostatní, teď se chová jako na mapách Googlu)

PNG v Inernet Exploreru
=======================

Implementace PNG((Portable Network Graphic)) v IE7 se interně stále spoléhá na staré známé filtry IE6, jež mají tu pěknou vlastnost, že jich nelze aplikovat více přes sebe. (pro ostatní, bublina v IE7 už vypadá ok, bohužel jsme se museli rozloučit s efektem opacity)

A to je zatím vše. O dalších opravených chybách se šířit nebudu ,-)

[amapy]: http://amapy.cz/ AMapy
[image caching]: http://evil.che.lu/2006/9/25/no-more-ie6-background-flicker</raw>
    <author>Daniel Steigerwald</author>
    <published>2006-11-09T18:28:40.123</published>
    <url>exkluzivni-zpravy-z-vyvoje-atlas-map</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>atlas amapy ajax</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:49:17.357</edited>
  </article>
  <article>
    <id>193</id>
    <title>Team Building</title>
    <description>Můje první team bulding akce v Atlasu. Opravdu stála za to.</description>
    <html xml:space="preserve">
&lt;p&gt;Před chvílí jsme dorazili busem před budovu Atlasu. Dojeli jsme se
značným zpožděním, kvůli neschopnosti dopravce dostavit funkční autobus.
On už pak ani autobus potřeba nebyl, páč nás tam zbylo jen osm, sic přijel
(dřív než jsme se vydali na vlak).&lt;/p&gt;

&lt;p&gt;Cestou Filip, Honza a Radek dospávali spánkový deficit – málo komu se
podařilo proflámovat celou noc – vyjímkou byl Marek, který v buse nespal
(spí až teď za kompem v kanclu :D ). Cestou jsme dopíjeli výhry – proto
omluvte případný vyšší výskyt pravopisných chyb, než je obvyklé.&lt;/p&gt;

&lt;p&gt;Jako, tým jsme stmelili výborně, alespoň nás posledních osm :D Zbytek
akce byl taky dobrý. Po příjezdu na místo (sorry, teď si nevybavím
název), jsme se ubytovali a šli prozkoumat terén. Zakésli jsme na &lt;span
title="ovšem né stolním"&gt;fotbálku&lt;/span&gt;, kdy jsme nejprve hráli ve třech
a pak dva na dva. Vydejchali jsme se a pak se šlo na oběd. Z oběda bylo asi
nejlepší Kamikaze, které jsme pili už během přednášek našich
nadřízených. Po hovězí polívce, se dostavil Kamikaze efekt a bylo. Na
svíčkovou už se nedostalo :)&lt;/p&gt;

&lt;p&gt;Po obědě do dostavily teamové hry. V teamu jsem byl mimo jiné s Petrem
Šnajdrem. Nejdřív jsem stavěli ze špaget a maršmelounů nejvyšší
stavbu – nepovedlo se. Potom pokračovala orientační část, při které
jsme dostali čtyři body na GPSce a čtyři na mapě, kde měly být údajně
obálky s úkoly a bonusy, které se pak započítaly do skore týmu.&lt;/p&gt;

&lt;p&gt;V teamu nás bylo osm, takže jsme se rozdělili do dvojic. To, že &lt;span
title="na mapě"&gt;bodů&lt;/span&gt; bylo celkem osm, jsem se dozvěděl až po
soutěži :). Já s kolegou jsme nakonec na požadované místo vůbec
nedorazili, ale dobrý – mapu jsem jen zběžne skoukl a řekl si „ok,
jdeme.“ A šli jsme – úplně jinam :D. To Petr byl mnohem
úspěšnější. Mapu si nafotil do mobilu, takže věděl kam jít a dokonce
našel :)&lt;/p&gt;

&lt;p&gt;Neúspěch v orientační části jsme nikterak nevylepšili v dalších
disciplínách – holt teamovou spolupráci si, jako vývojář, představuji
nějak jinak. Závěrečná disciplína byla o skládání slov z písmen
z nalezených obálek. Ani tu jsme nevyhráli. Stejně nezáleží na tom
vyhrát, ale &lt;span title="dělení  o výhru"&gt;zúčastnit se&lt;/span&gt;. Pak
pokračovala volná zábava doprovázená úchylnou diskotékou, cassinem a
logickými hrami, což byla pro nás programátory výzva :D. Dobře jsem si
pokecal s naším produktovým ředitelem Petrem Šnajdrem, čekejte nějaké
fotky &lt;a href="http://management.blog.lupa.cz/"&gt;na jeho blogu&lt;/a&gt;,
s generálním DDem a mnoha dalšími :) No prostě skvělá zábava. Mezi tím
si Honza „Mravenec“ Bien vyškemral funkci zástupce ředitele, tak jsem
zvědav, jak se s tím chlapec popere…&lt;/p&gt;

&lt;p&gt;PS: Ve výtězném týmu, nebyl nikdo jiný než Honza Mravenec. Cituji:
„Já jsem vyhrál!“&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Před chvílí jsme dorazili busem před budovu Atlasu. Dojeli jsme se značným zpožděním, kvůli neschopnosti dopravce dostavit funkční autobus. On už pak ani autobus potřeba nebyl, páč nás tam zbylo jen osm, sic přijel (dřív než jsme se vydali na vlak).

Cestou Filip, Honza a Radek dospávali spánkový deficit - málo komu se podařilo proflámovat celou noc - vyjímkou byl Marek, který v buse nespal (spí až teď za kompem v kanclu :D ). Cestou jsme dopíjeli výhry - proto omluvte případný vyšší výskyt pravopisných chyb, než je obvyklé.

Jako, tým jsme stmelili výborně, alespoň nás posledních osm :D Zbytek akce byl taky dobrý. Po příjezdu na místo (sorry, teď si nevybavím název), jsme se ubytovali a šli prozkoumat terén. Zakésli jsme na "fotbálku .(ovšem né stolním)", kdy jsme nejprve hráli ve třech a pak dva na dva. Vydejchali jsme se a pak se šlo na oběd. Z oběda bylo asi nejlepší Kamikaze, které jsme pili už během přednášek našich nadřízených. Po hovězí polívce, se dostavil Kamikaze efekt a bylo. Na svíčkovou už se nedostalo :)

Po obědě do dostavily teamové hry. V teamu jsem byl mimo jiné s Petrem Šnajdrem. Nejdřív jsem stavěli ze špaget a maršmelounů nejvyšší stavbu - nepovedlo se. Potom pokračovala orientační část, při které jsme dostali čtyři body na GPSce a čtyři na mapě, kde měly být údajně obálky s úkoly a bonusy, které se pak započítaly do skore týmu.

V teamu nás bylo osm, takže jsme se rozdělili do dvojic.  To, že "bodů .(na mapě)" bylo celkem osm, jsem se dozvěděl až po soutěži :). Já s kolegou jsme nakonec na požadované místo vůbec nedorazili, ale dobrý - mapu jsem jen zběžne skoukl a řekl si "ok, jdeme." A šli jsme - úplně jinam :D. To Petr byl mnohem úspěšnější. Mapu si nafotil do mobilu, takže věděl kam jít a dokonce našel :)

Neúspěch v orientační části jsme nikterak nevylepšili v dalších disciplínách – holt teamovou spolupráci si, jako vývojář, představuji nějak jinak. Závěrečná disciplína byla o skládání slov z písmen z nalezených obálek. Ani tu jsme nevyhráli. Stejně nezáleží na tom  vyhrát, ale "zúčastnit se .(dělení  o výhru)". Pak pokračovala volná zábava doprovázená úchylnou diskotékou, cassinem a logickými hrami, což byla pro nás programátory výzva :D. Dobře jsem si pokecal s naším produktovým ředitelem Petrem Šnajdrem, čekejte nějaké fotky "na jeho blogu":[http://management.blog.lupa.cz/], s generálním DDem a mnoha dalšími :) No prostě skvělá zábava. Mezi tím si Honza "Mravenec" Bien vyškemral funkci zástupce ředitele, tak jsem zvědav, jak se s tím chlapec popere...

PS: Ve výtězném týmu, nebyl nikdo jiný než Honza Mravenec. Cituji: "Já jsem vyhrál!"</raw>
    <author>Aleš Roubíček</author>
    <published>2006-11-11T13:37:05.750</published>
    <url>team-building</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <tags>atlas</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:43:50.323</edited>
  </article>
  <article>
    <id>194</id>
    <title>Přednáška o MSBuild</title>
    <description>Slidy z přednášky o MSBuild.</description>
    <html xml:space="preserve">
&lt;p&gt;Minulý týden jsem měl malou přednášku pro své kolegy, která si kladla
za cíl proniknout do tajů MSBuildu, aspoň trošku. Malinko, prostě vědět
o čem je řeč :)&lt;/p&gt;

&lt;p&gt;Slíbil jsem, že dám slidy k dispozici na mým blogu, teda tady, tak jo.
Přikládám &lt;a href="/data/soubory/MSBuild.ppt"&gt;prezentaci&lt;/a&gt;. Možná taky
ještě jeden spot věnuji podrobnějšímu výkladu, ale to by se mi muselo
hodně chtít :)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Minulý týden jsem měl malou přednášku pro své kolegy, která si kladla za cíl proniknout do tajů MSBuildu, aspoň trošku. Malinko, prostě vědět o čem je řeč :)

Slíbil jsem, že dám slidy k dispozici na mým blogu, teda tady, tak jo. Přikládám prezentaci:[/data/soubory/MSBuild.ppt]. Možná taky ještě jeden spot věnuji podrobnějšímu výkladu, ale to by se mi muselo hodně chtít :)
</raw>
    <author>Aleš Roubíček</author>
    <published>2006-11-14T17:57:05.463</published>
    <url>prednaska-o-msbuild</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>msbuild</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:43:28.900</edited>
  </article>
  <article>
    <id>195</id>
    <title>Drobné novinky v okolním webu</title>
    <description>Pár postřehů z dění posledních dnů.</description>
    <html xml:space="preserve">
&lt;p&gt;Weblogy.cz mají nové logo. Většině komentujících se nelíbí,
něktří ho ani nepovažují za logo :) Většina úspěšných log je
postavena na jednoduchosti a většinou jsou textová (NOKIA, SIEMENS, SONY,
MICROSOFT, IBM a mnoho dalších). Weblogy se snažily jít podobnou cestou
navíc s vtipem sobě vlastním – parodie W3C. Takže si změňte své
bookmarky a favorities na &lt;a href="http://www.w3blogy.cz/"&gt;www.W3Blogy.cz&lt;/a&gt; a
vychutnejte si otočenou trojku plnými doušky – někteří z vás ji
možná i pochopí ;) Změna loga není a ani nebude jedinou změnou na této
službě. Již předtím došlo k lehkému faceliftu designu, kdy weblogy
chvílemi připomínaly známou &lt;a href="http://www.dgx.cz/trine/"&gt;La Trine&lt;/a&gt;,
která v záchvatu originality raději redesignovala také :D&lt;/p&gt;

&lt;p&gt;Na &lt;a href="http://www.atlas.cz/"&gt;Atlasu&lt;/a&gt; došlo k lehkému rozšíření
personalizace o možnost výběru barevných skinů. Krom klasické modré, si
nyní můžete novou homepage vychutnávat i v zelené, oranžové a
červené. Bohužel, můj oblíbený černý skýn, nebyl nasazen, škoda, snad
se na něj ještě v budoucnu dostane… Když už jsem u Atlasu, neustále
&lt;strong&gt;sháníme posily do našeho týmu!&lt;/strong&gt; Pokud umíte C#, ASP.NET, MS
SQL a &lt;strong&gt;jste v tom dobří,&lt;/strong&gt; chcete pracovat v opravdu
neformálním prostředí, společně s tropickým šílencem &lt;a
href="http://www.mraveniste.org"&gt;Honzou Bienem&lt;/a&gt;, slečnou &lt;a
href="http://pokec.atlas.cz/blogy/mapy/"&gt;Veronikou&lt;/a&gt;, &lt;a
href="http://management.blog.lupa.cz/"&gt;Petrem Šnajdrem&lt;/a&gt;, &lt;span
title="Daniel Steigerwald"&gt;strejdou&lt;/span&gt; a mnoha dalšími internetovými
profesionály, dejte vědět, třeba na mejl &lt;a
href="mailto:rarous&amp;#64;gmail.com"&gt;rarous&amp;#64;&lt;!----&gt;gmail.com&lt;/a&gt;…&lt;/p&gt;

&lt;p&gt;PS. Přepínání barviček na Atlasu najdete v pravém horním rohu ;)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Weblogy.cz mají nové logo. Většině komentujících se nelíbí, něktří ho ani nepovažují za logo :) Většina úspěšných log je postavena na jednoduchosti a většinou jsou textová (NOKIA, SIEMENS, SONY, MICROSOFT, IBM a mnoho dalších). Weblogy se snažily jít podobnou cestou navíc s vtipem sobě vlastním - parodie W3C. Takže si změňte své bookmarky a favorities na "www.W3Blogy.cz":[http://www.w3blogy.cz/] a vychutnejte si otočenou trojku plnými doušky - někteří z vás ji možná i pochopí ;) Změna loga není a ani nebude jedinou změnou na této službě. Již předtím došlo k lehkému faceliftu designu, kdy weblogy chvílemi připomínaly známou "La Trine":[http://www.dgx.cz/trine/], která v záchvatu originality raději redesignovala také :D

Na "Atlasu":[http://www.atlas.cz/] došlo k lehkému rozšíření personalizace o možnost výběru barevných skinů. Krom klasické modré, si nyní můžete novou homepage vychutnávat i v zelené, oranžové a červené. Bohužel, můj oblíbený černý skýn, nebyl nasazen, škoda, snad se na něj ještě v budoucnu dostane... Když už jsem u Atlasu, neustále **sháníme posily do našeho týmu!** Pokud umíte C#, ASP.NET, MS SQL a **jste v tom dobří,** chcete pracovat v opravdu neformálním prostředí, společně s tropickým šílencem "Honzou Bienem":[http://www.mraveniste.org], slečnou "Veronikou":[http://pokec.atlas.cz/blogy/mapy/], "Petrem Šnajdrem":[http://management.blog.lupa.cz/], "strejdou .(Daniel Steigerwald)" a mnoha dalšími internetovými profesionály, dejte vědět, třeba na mejl rarous@gmail.com...

PS. Přepínání barviček na Atlasu najdete v pravém horním rohu ;)</raw>
    <author>Aleš Roubíček</author>
    <published>2006-11-24T14:40:53.663</published>
    <url>drobne-novinky-v-okolnim-webu</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>atlas homepage weblogy</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:47:43.777</edited>
  </article>
  <article>
    <id>196</id>
    <title>Texy.net release candidate</title>
    <description>Použití Texy! na dotnetu nebylo nikdy předtím jednodušší!</description>
    <html xml:space="preserve">
&lt;p&gt;Po delší odmlce přicházím opět s dotnetovou implementací &lt;a
href="/data/projekty/Texy-net-1.0.RC1.zip"
onclick="javascript:urchinTracker('/data/projekty/Texy-net-1.0.RC1.zip');"&gt;Texy!
XML-RPC&lt;/a&gt; klienta. Přesto, že jsem nedostal žádnou odezvu, jsem odchytal
pár bugů z předešlé verze, ale hlavně došlo k rozšíření o podporu
deklarativní konfigurace.&lt;/p&gt;

&lt;p&gt;Dosud se musela Texy.net konfigurovat pokaždé zvlášť v kódu ve kterém
byla volána. Nová verze přináší možnost konfigurace pomocí vlastní
sekce ve &lt;code&gt;web.config&lt;/code&gt; souboru. Vytvořil jsem jak vlastní handler
pro načítání konfigurace, tak i &lt;a href="/data/projekty/GryphoonConfig.xsd"
onclick="javascript:urchinTracker('/data/projekty/GryphoonConfig.xsd ');"&gt;schéma&lt;/a&gt;
pro snadnější editaci konfigurace. Schéma si zkopírujte do adresáře
&lt;code&gt;C:\Program Files\Microsoft Visual Studio 8\Xml\Schemas\Custom\&lt;/code&gt; a do
souboru &lt;code&gt;C:\Program Files\Microsoft Visual Studio
8\Xml\Schemas\DotNetConfig.xsd&lt;/code&gt; přidejte následující kód:&lt;br /&gt;
&lt;code&gt;&amp;lt;xs:include schemaLocation="Custom/GryphoonConfig.xsd"
/&amp;gt;&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id="toc-ukazka-pouziti"&gt;Ukázka použití&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;web.config&lt;/strong&gt;&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;?xml version="1.0" ?&amp;gt;
&amp;lt;configuration&amp;gt;
  &amp;lt;configSections&amp;gt;
    &amp;lt;section name="rarous.texy"
      type="Rarous.Texy.Configuration.ConfigSectionHandler, Rarous.Texy"
      allowLocation="true" allowDefinition="Everywhere" /&amp;gt;
  &amp;lt;/configSections&amp;gt;

  &amp;lt;rarous.texy&amp;gt;
    &amp;lt;formatterModule indent="false" lineWrap="255" /&amp;gt;
    &amp;lt;headingModule top="2" /&amp;gt;
  &amp;lt;/rarous.texy&amp;gt;

...

&amp;lt;/configuration&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Ukázka výše má za následek, že výstupní kód nebude odsazován a bude
zalamován po 255 znacích. Dále je nastaven nadpis &lt;code&gt;h2&lt;/code&gt; jako
nejvyšší možný. Následuje obligátní ukázka požití v kódu.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;string input = "nějaký text."; // vstupní text
// načteme konfiguraci
Rarous.Texy.Configuration.ConfigSectionHandler handler =
    (Rarous.Texy.Configuration.ConfigSectionHandler)
    ConfigurationManager.GetSection("rarous.texy");
// vytvoříme instanci Texy!
Rarous.Texy.Texy texy = new Rarous.Texy.Texy(input, handler);
// překonvertujeme na XHTML s pomocí konfigurace
string output = texy.ToXhtml(true);&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Tímto však možnosti nekončí. Já například zmiňovaný handler
používám v připravovaném redakčním systému Gryphoon2 pro konfiguraci
pro články a pro komentáře. TexyProcessor se pak stará o načítání
konfigurace pro aktuální potřebu.&lt;/p&gt;

&lt;p&gt;No a protože tohle není úplně nejjednodušší ukázka kódu, máme tu
ještě takové usnadnění :) Nejjednodušší možnost použití Texy
tedy je:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;string html = Rarous.Texy.Texy.Process("Hello World!");&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Doufám, že alespoň někomu to pomůže k snadnějšímu používání
Texy! na dotnetu. Závěrem bych vás chtěl poprosit, pokud najdete nějakou
chybku, neváhejte a sdělte mi ji, ať už v komentářích, nebo na &lt;a
href="mailto:rarous+texy&amp;#64;gmail.com"&gt;e-mail&lt;/a&gt;. Za každý feedback budu
rád. :)&lt;/p&gt;

&lt;h3 id="toc-ke-stazeni"&gt;Ke stažení&lt;/h3&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href="/data/projekty/Texy-net-1.0.RC1.zip"
	onclick="javascript:urchinTracker('/data/projekty/Texy-net-1.0.RC1.zip');"&gt;Texy.net
	RC1&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a href="/data/projekty/GryphoonConfig.xsd"
	onclick="javascript:urchinTracker('/data/projekty/GryphoonConfig.xsd ');"&gt;Schéma
	do Visual Studia&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Po delší odmlce přicházím opět s dotnetovou implementací &lt;a href="/data/projekty/Texy-net-1.0.RC1.zip" onClick="javascript:urchinTracker('/data/projekty/Texy-net-1.0.RC1.zip');"&gt;Texy! XML-RPC&lt;/a&gt; klienta.  Přesto, že jsem nedostal žádnou odezvu, jsem odchytal pár bugů z předešlé verze, ale hlavně došlo k rozšíření o podporu deklarativní konfigurace.

Dosud se musela Texy.net konfigurovat pokaždé zvlášť v kódu ve kterém byla volána. Nová verze přináší možnost konfigurace pomocí vlastní sekce ve `web.config` souboru. Vytvořil jsem jak vlastní handler pro načítání konfigurace, tak i &lt;a href="/data/projekty/GryphoonConfig.xsd" onClick="javascript:urchinTracker('/data/projekty/GryphoonConfig.xsd ');"&gt;schéma&lt;/a&gt; pro snadnější editaci konfigurace. Schéma si zkopírujte do adresáře `C:\Program Files\Microsoft Visual Studio 8\Xml\Schemas\Custom\` a do souboru `C:\Program Files\Microsoft Visual Studio 8\Xml\Schemas\DotNetConfig.xsd` přidejte následující kód:
 `&lt;xs:include schemaLocation="Custom/GryphoonConfig.xsd" /&gt;`.

== Ukázka použití

**web.config**
/---code xml
&lt;?xml version="1.0" ?&gt;
&lt;configuration&gt;
  &lt;configSections&gt;
    &lt;section name="rarous.texy"
      type="Rarous.Texy.Configuration.ConfigSectionHandler, Rarous.Texy"
      allowLocation="true" allowDefinition="Everywhere" /&gt;
  &lt;/configSections&gt;

  &lt;rarous.texy&gt;
    &lt;formatterModule indent="false" lineWrap="255" /&gt;
    &lt;headingModule top="2" /&gt;
  &lt;/rarous.texy&gt;

...

&lt;/configuration&gt;
\---code

Ukázka výše má za následek, že výstupní kód nebude odsazován a bude zalamován po 255 znacích. Dále je nastaven nadpis `h2` jako nejvyšší možný. Následuje obligátní ukázka požití v kódu.

/---code csharp
string input = "nějaký text."; // vstupní text
// načteme konfiguraci
Rarous.Texy.Configuration.ConfigSectionHandler handler =
    (Rarous.Texy.Configuration.ConfigSectionHandler)
    ConfigurationManager.GetSection("rarous.texy");
// vytvoříme instanci Texy!
Rarous.Texy.Texy texy = new Rarous.Texy.Texy(input, handler);
// překonvertujeme na XHTML s pomocí konfigurace
string output = texy.ToXhtml(true);

\---code

Tímto však možnosti nekončí. Já například zmiňovaný handler používám  v připravovaném redakčním systému Gryphoon2 pro konfiguraci pro články a pro komentáře. TexyProcessor se pak stará o načítání konfigurace pro aktuální potřebu.

No a protože tohle není úplně nejjednodušší ukázka kódu, máme tu ještě takové usnadnění :) Nejjednodušší možnost použití Texy tedy je:

/---code csharp
string html = Rarous.Texy.Texy.Process("Hello World!");
\---code

Doufám, že alespoň někomu to pomůže k snadnějšímu používání Texy! na dotnetu. Závěrem bych vás chtěl poprosit, pokud najdete nějakou chybku, neváhejte a sdělte mi ji, ať už v komentářích, nebo na e-mail:[rarous+texy@gmail.com]. Za každý feedback budu rád. :)

== Ke stažení

* &lt;a href="/data/projekty/Texy-net-1.0.RC1.zip" onClick="javascript:urchinTracker('/data/projekty/Texy-net-1.0.RC1.zip');"&gt;Texy.net RC1&lt;/a&gt;
* &lt;a href="/data/projekty/GryphoonConfig.xsd" onClick="javascript:urchinTracker('/data/projekty/GryphoonConfig.xsd ');"&gt;Schéma do Visual Studia&lt;/a&gt;

[texy-net]: /data/projekty/Texy-net-1.0.RC1.zip  RC1
[schema]: /data/projekty/GryphoonConfig.xsd Schéma do Visual Studia
</raw>
    <author>Aleš Roubíček</author>
    <published>2006-11-30T22:40:40.677</published>
    <url>texy-net-release-candidate</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>texynet</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:46:11.340</edited>
  </article>
  <article>
    <id>197</id>
    <title>VS 2005 SP1</title>
    <description>Microsoft dnes uvolnil Service Pack 1 pro Visual Studio 2005.</description>
    <html xml:space="preserve">
&lt;p&gt;Microsoft dnes uvolnil Service Pack 1 pro Visual Studio 2005. Update je jak
pro &lt;a
href="http://www.microsoft.com/downloads/details.aspx?FamilyId=7B0B0339-613A-46E6-AB4D-080D4D4A8C4E"&gt;Express
Edice&lt;/a&gt;, tak pro &lt;a
href="http://www.microsoft.com/downloads/details.aspx?FamilyId=BB4A75AB-E2D4-4C96-B39D-37BAF6B5B1DC"&gt;Team
Suite&lt;/a&gt;. Mezi novinky by měla patřit větší výkonost a stabilita a např.
i &lt;a href="/clanek/144-web-application-project.aspx"&gt;Web Application
Project&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Máte už někdo zkušenosti s instalací?&lt;/p&gt;

&lt;h3 id="toc-update-1"&gt;Update 1&lt;/h3&gt;

&lt;p&gt;První poznatek z instalace: Nejprve odinstalujte Web Application Project,
zkrátíte si tím dobu instalace. A radši pozavírejte všechna okna ať
neriskujete jejich zavírání po půl hodině a opětovné nekonečné
čekání…&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Microsoft dnes uvolnil Service Pack 1 pro Visual Studio 2005. Update je jak pro "Express Edice":[http://www.microsoft.com/downloads/details.aspx?FamilyId=7B0B0339-613A-46E6-AB4D-080D4D4A8C4E], tak pro "Team Suite":[http://www.microsoft.com/downloads/details.aspx?FamilyId=BB4A75AB-E2D4-4C96-B39D-37BAF6B5B1DC]. Mezi novinky by měla patřit větší výkonost a stabilita a např. i "Web Application Project":[/clanek/144-web-application-project.aspx].

Máte už někdo zkušenosti s instalací?

== Update 1

První poznatek z instalace: Nejprve odinstalujte Web Application Project, zkrátíte si tím dobu instalace. A radši pozavírejte všechna okna ať neriskujete jejich zavírání po půl hodině a opětovné nekonečné čekání...</raw>
    <author>Aleš Roubíček</author>
    <published>2006-12-15T12:02:00.360</published>
    <url>vs-2005-sp1</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>vs vs2005</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:46:40.823</edited>
  </article>
  <article>
    <id>198</id>
    <title>Přínáší Microsoft novou generaci webu?</title>
    <description>Je tomu již pár týdnů, co Microsoft uvolnil první ukázkovou verzi zajímavé technologie pod krkolomným kódovým označením WPF/E.</description>
    <html xml:space="preserve">
&lt;p&gt;Je tomu již pár týdnů, co Microsoft uvolnil první ukázkovou verzi
zajímavé technologie pod krkolomným kódovým označením &lt;a
href="http://msdn2.microsoft.com/en-us/asp.net/bb187358.aspx"&gt;WPF/E&lt;/a&gt;. Tato
technologie si klade za cíl umožnit provozování technologie &lt;acronym
title="Windows Presentation Foundation"&gt;WPF&lt;/acronym&gt;, přesněji řečeno jeho
omezenou část, i na systémech kde neběží &lt;em&gt;.NET Framework 3.0&lt;/em&gt;,
jehož je WPF součástí.&lt;/p&gt;

&lt;p&gt;První komunitní preview (December CTP) funguje na Windows
v prohlížečích Internet Explorer a Firefox a na OS X v Safari (a možná
i ve Firefoxu). Podpora WPF/E je prohlížečích zajištěna pomocí 1MiB
plug-inu, který zprostředkovává i podporu pro přehrávání &lt;em&gt;Windows
Media Audio &amp;amp; Video&lt;/em&gt;. V tom je prozatím také asi největší
síla WPF/E.&lt;/p&gt;

&lt;h3 id="toc-o-co-tedy-jde"&gt;O co tedy jde&lt;/h3&gt;

&lt;p&gt;WPF je technologií pro tvorbu tzv. &lt;strong&gt;rich UI&lt;/strong&gt;, novou generací
WinForms a podle Microsoftu i webu. A vlastně proč ne? Web, takový jaký ho
známe dnes, byl původně vytvořen pro hypertext, nad kterým se časem
vybudovala nadstavba pro aplikace (WebForms, JavaScript, AJAX). Z jiného úhlu
pohledu se prostředí webu využívá jako transportní vrstva pro WebServices.
A na to navazuje WPF. WPF přináší „rich“ aplikace chovající se
stejně jako nativní aplikace v systému s možností přenosu přes web.
Všechny prvky a chování je možno popsat v XML dialektu zvaném &lt;acronym
title="eXtensible Application Markup Language"&gt;XAML&lt;/acronym&gt;, složitější
logiku vykonává buďto nějaká webová služba nebo klientský kód napsaný
v libovolném jazyce, který je podporovaný platformou
&lt;strong&gt;.net&lt;/strong&gt;.&lt;/p&gt;

&lt;h3 id="toc-wpf-e-everywhere"&gt;WPF/E =Everywhere&lt;/h3&gt;

&lt;p&gt;WPF/E bere určitou podmnožinu jazyka XAML a umožňuje jeho vykonání
v okně prohlížeče. Prozatím se jedná o subset pro vykreslování
vektorové grafiky, přehrávání multimédí a tvorbu animací. Podpora pro
složotější formaláře zatím chybí a je otázkou, zda bude doplněna. To
WPF/E staví do role možné konkurence pro Flash. Vím, pravděpodobně
k ohrožení pozice Flashe nedojde, ale mně se líbí možnost výběru,
obvzlášť, když se jedná o XML, ke kterému mám jako programátor
mnohem blíž.&lt;/p&gt;

&lt;p&gt;Co se týče aplikační logiky, ta je prozatím tvořena pomocí
JavaScriptu, takže můžete plně využívat vašich AJAXových služeb a
frameworků. V dalších verzích by se měla objevit i podpora pro dotnetí
jazyky.&lt;/p&gt;

&lt;h3 id="toc-vyhody-a-nevyhody"&gt;Výhody a nevýhody&lt;/h3&gt;

&lt;p&gt;Za hlavní výhodu, oproti Flashi, považuju, jak už jsem psal, že jde
o XML. To má nesporné výhody v možnosti editace, validace, transformace,
ale i s prací pomocí DOM. A protože se jedná o XML mohou být animované
nebo antialisované texty indexovány vyhledávači (absence indexace je asi
největší slabina flashe na webu). Další výhodou je platformavá
nezávislost (ikdyž zatím jde pouze o dva operační systémy a tři
prohlížeče, oproti flashi nepatrný zlomek) a vkládání multimédií
přímo do stránek. Nevýhodou může být to, že jde o technologii
Microsoftu, k němuž má značná část „odborné“ internetové populace
averzi. Pro někoho může být nevýhodou i to, že se kdokoli může snadno
podívat na zdrojáky vaší práce, což je u flashe kompilací značně
stíženo. Další nevýhodou je, že zatím nejde o finální produkt, tudíž
jeho podpora, možnosti a rozšířenost jsou teprve na začátku.&lt;/p&gt;

&lt;h3 id="toc-ukazky-pouziti"&gt;Ukázky použití&lt;/h3&gt;

&lt;p&gt;Já jsem si při zkoušení možností WPF/E vytvořil &lt;a
href="/ukazky/Player.aspx"&gt;jednoduchý přehrávač&lt;/a&gt; hudebních souborů.
Jeho výslednou podobu si můžete &lt;a
href="/ukazky/Player.aspx"&gt;prohlédnout&lt;/a&gt;. Co umí? :) No, přehrává WMA
soubory a ukazuje názvy tracků, umí mezi stopami přeskakovat, pauzovat,
zastavovat a znovu spouštět a ještě zobrazuje průběh přehrávání.
Chtěl jsem i zprovoznit přeskakování v rámci aktuální skladby, ale
nakonec se mi nepodařilo donutit MediaElement ke změně pozice :( Ještě by
šlo udělat změnu hlasitosti, zobrazování délky stopy i celý playlist,
zobrazování progressu downloadu apod. To už si zkuste sami, pokud
chcete…&lt;/p&gt;

&lt;p&gt;Celkem slušný přehled ukázek WPF/E najdete na stránce &lt;a
href="http://weblogs.asp.net/mschwarz/archive/2006/12/14/a-short-list-of-wpf-e-exmaples.aspx"&gt;A short
list of WPF/E examples&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Dokumentaci, pluginy a šablony do VisualStudia si &lt;a
href="http://msdn2.microsoft.com/en-us/asp.net/bb187452.aspx"&gt;stáhněte na
MSDN&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id="toc-souvisejici"&gt;Související&lt;/h3&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href="http://www.borber.com/blog/prvni-detaily-o-wpf-e"&gt;Borek Bernard:
	První detaily o WPF/E&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Je tomu již pár týdnů, co Microsoft uvolnil první ukázkovou verzi zajímavé technologie pod krkolomným kódovým označením "WPF/E":[wpfe]. Tato technologie si klade za cíl umožnit provozování technologie WPF((Windows Presentation Foundation)), přesněji řečeno jeho omezenou část, i na systémech kde neběží *.NET Framework 3.0*, jehož je WPF součástí.

První komunitní preview (December CTP) funguje na Windows v prohlížečích Internet Explorer a Firefox a na OS X v Safari (a možná i ve Firefoxu). Podpora WPF/E je prohlížečích zajištěna pomocí 1MiB plug-inu, který zprostředkovává i podporu pro přehrávání *Windows Media Audio &amp; Video*. V tom je prozatím také asi největší síla WPF/E.

O co tedy jde
=============

WPF je technologií pro tvorbu tzv. **rich UI**, novou generací WinForms a podle Microsoftu i webu. A vlastně proč ne? Web, takový jaký ho známe dnes, byl původně vytvořen pro hypertext, nad kterým se časem vybudovala nadstavba pro aplikace (WebForms, JavaScript, AJAX). Z jiného úhlu pohledu se prostředí webu využívá jako transportní vrstva pro WebServices. A na to navazuje WPF. WPF přináší "rich" aplikace chovající se stejně jako nativní aplikace v systému s možností přenosu přes web. Všechny prvky a chování je možno popsat v XML dialektu zvaném XAML((eXtensible Application Markup Language)), složitější logiku vykonává buďto nějaká webová služba nebo klientský kód napsaný v libovolném jazyce, který je podporovaný platformou **.net**.

WPF/E =Everywhere
=================

WPF/E bere určitou podmnožinu jazyka XAML a umožňuje jeho vykonání v okně prohlížeče. Prozatím se jedná o subset pro vykreslování vektorové grafiky, přehrávání multimédí a tvorbu animací. Podpora pro složotější formaláře zatím chybí a je otázkou, zda bude doplněna. To WPF/E staví do role možné konkurence pro Flash. Vím, pravděpodobně k ohrožení pozice Flashe nedojde, ale mně se líbí možnost výběru, obvzlášť, když se jedná o XML, ke kterému mám jako programátor mnohem blíž.

Co se týče aplikační logiky, ta je prozatím tvořena pomocí JavaScriptu, takže můžete plně využívat vašich AJAXových služeb a frameworků. V dalších verzích by se měla objevit i podpora pro dotnetí jazyky.

Výhody a nevýhody
=================

Za hlavní výhodu, oproti Flashi, považuju, jak už jsem psal, že jde o XML. To má nesporné výhody v možnosti editace, validace, transformace, ale i s prací pomocí DOM. A protože se jedná o XML mohou být animované nebo antialisované texty indexovány vyhledávači (absence indexace je asi největší slabina flashe na webu). Další výhodou je platformavá nezávislost (ikdyž zatím jde pouze o dva operační systémy a tři prohlížeče, oproti flashi nepatrný zlomek) a vkládání multimédií přímo do stránek. Nevýhodou může být to, že jde o technologii Microsoftu, k němuž má značná část „odborné“ internetové populace averzi. Pro někoho může být nevýhodou i to, že se kdokoli může snadno podívat na zdrojáky vaší práce, což je u flashe kompilací značně stíženo. Další nevýhodou je, že zatím nejde o finální produkt, tudíž jeho podpora, možnosti a rozšířenost jsou teprve na začátku.

Ukázky použití
==============

Já jsem si při zkoušení možností WPF/E vytvořil "jednoduchý přehrávač":[/ukazky/Player.aspx] hudebních souborů. Jeho výslednou podobu si můžete prohlédnout:[/ukazky/Player.aspx]. Co umí? :) No, přehrává WMA soubory a ukazuje názvy tracků, umí mezi stopami přeskakovat, pauzovat, zastavovat a znovu spouštět a ještě zobrazuje průběh přehrávání. Chtěl jsem i zprovoznit přeskakování v rámci aktuální skladby, ale nakonec se mi nepodařilo donutit MediaElement ke změně pozice :( Ještě by šlo udělat změnu hlasitosti, zobrazování délky stopy i celý playlist, zobrazování progressu downloadu apod. To už si zkuste sami, pokud chcete...

Celkem slušný přehled ukázek WPF/E najdete na stránce [ukazky].

Dokumentaci, pluginy a šablony do VisualStudia si "stáhněte na MSDN":[download].

Související
===========
* [borber]

[borber]: http://www.borber.com/blog/prvni-detaily-o-wpf-e Borek Bernard: První detaily o WPF/E
[wpfe]: http://msdn2.microsoft.com/en-us/asp.net/bb187358.aspx
[download]: http://msdn2.microsoft.com/en-us/asp.net/bb187452.aspx
[ukazky]: http://weblogs.asp.net/mschwarz/archive/2006/12/14/a-short-list-of-wpf-e-exmaples.aspx A short list of WPF/E examples
</raw>
    <author>Aleš Roubíček</author>
    <published>2006-12-23T17:46:09.140</published>
    <url>prinasi-microsoft-novou-generaci-webu</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>silverlight plugin wpf</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:45:36.667</edited>
  </article>
  <article>
    <id>199</id>
    <title>Šťastné a veselé!</title>
    <description>Přeji šťastné a veselé Vánoce všem lidem dobré vůle.</description>
    <html xml:space="preserve">
&lt;p&gt;Přeji šťastné a veselé Vánoce všem lidem dobré vůle.&lt;/p&gt;

&lt;blockquote&gt;
	&lt;p&gt;Nešťastným štěstíčko
	&lt;br /&gt;Nemocným zdravíčko
	&lt;br /&gt;Chudým konto mastné
	&lt;br /&gt;Všechny dny jen štastné.
	&lt;br /&gt;Slepým světlo
	&lt;br /&gt;Zmrzlým teplo
	&lt;br /&gt;a teplým
	&lt;br /&gt;aby se to v&amp;#160;&lt;a
	href="http://www.dgx.cz/trine/item/pojdme-vymytit-homosexualitu"&gt;&lt;em&gt;hlavě
	přeplo&lt;/em&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class="center"&gt;&lt;img src="/data/obrazky/vanoce.jpg" alt="Veselé Vánoce"
/&gt;&lt;/div&gt;

&lt;blockquote&gt;
	&lt;p&gt;Přišel mi Ježíšek
	&lt;br /&gt;nadělit smůlu.
	&lt;br /&gt;Že jí měl dost,
	&lt;br /&gt;dal mi jí fůru.
	&lt;br /&gt;Povídám: "Ježíšku,
	&lt;br /&gt;co takhle štěstí?"
	&lt;br /&gt;Listoval v&amp;#160;&lt;a href="http://www.atlas.cz"&gt;&lt;em&gt;Atlasu&lt;/em&gt;&lt;/a&gt;
	&lt;br /&gt;pak mi dal pěstí :(&lt;/p&gt;

	&lt;p&gt;Tak šťastné a veselé!&lt;/p&gt;
&lt;/blockquote&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Přeji šťastné a veselé Vánoce všem lidem dobré vůle.

&gt; Nešťastným štěstíčko
&gt;  Nemocným zdravíčko
&gt;  Chudým konto mastné
&gt;  Všechny dny jen štastné.
&gt;  Slepým světlo
&gt;  Zmrzlým teplo
&gt;  a teplým
&gt;  aby se to v "*hlavě přeplo*":[http://www.dgx.cz/trine/item/pojdme-vymytit-homosexualitu]

.[center]
[* /data/obrazky/vanoce.jpg .(Veselé Vánoce) *]


&gt; Přišel mi Ježíšek
&gt;  nadělit smůlu.
&gt;  Že jí měl dost,
&gt;  dal mi jí fůru.
&gt;  Povídám: "Ježíšku,
&gt;  co takhle štěstí?"
&gt;  Listoval v *Atlasu*:[http://www.atlas.cz]
&gt;  pak mi dal pěstí :(
&gt;
&gt; Tak šťastné a veselé!
</raw>
    <author>Aleš Roubíček</author>
    <published>2006-12-24T14:19:28.957</published>
    <url>stastne-a-vesele</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2006-12-29T17:06:30.710</edited>
  </article>
  <article>
    <id>200</id>
    <title>AMapy API v praxi</title>
    <description>Udělal jsem dvě ukázky použití API nových Atlasích map.</description>
    <html xml:space="preserve">
&lt;p&gt;Udělal jsem dvě ukázky použití &lt;a href="http://amapy.atlas.cz/api"&gt;API
nových Atlasích map&lt;/a&gt;. První ukázkou je &lt;a
href="http://rarous.net/weblogy/2.0-alfa2/georss-catcher.htm"&gt;generátor GeoRSS
a GeoURL&lt;/a&gt; tagů vybráním místa na mapě. Druhou ukázkou je budoucí
mash-up Weblogy API a AMapy API, který zobrazuje &lt;a
href="http://rarous.net/weblogy/2.0-alfa2/weblogy-map.htm"&gt;mapu blogerů
z Weblogy.cz&lt;/a&gt;. Teď už možná chápete, k čem je první ukázka
dobrá ;)&lt;/p&gt;

&lt;p&gt;Happy coding.&lt;/p&gt;

&lt;h3 id="toc-update"&gt;Update&lt;/h3&gt;

&lt;p&gt;Množí se případy s hláškou chybný GUID. Proto čtěte pozorně. :)
Pro to aby bylo možné API používat je nutné si &lt;a
href="http://amapy.atlas.cz/api/registration.aspx"&gt;vygenerovat GUID&lt;/a&gt; pro
„konkrétní URL“ na stránkách AMapy API. Pokud chcete použít ukázky
u sebe, musíte si změnit GUID pro svoji URL. Děkuji za pochopení.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Udělal jsem dvě ukázky použití "API nových Atlasích map":[api]. První ukázkou je "generátor GeoRSS a GeoURL":[generator] tagů vybráním místa na mapě. Druhou ukázkou je budoucí mash-up Weblogy API a AMapy API, který zobrazuje "mapu blogerů z Weblogy.cz":[mapa]. Teď už možná chápete, k čem je první ukázka dobrá ;)

Happy coding.

== Update

Množí se případy s hláškou chybný GUID. Proto čtěte pozorně. :) Pro to aby bylo možné API používat je nutné si "vygenerovat GUID":[genGUID] pro "konkrétní URL" na stránkách AMapy API. Pokud chcete použít ukázky u sebe, musíte si změnit GUID pro svoji URL. Děkuji za pochopení.

[api]: http://amapy.atlas.cz/api
[genGUID]: http://amapy.atlas.cz/api/registration.aspx
[generator]: http://rarous.net/weblogy/2.0-alfa2/georss-catcher.htm
[mapa]: http://rarous.net/weblogy/2.0-alfa2/weblogy-map.htm</raw>
    <author>Aleš Roubíček</author>
    <published>2007-01-29T22:12:38.287</published>
    <url>amapy-api-v-praxi</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>atlas amapy api</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:41:20.493</edited>
  </article>
  <article>
    <id>201</id>
    <title>Africanism Mix by Alessio Busta</title>
    <description>Africanism vol. 4</description>
    <html xml:space="preserve">
&lt;ol&gt;
	&lt;li&gt;Africanism feat Jesse Garcia – Copagabana&lt;/li&gt;

	&lt;li&gt;Africanism by Yves Larock – Zookey (Lift Your Legs Up)
	(Original Mix)&lt;/li&gt;

	&lt;li&gt;Copyright – We can Rise (Energy Re-Edit)&lt;/li&gt;

	&lt;li&gt;Africanism All Stars – Summer Moon (Bob Sinclar Remix)&lt;/li&gt;

	&lt;li&gt;Junio Jack – E-Samba (David Penn Remix)&lt;/li&gt;

	&lt;li&gt;Africanism by Martin Solveig – Madam&lt;/li&gt;

	&lt;li&gt;Omar – It's So (Bob Sinclar Vocal Mix)&lt;/li&gt;

	&lt;li&gt;Axwell feat. Steve Edwards – Watch the Sunrise (Bob Sinclar Mix)&lt;/li&gt;

	&lt;li&gt;Africanism All Stars – Hard (Bob Sinclar Original Mix)&lt;/li&gt;

	&lt;li&gt;Africanism by Martin Solveig – Edony (Crowdy Short Edit)&lt;/li&gt;

	&lt;li&gt;Africanism by Bob Sinclar – Juju Beat / Feelappela&lt;/li&gt;

	&lt;li&gt;Bob Sinclar – I feel for You (I feel for disco Mix)&lt;/li&gt;

	&lt;li&gt;Gossip – Standing in the way of control (Playgroup Mix)&lt;/li&gt;

	&lt;li&gt;Tomaz vs. Filterheadz – Sunshine&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Ke stažení &lt;a
href="http://www.rarousmusic.com/mp3/alessio_busta_-_africanism_mix-rm.mp3"
onclick="javascript:_gat._getTracker("&gt;Africanism Mix by Alessio Busta&lt;/a&gt;
(MP3 128 kbps; 62,5 MiB)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">1.  Africanism feat Jesse Garcia - Copagabana
2.  Africanism by Yves Larock - Zookey (Lift Your Legs Up) (Original Mix)
3.  Copyright - We can Rise (Energy Re-Edit)
4.  Africanism All Stars - Summer Moon (Bob Sinclar Remix)
5.  Junio Jack - E-Samba (David Penn Remix)
6.  Africanism by Martin Solveig - Madam
7.  Omar - It's So (Bob Sinclar Vocal Mix)
8.  Axwell feat. Steve Edwards - Watch the Sunrise (Bob Sinclar Mix)
9.  Africanism All Stars - Hard (Bob Sinclar Original Mix)
10.  Africanism by Martin Solveig - Edony (Crowdy Short Edit)
11.  Africanism by Bob Sinclar - Juju Beat / Feelappela
12.  Bob Sinclar - I feel for You (I feel for disco Mix)
13.  Gossip - Standing in the way of control (Playgroup Mix)
14.  Tomaz vs. Filterheadz - Sunshine

Ke stažení &lt;a href="http://www.rarousmusic.com/mp3/alessio_busta_-_africanism_mix-rm.mp3" onClick="javascript:_gat._getTracker("UA-90726-1")._trackPageview('/files/alessio_busta_-_africanism_mix-rm.mp3');"&gt;Africanism Mix by Alessio Busta&lt;/a&gt; (MP3 128 kbps; 62,5 MiB)</raw>
    <author>alessio busta</author>
    <published>2007-03-07T08:37:26.830</published>
    <url>africanism-mix-by-alessio-busta</url>
    <category>Muzika</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-06-23T14:10:26.507</edited>
  </article>
  <article>
    <id>202</id>
    <title>Osečenské  stránky získaly ocenění v krajském kole soutěže Zlatý erb 2007 </title>
    <description>no comment :)</description>
    <html xml:space="preserve">
&lt;blockquote&gt;
	&lt;p&gt;Ve čtvrtek 15. 3. 2007 se konalo na Krajském úřadě Libereckého kraje
	vyhlášení krajského kola soutěže Zlatý erb 2007. Byli zde přítomni
	všichni ocenění ze všech kategorií. Ceny v několika kategoriích
	udíleli: hejtman Libereckého kraje Petr Skokan, Radim Zika – náměstek
	hejtmana pověřeného vedením resortu rozvoje venkova, zemědělství,
	životního prostředí a informatiky, Bohdan Tomáš – ředitel KÚLK, Jan
	Savický z pořádajícího sdružení Zlatý erb a zástupci
	sponzorských firem.&lt;/p&gt;

	&lt;p&gt;Vzhledem k tomu, že Osečná na podzim minulého roku získala titul
	město, byla hodnocena v kategorii měst. Přes nesrovnatelné porovnaní
	podmínek zpracovatelů byla hodnocena Osečná na třetím místě za Jabloncem
	nad Nisou a Českou Lípou, městy III. typu, které mají se svoji prezentací
	již veliké zkušenosti. V již jmenovaných bývalých okresních městech se
	o stránky starají školení pracovníci pověřených odborů, zatímco
	v Osečné vytvořili stránky obce dva nadšenci Aleš Roubíček z Druzcova
	a Jiří Hauzer z Osečné ve svém volném čase, kteří průběžně tyto
	živé stránky aktualizují. Tato skutečnost stojí v dnešní uspěchané
	době za zamyšlení a určitě je obrazem dobře se rozvíjející občanské
	společnosti.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Zdroj: Liberecký den&lt;/p&gt;

&lt;h3 id="toc-souvisejici"&gt;Související&lt;/h3&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href="http://tuni.vslib.cz/clanek/2764/"&gt;Studenti TUL vyhráli nad
	profesionály&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a href="http://www.osecna.info/"&gt;Stránky města Osečná&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">&gt; Ve čtvrtek 15. 3. 2007 se konalo na Krajském úřadě Libereckého kraje vyhlášení krajského kola soutěže Zlatý erb 2007. Byli zde přítomni všichni  ocenění ze všech kategorií. Ceny v několika kategoriích udíleli: hejtman Libereckého kraje Petr Skokan, Radim Zika - náměstek hejtmana pověřeného vedením resortu rozvoje venkova, zemědělství, životního prostředí a informatiky, Bohdan Tomáš - ředitel KÚLK, Jan Savický z pořádajícího sdružení Zlatý erb a zástupci sponzorských firem.
&gt;
&gt; Vzhledem k tomu, že Osečná na podzim minulého roku získala titul město, byla hodnocena v kategorii měst. Přes nesrovnatelné porovnaní podmínek zpracovatelů byla hodnocena Osečná na třetím místě za Jabloncem nad Nisou a Českou Lípou, městy III. typu, které mají se svoji prezentací již veliké zkušenosti. V již jmenovaných bývalých  okresních městech se o stránky starají školení pracovníci pověřených odborů, zatímco v Osečné vytvořili stránky obce dva nadšenci Aleš Roubíček z Druzcova a Jiří Hauzer z Osečné ve svém volném čase, kteří průběžně tyto živé stránky aktualizují. Tato skutečnost  stojí v dnešní uspěchané době za zamyšlení a určitě je obrazem dobře se rozvíjející občanské společnosti.

Zdroj: Liberecký den

== Související

* "Studenti TUL vyhráli nad profesionály":[http://tuni.vslib.cz/clanek/2764/]
* "Stránky města Osečná":[http://www.osecna.info/]

</raw>
    <author>Aleš Roubíček</author>
    <published>2007-03-21T13:21:28.827</published>
    <url>osecenske-stranky-ziskaly-oceneni-v-krajskem-kole-souteze-zlaty-erb-2007</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <tags>zlatyerb osecna</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:41:51.337</edited>
  </article>
  <article>
    <id>203</id>
    <title>Cybertronic II – nejlepší pařba roku!</title>
    <description>V noci z pátka na večer jsem navštívil jednu z nejúžasnějších halových akcí vůbec – Cybertronic II.</description>
    <html xml:space="preserve">
&lt;p&gt;V&amp;#160;noci z&amp;#160;pátka na večer jsem navštívil jedno
z&amp;#160;nejúžastnějších měst České Republiky – Brno. Právem je druhé
nejvěší. Svou návštěvou jsem ho však nepoctil jen tak zbůhdarma, ale
mířil jsem na jednu z&amp;#160;nejúžasnějších halových akcí vůbec –
Cybertronic II – která na mně zanechala nejlepší dojem ze všech akcí,
které jsem za svůj krátký život stihl navštívit.&lt;/p&gt;

&lt;p&gt;&lt;img class="right" src="/data/obrazky/P3300007.JPG" alt="prostorná hala" /&gt;
Původně se měla akce konat v&amp;#160;hale Rondo, ale nakonec byla šikovně
zvolena BIBI hala (bývalý Bauhaus), jejíž prostory jsou pro takéto účely
mnohem vhodnější než zimní stadion. Líbila se mi jak výborná akustika,
tak obrovské prostory s&amp;#160;toaletami, to se jen tak nevidí. Nekonečný bar
přes celou délku haly byl ještě oživen výbornými světelnými
efekty.&lt;/p&gt;

&lt;p&gt;Nejvíce se mi však na celé akci líbilo, jak byla zorganizovaná a jak se
pořadatelé dokázali bleskurychle vypořádat s&amp;#160;nečekaně nastalými
událostmi. Klobouk dolů!&lt;/p&gt;

&lt;p&gt;&lt;img class="left" src="/data/obrazky/P3300019.JPG" alt="DJ Orbith" /&gt;
Headlinerem akce měl být nějakej švédskej typ – &lt;a
href="http://www.ericprydz.com"&gt;Eric Prydz&lt;/a&gt; – kterej se na to, ikdyž měl
podepsanou smlouvu, prostě vyflák a do Brna nepřijel. Beztak na něj nikdo
nebyl zvědavej. Pořadatelé naštěstí rychle zareagovali a šetrně
změnili line-up a ihned to briskně oznámili návštěvníkům.&lt;/p&gt;

&lt;p&gt;Ještě že celou akci zachránil Fred Baker, kterej hrál vymazlenej
trancík, díky němu jsem si celou noc opravdu užíval :D Díky
Frede&amp;#8230;&lt;/p&gt;

&lt;h3&gt;Související&lt;/h3&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href="/galerie/2007-03-30_Cybertronic_II/default.aspx"&gt;Fotky
	z&amp;#160;akce&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">V noci z pátka na večer jsem navštívil jedno z nejúžastnějších měst České Republiky – Brno. Právem je druhé nejvěší. Svou návštěvou jsem ho však nepoctil jen tak zbůhdarma, ale mířil jsem na jednu z nejúžasnějších halových akcí vůbec – Cybertronic II – která na mně zanechala nejlepší dojem ze všech akcí, které jsem za svůj krátký život stihl navštívit.

[* /data/obrazky/P3300007.JPG .(prostorná hala)[right] *] Původně se měla akce konat v hale Rondo, ale nakonec byla šikovně zvolena BIBI hala (bývalý Bauhaus), jejíž prostory jsou pro takéto účely mnohem vhodnější než zimní stadion. Líbila se mi jak výborná akustika, tak obrovské prostory s toaletami, to se jen tak nevidí. Nekonečný bar přes celou délku haly byl ještě oživen výbornými světelnými efekty.

Nejvíce se mi však na celé akci líbilo, jak byla zorganizovaná a jak se pořadatelé dokázali bleskurychle vypořádat s nečekaně nastalými událostmi. Klobouk dolů!

[* /data/obrazky/P3300019.JPG .(DJ Orbith)[left] *] Headlinerem akce měl být nějakej švédskej typ – [eric] – kterej se na to, ikdyž měl podepsanou smlouvu, prostě vyflák a do Brna nepřijel. Beztak na něj nikdo nebyl zvědavej. Pořadatelé naštěstí rychle zareagovali a šetrně změnili line-up a ihned to briskně oznámili návštěvníkům.

Ještě že celou akci zachránil Fred Baker, kterej hrál vymazlenej trancík, díky němu jsem si celou noc opravdu užíval :D Díky Frede...

== Související
* [fotky]

[eric]: http://www.ericprydz.com Eric Prydz
[fotky]: /galerie/2007-03-30_Cybertronic_II/default.aspx Fotky z akce</raw>
    <author>Aleš Roubíček</author>
    <published>2007-04-01T16:59:56.580</published>
    <url>cybertronic-ii-nejlepsi-parba-roku</url>
    <category>Muzika</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2007-04-08T10:57:51.173</edited>
  </article>
  <article>
    <id>204</id>
    <title>Taky jsem naked</title>
    <description>Tak, jako hadi jednou za čas svlékají svou kůži...</description>
    <html xml:space="preserve">
&lt;p&gt;Tak, jako hadi jednou za čas svlékají svou kůži (jak často to dělaj
hadi fakt netuším, páč botanika není mojé silná disciplína), tak
i&amp;#160;někteří blogeři, svlečou svůj CSS skin (skin je anglicky kůže) a
odhalí svůj defaultně formátovaný webík. Hezké&amp;#8230;&lt;/p&gt;

&lt;p&gt;No a protože jsem zapomětlivý, venku je hezky, peče se mi procesor atp.
Nedivte se zítra, že bude rarouš stále nahý. Nedivte se ani
o&amp;#160;víkendu, ni potom :) nechám to tak, dokud nebude Gryphoon 2, jinak
bych ho nikdy nedopsal&amp;#8230;&lt;/p&gt;

&lt;p&gt;A&amp;#160;když jsem už u&amp;#160;toho psaní, musím si trochu zanadávat. Včera
jsem si pořídil, další gigo do noťase, aby měly Visty co žrát, a byl
veselej z&amp;#160;toho jak to všechno hezky šlape. A&amp;#160;rychle. Pak se ale
něco večer stalo a od tý doby mi furt procesor šolichá na 80&amp;#160;–
100%, což se mi moc normální nezdá. Občas, třeba jako teď, se to
umoudří a drží tak na 30%, ale i&amp;#160;to je strašně moc, to si nebere ani
Live, když jedu dva tracky najednou a se spoustou efektů&amp;#8230; Nepomohlo ani
restorovani do včerejší ranní konfigurace :( Asi budu muset znova
instalovat. GRRR&lt;/p&gt;

&lt;p&gt;Vlastně jsem se na to chystal s&amp;#160;koupí Vist – jedu zatím triál, ale
asi si je budu muset koupit dřív než jsem čekal&amp;#8230;&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Tak, jako hadi jednou za čas svlékají svou kůži (jak často to dělaj hadi fakt netuším, páč botanika není mojé silná disciplína), tak i někteří  blogeři, svlečou svůj CSS skin (skin je anglicky kůže) a odhalí svůj defaultně formátovaný webík. Hezké...

No a protože jsem zapomětlivý, venku je hezky, peče se mi procesor atp. Nedivte se zítra, že bude rarouš stále nahý. Nedivte se ani o víkendu, ni potom :) nechám to tak, dokud nebude Gryphoon 2, jinak bych ho nikdy nedopsal...

A když jsem už u toho psaní, musím si trochu zanadávat. Včera jsem si pořídil, další gigo do noťase, aby měly Visty co žrát, a byl veselej z toho jak to všechno hezky šlape. A rychle. Pak se ale něco večer stalo a od tý doby mi furt procesor šolichá na 80 – 100%, což se mi moc normální nezdá. Občas, třeba jako teď, se to umoudří a drží tak na 30%, ale i to je strašně moc, to si nebere ani Live, když jedu dva tracky najednou a se spoustou efektů... Nepomohlo ani restorovani do včerejší ranní konfigurace :( Asi budu muset znova instalovat. GRRR

Vlastně jsem se na to chystal s koupí Vist – jedu  zatím triál, ale asi si je budu muset koupit dřív než jsem čekal...
</raw>
    <author>Aleš Roubíček</author>
    <published>2007-04-05T13:25:41.300</published>
    <url>taky-jsem-naked</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2007-04-05T14:00:52.443</edited>
  </article>
  <article>
    <id>205</id>
    <title>Máte rádi své oči?</title>
    <description>Návod jak si vylepšit pracovní prostředí Visual Studia, aby vás nebolela oka.</description>
    <html xml:space="preserve">
&lt;p&gt;Jako programátor koukám velkou část dne do monitoru, ztoho asi 70% času
do Visual Studia (VS). Problém je, že VS nemá ve výchozím nastavení zrovna
nejergonomičtější barvy a fonty. Font je pravděpodobně věcí osobního
vkusu a kvality zraku, ale obrovské bílé jasně svítící plochy nejsou pro
oči to nejslepší. Jednoho dne, kdy už jsem docela slzel a pálili mě oči,
jsem se rozhodl, že musím změnit theme :) A to nejlépe na nějaký málo
kontrastní a nejlépe s tmavým pozadím.&lt;/p&gt;

&lt;p&gt;Přenesení themu není naštěstí ve VS2005 veliký problém a najít ten
správný, již předpřipravený jistě ulehčí stránka &lt;a
href="http://idehotornot.ning.com/"&gt;Is your IDE hot or not?&lt;/a&gt;. Mě osobně
nejvíce sedí &lt;a
href="http://idehotornot.ning.com/index.php/index/show?id=2046192"&gt;oldschool
theme alá Turbo IDE&lt;/a&gt; od Borlandu. A font? Do teď jsem používal
&lt;em&gt;Fixedsys&lt;/em&gt;, ale pro změnu jsem se vrátil ke &lt;a
href="http://www.microsoft.com/downloads/details.aspx?familyid=22e69ae4-7e40-4807-8a86-b3d36fab68d3&amp;amp;displaylang=en"&gt;Consolasu&lt;/a&gt;,
který se na LCDčku s ClearTypem čte asi nejlépe.&lt;/p&gt;

&lt;div&gt;&lt;img src="/data/obrazky/code.png" alt="ukázka tématu" /&gt;&lt;/div&gt;

&lt;h3 id="toc-jak-naimportovat-theme"&gt;Jak naimportovat theme&lt;/h3&gt;

&lt;p&gt;Stáhněte si požadovaný theme. Rozbalte ho do adresáře s vašim
nastavením pro VS2005 (obvykle &lt;code&gt;%My Documents%\Visual Studio
2005\Settings&lt;/code&gt;). Ve Studiu pak postupujete po ose &lt;code&gt;Tools &amp;gt; Import
and Export setting&lt;/code&gt; &lt;code&gt;Next&lt;/code&gt;, tady můžete zazálohovat své
aktuální nastavení nebo dát &lt;em&gt;No&lt;/em&gt; a &lt;code&gt;Next&lt;/code&gt;, vyberete
v sekci &lt;em&gt;My Setting&lt;/em&gt; stažený theme a &lt;code&gt;Finish&lt;/code&gt;.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Jako programátor koukám velkou část dne do monitoru, ztoho asi 70% času do Visual Studia (VS). Problém je, že VS nemá ve výchozím nastavení zrovna nejergonomičtější barvy a fonty. Font je pravděpodobně věcí osobního vkusu a kvality zraku, ale obrovské bílé jasně svítící plochy nejsou pro oči to nejslepší. Jednoho dne, kdy už jsem docela slzel a pálili mě oči, jsem se rozhodl, že musím změnit theme :) A to nejlépe na nějaký málo kontrastní a nejlépe s tmavým pozadím.

Přenesení themu není naštěstí ve VS2005 veliký problém a najít ten správný, již předpřipravený jistě ulehčí stránka [ide-hot]. Mě osobně nejvíce sedí [borland] od Borlandu. A font? Do teď jsem používal *Fixedsys*, ale pro změnu jsem se vrátil ke Consolasu:[consolas], který se na LCDčku s ClearTypem čte asi nejlépe.

[* /data/obrazky/code.png .(ukázka tématu) *]

Jak naimportovat theme
======================

Stáhněte si požadovaný theme. Rozbalte ho do adresáře s vašim nastavením pro VS2005  (obvykle `%My Documents%\Visual Studio 2005\Settings`). Ve Studiu pak postupujete po ose
`Tools &gt; Import and Export setting` `Next`, tady můžete zazálohovat své aktuální nastavení nebo dát *No* a `Next`, vyberete v sekci *My Setting* stažený theme a `Finish`.

[ide-hot]:  http://idehotornot.ning.com/ Is your IDE hot or not?
[borland]: http://idehotornot.ning.com/index.php/index/show?id=2046192 oldschool theme alá Turbo IDE
[consolas]: http://www.microsoft.com/downloads/details.aspx?familyid=22e69ae4-7e40-4807-8a86-b3d36fab68d3&amp;displaylang=en
</raw>
    <author>Aleš Roubíček</author>
    <published>2007-04-10T16:52:46.203</published>
    <url>mate-radi-sve-oci</url>
    <category>Tuning</category>
    <keywords></keywords>
    <tags>vs theme cleartype</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:42:49.680</edited>
  </article>
  <article>
    <id>206</id>
    <title>Nová éra klientského programování</title>
    <description>Ještě jsem se ani pořádně neohřál ve studených vodách JavaScriptu a přichází mi vysvobození! Microsoft Silverlight.</description>
    <html xml:space="preserve">
&lt;p&gt;Ještě jsem se ani pořádně neohřál ve studených vodách JavaScriptu a
přichází mi vysvobození! Microsoft konečně vypustil novou verzi &lt;acronym
title="Common Language Runtime"&gt;CLR&lt;/acronym&gt;, která je součástí plug-inu
Silverlight (dříve známý pod kódovým označením „WPF/E“). Co je na
tom tak vysvobozujícího?&lt;/p&gt;

&lt;p&gt;Microsoft vzal CLR 2.0, trochu ho přepracoval, přibyla nová vrstva
&lt;acronym title="Dynamic Language Runtime"&gt;DLR&lt;/acronym&gt;, která ulehčuje
portaci dynamických jazyků (Python, Ruby, ECMA Script, VB Script) na platformu
dotnet. K CLR přibalil základní knihovny .net frameworku, potažmo jejich
podmnožinu, a zabalil to do plug-in o velikosti 4,5 MiB, který funguje
v prohlížečích IE, Firefox a Safari a zanedlouho přibyde i podpora pro
Operu. Pokud jste četli pozorně určitě jste si všimli &lt;em&gt;Safari&lt;/em&gt;, ano
tento plug-in funguje i na OS X! Odteď můžeme tedy psát klientské
„skripty“ v C#, VB.NET nebo třeba v &lt;a
href="http://www.codeplex.com/IronPython"&gt;IronPythonu&lt;/a&gt;. Brzy by měla
přijít i podpora IronRuby, ECMA Scriptu 3.0 a VBx (VB Script).&lt;/p&gt;

&lt;p&gt;&lt;a href="http://www.silverlight.net/"&gt;Silverlight&lt;/a&gt; umožňuje psát
graficky zajímavé, interaktivní aplikace, které jsou součástí HTML
stránky, stylem na který jste zvyklí při psaní serversidu nebo WPF.
Můžete také použít stávající assembly i na klientovi, bez nutnosti
rekompilace.&lt;/p&gt;

&lt;p&gt;Otázkou zůstává, zda-li se Silverlight dokáže prosadit na trhu, kde už
vládne Flash/Flex…&lt;/p&gt;

&lt;h3 id="toc-souvisejici"&gt;Související&lt;/h3&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href="/weblog/198-prinasi-microsoft-novou-generaci-webu.aspx"&gt;Přináší
	Microsoft novou generaci webu?&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;Borek Bernard: &lt;a
	href="http://www.borber.com/blog/prvni-detaily-o-wpf-e"&gt;První detaily
	o WPF/E&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;Dev::Info: &lt;a
	href="http://dev20.info/microsoft-silverlight-dal-i-do-ringu-k-adobe-flex"&gt;Microsoft
	Silverlight – další do ringu k Adobe Flex&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;Brad Abrams: &lt;a
	href="http://blogs.msdn.com/brada/archive/2007/04/30/silverlight-poster.aspx"&gt;Silverlight
	Poster…&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;Jesse Ezell: &lt;a
	href="http://weblogs.asp.net/jezell/archive/2007/05/03/silverlight-vs-flash-the-developer-story.aspx"&gt;Silverlight
	vs. Flash: The Developer Story&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;C|net News: &lt;a
	href="http://news.com.com/8301-10784_3-9714669-7.html"&gt;Silverlight on Linux?
	We're in, says Mono founder&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Ještě jsem se ani pořádně neohřál ve studených vodách JavaScriptu a přichází mi vysvobození! Microsoft konečně vypustil novou verzi CLR((Common Language Runtime)), která je součástí plug-inu Silverlight (dříve známý pod kódovým označením „WPF/E“). Co je na tom tak vysvobozujícího?

Microsoft vzal CLR 2.0, trochu ho přepracoval, přibyla nová vrstva DLR((Dynamic Language Runtime)), která ulehčuje portaci dynamických jazyků (Python, Ruby, ECMA Script, VB Script) na platformu dotnet. K CLR přibalil základní knihovny .net frameworku, potažmo jejich podmnožinu, a zabalil to do plug-in o velikosti 4,5 MiB, který funguje v prohlížečích IE, Firefox a Safari a zanedlouho přibyde i podpora pro Operu. Pokud jste četli pozorně určitě jste si všimli *Safari*, ano tento plug-in funguje i na OS X! Odteď můžeme tedy psát klientské „skripty“ v C#, VB.NET nebo třeba v IronPythonu:[python]. Brzy by měla přijít i podpora IronRuby, ECMA Scriptu 3.0 a VBx (VB Script).

Silverlight:[silverlight] umožňuje psát graficky zajímavé, interaktivní aplikace, které jsou součástí HTML stránky, stylem na který jste zvyklí při psaní serversidu nebo WPF. Můžete také použít stávající assembly i na klientovi, bez nutnosti rekompilace.

Otázkou zůstává, zda-li se Silverlight dokáže prosadit na trhu, kde už vládne Flash/Flex...

== Související
* [clanek(198)]
* Borek Bernard: [wpfe]
* Dev::Info: [devinfo]
* Brad Abrams: [poster]
* Jesse Ezell: [story]
* C|net News: [mono]

[mono]: http://news.com.com/8301-10784_3-9714669-7.html Silverlight on Linux? We're in, says Mono founder
[wpfe]: http://www.borber.com/blog/prvni-detaily-o-wpf-e První detaily o WPF/E
[devinfo]: http://dev20.info/microsoft-silverlight-dal-i-do-ringu-k-adobe-flex Microsoft Silverlight - další do ringu k Adobe Flex
[story]: http://weblogs.asp.net/jezell/archive/2007/05/03/silverlight-vs-flash-the-developer-story.aspx Silverlight vs. Flash: The Developer Story
[poster]: http://blogs.msdn.com/brada/archive/2007/04/30/silverlight-poster.aspx Silverlight Poster...
[clanek(198)]:  /weblog/198-prinasi-microsoft-novou-generaci-webu.aspx Přináší Microsoft novou generaci webu?
[silverlight]: http://www.silverlight.net/
[python]: http://www.codeplex.com/IronPython</raw>
    <author>Aleš Roubíček</author>
    <published>2007-05-03T07:35:44.970</published>
    <url>nova-era-klientskeho-programovani</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>dotnet silverlight plugin dlr</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:40:33.427</edited>
  </article>
  <article>
    <id>207</id>
    <title>Novinky v Texy.net</title>
    <description>Není tajemstvím, že pracuju na Texy.net, což je komponenta, která umožňuje používat Texy! i na platformě .net. Tento článek by měl poodhalit jak bude vypadat příští verze, na které momentálně pracuji.</description>
    <html xml:space="preserve">
&lt;p&gt;Není tajemstvím, že pracuju na Texy.net, což je komponenta, která
umožňuje používat &lt;a href="http://www.texy.info/"&gt;Texy!&lt;/a&gt; i na platformě
.net. Tento článek by měl poodhalit jak bude vypadat příští verze, na
které momentálně pracuji.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Změna namespace z &lt;code&gt;Rarous.Texy&lt;/code&gt; na &lt;code&gt;Rarous.TexyNet&lt;/code&gt;.
	Důvodů mám hned několik. Zapré to lépe reflektuje název produktu,
	zadruhé bude smysluplnější kód při volání hlavní třídy
	&lt;code&gt;Rarous.TexyNet.Texy&lt;/code&gt; než ten dosavadní v RC1
	&lt;code&gt;Rarous.Texy.Texy&lt;/code&gt;.&lt;/li&gt;

	&lt;li&gt;&lt;img src="/data/obrazky/logo-texy-small.gif" class="right" alt="logo" /&gt;
	Logo :) Logo Texy.net vychází z nového ještě více sexy loga Texy2.&lt;/li&gt;

	&lt;li&gt;Vlastní stránky poběží na adrese &lt;a
	href="http://www.gryphoon.net/texy/"&gt;www.gryphoon.net/texy/&lt;/a&gt;, protože
	Texy.net je nedílnou součástí Gryphoonu. Pravděpodobně poběží
	i wiki.&lt;/li&gt;

	&lt;li&gt;Deklarativní konfigurace zůstane zachována a pravděpodobně bude ještě
	rozšířena o nové možnosti.&lt;/li&gt;

	&lt;li&gt;Texy.net už nebude jen XML-RPC wrapper, ale pomocí provider modelu bude
	jednotným API pro několik možných poskytovatelů Texy! v dotnetu. Na tuto
	myšlenku mě navedl &lt;a href="http://tomasp.net/"&gt;Tomáš Petříček&lt;/a&gt; se
	svým pokusem zkompilovat &lt;a href="http://tomasp.net/blog/aspnettexy.aspx"&gt;Texy!
	ve Phalangeru&lt;/a&gt;. Díky Texy.net a PhalangerProvideru bude použití Texy!
	více dotnetovské a sexy :) Další provider bude pro &lt;a
	href="/weblog/64-texy-web-service-ws.aspx"&gt;Texy-WS přes SOAP&lt;/a&gt; apod. Každý
	si bude moci vybrat, co mu více vyhovuje.&lt;/li&gt;

	&lt;li&gt;Rád bych dotáhl dokumentaci do kvalitnější formy, jen ještě nevím
	zda ji celou ponechat v MSDN like stylu nebo na wiki.&lt;/li&gt;

	&lt;li&gt;Dá-li &lt;a href="http://www.dgx.cz/"&gt;DGX&lt;/a&gt;, bude nová verze používat
	Texy2, přinejmenším v XML-RPC.&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id="toc-souvisejici"&gt;Související&lt;/h3&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href="/weblog/196-texy-net-release-candidate.aspx"&gt;Texy.net RC1&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a href="/weblog/64-texy-web-service-ws.aspx"&gt;Texy-WS&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a href="http://www.texy.info/"&gt;Texy!&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a href="http://www.dgx.cz/trine/item/paradni-texy-nastroje"&gt;Parádní Texy
	nástroje&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a href="http://tomasp.net/blog/aspnettexy.aspx"&gt;Compiling Texy! with
	Phalanger&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Není tajemstvím, že pracuju na Texy.net, což je komponenta, která umožňuje používat [texy] i na platformě .net. Tento článek by měl poodhalit jak bude vypadat příští verze, na které momentálně pracuji.

1.  Změna namespace z `Rarous.Texy` na `Rarous.TexyNet`. Důvodů mám hned několik. Zapré to lépe reflektuje název produktu, zadruhé bude smysluplnější kód při volání hlavní třídy `Rarous.TexyNet.Texy` než ten dosavadní v RC1 `Rarous.Texy.Texy`.
2.  [*/data/obrazky/logo-texy-small.gif .(logo)[right]*] Logo :) Logo Texy.net vychází z nového ještě více sexy loga Texy2.
3.  Vlastní stránky poběží na adrese www.gryphoon.net/texy/, protože Texy.net je nedílnou součástí Gryphoonu. Pravděpodobně poběží i wiki.
4.  Deklarativní konfigurace zůstane zachována a pravděpodobně bude ještě rozšířena o nové možnosti.
5.  Texy.net už nebude jen XML-RPC wrapper, ale pomocí provider modelu bude jednotným API pro několik možných poskytovatelů Texy! v dotnetu. Na tuto myšlenku mě navedl [tomasp] se svým pokusem zkompilovat "Texy! ve Phalangeru":[texy-phalanger]. Díky Texy.net a PhalangerProvideru bude použití Texy! více dotnetovské a sexy :) Další provider bude pro "Texy-WS přes SOAP":[clanek(64)] apod. Každý si bude moci vybrat, co mu více vyhovuje.
6.  Rád bych dotáhl dokumentaci do kvalitnější formy, jen ještě nevím zda ji celou ponechat v MSDN like stylu nebo na wiki.
7.  Dá-li [dgx], bude nová verze používat Texy2, přinejmenším v XML-RPC.

== Související

* [clanek(196)]
* [clanek(64)]
* [texy]
* [texy-nastroje]
* [texy-phalanger]

[texy]: http://www.texy.info/ Texy!
[clanek(196)]: /weblog/196-texy-net-release-candidate.aspx Texy.net RC1
[clanek(64)]: /weblog/64-texy-web-service-ws.aspx Texy-WS
[texy-nastroje]: http://www.dgx.cz/trine/item/paradni-texy-nastroje Parádní Texy nástroje
[texy-phalanger]: http://tomasp.net/blog/aspnettexy.aspx Compiling Texy! with Phalanger
[dgx]: http://www.dgx.cz/ DGX
[tomasp]: http://tomasp.net/ Tomáš Petříček</raw>
    <author>Aleš Roubíček</author>
    <published>2007-05-05T09:06:29.393</published>
    <url>novinky-v-texy-net</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>texynet texy phalanger</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:39:42.693</edited>
  </article>
  <article>
    <id>208</id>
    <title>Netscape 9.0 theme pro Firefox</title>
    <description>Netscape uvolnil pěkný minimalistický theme pro Firefox.</description>
    <html xml:space="preserve">
&lt;p&gt;Netscape uvolnil pěkný minimalistický theme pro Firefox. Možná by se
mohl líbit i vám (ve Vistách vypadá o hodně lépe než defaultní).&lt;/p&gt;

&lt;p&gt;&lt;a
href="http://blog.netscape.com/2007/04/10/netstripe-netscape-9s-theme-for-firefox/"&gt;Stahujte&lt;/a&gt;
na stránkách Netscape blogu.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Netscape uvolnil pěkný minimalistický theme pro Firefox. Možná by se mohl líbit i vám (ve Vistách vypadá o hodně lépe než defaultní).

Stahujte:[http://blog.netscape.com/2007/04/10/netstripe-netscape-9s-theme-for-firefox/] na stránkách Netscape blogu.</raw>
    <author>Aleš Roubíček</author>
    <published>2007-05-07T20:05:35.193</published>
    <url>netscape-9-0-theme-pro-firefox</url>
    <category>Tuning</category>
    <keywords></keywords>
    <tags>firefox netscape theme</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:38:26.850</edited>
  </article>
  <article>
    <id>209</id>
    <title>Texy.net na CodePlexu</title>
    <description>Dneska jsem vypustil Texy.net na CodePlex...</description>
    <html xml:space="preserve">
&lt;p&gt;Dneska jsem vypustil &lt;a href="http://www.codeplex.com/texynet/"&gt;Texy.net na
CodePlex&lt;/a&gt;. Vypublikoval jsem první Wiki stránky uploadoval &lt;a
href="http://www.codeplex.com/texynet/Release/ProjectReleases.aspx?ReleaseId=4460"&gt;RC1&lt;/a&gt;
a &lt;a
href="http://www.codeplex.com/texynet/Release/ProjectReleases.aspx?ReleaseId=4461"&gt;RC2&lt;/a&gt;
verzi a experimentální &lt;em&gt;PhalangerProvi­der&lt;/em&gt;. Vloženy jsou i &lt;a
href="http://www.codeplex.com/texynet/SourceControl/ListDownloadableCommits.aspx"&gt;zdrojáky&lt;/a&gt;.
K RTM verzi zbývá již jen dopsat dokumentaci, najít a opravit &lt;a
href="http://www.codeplex.com/texynet/WorkItem/List.aspx"&gt;bugy&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Pokud mátě někdo zájem se do projektu zapojit, dveře jsou
otevřené.&lt;/p&gt;

&lt;h3 id="toc-co-je-v-planu-po-1-0-rtm"&gt;Co je v plánu po 1.0 RTM&lt;/h3&gt;

&lt;p&gt;PhalangerProvider nebo IronPythonProvider nebo IronRubyProvider, který bude
plně použitelný se současným API Texy.net. Nejde o nic jiného než
využít kompilátorů pro dynamické jazyky do kterých už byla nebo bude
Texy! portována. Zajímavé je, že byl uvolněn &lt;a
href="http://texier.rubyforge.org/"&gt;Texier&lt;/a&gt; což je Texy na Ruby, ale
IronRuby je ještě neuvolněná. Naproti tomu je venku IronPython skoro ve
verzi 2.0, ale &lt;a href="http://blog.zirafka.cz/"&gt;žirafka&lt;/a&gt; jeste svoji PyTexy
neuvolnila (: No a nakonec Phalanger. Vněm se Texy zkompilovat podařilo, ale
furt se mi to nějak nezdá. &lt;a
href="http://tomasp.net/blog/aspnettexy.aspx"&gt;Tomášova verze&lt;/a&gt; mi
neumožňuje konfigurovat moduly, což je dost zásadní věc…&lt;/p&gt;

&lt;p&gt;No a pak, nebo mezi tím, konečně něco jako to, čemu předběžně
říkám &lt;strong&gt;Texy#&lt;/strong&gt; :)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Dneska jsem vypustil "Texy.net na CodePlex":[http://www.codeplex.com/texynet/]. Vypublikoval jsem první Wiki stránky uploadoval [RC1] a [RC2] verzi a experimentální *PhalangerProvider*. Vloženy jsou i zdrojáky:[source]. K RTM verzi zbývá již jen dopsat dokumentaci, najít a opravit bugy:[issues].

Pokud mátě někdo zájem se do projektu zapojit, dveře jsou otevřené.

Co je v plánu po 1.0 RTM
========================

PhalangerProvider nebo IronPythonProvider nebo IronRubyProvider, který bude plně použitelný se současným API Texy.net. Nejde o nic jiného než využít kompilátorů pro dynamické jazyky do kterých už byla nebo bude Texy! portována. Zajímavé je, že byl uvolněn [texier] což je Texy na Ruby, ale IronRuby je ještě neuvolněná. Naproti tomu je venku IronPython skoro ve verzi 2.0, ale [zirafka] jeste svoji PyTexy neuvolnila (: No a nakonec Phalanger. Vněm se Texy zkompilovat podařilo, ale furt se mi to nějak nezdá. "Tomášova verze":[phalanger-texy] mi neumožňuje konfigurovat moduly, což je dost zásadní věc...

No a pak, nebo mezi tím, konečně něco jako to, čemu předběžně říkám **Texy#** :)

[RC1]: http://www.codeplex.com/texynet/Release/ProjectReleases.aspx?ReleaseId=4460 RC1
[RC2]: http://www.codeplex.com/texynet/Release/ProjectReleases.aspx?ReleaseId=4461 RC2
[source]: http://www.codeplex.com/texynet/SourceControl/ListDownloadableCommits.aspx
[issues]: http://www.codeplex.com/texynet/WorkItem/List.aspx
[texier]: http://texier.rubyforge.org/ Texier
[phalanger-texy]: http://tomasp.net/blog/aspnettexy.aspx
[zirafka]: http://blog.zirafka.cz/ žirafka</raw>
    <author>Aleš Roubíček</author>
    <published>2007-05-24T21:11:15.727</published>
    <url>texy-net-na-codeplexu</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>texynet codeplex</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T20:58:56.383</edited>
  </article>
  <article>
    <id>210</id>
    <title>Audio stack ve Vistách</title>
    <description>Visty maj novej audio stack, ale ne vždy jsou změny k lepšímu. Jak řešit některé problémy možná napoví tento článek.</description>
    <html xml:space="preserve">
&lt;p&gt;Jedna z věcí která mě na Vistách nejvíc štve je předělanej Audio
stack. Jakou audiofila by mě to spíš mělo těšit, ale prozatím tomu
tak není.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Nefunguje mi externí zvukovka. Kvůli absenci ovladačů pro můj Conectiv
	do Vist si musím na disku držet ještě pořád XPčka a když chci dělat se
	zvukem musím prostě přebootvat a řešit dilema, dneska večer programovat
	nebo míchat :) Doufám, že M-Audio brzy dodá funkční ovladače
	i pro Vistu.&lt;/li&gt;

	&lt;li&gt;Když dojížděla mp3ka ve &lt;acronym
	title="Windows Media Player"&gt;WMP&lt;/acronym&gt; ke konci tak asi 30 s před koncem
	začala přeskakovat, a po skončení se celkem dlouho čekalo na natažení
	další skladby… Docela nepříjemná věc. Naštěstí na tuhle Issue
	existuje celkem snadné řešení.&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id="toc-reseni-problemu-preskakujicich-skladeb-ve-windows-vista"&gt;Řešení
problému přeskakujících skladeb ve Windows Vista&lt;/h3&gt;

&lt;p&gt;Nejjednodušší je asi si nainstalovat WinAMP, pro někoho dostačující
řešení, ale mně WinAMP prostě nesedí.&lt;/p&gt;

&lt;p&gt;Druhou možností je navštívit &lt;em&gt;Control panel&lt;/em&gt; &amp;gt; &lt;em&gt;Sound&lt;/em&gt;
poklepete na repráčcích a přepnete se na kartu &lt;em&gt;Enhancements&lt;/em&gt;. Zde
zaškrtnete volbu &lt;strong&gt;Disable all enhancements&lt;/strong&gt;. A je to
v cajku…&lt;/p&gt;

&lt;div&gt;&lt;img src="/data/obrazky/vista-sound.png" alt="" /&gt;&lt;/div&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Jedna z věcí která mě na Vistách nejvíc štve je předělanej Audio stack. Jakou audiofila by mě to spíš mělo těšit, ale prozatím tomu tak není.

1. Nefunguje mi externí zvukovka. Kvůli absenci ovladačů pro můj Conectiv do Vist si musím na disku držet ještě pořád XPčka a když chci dělat se zvukem musím prostě přebootvat a řešit dilema, dneska večer programovat nebo míchat :) Doufám, že M-Audio brzy dodá funkční ovladače i pro Vistu.

2. Když dojížděla mp3ka ve WMP((Windows Media Player)) ke konci tak asi 30 s před koncem začala přeskakovat, a po skončení se celkem dlouho čekalo na natažení další skladby... Docela nepříjemná věc. Naštěstí na tuhle Issue existuje celkem snadné řešení.

Řešení problému přeskakujících skladeb ve Windows Vista
=======================================================

Nejjednodušší je asi si nainstalovat WinAMP, pro někoho dostačující řešení, ale mně WinAMP prostě nesedí.

Druhou možností je navštívit *Control panel* &gt; *Sound* poklepete na repráčcích a přepnete se na kartu *Enhancements*. Zde zaškrtnete volbu **Disable all enhancements**. A je to v cajku...

[*/data/obrazky/vista-sound.png*]</raw>
    <author>Aleš Roubíček</author>
    <published>2007-05-25T20:03:07.143</published>
    <url>audio-stack-ve-vistach</url>
    <category>Tuning</category>
    <keywords></keywords>
    <tags>windows vista audio</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:35:54.283</edited>
  </article>
  <article>
    <id>211</id>
    <title>Beta verze nového Atlasího e-mailu je tu</title>
    <description>Po 14denním interním testování byla včera večer vypuštěna zbrusu nová verze Atlasího e-mailu. Zapojte se do jejího veřejného testování i vy!</description>
    <html xml:space="preserve">
&lt;p&gt;Po 14denním interním testování byla včera večer vypuštěna zbrusu &lt;a
href="http://beta.mail.atlas.cz/"&gt;nová verze Atlasího e-mailu&lt;/a&gt;. Zapojte se
do jejího veřejného testování i vy!&lt;/p&gt;

&lt;p&gt;Pod vedením Honzy Kuneše vznikl zcela nový webmail pro portál Atlas. Co
přináší oproti stávající verzi nového?&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Nový jednodušší a přehlednější design&lt;/li&gt;

	&lt;li&gt;Kontextové nabídky&lt;/li&gt;

	&lt;li&gt;Přetahování zpráv myší mezi složkami&lt;/li&gt;

	&lt;li&gt;Náhledy přiložených obrázků&lt;/li&gt;

	&lt;li&gt;Průběžné ulkádání e-malů&lt;/li&gt;

	&lt;li&gt;Stahování všech příloh v jednom zip souboru&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;…a další drobnosti, které vám práci z e-mailem jistě zpříjemní.
V plánu jsou další vylepšní jako fulltextové hledání ve zprávách,
notifikátor nových zpráv, gadget do sidebaru a další drobná vylepšení,
plus zapracování připomínek a některých návrhů z betatestingu.&lt;/p&gt;

&lt;p&gt;Samozřejmě kluci nedělali novej GMail, proč taky? :)&lt;/p&gt;

&lt;p&gt;Na závěr foto webmail týmu:&lt;/p&gt;

&lt;div&gt;&lt;img src="/data/obrazky/webmail-team.JPG" alt="webmail team" /&gt;&lt;/div&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Po 14denním interním testování byla včera večer vypuštěna zbrusu "nová verze Atlasího e-mailu":[beta]. Zapojte se do jejího veřejného testování i vy!

Pod vedením Honzy Kuneše vznikl zcela nový webmail pro portál Atlas. Co přináší oproti stávající verzi nového?

* Nový jednodušší a přehlednější design
* Kontextové nabídky
* Přetahování zpráv myší mezi složkami
* Náhledy přiložených obrázků
* Průběžné ulkádání e-malů
* Stahování všech příloh v jednom zip souboru

...a další drobnosti, které vám práci z e-mailem jistě zpříjemní. V plánu jsou další vylepšní jako fulltextové hledání ve zprávách, notifikátor nových zpráv, gadget do sidebaru a další drobná vylepšení, plus zapracování připomínek a některých návrhů z betatestingu.

Samozřejmě kluci nedělali novej GMail, proč taky? :)

Na závěr foto webmail týmu:

[*/data/obrazky/webmail-team.JPG .(webmail team)*]

[beta]: http://beta.mail.atlas.cz/</raw>
    <author>Aleš Roubíček</author>
    <published>2007-06-01T09:35:48.763</published>
    <url>beta-verze-noveho-atlasiho-e-mailu-je-tu</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>atlas webmail</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:36:36.893</edited>
  </article>
  <article>
    <id>212</id>
    <title>.NET na OS X</title>
    <description>Radek Hulán píše, že na OS X není žádný dotnet. Opak je pravdou.</description>
    <html xml:space="preserve">
&lt;p&gt;Při zběžném prolétnutí RH článku o Safari pro Windows, jsem narazil
na zajímavou větu:&lt;/p&gt;

&lt;blockquote&gt;
	&lt;p&gt;OS X je stále minimální nabídka aplikací, téměř nula her,
	&lt;strong&gt;žádný .NET&lt;/strong&gt;, výrazná nestabilita, padání a tuhnutí
	aplikací i systému, nedostatek ovladačů, neexistující kodeky pro video a
	audio, solidní přehrávač samotného videa, neexistující pořádný
	vypalovací software; jeho použitelnost se sice zvyšuje po instalaci Parallels
	či VMWare a virtualizovaných Windows, nicméně, proč spouštět Windows
	pomalu pod OS X, když to jde nativně?&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Přehlédněme teď její délku. Mě jako vývojáře .NET zarazila
zvýraznená část textu. Tedy „žádný .NET“. Milý Radku, na OS X
můžeš již pár let používat MONO, což je OS implementace .NET.
A čerstvě po lehké Silverlight masáži můžu odpřísáhnout, že existuje
.NET pro OS X i přímo od Microsoftu, stačí si nainstalovat plug-in &lt;a
href="http://www.silverlight.net"&gt;Silverligh pro Safari&lt;/a&gt; ;)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Při zběžném prolétnutí RH článku o Safari pro Windows, jsem narazil na zajímavou větu:

&gt; OS X je stále minimální nabídka aplikací, téměř nula her, **žádný .NET**, výrazná nestabilita, padání a tuhnutí aplikací i systému, nedostatek ovladačů, neexistující kodeky pro video a audio, solidní přehrávač samotného videa, neexistující pořádný vypalovací software; jeho použitelnost se sice zvyšuje po instalaci Parallels či VMWare a virtualizovaných Windows, nicméně, proč spouštět Windows pomalu pod OS X, když to jde nativně?

Přehlédněme teď její délku. Mě jako vývojáře .NET zarazila zvýraznená část textu. Tedy "žádný .NET". Milý Radku, na OS X můžeš již pár let používat MONO, což je OS implementace .NET. A čerstvě po lehké Silverlight masáži můžu odpřísáhnout, že existuje .NET pro OS X i přímo od Microsoftu, stačí si nainstalovat plug-in "Silverligh pro Safari":[http://www.silverlight.net] ;)</raw>
    <author>Aleš Roubíček</author>
    <published>2007-06-13T11:51:31.147</published>
    <url>net-na-os-x</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>macos silverlight dotnet</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:37:03.190</edited>
  </article>
  <article>
    <id>213</id>
    <title>Layout Template</title>
    <description>Jedna z věcí, která nejen mne zaujala na přednášce o Visual Studiu 2008, byl LayoutTemplate u nového kontrolu asp:ListView. Jak na jeho implementaci se pokusí nastínit tento člán.</description>
    <html xml:space="preserve">
&lt;p&gt;Jedna z věcí, která nejen mne zaujala na přednášce o Visual Studiu
2008, byl &lt;code&gt;LayoutTemplate&lt;/code&gt; u nového kontrolu
&lt;code&gt;asp:ListView&lt;/code&gt;. Jak na jeho implementaci se pokusí nastínit
tento člán.&lt;/p&gt;

&lt;p&gt;Šablonované ovládací prvky jsou v ASP.NET celkem běžnou věcí a
jejich výskyt asi nikoho nepřekvapí. Celkem běžná je také praktika
&lt;code&gt;HeaderTemplate&lt;/code&gt; a &lt;code&gt;FooterTemplate&lt;/code&gt; jejichž obsah se
renderuje na začátku/konci. Pokud chcete mít třeba render obalený v
&lt;code&gt;div&lt;/code&gt; značce, dojde k tzv. křížení značek, což je v XML
nepěkná praktika, a některé editory na tom selžou. Kód by mohl vypadat
následovně:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;...
  &amp;lt;HeaderTemplate&amp;gt;&amp;lt;div&amp;gt;&amp;lt;/HeaderTemplate&amp;gt;
  &amp;lt;FooterTemplate&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/FooterTemplate&amp;gt;
...&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Oproti tomu &lt;code&gt;LayoutTemplate&lt;/code&gt; přichází s tím, že šablona
Headeru i Footeru je v jednom. Asi následovně:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;...
  &amp;lt;LayoutTemplate&amp;gt;
    &amp;lt;div id="layoutContainer" runat="server"&amp;gt;&amp;lt;/div&amp;gt;
  &amp;lt;/LayoutTemplate&amp;gt;
...&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Pěkné, že? Někdo se možná zalekne &lt;code&gt;runat="server"&lt;/code&gt;, že by
to třeba mohlo renderovat něco jinýho než by chtěl. Nebude ;)&lt;/p&gt;

&lt;h3 id="toc-jak-to-funguje"&gt;Jak to funguje?&lt;/h3&gt;

&lt;p&gt;Lepší bude si to celé vysvětlit na ukázce kódu. Naimplementujeme si
vlastní LayoutTemplateable control. Začneme tím, že si vytvoříme
rozhranní &lt;code&gt;ILayoutTemplateable&lt;/code&gt;.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public interface ILayoutTemplateable {
  string LayoutContainerId { get; set; }

  [TemplateContainer(typeof(Control))]
  ITemplate LayoutTemplate { get; set; }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Dalším krokem bude &lt;code&gt;TemplatingHelper&lt;/code&gt;, který nám pomůže
s instancováním šablon a vytvořením layout kontejneru.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public static class TemplatingHelper {
  public static Control CreateLayoutContainer(Control parent, ILayoutTemplateable item) {
    Control container = new Control();
    Instantiate(container, item.LayoutTemplate, parent);
    return container.FindControl(item.LayoutContainerId);
  }

  public static void Instantiate(Control container, ITemplate template, Control parent) {
    if (template == null || parent == null) {
      return;
    }

    container = container ?? new Control();

    template.InstantiateIn(container);
    parent.Controls.Add(container);
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;No a na konec ukázka užití:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class TemplatedControl : Control, ILayoutTemplateable {

  ...

  public override void CreateChildControls() {
   Controls.Clear();
   // vytvorime layoutContainer
   Control layoutContainer = TemplatingHelper.CreateLayoutContainer(this, this);
   // vytvorime polozky
   foreach (string item in collection) {
     TemplatingHelper.Instantiate(new StringContainer(item), ItemTemplate, layoutContainer);
   }
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;del&gt;Doufám, že to funguje, páč jsem si to teď nějak vycucal
z prstů… Ale principielně, by to mělo fungovat.&lt;/del&gt; &lt;ins&gt;Tak už jsem se
dostal k implementaci a kupodivu to celé funguje.&lt;/ins&gt; :)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Jedna z věcí, která nejen mne zaujala na přednášce o Visual Studiu 2008, byl `LayoutTemplate` u nového kontrolu `asp:ListView`. Jak na jeho implementaci se pokusí nastínit tento člán.

Šablonované ovládací prvky jsou v ASP.NET celkem běžnou věcí a jejich výskyt asi nikoho nepřekvapí. Celkem běžná je také praktika `HeaderTemplate` a `FooterTemplate` jejichž obsah se renderuje na začátku/konci. Pokud chcete mít třeba render obalený v `div` značce, dojde k tzv. křížení značek, což je v XML nepěkná praktika, a některé editory na tom selžou. Kód by mohl vypadat následovně:

/--code xml
...
  &lt;HeaderTemplate&gt;&lt;div&gt;&lt;/HeaderTemplate&gt;
  &lt;FooterTemplate&gt;&lt;/div&gt;&lt;/FooterTemplate&gt;
...
\--code

Oproti tomu `LayoutTemplate` přichází s tím, že šablona Headeru i Footeru je v jednom. Asi následovně:

/--code xml
...
  &lt;LayoutTemplate&gt;
    &lt;div id="layoutContainer" runat="server"&gt;&lt;/div&gt;
  &lt;/LayoutTemplate&gt;
...
\--code

Pěkné, že? Někdo se možná zalekne `runat="server"`, že by to třeba mohlo renderovat něco jinýho než by chtěl. Nebude ;)

== Jak to funguje?
Lepší bude si to celé vysvětlit na ukázce kódu. Naimplementujeme si vlastní LayoutTemplateable control. Začneme tím, že si vytvoříme rozhranní `ILayoutTemplateable`.

/--code csharp
public interface ILayoutTemplateable {
  string LayoutContainerId { get; set; }

  [TemplateContainer(typeof(Control))]
  ITemplate LayoutTemplate { get; set; }
}
\--code

Dalším krokem bude `TemplatingHelper`, který nám pomůže s instancováním šablon a vytvořením layout kontejneru.

/--code csharp
public static class TemplatingHelper {
  public static Control CreateLayoutContainer(Control parent, ILayoutTemplateable item) {
    Control container = new Control();
    Instantiate(container, item.LayoutTemplate, parent);
    return container.FindControl(item.LayoutContainerId);
  }

  public static void Instantiate(Control container, ITemplate template, Control parent) {
    if (template == null || parent == null) {
      return;
    }

    container = container ?? new Control();

    template.InstantiateIn(container);
    parent.Controls.Add(container);
  }
}
\--code

No a na konec ukázka užití:

/--code csharp
public class TemplatedControl : Control, ILayoutTemplateable {

  ...

  public override void CreateChildControls() {
   Controls.Clear();
   // vytvorime layoutContainer
   Control layoutContainer = TemplatingHelper.CreateLayoutContainer(this, this);
   // vytvorime polozky
   foreach (string item in collection) {
     TemplatingHelper.Instantiate(new StringContainer(item), ItemTemplate, layoutContainer);
   }
  }
}
\--code

--Doufám, že to funguje, páč jsem si to teď nějak vycucal z prstů... Ale principielně, by to mělo fungovat.-- ++Tak už jsem se dostal k implementaci a kupodivu to celé funguje.++ :)
</raw>
    <author>Aleš Roubíček</author>
    <published>2007-06-14T10:42:12.670</published>
    <url>layout-template</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>aspnet</tags>
    <is-published>1</is-published>
    <edited>2009-02-22T07:05:02.520</edited>
  </article>
  <article>
    <id>214</id>
    <title>Moonlight za 21dní</title>
    <description>Tip na zajímavé čtení.</description>
    <html xml:space="preserve">
&lt;p&gt;Článek o tom, jak se za 21dní napsal plug-in Moonlight (Mono implementace
Silverlightu), od jednoho z vývojářů se jmenuje &lt;a
href="http://tirania.org/blog/archive/2007/Jun-21.html"&gt;Implementing Silverlight
in 21 Days&lt;/a&gt;. Enjoy…&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Článek o tom, jak se za 21dní napsal plug-in Moonlight (Mono implementace Silverlightu), od jednoho z vývojářů se jmenuje "Implementing Silverlight in 21 Days":[http://tirania.org/blog/archive/2007/Jun-21.html]. Enjoy...</raw>
    <author>Aleš Roubíček</author>
    <published>2007-06-22T13:39:59.553</published>
    <url>moonlight-za-21dni</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>mono moonlight silverlight dlr</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:33:31.160</edited>
  </article>
  <article>
    <id>215</id>
    <title>IronRuby je tu a VS 2008 beta2 již brzy</title>
    <description>John Lam a ScottGu dnes oznámili možnost stažení zdrojáků IronRuby a mimo jiné také to, že VS 2008 beta2 výjde již tento týden a je z 99% feature complete. To jsou myslím dobré zprávy.</description>
    <html xml:space="preserve">
&lt;p&gt;John Lam a ScottGu dnes oznámili možnost stažení &lt;a
href="http://iunknown.typepad.com/IronRuby-Pre-Alpha1.zip"&gt;zdrojáků
IronRuby&lt;/a&gt; a mimo jiné také to, že VS 2008 beta2 výjde již tento týden
a je z 99% feature complete. To jsou myslím dobré zprávy.&lt;/p&gt;

&lt;p&gt;IronRuby je čerstvou implementací Ruby na platformě .NET, postavenou nad
novou vrstvou &lt;acronym title="Dynamic Language Runtime"&gt;DLR&lt;/acronym&gt;, která by
měla být společná pro Python, Ruby, &lt;acronym
title="JavaScript"&gt;JS&lt;/acronym&gt;, &lt;acronym title="VisualBasic"&gt;VB&lt;/acronym&gt; a
tajně doufám, že jednou i pro PHP ;) IronRuby je zatím v plenkách ve
verzi 0.1 Pre-Alpha. Neobsahuje ani všechny vlastnosti jazyka a skoro žádné
standardní knihovny (rubařské), ale do jejich tvorby se klidně budete moci
zapojit. Projekt bude hostován na &lt;a href="http://rubyforge.org/"&gt;RubyForge&lt;/a&gt;
a to pod &lt;acronym title="Microsoft Permissive Licence"&gt;MSPL&lt;/acronym&gt;.&lt;/p&gt;

&lt;h3 id="toc-update"&gt;Update&lt;/h3&gt;

&lt;p&gt;Visual Studio 2008 beta 2 je již venku. Stahovat můžete &lt;a
href="http://msdn2.microsoft.com/en-us/vstudio/aa700831.aspx"&gt;zde&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id="toc-souvisejici"&gt;Související&lt;/h3&gt;

&lt;ul&gt;
	&lt;li&gt;John Lam – &lt;a
	href="http://www.iunknown.com/2007/07/a-first-look-at.html"&gt;First look at
	IronRuby&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;Scott Guthrie – &lt;a
	href="http://weblogs.asp.net/scottgu/archive/2007/07/23/first-look-at-ironruby.aspx"&gt;First
	look at IronRuby&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">John Lam a ScottGu dnes oznámili možnost stažení "zdrojáků IronRuby":[ironruby-src] a mimo jiné také to, že VS 2008 beta2 výjde již tento týden a je z 99% feature complete. To jsou myslím dobré zprávy.

IronRuby je čerstvou implementací Ruby na platformě .NET, postavenou nad novou vrstvou DLR((Dynamic Language Runtime)), která by měla být společná pro Python, Ruby, JS((JavaScript)), VB((VisualBasic)) a tajně doufám, že jednou i pro PHP ;) IronRuby je zatím v plenkách ve verzi 0.1 Pre-Alpha. Neobsahuje ani všechny vlastnosti jazyka a skoro žádné standardní knihovny (rubařské), ale do jejich tvorby se klidně budete moci zapojit. Projekt bude hostován na RubyForge:[rubyforge] a to pod MSPL((Microsoft Permissive Licence)).

== Update

Visual Studio 2008 beta 2 je již venku. Stahovat můžete zde:[http://msdn2.microsoft.com/en-us/vstudio/aa700831.aspx].

== Související

* John Lam - "First look at IronRuby":[http://www.iunknown.com/2007/07/a-first-look-at.html]
* Scott Guthrie - "First look at IronRuby":[http://weblogs.asp.net/scottgu/archive/2007/07/23/first-look-at-ironruby.aspx]

[ironruby-src]: http://iunknown.typepad.com/IronRuby-Pre-Alpha1.zip
[rubyforge]: http://rubyforge.org/</raw>
    <author>Aleš Roubíček</author>
    <published>2007-07-23T21:37:41</published>
    <url>ironruby-je-tu-a-vs-2008-beta2-jiz-brzy</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>vs vs2008 ironruby dlr</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:32:57.690</edited>
  </article>
  <article>
    <id>216</id>
    <title>Kecálek ve Visual Studiu</title>
    <description>Leopold by možná řekl: „Člověče, to je dobrý, tohleto! To vypadá jako, že pracuju, ikdyž ne. To je dobrý :).“ Bohužel už není mezi námi, takže se to asi nedovíme.</description>
    <html xml:space="preserve">
&lt;p&gt;Leopold by možná řekl: „Člověče, to je dobrý, tohleto! To vypadá
jako, že pracuju, ikdyž ne. To je dobrý :).“ Bohužel už není mezi námi,
takže se to asi nedovíme. Nebojte, nenašli ho udušeného počítačovou
myší, to jen přesedlal z Visual Studia na linux, a kdo ví, v čem píše
teď :D.&lt;/p&gt;

&lt;p&gt;A co že by se mu tak líbilo? Hledajíce PyTel na zajíce, tedy vlastně,
kterak zapnout podporu &lt;a href="http://codeplex.com/IronPython"&gt;IronPythonu&lt;/a&gt;
ve Visual Studiu (dále jen VS), jsem narazil na nutnost stáhnout si &lt;a
href="http://www.microsoft.com/downloads/details.aspx?FamilyID=51A5C65B-C020-4E08-8AC0-3EB9C06996F4"&gt;Visual
Studio SDK&lt;/a&gt;, kde je jedním z ukázkových balíčku (čtyři projekty)
právě &lt;a
href="http://blogs.msdn.com/aaronmar/archive/2006/02/16/a-bit-more-on-ironpython.aspx"&gt;integrace
IronPythonu do VS&lt;/a&gt;. Ale to jen tak na okraj. Hlavní důvod, proč toto pišu
je, že jsem v souvislosti s VS SDK narazil na velice zajímavý projekt
s názvem &lt;a href="http://codeplex.com/vsmessenger"&gt;VSMessenger&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Název samotný může ledasco napovědět. Vězte tedy, že se jedná
o integrovaný kecálek (IM klient) přímo do prostředí VS. Tady je &lt;a
href="http://www.vssdk.com/screencasts/Intro_PartII.wmv"&gt;ukázkové video&lt;/a&gt;,
že nekecám. Na výběr máme dokonce dva providery. Tím prvním je
samozřejmě Windows Live Messenger, u kterého si můžete na speciálním
toolbaru držet informaci o stavu vybraných kontaktů. Po kliknutí na jméno
se vám ale otevře chatovací okno WLM. Druhým, pro mne o dosti
zajímavějším, providerem je Jabber (chcete-li XMPP) provider. Ten je do VS
integrován kompletně i s chatovacím ok­nem.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Leopold by možná řekl: „Člověče, to je dobrý, tohleto! To vypadá jako, že pracuju, ikdyž ne. To je dobrý :).“ Bohužel už není mezi námi, takže se to asi nedovíme. Nebojte, nenašli ho udušeného počítačovou myší, to jen přesedlal z Visual Studia na linux, a kdo ví, v čem píše teď :D.

A co že by se mu tak líbilo? Hledajíce PyTel na zajíce, tedy vlastně, kterak zapnout podporu IronPythonu:[ironpython] ve Visual Studiu (dále jen VS), jsem narazil na nutnost stáhnout si "Visual Studio SDK":[vssdk], kde je jedním z ukázkových balíčku (čtyři projekty) právě "integrace IronPythonu do VS":[integration]. Ale to jen tak na okraj. Hlavní důvod, proč toto pišu je, že jsem v souvislosti s VS SDK narazil na velice zajímavý projekt s názvem VSMessenger:[vsmess].

Název samotný může ledasco napovědět. Vězte tedy, že se jedná o integrovaný kecálek (IM klient) přímo do prostředí VS. Tady je "ukázkové video":[video], že nekecám. Na výběr máme dokonce dva providery. Tím prvním je samozřejmě Windows Live Messenger, u kterého si můžete na speciálním toolbaru držet informaci o stavu vybraných kontaktů. Po kliknutí na jméno se vám ale otevře chatovací okno WLM. Druhým, pro mne o dosti zajímavějším, providerem je Jabber (chcete-li XMPP) provider. Ten je do VS integrován kompletně i s chatovacím oknem.

[vsmess]: http://codeplex.com/vsmessenger
[vssdk]: http://www.microsoft.com/downloads/details.aspx?FamilyID=51A5C65B-C020-4E08-8AC0-3EB9C06996F4
[ironpython]: http://codeplex.com/IronPython
[integration]: http://blogs.msdn.com/aaronmar/archive/2006/02/16/a-bit-more-on-ironpython.aspx
[video]: http://www.vssdk.com/screencasts/Intro_PartII.wmv</raw>
    <author>Aleš Roubíček</author>
    <published>2007-07-26T07:18:46.527</published>
    <url>kecalek-ve-visual-studiu</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>vs ironpython messenger im jabber</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:32:16.673</edited>
  </article>
  <article>
    <id>217</id>
    <title>Syntax sugar alá If Exists</title>
    <description>Reakce na ifx - bylo-li by libo cukříček? </description>
    <html xml:space="preserve">
&lt;p&gt;Kolega Bouda se na svém &lt;a
href="http://blog.vyvojar.cz/pbouda/archive/2007/07/25/ifx-bylo-li-by-libo-cuk-ek.aspx"&gt;vývojářském
blogu&lt;/a&gt; zamýšlí nad tím, zda by nebylo dobré rozšířit syntaxi jazyka
C# o&amp;#160;příkaz &lt;code&gt;ifx&lt;/code&gt; (&lt;strong&gt;if&lt;/strong&gt;
e&lt;strong&gt;x&lt;/strong&gt;ists), který by měl zpřehlednit/zjed&amp;#173;nodušit zápis
&lt;code&gt;if (this.someRef != null) ...&lt;/code&gt; na &lt;code&gt;ifx (this.someRef)
...&lt;/code&gt;, podobně jako to umí ECMAScript.&lt;/p&gt;

&lt;p&gt;Můj názor je takový, že v&amp;#160;C# by se takovéto konstrukce zavádět
neměly. Pokud má někdo averzi k&amp;#160;operátorům &lt;code&gt;!&lt;/code&gt; a
&lt;code&gt;!=&lt;/code&gt;, ostatně jako já, dá se to obejít jiným syntaktickým
cukrem. Ne na úrovni jazyka, ale na úrovni API.&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-csharp"&gt;public static class Is {
  public static bool Null(object item) {
    return item == null;
  }
  public static bool NotNull(object item) {
    return item != null;
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Zápis s&amp;#160;použitím této minitřídy by pak vypadal &lt;code&gt;if
(Is.NotNull(this.someRef)) ...&lt;/code&gt;. Na jednu stranu je zápis čitelnější
i&amp;#160;pro necéčkaře, na druhou je o&amp;#160;něco delší a je v&amp;#160;něm
více závorek&amp;#8230;&lt;/p&gt;

&lt;p&gt;Nebo je tu možnost přejít na &lt;a
href="http://research.microsoft.com/specsharp/"&gt;Spec#&lt;/a&gt;, který podporuje
non-nullable types.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Kolega Bouda se na svém "vývojářském blogu":[link] zamýšlí nad tím, zda by nebylo dobré rozšířit syntaxi jazyka C# o příkaz `ifx` (**if** e**x**ists), který by měl zpřehlednit/zjednodušit zápis `if (this.someRef != null) ...` na `ifx (this.someRef) ...`, podobně jako to umí ECMAScript.

Můj názor je takový, že v C# by se takovéto konstrukce zavádět neměly. Pokud má někdo averzi k operátorům `!` a `!=`, ostatně jako já, dá se to obejít jiným syntaktickým cukrem. Ne na úrovni jazyka, ale na úrovni API.

/--code csharp
public static class Is {
  public static bool Null(object item) {
    return item == null;
  }
  public static bool NotNull(object item) {
    return item != null;
  }
}
\--code

Zápis s použitím  této minitřídy by pak vypadal `if (Is.NotNull(this.someRef)) ...`. Na jednu stranu je zápis čitelnější i pro necéčkaře, na druhou je o něco delší a je v něm více závorek...

Nebo je tu možnost přejít na "Spec#":[http://research.microsoft.com/specsharp/], který podporuje non-nullable types.

[link]: http://blog.vyvojar.cz/pbouda/archive/2007/07/25/ifx-bylo-li-by-libo-cuk-ek.aspx</raw>
    <author>Aleš Roubíček</author>
    <published>2007-07-26T08:01:05.037</published>
    <url>syntax-sugar-ala-if-exists</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2007-07-26T10:52:41.533</edited>
  </article>
  <article>
    <id>218</id>
    <title>Podivný operátor /*!*/</title>
    <description>Četl jsem si zdrojáky IronRuby a v deklarcích metod se často objevovalo podivné /*!*/. Co to asi je?</description>
    <html xml:space="preserve">
&lt;p&gt;Četl jsem si zdrojáky IronRuby a v deklarcích metod se často objevovalo
podivné &lt;code&gt;/*!*/&lt;/code&gt;. Např.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public RubyConstantAttribute(string/*!*/ name) {
  if (name == null) throw new ArgumentNullException("name");
  _name = name;
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Nejpve jsem moc nechápal, asi nějaká interní věc (coding style) pro
označování něčeho. Kontrakt v ukázce možná napoví, že by parametr
neměl být &lt;code&gt;null&lt;/code&gt;. Ale počkat, něco takového má přeci Spec#,
NonNullable types. Znáte to ne, v C# 2.0 máme Nullable Value types,
vyznačují se tím, že za jejich názvem je otazník, např.
&lt;code&gt;int?&lt;/code&gt;. No a Spec# ještě přidává NonNullable Reference types
s vykřičníkem na konci, např. &lt;code&gt;string!&lt;/code&gt;. No jo, ale IronRuby je
přece napsaná v C#…&lt;/p&gt;

&lt;p&gt;Kompilátor Spec# má tu výhodu, že dokáže zkompilovat C# kód.
A dokonce pokud se Spec# kód mírně poupraví, tak jde naopak snadno
zkompilovat kompilátorem C#. Nějak se nám to zamotává :). Pokud chcete
Spec#ový kód zkompilovat v C#, ale nechat ho zkompilovatelný ve Spec#,
musíte použít speciální komentáře &lt;code&gt;//^&lt;/code&gt; pro jednu řádku,
&lt;code&gt;/*^ ^*/&lt;/code&gt; pro blok. A ještě je tu jedna výjimka a to právě
u toho vykřičníku. &lt;code&gt;/*!*/&lt;/code&gt; je zkrácenou verzí
&lt;code&gt;/*^!^*/&lt;/code&gt;. A jsme doma…&lt;/p&gt;

&lt;p&gt;Snad se dočkáme Spec#ových vychytávek v nějaké přístí verzi C#,
třeba v té čtvrté. Protože předchozí ukázka by mohla vypada odost
uhlazeněji:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public RubyConstantAttribute(string! name) {
  _name = name;
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;a výsledek je stejný.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Četl jsem si zdrojáky IronRuby a v deklarcích metod se často objevovalo podivné `/*!*/`. Např.

/--code csharp
public RubyConstantAttribute(string/*!*/ name) {
  if (name == null) throw new ArgumentNullException("name");
  _name = name;
}
\--code

Nejpve jsem moc nechápal, asi nějaká interní věc (coding style) pro označování něčeho. Kontrakt v ukázce možná napoví, že by parametr neměl být `null`. Ale počkat, něco takového má přeci Spec#, NonNullable types. Znáte to ne, v C# 2.0 máme Nullable Value types, vyznačují se tím, že za jejich názvem je otazník, např. `int?`. No a Spec# ještě přidává NonNullable Reference types s vykřičníkem na konci, např. `string!`. No jo, ale IronRuby je přece napsaná v C#...

Kompilátor Spec# má tu výhodu, že dokáže zkompilovat C# kód. A dokonce pokud se Spec# kód mírně poupraví, tak jde naopak snadno zkompilovat kompilátorem C#. Nějak se nám to zamotává :). Pokud chcete Spec#ový kód zkompilovat v C#, ale nechat ho zkompilovatelný ve Spec#, musíte použít speciální komentáře `//^` pro jednu řádku, `/*^ ^*/` pro blok. A ještě je tu jedna výjimka a to právě u toho vykřičníku. `/*!*/` je zkrácenou verzí `/*^!^*/`. A jsme doma...

Snad se dočkáme Spec#ových vychytávek v nějaké přístí verzi C#, třeba v té čtvrté. Protože předchozí ukázka by mohla vypada odost uhlazeněji:

/--code csharp
public RubyConstantAttribute(string! name) {
  _name = name;
}
\--code

a výsledek je stejný.</raw>
    <author>Aleš Roubíček</author>
    <published>2007-07-28T15:58:35.890</published>
    <url>podivny-operator</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>specsharp csharp ironruby</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:30:59.110</edited>
  </article>
  <article>
    <id>219</id>
    <title>Začínáme s jednokolejkou</title>
    <description>Nultý díl připravovaného seriálu o velice zajímavém frameworku pro tvvorbu webu. Chcete jednoduchost Ruby on Rails, výkon ASP.NET, volnost a modularitu? Tak nasedejte...</description>
    <html xml:space="preserve">
&lt;p&gt;Jedním z fenoménů poslední doby ve webovém vývoji jsou bezesporu Ruby
on Rails (RoR). Framework určený k &lt;del&gt;&lt;acronym
title="Rapid Application Developement"&gt;RAD&lt;/acronym&gt;&lt;/del&gt; &lt;ins&gt;Agile
vývoji&lt;/ins&gt; používající objektový přístup a postavený na návrhových
vzorech jako je &lt;acronym title="Model View Controler"&gt;MVC&lt;/acronym&gt; nebo Active
Record. Framework je určený pro jazyk či platformu Ruby, to je jeho výhoda
i omezení zároveň. Málokdo se má chuť nebo čas se po nocích učit
novým jazykům a stávat se vícenásobným robotem.&lt;/p&gt;

&lt;p&gt;RoR není rozhodně jediným projektem s podobnou filosofií. My dotneťáci
máme krom WebForms, které se snaží přihnout webový vývoj desktopovým
zvyklostem (událostmi řízený, stavový), podobný framework, který je
navíc opensource. Tento framework se jmenuje &lt;strong&gt;MonoRail&lt;/strong&gt; a oněm
bude následující článek a možná i mini seriálek :)&lt;/p&gt;

&lt;h3 id="toc-monorail"&gt;MonoRail&lt;/h3&gt;

&lt;p&gt;Z názvu by se mohlo zdát, že má projekt něco společného s &lt;a
href="http://www.mono-project.com/"&gt;Monem&lt;/a&gt;, opensource implementací dotnetu,
ale není tomu tak, krom toho, že &lt;a
href="http://www.castleproject.org/monorail/index.html"&gt;MonoRail&lt;/a&gt; běží
i na Monu 1.1. MonoRail je součást opensource projeku Castle, který si
klade za cíl RAD v Enterprise prostředí. Jeho součástí jsou frameworky
ActiveRecord (ORM Persistence layer postavený nad NHibernate), Windsor
container (Inversion of Control), DynamicProxy (vytváří Proxy třídy
z Interfejsů) a právě MonoRail. Všechny frameworky umějí pracovat
samostatně, ale jejich největší síla je v jejich spolupráci.&lt;/p&gt;

&lt;p&gt;Co je tedy MonoRail? Je to MVC framework inspirovaný &lt;a
href="http://wiki.rubyonrails.org/rails/pages/ActionPack"&gt;ActionPackem&lt;/a&gt;
běžící na platformně dotnet. Je to náhrada &lt;a
href="http://asp.net/"&gt;ASP.NET WebForms&lt;/a&gt;, ale ty mohou sloužit jako &lt;a
href="#view"&gt;ViewEngine&lt;/a&gt;, nebo běžet v jedné aplikaci s MonoRails vedle
sebe. Dalšími ViewEnginy jsou NVelocity (port Velocity pod dotnet) nebo Brail
(Views jsou psaná v jazyce Boo, což je skriptovací Python like jazyk pro
dotnet). Preferovanější je asi NVelocity, ale vývoj Brailu je živější, a
WebForms se pro změnu skoro nepoužívají (kvůli PageLife cyklu, který
v MonoRailu neexistuje). MonoRail se vám může oproti ASP.NET zdát
oldskůlovější, ale opak je pravdou. MonoRail přináší zjednodušení,
vrací se k webovému vývoji (bezestavový, Request/Response), staví na
osvědčených metodách a zrychluje celý vývoj. Konec řečí, pojďme na
věc :)&lt;/p&gt;

&lt;h3 id="model"&gt;Model&lt;/h3&gt;

&lt;p&gt;Model obecně slouží jako zdroj/zpracovávač dat aplikace. Podle toho, jak
je vaše aplikace složitá, je bohatý váš model :). Zpravidla se jedná
o Domain Model, Business logiku, nebo cokoli jiného, co má na starosti
ověřování obchodních pravidel, persistenci a získávání dat. Pro
jednoduchost stačí vygenerovat Entity podle DB schématu pomocí ActiveRecord
Generatoru nebo naopak vytvořit model a z něj vygenerovat schema.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;[ActiveRecord]
public class User : ActiveRecordBase {
  [PrimaryKey] public int Id { get; set; }
  [Property] public string Name { get; set; }
  ...
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Pro zjednodušení napsáno v C# 3.0 :) ActiveRecord plně využívá
atributů k popisu schematu. Dědění třídy &lt;code&gt;ActiveRecordBase&lt;/code&gt;
není nutností, pro začátek stačí vědět, že nám přidává k entitě
spoustu metod pro databázový přístup. Vhodnější pravděpodobně bude
využít interface &lt;code&gt;IRepository&amp;lt;T&amp;gt;&lt;/code&gt; z projektu &lt;a
href="http://rhino-tools.svn.sourceforge.net/svnroot/rhino-tools/trunk/rhino-commons/"&gt;Rhino.Commons&lt;/a&gt;,
který využívá Repository pattern.&lt;/p&gt;

&lt;h3 id="view"&gt;View&lt;/h3&gt;

&lt;p&gt;View jsou obvykle soubory obsahující kusy HTML kódu a prezentační
logiky. K zapouzdření prezentační logiky lze využít tzv. View komponent
(obdoba UserControls, ale většinou mnohem obecnější). Existují tu
i layouty, což je obdoba MasterPages.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;html&amp;gt;
  &amp;lt;head&amp;gt;
    &amp;lt;title&amp;gt;Layout&amp;lt;/title&amp;gt;
  &amp;lt;/head&amp;gt;
  &amp;lt;body&amp;gt;
    ${ChildOutput}
    &amp;lt;p class="footer"&amp;gt;Společná patička.&amp;lt;/p&amp;gt;
  &amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Takto vypadá &lt;strong&gt;velice zjednodušený&lt;/strong&gt; layout.
&lt;code&gt;${ChildOutput}&lt;/code&gt; bude nahrazen obsahem jednotlivých view.&lt;/p&gt;

&lt;h3 id="controller"&gt;Controler&lt;/h3&gt;

&lt;p&gt;Kontroler spojuje svět View se světem Modelu. Řídí činnost view mění
stavy Modelu. Je to &lt;em&gt;to&lt;/em&gt;, co dělá aplikaci aplikací.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;[Scaffolding(typeof(User))]
public class UsersController : Controller {
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Teď když zadáme něco jako
&lt;code&gt;http://localhost:12345/users/new.rails&lt;/code&gt; tak dostaneme formulář pro
zadávání nových uživatelů. (V případě, že doimplementujeme třídu
&lt;code&gt;User&lt;/code&gt;, aby měla všechny potřebné vlastnosti).&lt;/p&gt;

&lt;p&gt;Pro dnešek bych tedy ukončil první představovací článek a
v příštích spotech bychom se mohli podívat na tuto zajímavou technologii
trošku blíž…&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Jedním z fenoménů poslední doby ve webovém vývoji jsou bezesporu Ruby on Rails (RoR). Framework určený k --RAD((Rapid Application Developement))-- ++Agile vývoji++ používající objektový přístup a postavený na návrhových vzorech jako je MVC((Model View Controler)) nebo Active Record. Framework je určený pro jazyk či platformu Ruby, to je jeho výhoda i omezení zároveň. Málokdo se má chuť nebo čas se po nocích učit novým jazykům a stávat se vícenásobným robotem.

RoR není rozhodně jediným projektem s podobnou filosofií. My dotneťáci máme krom WebForms, které se snaží přihnout webový vývoj desktopovým zvyklostem (událostmi řízený, stavový), podobný framework, který je navíc opensource. Tento framework se jmenuje **MonoRail** a oněm bude následující článek a možná i mini seriálek :)

MonoRail
========

Z názvu by se mohlo zdát, že má projekt něco společného s Monem:[mono], opensource implementací dotnetu, ale není tomu tak, krom toho, že MonoRail:[monorail] běží i na Monu 1.1. MonoRail je součást opensource projeku Castle, který si klade za cíl RAD v Enterprise prostředí. Jeho součástí jsou frameworky ActiveRecord (ORM Persistence layer postavený nad NHibernate), Windsor container (Inversion of Control), DynamicProxy (vytváří Proxy třídy z Interfejsů) a právě MonoRail. Všechny frameworky umějí pracovat samostatně, ale jejich největší síla je v jejich spolupráci.

Co je tedy MonoRail? Je to MVC framework inspirovaný ActionPackem:[actionpack] běžící na platformně dotnet. Je to náhrada "ASP.NET WebForms":[http://asp.net/], ale ty mohou sloužit jako ViewEngine:[#view], nebo běžet v jedné aplikaci s MonoRails vedle sebe. Dalšími ViewEnginy jsou NVelocity (port Velocity pod dotnet) nebo Brail (Views jsou psaná v jazyce Boo, což je skriptovací Python like jazyk pro dotnet). Preferovanější je asi NVelocity, ale vývoj Brailu je živější, a WebForms se pro změnu skoro nepoužívají (kvůli PageLife cyklu, který v MonoRailu neexistuje). MonoRail se vám může oproti ASP.NET zdát oldskůlovější, ale opak je pravdou. MonoRail přináší zjednodušení, vrací se k webovému vývoji (bezestavový, Request/Response), staví na osvědčených metodách a zrychluje celý vývoj. Konec řečí, pojďme na věc :)

Model .[#model]
=====

Model obecně slouží jako zdroj/zpracovávač dat aplikace. Podle toho, jak je vaše aplikace složitá, je bohatý váš model :). Zpravidla se jedná o Domain Model, Business logiku, nebo cokoli jiného, co má na starosti ověřování obchodních pravidel, persistenci a získávání dat. Pro jednoduchost stačí vygenerovat Entity podle DB schématu pomocí ActiveRecord Generatoru nebo naopak vytvořit model a z něj vygenerovat schema.

/--code csharp
[ActiveRecord]
public class User : ActiveRecordBase {
  [PrimaryKey] public int Id { get; set; }
  [Property] public string Name { get; set; }
  ...
}
\--code

Pro zjednodušení napsáno v C# 3.0 :) ActiveRecord plně využívá atributů k popisu schematu. Dědění třídy `ActiveRecordBase` není nutností, pro začátek stačí vědět, že nám přidává k entitě spoustu metod pro databázový přístup. Vhodnější pravděpodobně bude využít interface `IRepository&lt;T&gt;` z projektu [rhino], který využívá Repository pattern.

View .[#view]
====

View jsou obvykle soubory obsahující kusy HTML kódu a prezentační logiky. K zapouzdření prezentační logiky lze využít tzv. View komponent (obdoba UserControls, ale většinou mnohem obecnější). Existují tu i layouty, což je obdoba MasterPages.

/--code xml
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Layout&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    ${ChildOutput}
    &lt;p class="footer"&gt;Společná patička.&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
\--code

Takto vypadá **velice zjednodušený** layout. `${ChildOutput}` bude nahrazen obsahem jednotlivých view.

Controler .[#controller]
=========

Kontroler spojuje svět View se světem Modelu. Řídí činnost view mění stavy Modelu. Je to *to*, co dělá aplikaci aplikací.

/--code csharp
[Scaffolding(typeof(User))]
public class UsersController : Controller {
}
\--code

Teď když zadáme něco jako `http://localhost:12345/users/new.rails` tak dostaneme formulář pro zadávání nových uživatelů. (V případě, že doimplementujeme třídu `User`, aby měla všechny potřebné vlastnosti).

Pro dnešek bych tedy ukončil první představovací článek a v příštích spotech bychom se mohli podívat na tuto zajímavou technologii trošku blíž...

[actionpack]: http://wiki.rubyonrails.org/rails/pages/ActionPack ActionPack
[castle-dl]: http://sourceforge.net/project/downloading.php?groupname=castleproject&amp;filename=Castle.msi&amp;use_mirror=kent
[mono]: http://www.mono-project.com/ Mono
[monorail]: http://www.castleproject.org/monorail/index.html MonoRail
[rhino]: http://rhino-tools.svn.sourceforge.net/svnroot/rhino-tools/trunk/rhino-commons/ Rhino.Commons
[dgx-ruby]: http://www.dgx.cz/trine/item/ruby-on-rails-dekuji-nechci Ruby on Rails? Děkuji, nechci.
</raw>
    <author>Aleš Roubíček</author>
    <published>2007-08-14T16:10:57.470</published>
    <url>zaciname-s-jednokolejkou</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>castle monorail activerecord mvc brail</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:26:34.250</edited>
  </article>
  <article>
    <id>220</id>
    <title>Jak funguje MonoRail</title>
    <description>Po úvodním seznamovacím spotu je tu první díl seriálku o MonoRail frameworku. Dnes to bude o tom, jak vlastně MonoRail funguje.</description>
    <html xml:space="preserve">
&lt;p&gt;Po &lt;a href="/weblog/219-zaciname-s-jednokolejkou.aspx"&gt;letmém
seznámení&lt;/a&gt; s frameworkem MonoRail (MR) je tu první část slibovaného
seriálu. V dnešním díle se ponoříme do technických principů
frameworku.&lt;/p&gt;

&lt;p&gt;Základem MR je klasický &lt;code&gt;IHttpHandler&lt;/code&gt; známý z ASP.NET,
který se stará o zpracování požadavků přicházejících na server. Ve
výchozím stavu zpracovává požadavky s příponou &lt;code&gt;.rails&lt;/code&gt;, ale
protože tato není na většině hostingů nastavena na ISAPI filtr ASP.NET,
dá se nastavit zpracování přípony jiné (často &lt;code&gt;ashx&lt;/code&gt;), která
je webovému serveru známá a je spojená s ASP.NET filtrem.&lt;/p&gt;

&lt;p&gt;Handler rozparsuje adresu a snaží se najít vhodný &lt;code&gt;Controller&lt;/code&gt;
a jeho metodu, která požadavek zpracuje a předá data na patřičný
&lt;code&gt;View&lt;/code&gt;. Vypadá to asi následovně. Na handler přijde požadavek ve
tvaru &lt;code&gt;/home/index.rails&lt;/code&gt;, handler se pokusí vyhledat třídu
&lt;code&gt;HomeController&lt;/code&gt;, která dědí ze třídy &lt;code&gt;Controller&lt;/code&gt;, a
u ní metodu &lt;code&gt;Index()&lt;/code&gt;. Takže controller pro tento požadavek by
vypadal asi následovně:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class HomeControler : Controller {
  public void Index()  {
    PropertyBag["hello"] = "Pozdrav z jednokolejky";
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Takový controller by se měl nacházet v projektu ve složce
&lt;code&gt;controllers&lt;/code&gt;. Vlastnost &lt;code&gt;PropertyBag&lt;/code&gt; je slovník
(asociativní pole), který předává data z controlleru na view. Aby se nám
to celé mohlo někde zobrazit, potřebujeme ještě tedy view. Ve složce
&lt;code&gt;/views/home/&lt;/code&gt; si vytvoříme soubor &lt;code&gt;index.brail&lt;/code&gt; (Brail
je jedním z ViewEnginů) do kterého zadáme:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;html&amp;gt;
  &amp;lt;head&amp;gt;
    &amp;lt;title&amp;gt;Pozdrav&amp;lt;/title&amp;gt;
  &amp;lt;/head&amp;gt;
  &amp;lt;body&amp;gt;
    &amp;lt;h1&amp;gt;${hello}&amp;lt;/h1&amp;gt;
  &amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Řetězec &lt;code&gt;${hello}&lt;/code&gt; bude na výstupu nahrazen textem
z PropertyBagu. Dolar složené závorky totiž prochází lokální proměnné
a snaží se z nich získat hodnotu. Pokud taková proměnná neexistuje
zavolá se metoda &lt;code&gt;GetParametr&lt;/code&gt;, která projde kolekce PropertyBag,
Flash, Request apod. a snaží se v nich nalézt klíč, kterým je text mezi
závorkami. Hodnota je pak vypsána namísto dolarové funkce. :) Dolarová
funkce je takový shortcut pro tento zápis: &lt;code&gt;&amp;lt;?brail output hello
?&amp;gt;&lt;/code&gt; což je obdoba &lt;code&gt;&amp;lt;?php echo $hello; ?&amp;gt;&lt;/code&gt; v PHP nebo
&lt;code&gt;&amp;lt;%= hello %&amp;gt;&lt;/code&gt; v ASP.&lt;/p&gt;

&lt;p&gt;Celá skládačka do sebe zapadne, když do prohlížeče zadáme adresu
&lt;code&gt;http://server/home/index.rails&lt;/code&gt;. Díky příponě &lt;em&gt;rails&lt;/em&gt; se
požadavek předá Handleru MonoRail. Ten rozparsuje adresu a snaží se najít
třídu &lt;em&gt;HomeController&lt;/em&gt;, kterou jsme vytvořili, takže success.
V této třídě hledá metodu &lt;em&gt;Index&lt;/em&gt;, tu máme taky, další bod
k dobru. Tato metoda nám nastaví v &lt;em&gt;PropertyBagu&lt;/em&gt; hello na hodnotu
„Pozdrav z jednokolejky“. Dále handler hledá vhodné view, které jsme
také vytvořili. Předá mu Context, zpracuje se šablona a nakonec bude do
prohlížeče odesláno HTML.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;html&amp;gt;
  &amp;lt;head&amp;gt;
    &amp;lt;title&amp;gt;Pozdrav&amp;lt;/title&amp;gt;
  &amp;lt;/head&amp;gt;
  &amp;lt;body&amp;gt;
    &amp;lt;h1&amp;gt;Pozdrav z jednokolejky&amp;lt;/h1&amp;gt;
  &amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Pro dnešek vše.&lt;/p&gt;

&lt;h3 id="toc-souvisejici"&gt;Související&lt;/h3&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href="/weblog/219-zaciname-s-jednokolejkou.aspx"&gt;Začínáme
	s jednokolejkou&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a
	href="http://www.castleproject.org/monorail/documentation/trunk/manual/howitworks.html"&gt;MonoRail –
	How it works&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Po "letmém seznámení":[clanek(219)] s frameworkem MonoRail (MR) je tu první část slibovaného seriálu. V dnešním díle se ponoříme do technických principů frameworku.

Základem MR je klasický `IHttpHandler` známý z ASP.NET, který se stará o zpracování požadavků přicházejících na server. Ve výchozím stavu zpracovává požadavky s příponou `.rails`, ale protože tato není na většině hostingů nastavena na ISAPI filtr ASP.NET, dá se nastavit zpracování přípony jiné (často `ashx`), která je webovému serveru známá a je spojená s ASP.NET filtrem.

Handler rozparsuje adresu a snaží se najít vhodný `Controller` a jeho metodu, která požadavek zpracuje a předá data na patřičný `View`. Vypadá to asi následovně. Na handler přijde požadavek ve tvaru `/home/index.rails`, handler se pokusí vyhledat třídu `HomeController`, která dědí ze třídy `Controller`, a u ní metodu `Index()`. Takže controller pro tento požadavek by vypadal asi následovně:

/--code csharp
public class HomeControler : Controller {
  public void Index()  {
    PropertyBag["hello"] = "Pozdrav z jednokolejky";
  }
}
\--code

Takový controller by  se měl nacházet v projektu ve složce `controllers`. Vlastnost `PropertyBag` je slovník (asociativní pole), který předává data z controlleru na view. Aby se nám to celé mohlo někde zobrazit, potřebujeme ještě tedy view. Ve složce `/views/home/` si vytvoříme soubor `index.brail` (Brail je jedním z ViewEnginů) do kterého zadáme:

/--code xml
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Pozdrav&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;${hello}&lt;/h1&gt;
  &lt;/body&gt;
&lt;/html&gt;
\--code

Řetězec `${hello}` bude na výstupu nahrazen textem z PropertyBagu. Dolar složené závorky totiž prochází lokální proměnné a snaží se z nich získat hodnotu. Pokud taková proměnná neexistuje zavolá se metoda `GetParametr`, která projde kolekce PropertyBag, Flash, Request apod. a snaží se v nich nalézt klíč, kterým je text mezi závorkami. Hodnota  je pak vypsána namísto dolarové funkce. :) Dolarová funkce je takový shortcut pro tento zápis: `&lt;?brail output hello ?&gt;` což je obdoba `&lt;?php echo $hello; ?&gt;` v PHP nebo `&lt;%= hello %&gt;` v ASP.

Celá skládačka do sebe zapadne, když do prohlížeče zadáme adresu `http://server/home/index.rails`. Díky příponě *rails* se požadavek předá Handleru MonoRail. Ten rozparsuje adresu a snaží se najít třídu *HomeController*, kterou jsme vytvořili, takže success. V této třídě hledá metodu *Index*, tu máme taky, další bod k dobru. Tato metoda nám  nastaví v *PropertyBagu* hello na hodnotu „Pozdrav z jednokolejky“. Dále handler hledá vhodné view, které jsme také vytvořili. Předá mu Context, zpracuje se šablona a nakonec bude do prohlížeče odesláno HTML.

/--code xml
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Pozdrav&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Pozdrav z jednokolejky&lt;/h1&gt;
  &lt;/body&gt;
&lt;/html&gt;
\--code

Pro dnešek vše.

== Související
* [clanek(219)]
* [how it works]

[clanek(219)]: /weblog/219-zaciname-s-jednokolejkou.aspx Začínáme s jednokolejkou
[how it works]: http://www.castleproject.org/monorail/documentation/trunk/manual/howitworks.html MonoRail - How it works </raw>
    <author>Aleš Roubíček</author>
    <published>2007-08-17T13:20:28.833</published>
    <url>jak-funguje-monorail</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>castle monorail mvc brail</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:25:05.500</edited>
  </article>
  <article>
    <id>221</id>
    <title>Atlas faceliftoval svoji homepage</title>
    <description>Atlas dnes vypustil facelift svoji hlavní stránky, který je na první pohled vzdušnější a přehlednější. A nejen to</description>
    <html xml:space="preserve">
&lt;p&gt;Atlas dnes vypustil facelift svoji hlavní stránky, který je na první
pohled vzdušnější a přehlednější. Kluci se snažili &lt;a
href="http://www.atlas.cz"&gt;homepage Atlasu&lt;/a&gt; trochu osvěžit a připravit ji
na nové možnosti, které se od homepage očekávají.&lt;/p&gt;

&lt;p&gt;Společně s osvěženou homepagi vyrážejí do světa další novinky
z projektu &lt;em&gt;Atlas+&lt;/em&gt;:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;&lt;a href="http://azpravy.atlas.cz"&gt;aZprávy&lt;/a&gt; – zbrusu nové zprávy na
	Atlasu, které vás budou bavit.&lt;/li&gt;

	&lt;li&gt;&lt;a href="http://spunt.atlas.cz"&gt;Špunt&lt;/a&gt; – magazín nejen pro
	rodiče.&lt;/li&gt;

	&lt;li&gt;&lt;a href="http://utulne.atlas.cz"&gt;Útulně&lt;/a&gt; – magazín
	o bydlení.&lt;/li&gt;
&lt;/ol&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Atlas dnes vypustil facelift svoji hlavní stránky, který je na první pohled vzdušnější a přehlednější. Kluci se snažili "homepage Atlasu":[http://www.atlas.cz] trochu osvěžit a připravit ji na nové možnosti, které se od homepage očekávají.

Společně s osvěženou homepagi vyrážejí do světa další novinky z projektu *Atlas+*:

1.  aZprávy:[http://azpravy.atlas.cz] - zbrusu nové zprávy na Atlasu, které vás budou bavit.
2.  Špunt:[http://spunt.atlas.cz] - magazín nejen pro rodiče.
3.  Útulně:[http://utulne.atlas.cz] - magazín o bydlení.</raw>
    <author>Aleš Roubíček</author>
    <published>2007-09-02T18:32:22.750</published>
    <url>atlas-faceliftoval-svoji-homepage</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>atlas homepage</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:24:18.717</edited>
  </article>
  <article>
    <id>222</id>
    <title>MonoRail – Instalace</title>
    <description>Na jednu zásadní věc jsem v prvním díle zapomněl – tedy  spíš jsem s ní počítal, ale nakonec jsem jí nedal prostor – a tou je instalace.</description>
    <html xml:space="preserve">
&lt;p&gt;Na jednu zásadní věc jsem v &lt;a
href="/weblog/220-jak-funguje-monorail.aspx"&gt;prvním díle&lt;/a&gt; zapomněl –
tedy spíš jsem s ní počítal, ale nakonec jsem jí nedal prostor – a tou
je instalace.&lt;/p&gt;

&lt;p&gt;Existují, přinejmenším, tři možné způsoby získání MonoRailu,
potažmo celého projektu Castle. Buďto si stáhnete &lt;a
href="http://switch.dl.sourceforge.net/sourceforge/castleproject/CastleProject-1.0-RC3.msi"&gt;instalátor&lt;/a&gt;
(aktuálně verze &lt;del&gt;RC2&lt;/del&gt; &lt;ins&gt;RC3&lt;/ins&gt;, která vyšla &lt;del&gt;někdy
koncem minulého roku&lt;/del&gt; &lt;ins&gt;koncem září&lt;/ins&gt;), nebo využijete služeb
&lt;a href="http://builds.castleproject.org/cruise/index.castle"&gt;build serveru&lt;/a&gt;
a stáhnete si &lt;a
href="http://builds.castleproject.org/cruise/DownloadBuild.castle?number=525"&gt;poslední
stabilní build&lt;/a&gt; vývojové verze. Třetí možností je získat aktuální
zdrojové kódy ze &lt;a
href="http://svn.castleproject.org:8080/svn/castle/trunk/"&gt;Subversion&lt;/a&gt; a
celý projekt sestavit s NAntem.&lt;/p&gt;

&lt;p&gt;Instalátor je klasický balíček MSI, který za vás udělá
špinavou práci:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Nahraje všechny potřebné soubory na disk,&lt;/li&gt;

	&lt;li&gt;Zaregistruje potřebné knihovny do &lt;acronym
	title="Global Assembly Cache"&gt;GAC&lt;/acronym&gt;,&lt;/li&gt;

	&lt;li&gt;Zaregistruje na lokálním IIS příponu &lt;code&gt;.rails&lt;/code&gt; pro ISAPI filtr
	ASP.NET,&lt;/li&gt;

	&lt;li&gt;Přidá dva nové projekty (MonoRail a ActiveRecord) a průvodce do Visual
	Studia (2003, 2005 SP1).&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;del&gt;Nevýhodou tohoto řešení, je neaktuálnost celého kompletu&lt;/del&gt;, na
druhou stranu je výhodou, že nám zamete cestičku a můžeme rovnou
vyvíjet.&lt;/p&gt;

&lt;p&gt;Z build serveru si můžete stáhnout aktuální stabilní verzi knihoven
v ZIP balíčku. Je to mužnost oba postupy zkombinovat, ale možná se
vyplatí používat prozatím RC2 verzi a počkat si na &lt;a
href="/weblog/229-castle-rc3-a-microsoft-mvc.aspx"&gt;verzi RC3&lt;/a&gt;, která by již
brzy měla spatřit světlo světa.&lt;/p&gt;

&lt;h4 id="toc-update"&gt;Update&lt;/h4&gt;

&lt;p&gt;14 dní po vydání toho článku spatřila světlo světa RC3 verze Castle,
takže některé výše zmíněné věty ztratili na aktuálnosti. :)&lt;/p&gt;

&lt;h3 id="toc-zalozeni-projektu"&gt;Založení projektu&lt;/h3&gt;

&lt;p&gt;Předpokládám, že jsme si Castle nainstalovali pomoci MSI balíčku. Máme
Visual Studio 2005 ve verzi Standard a vyšší s nainstalovaným
WebApplication projektem nebo SP1. Dáme vytvořit nový projekt a zobrazí se
nám obrazovka podobná té následující:&lt;/p&gt;

&lt;div&gt;&lt;img src="/data/obrazky/monorail_project_new.png" alt="Nový projekt"
/&gt;&lt;/div&gt;

&lt;p&gt;Červeně označené jsou nově přidané projekty&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Knihovna s podporou persistence pomocí ActiveRecord&lt;/li&gt;

	&lt;li&gt;Webová aplikace MonoRail&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Pro začátek si vystačíme pouze s MonoRail projektem, protože i ten má
podporu pro ActiveRecord a tak můžeme model později přesunout do samostatné
knihovny. Takže dáme vytvořit nový MonoRail projekt. Spustí se nám
jednoduchý průvodce, který nám přednastaví projekt podle našich
potřeb.&lt;/p&gt;

&lt;p&gt;V prvním kroku si vybereme, který View Engine chceme používat
(samozřejmě jde změnit později v konfiguraci), jestli chceme zapnout
integraci s Windsor kontejnerem a jestli zapnout podporu pro routing.&lt;/p&gt;

&lt;p&gt;Ve druhém kroku se nás průvodce zeptá, jestli chceme vytvořit také
testovací projekt (NUnit s podporou pro testování MonoRail). Samozřejmě
chceme :) Průvodce nám vytvoří základní strukturu projektu podobnou
následujícímu obrázku.&lt;/p&gt;

&lt;div&gt;&lt;img src="/data/obrazky/monorail_project_structure.png"
alt="Struktura projektu" /&gt;&lt;/div&gt;

&lt;p&gt;V takovéto kostře si můžete vyzkoušet ukázky z předešlých dílů,
snad by měly fungovat…&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Na jednu zásadní věc jsem v "prvním díle":[clanek(220)] zapomněl – tedy  spíš jsem s ní počítal, ale nakonec jsem jí nedal prostor – a tou je instalace.

Existují, přinejmenším, tři možné způsoby získání MonoRailu, potažmo celého projektu Castle. Buďto si stáhnete instalátor:[instalator] (aktuálně verze --RC2-- ++RC3++, která vyšla --někdy koncem minulého roku-- ++koncem září++), nebo využijete služeb "build serveru":[build server] a stáhnete si "poslední stabilní build":[last stable build] vývojové verze. Třetí možností je získat aktuální zdrojové kódy ze Subversion:[svn] a celý projekt sestavit s NAntem.

Instalátor je klasický balíček MSI, který za vás udělá špinavou práci:

- Nahraje všechny potřebné soubory na disk,
- Zaregistruje potřebné knihovny do GAC((Global Assembly Cache)),
- Zaregistruje na lokálním IIS příponu `.rails` pro ISAPI filtr ASP.NET,
- Přidá dva nové projekty (MonoRail a ActiveRecord) a průvodce do Visual Studia (2003, 2005 SP1).

--Nevýhodou tohoto řešení, je neaktuálnost celého kompletu--, na druhou stranu je výhodou, že nám zamete cestičku a můžeme rovnou vyvíjet.

Z build serveru si můžete stáhnout aktuální stabilní verzi knihoven v ZIP balíčku. Je to mužnost oba postupy zkombinovat, ale možná se vyplatí používat prozatím RC2 verzi a počkat si na "verzi RC3":[clanek(229)], která by již brzy měla spatřit světlo světa.

Update
------

14 dní po vydání toho článku spatřila světlo světa RC3 verze Castle, takže některé výše zmíněné věty ztratili na aktuálnosti. :)

Založení projektu
====================

Předpokládám, že jsme si Castle nainstalovali pomoci MSI balíčku. Máme Visual Studio 2005 ve verzi Standard a vyšší s nainstalovaným WebApplication projektem nebo SP1. Dáme vytvořit nový projekt a zobrazí se nám obrazovka podobná té následující:

[* /data/obrazky/monorail_project_new.png .(Nový projekt) *]

Červeně označené jsou nově přidané projekty
1.  Knihovna s podporou persistence pomocí ActiveRecord
2.  Webová aplikace MonoRail

Pro začátek si vystačíme pouze s MonoRail projektem, protože i ten má podporu pro ActiveRecord a tak můžeme model později přesunout do samostatné knihovny. Takže dáme vytvořit nový MonoRail projekt. Spustí se nám jednoduchý průvodce, který nám přednastaví projekt podle našich potřeb.

V prvním kroku si  vybereme, který View Engine chceme používat (samozřejmě jde změnit později v konfiguraci), jestli chceme zapnout integraci s Windsor kontejnerem a jestli zapnout podporu pro routing.

Ve druhém kroku se nás průvodce zeptá, jestli chceme vytvořit také testovací projekt (NUnit s podporou pro testování MonoRail). Samozřejmě chceme :) Průvodce nám vytvoří základní strukturu projektu podobnou následujícímu obrázku.

[* /data/obrazky/monorail_project_structure.png  .(Struktura projektu) *]

V takovéto kostře si můžete vyzkoušet ukázky z předešlých dílů, snad by měly fungovat...


[clanek(220)]: /weblog/220-jak-funguje-monorail.aspx
[clanek(229)]: /weblog/229-castle-rc3-a-microsoft-mvc.aspx
[instalator]: http://switch.dl.sourceforge.net/sourceforge/castleproject/CastleProject-1.0-RC3.msi
[build server]: http://builds.castleproject.org/cruise/index.castle
[last stable build]: http://builds.castleproject.org/cruise/DownloadBuild.castle?number=525
[svn]: http://svn.castleproject.org:8080/svn/castle/trunk/</raw>
    <author>Aleš Roubíček</author>
    <published>2007-09-03T13:27:07.427</published>
    <url>monorail-instalace</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>castle monorail mvc</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:23:50.890</edited>
  </article>
  <article>
    <id>223</id>
    <title>Google Reader nyní skoro dokonalý</title>
    <description>Google Reader byl konečně obdařen funkcí, která nejen mně hodně chyběla. Konečně i v Google Readeru lze v agregovaných příspěvcích vyhledávat.</description>
    <html xml:space="preserve">
&lt;p&gt;Google Reader byl konečně obdařen funkcí, která nejen mně hodně
chyběla. Konečně i v &lt;a href="http://reader.google.com"&gt;Google Readeru&lt;/a&gt;
lze v agregovaných příspěvcích vyhledávat. Kromě toho lze i hledání
omezit pouze na určité složky/štítky.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Google Reader byl konečně obdařen funkcí, která nejen mně hodně chyběla. Konečně i v "Google Readeru":[http://reader.google.com] lze v agregovaných příspěvcích vyhledávat. Kromě toho lze i hledání omezit pouze na určité složky/štítky.</raw>
    <author>Aleš Roubíček</author>
    <published>2007-09-07T13:50:05.510</published>
    <url>google-reader-nyni-skoro-dokonaly</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>rss atom google reader</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:22:43.967</edited>
  </article>
  <article>
    <id>224</id>
    <title>Druhá šance pro Brno</title>
    <description>V pátek jsem se rozhodl dát Brnu druhou šanci a navštívil jsem Elektru.</description>
    <html xml:space="preserve">
&lt;p&gt;V pátek jsem se rozhodl dát Brnu druhou šanci a vyrazil na Elektru do
Flédy. Musím uznat že tato akce byla zdařilejší než &lt;a
href="/weblog/203-cybertronic-ii-nejlepsi-parba-roku.aspx"&gt;rozpačitý
Cybertronic II&lt;/a&gt;. Bohužel nejel s námi &lt;a
href="http://mikemaly.net/"&gt;Mike&lt;/a&gt;. Tak jsme u alespoň často telefonovali.
:) Jel jsem tam hlavně na vystoupení &lt;a href="http://dj.tomivega.com/"&gt;Tommiho
Vegy&lt;/a&gt; a &lt;a href="http://www.djorbith.com/"&gt;Orbitha&lt;/a&gt;, jenže jak jsem pak
poznal, oba hráli ve stejný čas, tak jsem víc času trávil u Tommiho. :)
Přece jen Orbitha mám tu čest potkávat živě častěji. Tommi Vega hrál na
barové stagi, před mím se to tam snažil rozpumpovat Shala – jeho setík
jsem si náramně užíval, páč hrál spoustu mejch oblíbenejch kousků,
který v poslední době točím.&lt;/p&gt;

&lt;p&gt;Tommi začínal Phantomem od Justice a lidi začínal pomalu roztancovávat.
Jak jsem si stačil všimnout, na Flédě bylo celkem dost lidí ale jen malé
procento tancovalo a to se mi moc nelíbí. Nemám rád stojící čumily.
Brněnky jsou celkem sympatická, akurát jsou z Brna… :( Domů jsme se
vydali už před druhou hodinou, takže dál už nevim, jaký to bylo. :)&lt;/p&gt;

&lt;div&gt;&lt;embed type="application/x-shockwave-flash"
src="http://picasaweb.google.com/s/c/bin/slideshow.swf" width="400" height="267"
flashvars="host=picasaweb.google.com&amp;amp;RGB=0x333333&amp;amp;feed=http%3A%2F%2Fpicasaweb.google.com%2Fdata%2Ffeed%2Fapi%2Fuser%2Frarous%2Falbumid%2F5116008328804765169%3Fkind%3Dphoto%26alt%3Drss"
pluginspage="http://www.macromedia.com/go/getflashplayer" /&gt;&lt;/div&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">V pátek jsem se rozhodl dát Brnu druhou šanci a vyrazil na Elektru do Flédy. Musím uznat že tato akce byla zdařilejší než "rozpačitý Cybertronic II":[clanek(203)]. Bohužel nejel s námi Mike:[http://mikemaly.net/]. Tak jsme u alespoň často telefonovali. :) Jel jsem tam hlavně na vystoupení "Tommiho Vegy":[http://dj.tomivega.com/] a "Orbitha":[http://www.djorbith.com/], jenže jak jsem pak poznal, oba hráli ve stejný čas, tak jsem víc času trávil u Tommiho. :) Přece jen Orbitha mám tu čest potkávat živě častěji. Tommi Vega hrál na barové stagi, před mím se to tam snažil rozpumpovat Shala – jeho setík jsem si náramně užíval, páč hrál spoustu mejch oblíbenejch kousků, který v poslední době točím.

Tommi začínal Phantomem od Justice a lidi začínal pomalu roztancovávat. Jak jsem  si stačil všimnout, na Flédě bylo celkem dost lidí ale jen malé procento tancovalo a to se mi moc nelíbí. Nemám rád stojící čumily. Brněnky jsou celkem sympatická, akurát jsou z Brna... :( Domů jsme se vydali už před druhou hodinou, takže dál už nevim, jaký to bylo. :)


&lt;embed type="application/x-shockwave-flash" src="http://picasaweb.google.com/s/c/bin/slideshow.swf" width="400" height="267" flashvars="host=picasaweb.google.com&amp;RGB=0x333333&amp;feed=http%3A%2F%2Fpicasaweb.google.com%2Fdata%2Ffeed%2Fapi%2Fuser%2Frarous%2Falbumid%2F5116008328804765169%3Fkind%3Dphoto%26alt%3Drss" pluginspage="http://www.macromedia.com/go/getflashplayer"&gt;&lt;/embed&gt;

[clanek(203)]: /weblog/203-cybertronic-ii-nejlepsi-parba-roku.aspx</raw>
    <author>Aleš Roubíček</author>
    <published>2007-09-30T17:04:39.280</published>
    <url>druha-sance-pro-brno</url>
    <category>Muzika</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-06-23T13:58:22.960</edited>
  </article>
  <article>
    <id>225</id>
    <title>Budoucnost Texy.net</title>
    <description>Chtěl bych projekt Texy.net rozšířit o vlastní parser napsaný v C# 2.0. Bude mít komunita o něj zájem? Chce se na něm podílet? To jsou otázky, jejichž zodpovězení čeká na vás a rozhodne o dalším osudu tohoto projektu.</description>
    <html xml:space="preserve">
&lt;p&gt;Chtěl bych začít pracovat na parseru Texy napsaném v C#. Než s tím
začnu chci se zeptat, jestli to vůbec má cenu, má někdo o něco takového
zájem? Samozřejmě to bude open source hostovaný na &lt;a
href="http://www.codeplex.com/texynet"&gt;CodePlexu&lt;/a&gt;, kdy je source control a
issue tracker. Pokud bude zájem o dotnetí parser Texy, bude mít někdo
zájem na projektu spolupracovat? Vyzkoušet si práci v týmu, agilní vývoj
na otevřeném projektu. Pokud máte zájem, dejte o sobě vědět buďto
v komentářích nebo na můj mejl.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Chtěl bych začít pracovat na parseru Texy napsaném v C#. Než s tím začnu chci se zeptat, jestli to vůbec má cenu, má někdo o něco takového zájem? Samozřejmě to bude open source hostovaný na CodePlexu:[http://www.codeplex.com/texynet], kdy je source control a issue tracker. Pokud bude zájem o dotnetí parser Texy, bude mít někdo zájem na projektu spolupracovat? Vyzkoušet si práci v týmu, agilní vývoj na otevřeném projektu. Pokud máte zájem, dejte o sobě vědět buďto v komentářích nebo na můj mejl.</raw>
    <author>Aleš Roubíček</author>
    <published>2007-10-02T14:05:19.147</published>
    <url>budoucnost-texy-net</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>texynet</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:22:09.810</edited>
  </article>
  <article>
    <id>226</id>
    <title>hradvkarpatech v Rumunsku</title>
    <description>Jak dlouho to vydrží? Googluj googluj vykrůcaj? Tropické šílenství z mravenců přenosné i na člověka!!</description>
    <html xml:space="preserve">
&lt;p&gt;Ano vážení &lt;strong&gt;hradvkarpatech v&amp;#160;Rumunsku&lt;/strong&gt; opravdu
skrývá své překvapení, ale co bychom to byli za kamarádky, kdybychom
našemu &lt;em&gt;tölökö totok siu&lt;/em&gt; kamardádovi Leopoldovi a jeho kamarádům
apačům nepomohli trochu zatopit :) A&amp;#160;o tom, jak to celé funguje píše
náš milovaný &lt;a
href="http://weblognicek.chvojka.cz/ruzne/hrajeme-si-378.aspx"&gt;&lt;strong&gt;karpatos
rumunos webos&lt;/strong&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Good luck!&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Ano vážení **hradvkarpatech v Rumunsku** opravdu skrývá své překvapení, ale co bychom to byli za kamarádky, kdybychom našemu *tölökö totok siu* kamardádovi Leopoldovi a jeho kamarádům apačům nepomohli trochu zatopit :) A o tom, jak to celé funguje píše náš milovaný **karpatos rumunos webos**:[http://weblognicek.chvojka.cz/ruzne/hrajeme-si-378.aspx].


Good luck!</raw>
    <author>Aleš Roubíček</author>
    <published>2007-10-04T10:15:03.127</published>
    <url>hradvkarpatech-v-rumunsku</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2007-10-04T13:28:57.173</edited>
  </article>
  <article>
    <id>227</id>
    <title>Magenta není růžová</title>
    <description>Vím, že chcete podpořit boj proti rakovině prsu, ale vážení, podpořte ho růžovou, né magentou!</description>
    <html xml:space="preserve">
&lt;p&gt;&lt;a href="http://en.wikipedia.org/wiki/Magenta"&gt;Magenta&lt;/a&gt; je jedna
z&amp;#160;&lt;span title="nebo mích, jako že se míchá"&gt;mých&lt;/span&gt; oblíbených
barev. V&amp;#160;pondělí se začali objevovat první nadšenci nasazující tuto
barvu na své weby v&amp;#160;domnění, že podporují růžovou pro říjen.
Není tomu tak.&lt;/p&gt;

&lt;!-- generated by Texy! --&gt;</html>
    <raw xml:space="preserve">Magenta:[http://en.wikipedia.org/wiki/Magenta] je jedna z "mých .(nebo mích, jako že se míchá)" oblíbených barev. V pondělí se začali objevovat první nadšenci nasazující tuto barvu na své weby v domnění, že podporují růžovou pro říjen. Není tomu tak.</raw>
    <author>Aleš Roubíček</author>
    <published>2007-10-04T14:46:03.213</published>
    <url>magenta-neni-ruzova</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2007-10-04T14:51:18.210</edited>
  </article>
  <article>
    <id>228</id>
    <title>Nový Unit Test Framework pro dotnet</title>
    <description>Na půdě Microsoftu vzniká nový open source framework pro "jednotkové testy." Díky jeho eleganci se dají dělat i některé dosud těžko proveditelné testy.</description>
    <html xml:space="preserve">
&lt;p&gt;Přibližně před dvěma týdny byla vypuštěna první beta verze nového
testovacího frameworku &lt;a href="http://www.codeplex.com/xunit"&gt;xUnit.net&lt;/a&gt;.
Spousta lidí si říká, k čemu další framework – vždyť tu máme
NUnit, MbUnit, MsTest – a navíc syntakticky nekompatibilní?&lt;/p&gt;

&lt;p&gt;xUnit.net přináší eleganci, jednoduchost a zdravý rozum. Byly zrušeny
&lt;em&gt;SetUp&lt;/em&gt;y a &lt;em&gt;TearDown&lt;/em&gt;y a nahrazuje je &lt;strong&gt;IDisposable pattern
a konstruktor&lt;/strong&gt; (jednoduše elegantní), pro každý test je vždy
vytvořena &lt;strong&gt;nová instance testovací třídy&lt;/strong&gt;. &lt;em&gt;Assert&lt;/em&gt;y
byly revidovány a duplicitní či zbytečné byly odebrány.&lt;/p&gt;

&lt;p&gt;Framework je navržen tak, aby byl snadno rozšiřitelný o vlastní
atributy, kterými můžete specifikovat vlastní akce (např. Authetifikaci)
či požadavky. Součástí frameworku není žádný &lt;em&gt;mock&lt;/em&gt;vací
nástroj. K čemu také, když už tu máme skvělé &lt;a
href="http://www.ayende.com/projects/rhino-mocks.aspx"&gt;Rhino Mocks&lt;/a&gt;?&lt;/p&gt;

&lt;h3 id="toc-nove-moznosti"&gt;Nové možnosti&lt;/h3&gt;

&lt;p&gt;Běžnou praxí je na testy zakládat samostatný projekt, takže jsou testy
v samostatné assembly. Pokud jste chtěli mít testy společně v jednom
projektu s výkonným kódem mohli jste tak taktéž učinit. Jenže pořád je
tu problém, pokud z nějakého důvodu potřebujete testovat privátní věci.
Sice to je ukázka toho, že něco smrdí, ale stejně se to občas
může hodit.&lt;/p&gt;

&lt;p&gt;xUnit.net totiž ruší atribut &lt;code&gt;TestFixture/TestClass&lt;/code&gt; a při
spouštění test prohledává všechny třídy na přítomnost metod
s atributem &lt;code&gt;Test&lt;/code&gt;. To nám umožňuje mít testovací metody
v jedné třídě společně s výkonným kódem a testovat tak privátní
členy bez nutnosti používat reflexi. Když už se k něčemu takovému
rozhodnete je dobré ještě využít &lt;code&gt;partial class&lt;/code&gt; a testy
přesunout do samostatného souboru např. &lt;code&gt;Class.tests.cs&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Soubor SomeClass.cs:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public partial class SomeClass {
  private bool _isDirty;
  private string _someText;

  public string SomeText {
    set {
      _isDirty = true;
      _someText = value;
    }
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Soubor SomeClass.tests.cs&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public partial class SomeClass {
  [Test]
  private void SettingSomeTextMakesSomeClassDirty() {
    var testInstance = new SomeCLass();
    Assert.False(testInstance._isDirty);
    testInstance.SomeTest = "text";
    Assert.True(testInstance._isDirty);
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Také je celkem dobré nechat takové testovací metody skryté před
vnějším světem, tak že jim nastavíme modifikátor viditelnosti na
&lt;code&gt;private&lt;/code&gt;. xUnit.net umí spouštět i privátní a interní metody
za účelem testování (platí pro beta2 a novější).&lt;/p&gt;

&lt;p&gt;Osobně se mi tento framework velice líbí a už jsem na něj přepsal &lt;a
href="http://www.codeplex.com/texynet/SourceControl/ListDownloadableCommits.aspx"&gt;testy
pro Texy.net&lt;/a&gt;.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Přibližně před dvěma týdny byla vypuštěna první beta verze nového testovacího frameworku [xunit]. Spousta lidí si říká, k čemu další framework - vždyť tu máme NUnit, MbUnit, MsTest - a navíc syntakticky nekompatibilní?

xUnit.net přináší eleganci, jednoduchost a zdravý rozum. Byly zrušeny *SetUp*y a *TearDown*y a nahrazuje je **IDisposable pattern a konstruktor** (jednoduše elegantní), pro každý test je vždy vytvořena **nová instance testovací třídy**. *Assert*y byly revidovány a duplicitní či zbytečné byly odebrány.

Framework je navržen tak, aby byl snadno rozšiřitelný o vlastní atributy, kterými můžete specifikovat vlastní akce (např. Authetifikaci) či požadavky. Součástí frameworku není žádný *mock*vací nástroj. K čemu také, když už tu máme skvělé [rhino mock]?

Nové možnosti
=============

Běžnou praxí je na testy zakládat samostatný projekt, takže jsou testy v samostatné assembly. Pokud jste chtěli mít testy společně v jednom projektu s výkonným kódem mohli jste tak taktéž učinit. Jenže pořád je tu problém, pokud z nějakého důvodu potřebujete testovat privátní věci. Sice to je ukázka toho, že něco smrdí, ale stejně se to občas může hodit.

xUnit.net totiž ruší atribut `TestFixture/TestClass` a při spouštění test prohledává všechny třídy na přítomnost metod s atributem `Test`. To nám umožňuje mít testovací metody v jedné třídě společně s výkonným kódem a testovat tak privátní členy bez nutnosti používat reflexi. Když už se k něčemu takovému rozhodnete je dobré ještě využít `partial class` a testy přesunout do samostatného souboru např. `Class.tests.cs`

Soubor SomeClass.cs:
/--code csharp
public partial class SomeClass {
  private bool _isDirty;
  private string _someText;

  public string SomeText {
    set {
      _isDirty = true;
      _someText = value;
    }
  }
}
\--code

Soubor SomeClass.tests.cs
/--code csharp
public partial class SomeClass {
  [Test]
  private void SettingSomeTextMakesSomeClassDirty() {
    var testInstance = new SomeCLass();
    Assert.False(testInstance._isDirty);
    testInstance.SomeTest = "text";
    Assert.True(testInstance._isDirty);
  }
}
\--code

Také je celkem dobré nechat takové testovací metody skryté před vnějším světem, tak že jim nastavíme modifikátor viditelnosti na `private`. xUnit.net umí spouštět i privátní a interní metody za účelem testování (platí pro beta2 a novější).

Osobně se mi tento framework velice líbí a už jsem na něj přepsal "testy pro Texy.net":[http://www.codeplex.com/texynet/SourceControl/ListDownloadableCommits.aspx].

[xunit]: http://www.codeplex.com/xunit xUnit.net
[rhino mock]: http://www.ayende.com/projects/rhino-mocks.aspx Rhino Mocks
</raw>
    <author>Aleš Roubíček</author>
    <published>2007-10-07T19:35:28.923</published>
    <url>novy-unit-test-framework-pro-dotnet</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>xunit untitesting rhinomocks</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:21:42.263</edited>
  </article>
  <article>
    <id>229</id>
    <title>Castle RC3 a Microsoft MVC</title>
    <description>Vůbec jsem si toho nevšiml, ale RC3 verze Castle je již několik týdnů venku. Microsoft chystá vlastní MVC framework.</description>
    <html xml:space="preserve">
&lt;p&gt;Vůbec jsem si toho nevšiml, ale RC3 verze Castle je již několik týdnů
venku. Stáhnout si jí můžete &lt;a
href="http://switch.dl.sourceforge.net/sourceforge/castleproject/CastleProject-1.0-RC3.msi"&gt;ze
SourceForge&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Další zajímavou zprávou je. že Microsoft pracuje na vlastním ASP.NET
MVC frameworku, který bude umožňovat plnou testovatelnost, IoC kontejnery,
ASPX jako view bez ViewState a Page lifecyklu a spoustu zajímavých vychytávek
využívajících generika a nové možnosti C#3. První CTP by se měla objevit
do konce roku a releas někdy na jaře roku příštího. Release by měl být
podobný jako AJAX Extensions, časem se pak zařadí přímo do .net
frameworku.&lt;/p&gt;

&lt;p&gt;Zajímavý je pohled vývojářů MonoRailu. Vítají zdravou konkurenci a
podle všeho se budou snažit využít všech výhod ASP.NET MVC a MonoRail
budovat dále nad ním.&lt;/p&gt;

&lt;h3 id="toc-souvisejici"&gt;Související&lt;/h3&gt;

&lt;ul&gt;
	&lt;li&gt;Scott Guthrie: &lt;a
	href="http://weblogs.asp.net/scottgu/archive/2007/10/14/asp-net-mvc-framework.aspx"&gt;ASP.NET
	MVC Framework&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a href="/weblog/222-monorail-instalace.aspx"&gt;Monarail –
	Instalace&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;Scott Hanselman: &lt;a
	href="http://feeds.feedburner.com/~r/ScottHanselman/~3/167273939/ScottGuMVCPresentationAndScottHaScreencastFromALTNETConference.aspx"&gt;ScottGu
	MVC Presentation and ScottHa Screencast from ALT.NET Conference&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;Jeffrey Palermo: &lt;a
	href="http://codebetter.com/blogs/jeffrey.palermo/archive/2007/10/05/altnetconf-scott-guthrie-announces-asp-net-mvc-framework-at-alt-net-conf.aspx"&gt;Scott
	Guthrie announces ASP.NET MVC framework at Alt.Net Conf&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;Phil Haack: &lt;a
	href="http://haacked.com/archive/2007/09/17/why-is-microsoft-removing-my-mvp-status.aspx"&gt;Why
	Is Microsoft Removing My MVP Status?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Vůbec jsem si toho nevšiml, ale RC3 verze Castle je již několik týdnů venku. Stáhnout si jí můžete "ze SourceForge":[http://switch.dl.sourceforge.net/sourceforge/castleproject/CastleProject-1.0-RC3.msi].

Další zajímavou zprávou je. že Microsoft pracuje na vlastním ASP.NET MVC frameworku, který bude umožňovat plnou testovatelnost, IoC kontejnery, ASPX jako view bez ViewState a Page lifecyklu a spoustu zajímavých vychytávek využívajících generika a nové možnosti C#3. První CTP by se měla objevit do konce roku a releas někdy na jaře roku příštího. Release by měl být podobný jako AJAX Extensions, časem se pak zařadí přímo do .net frameworku.

Zajímavý je pohled vývojářů MonoRailu. Vítají zdravou konkurenci a podle všeho se budou snažit využít všech výhod ASP.NET MVC a MonoRail budovat dále nad ním.

== Související
* Scott Guthrie: "ASP.NET MVC Framework":[http://weblogs.asp.net/scottgu/archive/2007/10/14/asp-net-mvc-framework.aspx]
* "Monarail - Instalace":[/weblog/222-monorail-instalace.aspx]
* Scott Hanselman: "ScottGu MVC Presentation and ScottHa Screencast from ALT.NET Conference":[http://feeds.feedburner.com/~r/ScottHanselman/~3/167273939/ScottGuMVCPresentationAndScottHaScreencastFromALTNETConference.aspx]
* Jeffrey Palermo: "Scott Guthrie announces ASP.NET MVC framework at Alt.Net Conf":[http://codebetter.com/blogs/jeffrey.palermo/archive/2007/10/05/altnetconf-scott-guthrie-announces-asp-net-mvc-framework-at-alt-net-conf.aspx]
* Phil Haack: "Why Is Microsoft Removing My MVP Status?":[http://haacked.com/archive/2007/09/17/why-is-microsoft-removing-my-mvp-status.aspx]</raw>
    <author>Aleš Roubíček</author>
    <published>2007-10-09T07:48:31.907</published>
    <url>castle-rc3-a-microsoft-mvc</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>castle activerecord monorail mvc ajax ioc windsor aspnet</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:19:41.370</edited>
  </article>
  <article>
    <id>230</id>
    <title>Microsoft koupil licenci od Eolas</title>
    <description>Microsoft koupil licenci od Eolas, což znamená, že již brzy z Internet Eploreru zmizí ono otravné "Click to activate" u emebeded prvků na stránce.</description>
    <html xml:space="preserve">
&lt;p&gt;Microsoft koupil licenci od Eolas, což znamená, že již brzy z Internet
Eploreru zmizí ono otravné „Click to activate“ u emebeded prvků na
stránce.&lt;/p&gt;

&lt;p&gt;Toto chování se objevilo v březnu loňského roku, kdy přišla firma
Eolas s tím, že má patentovaný způsob vkládání pluginů do stránky,
který používá Internet Explorer, a že to tak nesmí být. Microsoft proto
vydal update, který vyžadoval, aby každý prvek vkládaný přes tagy
&lt;code&gt;applet&lt;/code&gt;, &lt;code&gt;object&lt;/code&gt; a &lt;code&gt;embed&lt;/code&gt; byl aktivovaný
uživatelem pomocí kliknutí.&lt;/p&gt;

&lt;p&gt;Existuje tu však možnost vkládat embed prvky přes JavaScript bez nutnosti
aktivace. Dokonce existuje několik volně dostupných skriptů (např. &lt;a
href="http://knowhow.dgx.cz/eolas-workaround/"&gt;od DGX&lt;/a&gt;), které stačí
vložit do stránky a ty vyjmou všechny embed prvky z html a opět je vloží
pomocí scriptu, čímž je problém prakticky vyřešen. Ale udivuje mne, že
to skoro nikdo nepoužívá.&lt;/p&gt;

&lt;p&gt;V prosinci by měla vyjít aktualizace, která toto chování opět vrátí
do stavu před březnem 2006.&lt;/p&gt;

&lt;h3 id="toc-souvisejici"&gt;Související&lt;/h3&gt;

&lt;ul&gt;
	&lt;li&gt;David Grudl: &lt;a
	href="http://latrine.dgx.cz/jak-obejit-aktivovani-pluginu-v-ie"&gt;Jak obejít
	aktivování pluginů v IE&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;Pete LePage: &lt;a
	href="http://blogs.msdn.com/ie/archive/2007/11/08/ie-automatic-component-activation-changes-to-ie-activex-update.aspx"&gt;IE
	Automatic Component Activation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Microsoft koupil licenci od Eolas, což znamená, že již brzy z Internet Eploreru zmizí ono otravné "Click to activate" u emebeded prvků na stránce.

Toto chování se objevilo v březnu loňského roku, kdy přišla firma Eolas s tím, že má patentovaný způsob vkládání pluginů do stránky, který používá Internet Explorer, a že to tak nesmí být. Microsoft proto vydal update, který vyžadoval, aby každý prvek vkládaný přes tagy `applet`, `object` a `embed` byl aktivovaný uživatelem pomocí kliknutí.

Existuje tu však možnost vkládat embed prvky přes JavaScript bez nutnosti aktivace. Dokonce existuje několik volně dostupných skriptů (např. "od DGX":[eolas]), které stačí vložit do stránky a ty vyjmou všechny embed prvky z html a opět je vloží pomocí scriptu, čímž je problém prakticky vyřešen. Ale udivuje mne, že to skoro nikdo nepoužívá.

V prosinci by měla vyjít aktualizace, která toto chování opět vrátí do stavu před březnem 2006.

Související
===========

* David Grudl: [dgx]
* Pete LePage: [activation]

[eolas]: http://knowhow.dgx.cz/eolas-workaround/
[dgx]: http://latrine.dgx.cz/jak-obejit-aktivovani-pluginu-v-ie Jak obejít aktivování pluginů v IE
[activation]: http://blogs.msdn.com/ie/archive/2007/11/08/ie-automatic-component-activation-changes-to-ie-activex-update.aspx IE Automatic Component Activation</raw>
    <author>Aleš Roubíček</author>
    <published>2007-11-09T10:09:46.260</published>
    <url>microsoft-koupil-licenci-od-eolas</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>ie eolas plugin</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:18:48.340</edited>
  </article>
  <article>
    <id>231</id>
    <title>Jak na PHP ve Vistě</title>
    <description>Možná už jste přešli na Vistu, nebo o tom přemýšlíte, a chtěli byste si zprovoznit PHP. Samozřejmě je tu možnost použít bundle s Apachem (neověřeno), ale tento článek bude o tom, jak to udělat na IIS 7.</description>
    <html xml:space="preserve">
&lt;p&gt;Možná už jste přešli na Vistu, nebo o tom přemýšlíte, a chtěli
byste si zprovoznit PHP. Samozřejmě je tu možnost použít bundle s Apachem
(neověřeno), ale tento článek bude o tom, jak to udělat na IIS 7.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Upozornění:&lt;/strong&gt; Následující postup vám &lt;em&gt;nebude
fungovat&lt;/em&gt; na &lt;strong&gt;Home Basic&lt;/strong&gt; edici Windows Vista, protože její
součástí je pouze omezené &lt;acronym
title="Internet Information Services"&gt;IIS&lt;/acronym&gt; pro provoz &lt;acronym
title="Windows Communication Foundation"&gt;WCF&lt;/acronym&gt;.&lt;/p&gt;

&lt;p&gt;Microsoft a Zend nedávno podepsali dohodu o vzájemné podpoře, výsledkem
je nový FastCGI modul pro IIS, na kterém by mělo PHP běžet stejně, ne-li
lépe než na Apache. Na druhou stranu je tu podpora MS SQL pro PHP. Takže
první plody tu máme a myslím, že k oboustranné spokojenosti.&lt;/p&gt;

&lt;h3 id="toc-instalace-iis"&gt;Instalace IIS&lt;/h3&gt;

&lt;p&gt;Pokud ještě nemáte na Vistě IIS nainstalované, je tu vhodná chvíle to
napravit. Otevřete si &lt;em&gt;Control panel&lt;/em&gt; \ &lt;em&gt;Programs&lt;/em&gt; a v sekci
&lt;em&gt;Program and Features&lt;/em&gt; klikněte na &lt;strong&gt;Turn Windows features on or
off&lt;/strong&gt;. Otevře se vám následující okno, kde zaškrtnete podporu CGI
(není od věci si zapnout i ASP.NET, když už jsme tady).&lt;/p&gt;

&lt;div&gt;&lt;img src="/data/obrazky/iis_features.gif" alt="nastavení komponent"
/&gt;&lt;/div&gt;

&lt;p&gt;Pokud chcete konzolu pro správu IIS najdete ji ve &lt;em&gt;Web Management
Tools&lt;/em&gt;, je tam jak stará šestková, tak nová sedmičková. Ale pro náši
potřebu není bezpodmínečně nut­ná.&lt;/p&gt;

&lt;p&gt;Po odkliknutí tlačítka &lt;strong&gt;OK&lt;/strong&gt; budete pravděpodobně vyzváni
k restartu systému.&lt;/p&gt;

&lt;h3 id="toc-instalace-php"&gt;Instalace PHP&lt;/h3&gt;

&lt;p&gt;Pokud tedy máme IIS nainstalováno, přejdeme k instalaci PHP.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;&lt;a href="http://www.php.net/downloads.php"&gt;Stáhněte&lt;/a&gt; si zip balíček
	&lt;em&gt;Non-thread-safe Win32 binaries&lt;/em&gt;.&lt;/li&gt;

	&lt;li&gt;Balíček rozbalte např. do &lt;code&gt;C:\PHP&lt;/code&gt;.&lt;/li&gt;

	&lt;li&gt;Přejmenujte soubor &lt;code&gt;php.ini-recommended&lt;/code&gt; na
	&lt;code&gt;php.ini&lt;/code&gt;.&lt;/li&gt;

	&lt;li&gt;Upravte následující klíče:
		&lt;ul&gt;
			&lt;li&gt;&lt;code&gt;register_long_arrays = on&lt;/code&gt;&lt;/li&gt;

			&lt;li&gt;&lt;code&gt;extension_dir = "C:\PHP\ext"&lt;/code&gt;&lt;/li&gt;
		&lt;/ul&gt;
	&lt;/li&gt;

	&lt;li&gt;Soubor uložte.&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id="toc-instalace-fastcgi"&gt;Instalace FastCGI&lt;/h3&gt;

&lt;p&gt;FastCGI je novinkou IIS7, ale není ještě ve Vistě (bude až
v 2008 Serveru a možná i v Service Packu pro Vistu, který by měl vyjít
současně se serverem), proto je nutné ho doinstalovat.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Stáhněte si zip balíček pro &lt;a
	href="http://www.iis.net/default.aspx?tabid=1000052"&gt;x86&lt;/a&gt; nebo &lt;a
	href="http://www.iis.net/default.aspx?tabid=1000055"&gt;x64&lt;/a&gt; podle toho na jaké
	jste platformě.&lt;/li&gt;

	&lt;li&gt;Rozblate ho např. do &lt;code&gt;C:\PHP\FastCGI\&lt;/code&gt;&lt;/li&gt;

	&lt;li&gt;Otevřete si příkazovou řádku (Win+“cmd“).&lt;/li&gt;

	&lt;li&gt;Pokračujte následovně:&lt;/li&gt;
&lt;/ol&gt;

&lt;pre
class="console"&gt;&lt;code&gt;C:\Users\rarous\Downloads&amp;gt;cd c:\php\fastcgi

c:\php\FastCGI&amp;gt;fcgisetup /install
Stopping IIS services ...
Copied files
Registered FastCGI configuration section
Installed FastCGI module
Starting IIS services ...
Success: Installation completed succesfully

c:\php\FastCGI&amp;gt;fcgisetup /add c:\php\php-cgi.exe PHP
Configured FastCGI pool
Created handler mappings
Success: Installation completed succesfully&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Tím by mělo být hotovo. Pro ověření funkčnosti si vytvořte v
&lt;code&gt;c:\inetpub\wwwroot\&lt;/code&gt; soubor &lt;code&gt;index.php&lt;/code&gt; do kterého
zadáte následující kód:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-php"&gt;&amp;lt;?php phpinfo(); ?&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Uložíte a do browseru zadáte adresu
&lt;code&gt;http://localhost/index.php&lt;/code&gt;. Měla by se objevit standardní
stránka s výpisem konfigurace PHP. Pro dnešek vše :)&lt;/p&gt;

&lt;p&gt;PS. FastCGI se dá doinstalovat i do &lt;a
href="http://www.iis.net/go/1521"&gt;IIS 6&lt;/a&gt; na Windows 2003.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Možná už jste přešli na Vistu, nebo o tom přemýšlíte, a chtěli byste si zprovoznit PHP. Samozřejmě je tu možnost použít bundle s Apachem (neověřeno), ale tento článek bude o tom, jak to udělat na IIS 7.

**Upozornění:** Následující postup vám *nebude fungovat* na **Home Basic** edici Windows Vista, protože její součástí je pouze omezené IIS((Internet Information Services)) pro provoz WCF((Windows Communication Foundation)).

Microsoft a Zend nedávno podepsali dohodu o vzájemné podpoře, výsledkem je nový FastCGI modul pro IIS, na kterém by mělo PHP běžet stejně, ne-li lépe než na Apache. Na druhou stranu je tu podpora MS SQL pro PHP. Takže první plody tu máme a myslím, že k oboustranné spokojenosti.

Instalace IIS
=============

Pokud ještě nemáte na Vistě IIS nainstalované, je tu vhodná chvíle to napravit. Otevřete si *Control panel* \ *Programs* a v sekci *Program and Features* klikněte na **Turn Windows features on or off**. Otevře se vám následující okno, kde zaškrtnete podporu CGI (není od věci si zapnout i ASP.NET, když už jsme tady).

[* /data/obrazky/iis_features.gif .(nastavení komponent)*]

Pokud chcete konzolu pro správu IIS najdete ji ve *Web Management Tools*, je tam jak stará šestková, tak nová sedmičková. Ale pro náši potřebu není bezpodmínečně nutná.

Po odkliknutí tlačítka **OK** budete pravděpodobně vyzváni k restartu systému.

Instalace PHP
=============

Pokud tedy máme IIS nainstalováno, přejdeme k instalaci PHP.

1.  Stáhněte:[php] si zip balíček *Non-thread-safe Win32 binaries*.
2.  Balíček rozbalte např. do `C:\PHP`.
3.  Přejmenujte soubor `php.ini-recommended` na `php.ini`.
4.  Upravte následující klíče:
 -  `register_long_arrays = on`
 -  `extension_dir = "C:\PHP\ext"`
5.  Soubor uložte.

Instalace FastCGI
=================

FastCGI je novinkou IIS7, ale není ještě ve Vistě (bude až v 2008 Serveru a možná i v Service Packu pro Vistu, který by měl vyjít současně se serverem), proto je nutné ho doinstalovat.

1.  Stáhněte si zip balíček pro x86:[fastcgi86]  nebo x64:[fastcgi64] podle toho na jaké jste platformě.
2.  Rozblate ho např. do `C:\PHP\FastCGI\`
3.  Otevřete si příkazovou řádku (Win+“cmd“).
4.  Pokračujte následovně:

/---code console
C:\Users\rarous\Downloads&gt;cd c:\php\fastcgi

c:\php\FastCGI&gt;fcgisetup /install
Stopping IIS services ...
Copied files
Registered FastCGI configuration section
Installed FastCGI module
Starting IIS services ...
Success: Installation completed succesfully

c:\php\FastCGI&gt;fcgisetup /add c:\php\php-cgi.exe PHP
Configured FastCGI pool
Created handler mappings
Success: Installation completed succesfully
\---code

Tím by mělo být hotovo. Pro ověření funkčnosti si vytvořte v `c:\inetpub\wwwroot\` soubor `index.php` do kterého zadáte následující kód:

/---code php
&lt;?php phpinfo(); ?&gt;
\---code

Uložíte a do browseru zadáte adresu `http://localhost/index.php`. Měla by se objevit standardní stránka s výpisem konfigurace PHP. Pro dnešek vše :)

PS. FastCGI se dá doinstalovat i do "IIS 6":[fastcgi-iis6] na Windows 2003.

[fastcgi86]: http://www.iis.net/default.aspx?tabid=1000052
[fastcgi64]: http://www.iis.net/default.aspx?tabid=1000055
[fastcgi-iis6]: http://www.iis.net/go/1521
[php]: http://www.php.net/downloads.php
</raw>
    <author>Aleš Roubíček</author>
    <published>2007-11-15T08:10:06.960</published>
    <url>jak-na-php-ve-viste</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>php windows vista iis7 tutorial fastcgi</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:17:52.010</edited>
  </article>
  <article>
    <id>232</id>
    <title>Alessio Busta - Toca Apocalypsa</title>
    <description>Po delší době zase nějaký setík od Alessia.</description>
    <html xml:space="preserve">
&lt;ol&gt;
	&lt;li&gt;Pryda – Balaton&lt;/li&gt;

	&lt;li&gt;Fragma – Toca Me (Inpetto Remix)&lt;/li&gt;

	&lt;li&gt;Gat Decor – Passion (Dave Spoon Mix)&lt;/li&gt;

	&lt;li&gt;Arno Cost &amp;amp; Norman Doray – Apocalypse&lt;/li&gt;

	&lt;li&gt;John Shelvin – In My Eyes (Funkagenda's Sha­kin' Malcom Mix)&lt;/li&gt;

	&lt;li&gt;Splittr – All Alone (Michael Gray Remix)&lt;/li&gt;

	&lt;li&gt;D.O.N.S. &amp;amp; DBN feat. Kadoc – The Nighttrain (Original Mix)&lt;/li&gt;

	&lt;li&gt;Hardsoul – Self Religion (Believe In Me) (Mark Knight Remix)&lt;/li&gt;

	&lt;li&gt;Toby Montana &amp;amp; Lützenkirchen – Last Night In Vegas (Paolo
	Mojo Mix)&lt;/li&gt;

	&lt;li&gt;Axwell feat. Charles Salter – I Found U (Dubfire's Summer of
	Dub Remix)&lt;/li&gt;

	&lt;li&gt;Laidback Luke – Down With The Mustard (Original Mix)&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Ke stažení &lt;a
href="http://rarousmusic.com/mp3/alessio_busta_-_toca_apocalypsa-rm.mp3"
onclick="javascript:_gat._getTracker("&gt;Alessio Busta – Toca Apocalypsa&lt;/a&gt;
(MP3 128 kbps; 72,1 MiB)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">1.  Pryda - Balaton
2.  Fragma - Toca Me (Inpetto Remix)
3.  Gat Decor - Passion (Dave Spoon Mix)
4.  Arno Cost &amp; Norman Doray - Apocalypse
5.  John Shelvin - In My Eyes (Funkagenda's Shakin' Malcom Mix)
6.  Splittr - All Alone (Michael Gray Remix)
7.  D.O.N.S. &amp; DBN feat. Kadoc - The Nighttrain (Original Mix)
8.  Hardsoul - Self Religion (Believe In Me) (Mark Knight Remix)
9.  Toby Montana &amp; Lützenkirchen - Last Night In Vegas (Paolo Mojo Mix)
10.  Axwell feat. Charles Salter - I Found U (Dubfire's Summer of Dub Remix)
11.  Laidback Luke - Down With The Mustard (Original Mix)

Ke stažení &lt;a href="http://rarousmusic.com/mp3/alessio_busta_-_toca_apocalypsa-rm.mp3" onClick="javascript:_gat._getTracker("UA-90726-1")._trackPageview('/files/alessio_busta_-_toca_apocalypsa-rm.mp3');"&gt;Alessio Busta - Toca Apocalypsa&lt;/a&gt; (MP3 128 kbps; 72,1 MiB)</raw>
    <author>alessio busta</author>
    <published>2007-11-22T10:52:15.713</published>
    <url>alessio-busta-toca-apocalypsa</url>
    <category>Muzika</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-06-23T14:11:51.977</edited>
  </article>
  <article>
    <id>233</id>
    <title>Chyba v kompilátoru C# 3.0</title>
    <description>Po prvních dnech s novým Visual Studiem 2008 jsem narazil na menší problém v kompilátoru C# 3.0.</description>
    <html xml:space="preserve">
&lt;p&gt;Po prvních dnech s novým Visual Studiem 2008 jsem narazil na menší
problém v kompilátoru C# 3.0. Když jsem si v práci otevřel náš Opus,
nešel zkompilovat, ačkoli v 2005 je vše ok. Problém byl v tom, že nový
kompilátor má problémy rozpoznat plné nesystémové namespacy a tak např.
zápis &lt;code&gt;Atlas.Web...&lt;/code&gt; chápe jako
&lt;code&gt;Atlas.Opus.Atlas.Web...&lt;/code&gt;. Takový namespace neexistuje a pak nejde
kód zkompilovat.&lt;/p&gt;

&lt;p&gt;Ukázka zkráceného kódu, kde může nastat chyba:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;namespace Atlas.Opus.Web {
  public class SomeClass {
    // nejaky kod tridy
    var value = Atlas.Web.Utils.Config.GetInt32("key"); // tady
    // dalsi kod tridy
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Řešení se nabízejí přinejmenším dvě.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Použít globální identifikátor např. &lt;code&gt;global::Atlas.Web...&lt;/code&gt;,
	čímž se problém vyřeší, ale zápis je ještě o kousek delší, než by
	musel být.&lt;/li&gt;

	&lt;li&gt;Tam, kde to jde, použít &lt;code&gt;using&lt;/code&gt; namespace.&lt;/li&gt;

	&lt;li&gt;Tam, kde hrozí kolize názvů tříd, použít aliasy pomocí klíčového
	slova &lt;code&gt;using&lt;/code&gt; např. &lt;code&gt;using utils = Atlas.Web.Utils;&lt;/code&gt; a
	v kódu pak upravit volání na &lt;code&gt;utils::Config...&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Je to docela zajímavá vlastnost, že nová verze kompilátoru interpretuje
namespacy jinak než předchozí verze. Naneštěstí je to vlastnost nepěkná
a přináší v některých případech práci navíc.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Po prvních dnech s novým Visual Studiem 2008 jsem narazil na menší problém v kompilátoru C# 3.0. Když jsem si v práci otevřel náš Opus, nešel zkompilovat, ačkoli v 2005 je vše ok. Problém byl v tom, že nový kompilátor má problémy rozpoznat plné nesystémové namespacy a tak např. zápis `Atlas.Web...` chápe jako `Atlas.Opus.Atlas.Web...`. Takový namespace neexistuje a pak nejde kód zkompilovat.

Ukázka zkráceného kódu, kde může nastat chyba:
/--code csharp
namespace Atlas.Opus.Web {
  public class SomeClass {
    // nejaky kod tridy
    var value = Atlas.Web.Utils.Config.GetInt32("key"); // tady
    // dalsi kod tridy
  }
}
\--code


Řešení se nabízejí přinejmenším dvě.

1.  Použít globální identifikátor např. `global::Atlas.Web...`, čímž se problém vyřeší, ale zápis je ještě o kousek delší, než by musel být.
2.  Tam, kde to jde, použít `using` namespace.
3.  Tam, kde hrozí kolize názvů tříd, použít aliasy pomocí klíčového slova `using` např. `using utils = Atlas.Web.Utils;` a v kódu pak upravit volání na `utils::Config...`.

Je to docela zajímavá vlastnost, že nová verze kompilátoru interpretuje namespacy jinak než předchozí verze. Naneštěstí je to vlastnost nepěkná a přináší v některých případech práci navíc.</raw>
    <author>Aleš Roubíček</author>
    <published>2007-11-27T11:28:04.070</published>
    <url>chyba-v-kompilatoru-csharp30</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>csharp compilator</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:16:13.870</edited>
  </article>
  <article>
    <id>234</id>
    <title>Problem ActiveRecord se SQL CE</title>
    <description>Píšu takovou malou aplikaci, která používá SQL Compact Edition pro ukládání dat a Castle ActiveRecord jako persistenční vrstvu. Očekával jsem, bezproblémové použití, ale chyba lávky. </description>
    <html xml:space="preserve">
&lt;p&gt;Píšu takovou malou aplikaci, která používá SQL Compact Edition pro
ukládání dat a Castle ActiveRecord jako persistenční vrstvu. Očekával
jsem, bezproblémové použití, ale chyba lávky. To bych přišel o námět
na tenhle spot.&lt;/p&gt;

&lt;p&gt;Napoprvé jsem chtěl využít služeb LINQ to SQL, ale ten si s SQL CE moc
nerozumí (tj. vůbec). Tak jsem tedy sáhl po ActiveRecord o kterém jsem
četl, že se SQL CE umí (díky NHibernatu). Přidal jsem DB do projektu,
nastavil konfiguraci následujícně:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;activerecord&amp;gt;
  &amp;lt;config&amp;gt;
    &amp;lt;add key="hibernate.dialect"
         value="NHibernate.Dialect.MsSqlCeDialect" /&amp;gt;
    &amp;lt;add key="hibernate.connection.driver_class"
         value="NHibernate.Driver.SqlServerCeDriver" /&amp;gt;
    &amp;lt;add key="hibernate.connection.provider"
         value="NHibernate.Connection.DriverConnectionProvider" /&amp;gt;
    &amp;lt;add key="hibernate.connection.connection_string"
         value="Data Source=DbFile.sdf;" /&amp;gt;
  &amp;lt;/config&amp;gt;
&amp;lt;/activerecord&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Spustím testy. Nic, spadlo to na výjimce, že NHibernate nemůže vytvořit
Driver pro SQL CE. Po chvilce hledání jsem našel, že se musí u reference
na &lt;code&gt;Syste.Data.SqlServerCe&lt;/code&gt; nastavit vlastnost &lt;strong&gt;Copy
Local&lt;/strong&gt; na &lt;em&gt;True&lt;/em&gt; a to i u testovacího projektu!&lt;/p&gt;

&lt;p&gt;Tak jsem zas o něco chytřejší :)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Píšu takovou malou aplikaci, která používá SQL Compact Edition pro ukládání dat a Castle ActiveRecord jako persistenční vrstvu. Očekával jsem, bezproblémové použití, ale chyba lávky. To bych přišel o námět na tenhle spot.

Napoprvé jsem chtěl využít služeb LINQ to SQL, ale ten si s SQL CE moc nerozumí (tj. vůbec). Tak jsem tedy sáhl po ActiveRecord o kterém jsem četl, že se SQL CE umí (díky NHibernatu). Přidal jsem DB do projektu, nastavil konfiguraci následujícně:

/--code xml
&lt;activerecord&gt;
  &lt;config&gt;
    &lt;add key="hibernate.dialect"
         value="NHibernate.Dialect.MsSqlCeDialect" /&gt;
    &lt;add key="hibernate.connection.driver_class"
         value="NHibernate.Driver.SqlServerCeDriver" /&gt;
    &lt;add key="hibernate.connection.provider"
         value="NHibernate.Connection.DriverConnectionProvider" /&gt;
    &lt;add key="hibernate.connection.connection_string"
         value="Data Source=DbFile.sdf;" /&gt;
  &lt;/config&gt;
&lt;/activerecord&gt;
\--code

Spustím testy. Nic, spadlo to na výjimce, že NHibernate nemůže vytvořit Driver pro SQL CE. Po chvilce hledání jsem našel, že se musí u reference na `Syste.Data.SqlServerCe` nastavit vlastnost **Copy Local** na *True* a to i u testovacího projektu!

Tak jsem zas o něco chytřejší :)
</raw>
    <author>Aleš Roubíček</author>
    <published>2007-11-27T20:17:43.537</published>
    <url>problem-se-sql-server-compact-edition</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>castle activerecord sqlce sql</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:15:27.433</edited>
  </article>
  <article>
    <id>235</id>
    <title>Intellisense JavaScriptu ve VS 2008</title>
    <description>Jednou z novinek nového Visual Studia je nesrovnatelně lepší Intellisense pro psaní JavaScriptů. Pojďme si ji trochu přiblížit na následujících řádcích.</description>
    <html xml:space="preserve">
&lt;p&gt;Jednou z novinek &lt;a href="http://go.microsoft.com/?linkid=7729281"&gt;nového
Visual Studia&lt;/a&gt; je nesrovnatelně lepší Intellisense pro psaní
JavaScriptů. Pojďme si ji trochu přiblížit na následujících
řádcích.&lt;/p&gt;

&lt;p&gt;Kdysi byl pro mě JavaScript odporným jazykem bez ladu a skladu.
Přibližně před rokem, se začala psát nová verze &lt;a
href="http://www.amapy.cz/"&gt;AMap&lt;/a&gt; postavená na &lt;a
href="http://www.mapi.cz/"&gt;API&lt;/a&gt; a frameworku &lt;a
href="http://www.mootools.net/"&gt;Mootools&lt;/a&gt;. V rámci interního
vzdělávání nás Dan zasvětil do tajů JavaScriptu a já pomalu začal
objevovat jeho kouzlo. V průběh února jsem potřeboval psát nějaké
AJAXové věci, a tak nastal čas se JavaScript naučit.&lt;/p&gt;

&lt;p&gt;Zjistil jsem, že s MooToolama je to celkem sranda a postupem času člověk
začne chápat víc a víc v různých souvislostech. Čím víc toho pak
píše, začne se poohlížet po něčem, co by mu psaní ulehčilo. Zkoušel
jsem &lt;a href="http://www.aptana.com/"&gt;Aptanu&lt;/a&gt;, ale ta mi moc nepomáhala,
protože MooTooly neuměla. Zkoušel jsem i beta verze Orcasu, ale stejně to
nebylo ono, aspoň mi to teď tak připadá…&lt;/p&gt;

&lt;p&gt;Zkrátka, za poslední dva týdny jsem napsal JavaScriptu docela kopec, a
poslední týden ve VS2008, takže můžu bezprostředně porovnat. No prostě
s ním je to lepší. Konec románů a teď k věci.&lt;/p&gt;

&lt;h3 id="toc-intellisense"&gt;Intellisense&lt;/h3&gt;

&lt;p&gt;Intellisense se nově objevuje po prvním napsaném písmenku, ne až po
tečce jako v předchozí verzi. Nabízí i klíčová slova, takže funguje
moje oblíbené &lt;code&gt;ret&lt;/code&gt; mezera. Okénky intellisense jde
i zprůhlednit, pokud potřebujete kouknout na kód, který je pod ním.
Stačí podržet klávesu &lt;strong&gt;CTRL&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Intellisense je plněna parserem přilinkovaných JavaScriptů. Parser je
podle mého názoru, ještě trošku v pubertě. Pokud píšete script,
dokáže interpretovat, pouze to, co je před kurzorem. I když používá
značnou cache, nedokáže vám nabídnout funkce, které jsou až dál.&lt;/p&gt;

&lt;p&gt;Jelikož je JavaScript dynamicky typovaný, je tu občas problém, že parser
nerozpozná aktuální typ a tak vám intellisense nenabídne nic. :) Toto
chování by se dalo značně minimalizovat díky dokumentačním komentářům,
kde se např. u parametrů dají nastavit datové typy. Snad
v příští verzi.&lt;/p&gt;

&lt;h3 id="toc-dokumentacni-komentare"&gt;Dokumentační komentáře&lt;/h3&gt;

&lt;p&gt;Aby byla intellisense živena kvalitním obsahem, přichází nové studio
s dokumentačními komentáři, ve stylu jak je známe v C#, také
v JavaScriptu. Hlavní rozdíl je, že se komentáře píší do těla funkce,
nikoli před ní. A je tu i další chybka parseru, nedokáže zobrazovat
v intellisense obsah dokumentace ze stejného souboru.&lt;/p&gt;

&lt;p&gt;Jak tedy takové komentáře vypadají? Následovně:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-javascript"&gt;function add(node) {
  /// &amp;lt;summary&amp;gt;Přidá uzel do stromu.&amp;lt;/summary&amp;gt;
  /// &amp;lt;param name="node" type="TreeNode"&amp;gt;Uzel.&amp;lt;/param&amp;gt;
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Dokumentační tag &lt;code&gt;summary&lt;/code&gt; přidá popis funkce, v praxi to
vypadá asi následovně:&lt;/p&gt;

&lt;div&gt;&lt;img src="/data/obrazky/vs_js_summary.png" alt="" /&gt;&lt;/div&gt;

&lt;p&gt;Tag &lt;code&gt;param&lt;/code&gt; popisuje parametr funkce a v tomto případě i jeho
typ. Opět ukázka:&lt;/p&gt;

&lt;div&gt;&lt;img src="/data/obrazky/vs_js_param.png" alt="" /&gt;&lt;/div&gt;

&lt;h3 id="toc-reference-na-scripty"&gt;Reference na scripty&lt;/h3&gt;

&lt;p&gt;Pokud píšete něco většího, neobejdete se bez extrahování scriptů do
samostatných souborů. V tom případě, ale intellisense neví, co je
v ostatních souborech, a moc nám toho neukáže. Naštěstí je tu
pseudodokumentační tag &lt;code&gt;reference&lt;/code&gt; pomocí něhož se jde odkazovat
na další scripty, jejichž kód využíváme (tradičně JS frameworky), nebo
dokonce i na &lt;code&gt;ScriptService&lt;/code&gt; v projektu. Užití může být
následující:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-javascript"&gt;/// &amp;lt;reference path="mootools.js" /&amp;gt;
/// &amp;lt;reference path="/services/ajax.svc" /&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Tento kód napíšeme na začátku souboru a studio už bude vědět. Občas
se mi ale stává, že pokud provedu změnu v referencovaném souboru, změna
se v intellisense neprojeví. Za vinu to kladu cacheování. Zatím 100%
řešením, zdá se, je soubor zavřít a znovu otevřít. Po přeparsování
už by měla být intellisense aktuální.&lt;/p&gt;

&lt;h3 id="toc-uzaver"&gt;Uzávěr&lt;/h3&gt;

&lt;p&gt;Jak už jsem psal na začátku, podpora JavaScriptu ve Visual Studiu
pokročila o pořádný kus dopředu, přesto má ale ještě pár much, které
by stálo za to vychytat. S ohledem na to, jak Microsoft podporuje vývoj
interpretů a kompilátorů pro dynamické jazyky, doufám, že se jejich
podpora ve VS ještě zlepší.&lt;/p&gt;

&lt;h3 id="toc-souvisejici"&gt;Související&lt;/h3&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a
	href="http://blogs.msdn.com/webdevtools/archive/2007/11/06/jscript-intellisense-a-reference-for-the-reference-tag.aspx"&gt;JScript
	IntelliSense: A Reference for the “Reference” Tag&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a
	href="http://weblogs.asp.net/bleroy/archive/2007/04/23/the-format-for-javascript-doc-comments.aspx"&gt;The
	format for JavaScript doc comments&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p style="font-size:75%"&gt;debuged by &lt;a
href="http://www.mishak.net/"&gt;MiSHAK&lt;/a&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Jednou z novinek "nového Visual Studia":[vs2008] je nesrovnatelně lepší Intellisense pro psaní JavaScriptů. Pojďme si ji trochu přiblížit na následujících řádcích.

Kdysi byl pro mě JavaScript odporným jazykem bez ladu a skladu. Přibližně před rokem, se začala psát nová verze AMap:[amapy] postavená na API:[mapi] a frameworku Mootools:[mootools]. V rámci interního vzdělávání nás Dan zasvětil do tajů JavaScriptu a já pomalu začal objevovat jeho kouzlo. V průběh února jsem potřeboval psát nějaké AJAXové věci, a tak nastal čas se JavaScript naučit.

Zjistil jsem, že s MooToolama je to celkem sranda a postupem času člověk začne chápat víc a víc v různých souvislostech. Čím víc toho pak píše, začne se poohlížet po něčem, co by mu psaní ulehčilo. Zkoušel jsem Aptanu:[aptana], ale ta mi moc nepomáhala, protože MooTooly  neuměla. Zkoušel jsem i beta verze Orcasu, ale stejně to nebylo ono, aspoň mi to teď tak připadá...

Zkrátka, za poslední dva týdny jsem napsal JavaScriptu docela kopec, a poslední týden ve VS2008, takže můžu bezprostředně porovnat. No prostě s ním je to lepší. Konec románů a teď k věci.

Intellisense
============

Intellisense se nově objevuje po prvním napsaném písmenku, ne až po tečce jako v předchozí verzi. Nabízí i klíčová slova, takže funguje moje oblíbené `ret` mezera. Okénky intellisense jde i zprůhlednit, pokud potřebujete kouknout na kód, který je pod ním. Stačí podržet klávesu **CTRL**.

Intellisense je plněna parserem přilinkovaných JavaScriptů. Parser je podle mého názoru, ještě trošku v pubertě. Pokud píšete script, dokáže interpretovat, pouze to, co je před kurzorem. I když používá značnou cache, nedokáže vám nabídnout funkce, které jsou až dál.

Jelikož je JavaScript dynamicky typovaný, je tu občas problém, že parser nerozpozná aktuální typ a tak vám intellisense nenabídne nic. :) Toto chování by se dalo značně minimalizovat díky dokumentačním komentářům, kde se např. u parametrů dají nastavit datové typy. Snad v příští verzi.

Dokumentační komentáře
======================

Aby byla intellisense živena kvalitním obsahem, přichází nové studio s dokumentačními komentáři, ve stylu jak je známe v C#, také v JavaScriptu. Hlavní rozdíl je, že se komentáře píší do těla funkce, nikoli před ní. A je tu i další chybka parseru, nedokáže zobrazovat v intellisense obsah dokumentace ze stejného souboru.

Jak tedy takové komentáře vypadají? Následovně:

/--code javascript
function add(node) {
  /// &lt;summary&gt;Přidá uzel do stromu.&lt;/summary&gt;
  /// &lt;param name="node" type="TreeNode"&gt;Uzel.&lt;/param&gt;
}
\--code

Dokumentační tag `summary` přidá popis funkce, v praxi to vypadá asi následovně:

[* /data/obrazky/vs_js_summary.png *]

Tag `param` popisuje parametr funkce a v tomto případě i jeho typ. Opět ukázka:

[* /data/obrazky/vs_js_param.png *]


Reference na scripty
====================

Pokud píšete něco většího, neobejdete se bez extrahování scriptů do samostatných souborů. V tom případě, ale intellisense neví, co je v ostatních souborech, a moc nám  toho neukáže. Naštěstí je tu pseudodokumentační tag `reference` pomocí něhož se jde odkazovat na další scripty, jejichž kód využíváme (tradičně JS frameworky), nebo dokonce i na `ScriptService` v projektu. Užití může být následující:

/--code javascript
/// &lt;reference path="mootools.js" /&gt;
/// &lt;reference path="/services/ajax.svc" /&gt;
\--code

Tento kód napíšeme na začátku souboru a studio už bude vědět. Občas se mi ale stává, že pokud provedu změnu v referencovaném souboru, změna se v intellisense neprojeví. Za vinu to kladu cacheování. Zatím 100% řešením, zdá se, je soubor zavřít a znovu otevřít. Po přeparsování už by měla být intellisense aktuální.

Uzávěr
======

Jak už jsem psal na začátku, podpora JavaScriptu ve Visual Studiu pokročila o pořádný kus dopředu, přesto má ale ještě pár much, které by stálo za to vychytat. S ohledem na to, jak Microsoft podporuje vývoj interpretů a kompilátorů pro dynamické jazyky, doufám, že se jejich podpora ve VS ještě zlepší.

Související
===========
* [reference]
* [comments]

debuged by [mishak] .{font-size: 75%}

[aptana]: http://www.aptana.com/
[amapy]: http://www.amapy.cz/
[mapi]: http://www.mapi.cz/
[mootools]: http://www.mootools.net/
[vs2008]: http://go.microsoft.com/?linkid=7729281

[mishak]: http://www.mishak.net/ MiSHAK
[reference]: http://blogs.msdn.com/webdevtools/archive/2007/11/06/jscript-intellisense-a-reference-for-the-reference-tag.aspx JScript IntelliSense: A Reference for the “Reference” Tag
[comments]: http://weblogs.asp.net/bleroy/archive/2007/04/23/the-format-for-javascript-doc-comments.aspx The format for JavaScript doc comments</raw>
    <author>Aleš Roubíček</author>
    <published>2007-11-30T22:15:59.783</published>
    <url>intellisense-javascriptu-ve-vs-2008</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>intellisense javascript vs vs2008 mootools documentation</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:38:56.300</edited>
  </article>
  <article>
    <id>236</id>
    <title>MVC na ASP.NET – Testování jednotek</title>
    <description>Již delší dobu jsem chtěl napsat článek o tom, proč je MonoRail lepší, když chceme, aby se projekt dal testovat. Jenže vždycky nějak nebyl čas. Navíc se blíží vypuštění ASP.NET MVC, takže nakonec z toho bude trošku obecnější...</description>
    <html xml:space="preserve">
&lt;p&gt;Již delší dobu jsem chtěl napsat článek o tom, proč je MonoRail
lepší, když chceme, aby se projekt dal testovat. Jenže vždycky nějak nebyl
čas. Navíc se blíží vypuštění ASP.NET MVC, takže nakonec z toho bude
trošku obecnější pojednání než jsem původně plánoval.&lt;/p&gt;

&lt;h3 id="toc-webforms-testovani"&gt;WebForms testování&lt;/h3&gt;

&lt;p&gt;Než si ukážeme jak snadné je testovat MVC, nejprve si povíme, že
i WebForms se dají testovat. Ano, ale vyžaduje to větší kázeň a víc
práce. :) Většinou stejně použijete MVP pattern nebo jeho blízké
příbuzné. Pokud tedy nechcete psát testy, které simulují livecycle
stránky a dekódují ViewState. (Ano, dotahuju to ad absurdum, ale i tak to
může vypadat.)&lt;/p&gt;

&lt;p&gt;Aby se tedy kód dal snadno testovat, měl by se co nejvíce oddělit od
stránky.&lt;/p&gt;

&lt;p&gt;Klasickým modelem tedy je využití MVP vzoru, kdy aspx stránka obsahuje
pouze logiku pro prezentaci dat a implementuje rozhranní View, přes které
komunikuje s Presenterem. Díky tomu, že Presenter obsahuje téměř veškerou
logiku, je ideálním místem pro zacílení našich testů. Pro účely testů
pak implementujeme stub nebo mock rozhranní view. Na něm pak sledujeme jak ho
Presenter ovlivňuje.&lt;/p&gt;

&lt;div&gt;&lt;img src="/data/obrazky/mvp.png" alt="" /&gt;&lt;/div&gt;

&lt;p&gt;Předchozí diagram ukazuj, že Presenter zná rozhranní View. Stránka,
která toto rozhranní implementuje, se však musí postarat o to, aby byl
presenter ve správnou chvíli zavolán. Možný scénář zachycuje
ukázka kódu.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class BlogViewPage : System.Web.UI.Page, IBlogView {
  BlogPresenter presenter;

  protected void Page_Init(object sender, EventArgs e) {
    presenter = new BlogPresenter(this); // injekce View
  }

  protected void Page_Load(object sender, EventArgs e) {
    presenter.LoadArticles();
  }

  // implementace IBlogView ...
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Na to, že to stránka udělá správně, se už musíme spolehnout.
Otestovat i takto jednoduchý kód, je už trošku
náročnější práce…&lt;/p&gt;

&lt;h3 id="toc-mvc-testovani"&gt;MVC testování&lt;/h3&gt;

&lt;p&gt;MVC frameworky jako MonoRail nebo ASP.NET MVC, přicházejí s podobným
schématem &lt;strong&gt;by default&lt;/strong&gt;. V podstatě nás přímo nutí psát
web tak, aby se dal lépe testovat. :) Nebudu přehánět, když řeknu, že
ASP.NET MVC byl psán se zřetelí na velice snadné testování a obsahuje
i sadu mock objektů (např. pro &lt;code&gt;HttpContext&lt;/code&gt;). MonoRail dokonce
přináší i Fixtures a Asserty pro snadnější testování – bohužel
jsou psané pouze pro NUnit, který nepoužívám.&lt;/p&gt;

&lt;div&gt;&lt;img src="/data/obrazky/mvc.png" alt="" /&gt;&lt;/div&gt;

&lt;p&gt;Tento diagram se od předchozího mírně liší. Controller např. netuší
jaké má View rozhranní, proto s ním nikterak nepracuje. Prostě zavolá
&lt;code&gt;RenderView(*název*, *objekt s daty*)&lt;/code&gt; a spoléhá se na ViewFactory
že všechno zařídí. Navíc stránka do poslední chvíle netuší, jestli
něco bude dělat. Tady totiž proces zpracování začíná u routingu, který
vybere správný controller, viz &lt;a
href="/weblog/220-jak-funguje-monorail.aspx"&gt;předchozí díl&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Dostáváme se i k lepšímu objektovému návrhu, kde každá třída je
zodpovědná za provedení pouze jednoho úkolu (stránka v MVP těch úkolů
řeší hned několik). To se opět lépe testuje. Máme sadu několika
komponent s jednoduchými závislostmi a každá má na starosti pouze jednu
část z procesu.&lt;/p&gt;

&lt;p&gt;Pro dnešek to tady ukrouhnu. Bude-li nějaké příště, ukážeme si
nějaké praktické ukázky. Možná :)&lt;/p&gt;

&lt;h3 id="toc-souvisejici"&gt;Související&lt;/h3&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a
	href="http://blog.vuscode.com/malovicn/archive/2007/10/25/model-view-presenter-mvp-design-pattern-close-look-part-1-passive-view.aspx"&gt;Model
	View Presenter (MVP) design pattern close look – Part 1 (Supervising
	Controller)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Již delší dobu jsem chtěl napsat článek o tom, proč je MonoRail lepší, když chceme, aby se projekt dal testovat. Jenže vždycky nějak nebyl čas. Navíc se blíží vypuštění ASP.NET MVC, takže nakonec z toho bude trošku obecnější pojednání než jsem původně plánoval.

WebForms testování
==================

Než si ukážeme jak snadné je testovat MVC, nejprve si povíme, že i WebForms se dají testovat. Ano, ale vyžaduje to větší kázeň a víc práce. :) Většinou stejně použijete MVP pattern nebo jeho blízké příbuzné. Pokud tedy nechcete psát testy, které simulují livecycle stránky a dekódují ViewState. (Ano, dotahuju to ad absurdum, ale i tak to může vypadat.)

Aby se tedy kód dal snadno testovat, měl by se co nejvíce oddělit od stránky.

Klasickým modelem tedy je využití MVP vzoru, kdy aspx stránka obsahuje pouze logiku pro prezentaci dat a implementuje rozhranní View, přes které komunikuje s Presenterem. Díky tomu, že Presenter obsahuje téměř veškerou logiku, je ideálním místem pro zacílení našich testů. Pro účely testů pak implementujeme stub nebo mock rozhranní view. Na něm pak sledujeme jak ho Presenter ovlivňuje.

[* /data/obrazky/mvp.png *]

Předchozí diagram ukazuj, že Presenter zná rozhranní View. Stránka, která toto rozhranní implementuje, se však musí postarat o to, aby byl presenter ve správnou chvíli zavolán. Možný scénář zachycuje ukázka kódu.

/--code csharp
public class BlogViewPage : System.Web.UI.Page, IBlogView {
  BlogPresenter presenter;

  protected void Page_Init(object sender, EventArgs e) {
    presenter = new BlogPresenter(this); // injekce View
  }

  protected void Page_Load(object sender, EventArgs e) {
    presenter.LoadArticles();
  }

  // implementace IBlogView ...
}
\--code

Na to, že to stránka udělá správně, se už musíme spolehnout. Otestovat i takto jednoduchý kód, je už trošku náročnější práce...

MVC testování
=============

MVC frameworky jako MonoRail nebo ASP.NET MVC, přicházejí s podobným schématem **by default**. V podstatě nás přímo nutí psát web tak, aby se dal lépe testovat. :) Nebudu přehánět, když řeknu, že ASP.NET MVC byl psán se zřetelí na velice snadné testování a obsahuje i sadu mock objektů (např. pro `HttpContext`). MonoRail dokonce přináší i Fixtures a Asserty pro snadnější testování – bohužel jsou psané pouze pro NUnit, který nepoužívám.

[* /data/obrazky/mvc.png *]

Tento diagram se od předchozího mírně liší. Controller např. netuší jaké má View rozhranní, proto s ním nikterak nepracuje. Prostě zavolá `RenderView(*název*, *objekt s daty*)` a spoléhá se na ViewFactory že všechno zařídí. Navíc stránka do poslední chvíle netuší, jestli něco bude dělat. Tady totiž proces zpracování začíná u routingu, který vybere správný controller, viz "předchozí díl":[clanek(220)].

Dostáváme se i k lepšímu objektovému návrhu, kde každá třída je zodpovědná za provedení pouze jednoho úkolu (stránka v MVP těch úkolů řeší hned několik). To se opět lépe testuje. Máme sadu několika komponent s jednoduchými závislostmi a každá má na starosti pouze jednu část z procesu.

Pro dnešek to tady ukrouhnu. Bude-li nějaké příště, ukážeme si nějaké praktické ukázky. Možná :)

Související
===========
* [mvp]

[clanek(220)]: /weblog/220-jak-funguje-monorail.aspx
[mvp]: http://blog.vuscode.com/malovicn/archive/2007/10/25/model-view-presenter-mvp-design-pattern-close-look-part-1-passive-view.aspx Model View Presenter (MVP) design pattern close look - Part 1 (Supervising Controller)
</raw>
    <author>Aleš Roubíček</author>
    <published>2007-12-01T16:15:14.103</published>
    <url>mvc-unit-testy</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>aspnet webforms mvc mvp unittesting monorail castle</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:12:12.120</edited>
  </article>
  <article>
    <id>237</id>
    <title>Jak se staví luxusní domy</title>
    <description>Při snídani jsem se podíval z okna a málem mě to stálo život. Udušení rohlíkem v záchvatu smíchu, není moc hezká smrt. Vlastně je aspoň veselá.</description>
    <html xml:space="preserve">
&lt;p&gt;Při snídani jsem se podíval z okna a málem mě to stálo život.
Udušení rohlíkem v záchvatu smíchu, není moc hezká smrt. Vlastně je
aspoň veselá. :)&lt;/p&gt;

&lt;p&gt;Co jsem za tím oknem viděl? Přes ulici se staví 2. etapa výstavby
luxusního bydlení &lt;a href="http://www.krutec.cz/"&gt;Na Krutci&lt;/a&gt;. Jeden
z dělníků tam dolepoval zateplení. Už jen to že správný tvar vytvářel
hranou zednické lžíce, mě značně rozesmálo. Následovala část lepení,
kdy tu vokousanou hranu přetřel vrstvou lepidla, pak ji rovnoměrně
roztíral. Nakonec to vzal a vrazil na zeď a pak to táhl 30 cm směrem ke
kraji. Nakonec vytáhl libelu a testoval, zda to má rovně. No to už jsem se
svíjel v křeči.&lt;/p&gt;

&lt;p&gt;No &lt;a
href="http://picasaweb.google.com/Jakub.Klinke/JakSprVnZateplovat/"&gt;podívejte
se sami&lt;/a&gt;, Kuba něco stihl i nafotit a přidal i odborný
komentář. :)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Při snídani jsem se podíval z okna a málem mě to stálo život. Udušení rohlíkem v záchvatu smíchu, není moc hezká smrt. Vlastně je aspoň veselá. :)

Co jsem za tím oknem viděl? Přes ulici se staví 2. etapa výstavby luxusního bydlení "Na Krutci":[http://www.krutec.cz/]. Jeden z dělníků tam dolepoval zateplení. Už jen to že správný tvar vytvářel hranou zednické lžíce, mě značně rozesmálo. Následovala část lepení, kdy tu vokousanou hranu přetřel vrstvou lepidla, pak ji rovnoměrně roztíral. Nakonec to vzal a vrazil na zeď a pak to táhl 30 cm směrem ke kraji. Nakonec vytáhl libelu a testoval, zda to má rovně. No to už jsem se svíjel v křeči.

No "podívejte se sami":[http://picasaweb.google.com/Jakub.Klinke/JakSprVnZateplovat/], Kuba něco stihl i nafotit a přidal i odborný komentář. :)</raw>
    <author>Aleš Roubíček</author>
    <published>2007-12-04T09:44:43.683</published>
    <url>jak-se-stavi-luxusni-domy</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <tags>luxusní domy krutec</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:10:17.353</edited>
  </article>
  <article>
    <id>238</id>
    <title>Čekání na ASP.NET Extensions</title>
    <description>Dneska snad maj vyjít ASP.NET Extensions CTP, které mimo jiné obsahují i ASP.NET MVC framework. Těšim se jak malý dítě, ale protože tu ještě není, koukal jsem na přednášku o frameworku Nette. Taky pěkné.</description>
    <html xml:space="preserve">
&lt;p&gt;Dneska snad maj vyjít ASP.NET Extensions CTP, které mimo jiné obsahují
i ASP.NET MVC framework. Těšim se jak malý dítě, ale protože tu ještě
není, koukal jsem na přednášku o frameworku Nette. Taky pěkné.&lt;/p&gt;

&lt;p&gt;&lt;a href="http://www.avc-cvut.cz/avc.php?id=5258"&gt;Pěknou přednáškou&lt;/a&gt;
v podání Davida Grudla (&lt;a href="http://dgx.cz/"&gt;-dgx-&lt;/a&gt;), jsem se jenom
namlsal (no ten &lt;del&gt;pitel&lt;/del&gt;&lt;ins&gt;pytel&lt;/ins&gt; chipsů k tomu taky prasknul).
No zatim jsem prolítnul ve čtečce příspěvky, který o ASP.NET MVC vyšly
a udělal z nich &lt;a
href="http://www.google.com/reader/shared/user/02522501341949674670/label/aspnet-mvc"&gt;stránku&lt;/a&gt;.
Vybral jsem jen hodnotné, které jsou o něčem. :) No a když jsem udělal
ten souhrn o &lt;a
href="http://www.google.com/reader/shared/user/02522501341949674670/label/aspnet-mvc"&gt;ASP.NET
MVC&lt;/a&gt;, tak proč bych ho neudělal i pro &lt;a
href="http://www.google.com/reader/shared/user/02522501341949674670/label/nette"&gt;Nette&lt;/a&gt;?
Nevim… &lt;a
href="http://www.google.com/reader/shared/user/02522501341949674670/label/nette"&gt;Tady&lt;/a&gt; je.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Dneska snad maj vyjít ASP.NET Extensions CTP, které mimo jiné obsahují i ASP.NET MVC framework. Těšim se jak malý dítě, ale protože tu ještě není, koukal jsem na přednášku o frameworku Nette. Taky pěkné.

"Pěknou přednáškou":[prednaska] v podání Davida Grudla ([dgx]), jsem se jenom namlsal (no ten --pitel--++pytel++ chipsů k tomu taky prasknul). No zatim jsem prolítnul ve čtečce příspěvky, který o ASP.NET MVC vyšly a udělal z nich stránku:[mvc]. Vybral jsem jen hodnotné, které jsou o něčem. :) No a když jsem udělal ten souhrn o "ASP.NET MVC":[mvc], tak proč bych ho neudělal i pro Nette:[nette]? Nevim... Tady:[nette] je.

[prednaska]: http://www.avc-cvut.cz/avc.php?id=5258
[mvc]: http://www.google.com/reader/shared/user/02522501341949674670/label/aspnet-mvc
[nette]: http://www.google.com/reader/shared/user/02522501341949674670/label/nette
[dgx]: http://dgx.cz/ -dgx-</raw>
    <author>Aleš Roubíček</author>
    <published>2007-12-07T20:12:33.900</published>
    <url>cekani-na-asp-net-extensions</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>aspnet mvc nette nforms</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:09:32.193</edited>
  </article>
  <article>
    <id>240</id>
    <title>ASP.NET MVC je venku v preview verzi</title>
    <description>Je tomu pár hodin, co Microsoft uvolnil ASP.NET Extensions CTP.</description>
    <html xml:space="preserve">
&lt;p&gt;Je tomu pár hodin, co Microsoft uvolnil ASP.NET Extensions CTP. Součástí
balíčku je ASP.NET MVC framework, nové extenze pro AJAX, podpora
Silverlightu, Scraffolding framework pro WebForms i MVC a podpora REST like
datových služeb.&lt;/p&gt;

&lt;p&gt;No není toho zrovna málo, jen škoda, že se to nevešelo do
3.5 frameworku. Paralelně má vyjít „Astoria“ alias ADO.NET Entity
Framework, což je ORM postavené nad LINQem.&lt;/p&gt;

&lt;p&gt;No nebudu déle zdržovat. Stáhnout si můžete &lt;a
href="http://asp.net/downloads/3.5-extensions/"&gt;ASP.NET Extensions&lt;/a&gt; a ještě
&lt;a href="http://asp.net/downloads/3.5-extensions/MVCToolkit.zip"&gt;MVC
Toolkit&lt;/a&gt;. Přečíst si o nich můžete tady: &lt;a
href="http://www.google.com/reader/shared/user/02522501341949674670/label/aspnet-mvc"&gt;Zdroje
o ASP.NET MVC&lt;/a&gt;.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Je tomu pár hodin, co Microsoft uvolnil ASP.NET Extensions CTP. Součástí balíčku je ASP.NET MVC framework, nové extenze pro AJAX, podpora Silverlightu, Scraffolding framework pro WebForms i MVC a podpora REST like datových služeb.

No není toho zrovna málo, jen škoda, že se to nevešelo do 3.5 frameworku. Paralelně má vyjít "Astoria" alias ADO.NET Entity Framework, což je ORM postavené nad LINQem.

No nebudu déle zdržovat. Stáhnout si můžete [extensions] a ještě [toolkit]. Přečíst si o nich můžete tady: [mvc].

[toolkit]: http://asp.net/downloads/3.5-extensions/MVCToolkit.zip MVC Toolkit
[extensions]: http://asp.net/downloads/3.5-extensions/ ASP.NET Extensions
[mvc]: http://www.google.com/reader/shared/user/02522501341949674670/label/aspnet-mvc Zdroje o ASP.NET MVC</raw>
    <author>Aleš Roubíček</author>
    <published>2007-12-10T07:39:03.917</published>
    <url>asp-net-mvc-je-venku-v-preview-verzi</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>aspnet mvc silverlight rest</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T15:08:24.460</edited>
  </article>
  <article>
    <id>241</id>
    <title>Pozor změna feedu</title>
    <description>Protože chystám, rozsáhlé změny ve struktuře webu a nemůžu zaručit funkčnost všech URL na RSSka, změnte si prosím URL na http://feeds.feedburner.com/rarous-weblog, tato bude fungovat vždy. Děkuji za pochopení.</description>
    <html xml:space="preserve">
&lt;p&gt;Protože chystám, rozsáhlé změny ve struktuře webu a nemůžu zaručit
funkčnost všech URL na RSSka, změnte si prosím URL na &lt;a
href="http://feeds.feedburner.com/rarous-weblog"&gt;http://feeds.feedburner.com/rarous-weblog&lt;/a&gt;,
tato bude fungovat vždy. Děkuji za pochopení.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Protože chystám, rozsáhlé změny ve struktuře webu a nemůžu zaručit funkčnost všech URL na RSSka, změnte si prosím URL na http://feeds.feedburner.com/rarous-weblog, tato bude fungovat vždy. Děkuji za pochopení.</raw>
    <author>Aleš Roubíček</author>
    <published>2007-12-22T07:28:59.940</published>
    <url>pozor-zmena-feedu</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2007-12-22T07:29:00.110</edited>
  </article>
  <article>
    <id>242</id>
    <title>Redakční systém na ASP.NET MVC</title>
    <description>Rozhodl jsem se, že, jako praktickou ukázku použití TDD a ASP.NET MVC, budu psát seriálek, výsledkem něhož bude základ třetí verze redakčního systému Gryphoon.</description>
    <html xml:space="preserve">
&lt;p&gt;Rozhodl jsem se, že, jako praktickou ukázku použití TDD a &lt;a
href="http://asp.net/downloads/3.5-extensions/"&gt;ASP.NET MVC&lt;/a&gt; (dále jen MVC),
budu psát seriálek, výsledkem něhož bude základ třetí verze redakčního
systému &lt;a href="http://www.codeplex.com/gryphoon"&gt;Gryphoon&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Upozornění:&lt;/strong&gt; Je možné, že některým věcem nebudete
v průběhu čtení rozumět. Dopuručuji si přečíst &lt;a
href="#souvisejici"&gt;související články&lt;/a&gt;, na jejichž základě tento
seriál staví.&lt;/p&gt;

&lt;p&gt;Už z této podstaty vyplívá, že půjde o OSS. Projekt je hostován na
&lt;a href="http://www.codeplex.com/gryphoon"&gt;Codeplexu&lt;/a&gt; pod MS-&lt;acronym
title="Microsoft Public Licence"&gt;PL&lt;/acronym&gt;. Dalším důležitým znakem je
použití &lt;a href="http://www.codeplex.com/texynet"&gt;Texy.net&lt;/a&gt; jako
základního kamene systému, spojení s databází bude zajišťovat &lt;a
href="http://www.castleproject.org/activerecord/index.html"&gt;Castle
ActiveRecord&lt;/a&gt;, pro testování použiji &lt;a
href="http://www.codeplex.com/xunit"&gt;xUnit.net&lt;/a&gt; a &lt;a
href="http://www.ayende.com/projects/rhino-mocks.aspx"&gt;Rhino Mocks&lt;/a&gt;. Tím
jsou nastíněny základní prvky architektury a můžeme se pomalu dát
do práce.&lt;/p&gt;

&lt;h3 id="toc-struktura-projektu"&gt;Struktura projektu&lt;/h3&gt;

&lt;p&gt;Prozatím to vypadá na tři projekty v řešení:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Rarous.Gryphoon – Knihovna, jádro systému, které bude obsahovat
	objekty doménového modelu, konfiguraci a další potřebné komponenty.&lt;/li&gt;

	&lt;li&gt;Rarous.Grypho­on.Spec – Knihovna s jednotkovými testy. xUnit.net
	místo termínu test používá fakt, proto bude brát tento projekt jako
	specifikaci zbylých částí.&lt;/li&gt;

	&lt;li&gt;Rarous.Grypho­on.Web – Webová aplikace. Projekt bude obsahovat webovou
	část tj. Controllery a View (řadiče a pohledy) a Helpery (pomocníky).&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id="toc-prvni-radky-specifikace"&gt;První řádky specifikace&lt;/h3&gt;

&lt;p&gt;Naší jedinou specifikací bude projekt Rarous.Grypho­on.Spec. Tím co je
v něm dáno, by se měly řídit oba zbylé projekty. Dobrým zvykem v TDD je
navrhovat systém od shora dolů. První věc, se kterou přijdete do styku, je
URL. Zatím nebudu výchozí schéma URL měnit, proto ani nebudu psát testy na
Routování (zatím). Defaultní schéma URL by mělo být už milionkrát
otestované v rámci MVC projektu.&lt;/p&gt;

&lt;p&gt;Takže budeme pokračovat dál a to k řadiči článku
(&lt;code&gt;ArticleController&lt;/code&gt;). Ten by měl být zodpovědný za vytváření
článků nových, jejich následnou editaci, zobrazování a v poslední
řadě i mazání.&lt;/p&gt;

&lt;p&gt;V prvním CTP, zatím nejsou předdefinované Mock Objekty pro controllery,
proto použijeme Test subclass pattern, pro ověření činnosti controlleru.
Controller bude mít následující rozhranní:&lt;/p&gt;

&lt;div&gt;&lt;img src="/data/obrazky/IArticleController2.png"
alt="Diagram IArticleController" /&gt;&lt;/div&gt;

&lt;p&gt;A třída pro testování vypadá následovně:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class TestArticleController : ArticleController {
  public string ActualViewName { get; set; }
  public string RedirectViewName { get; set; }
  public string ActualMasterName { get; set; }
  public object ActualViewData { get; set; }

  protected override void RenderView(string viewName, string masterName,
                                     object viewData) {
    ActualViewName = viewName;
    ActualMasterName = masterName;
    ActualViewData = viewData;
  }

  protected override void RedirectToAction(object values) {
    RedirectViewName = values.ToDictionary()["Action"];
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Teď můžeme napsat první test, který ověří, že pokud přijdeme na
adresu &lt;code&gt;/article/&lt;/code&gt; otevře se nám editor nového článku. Pozn.
Využívám výchozího schématu routeru
&lt;code&gt;[controller]/[action]/[id]&lt;/code&gt; -Pokud není &lt;em&gt;action&lt;/em&gt; definovaná
vybere se &lt;strong&gt;Index&lt;/strong&gt;. V budoucnu ho změním na lepší, ale pro
začátek stačí.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;[Fact]
public void ArticleController_DefaultActionShouldShowEditor() {
  TestArticleController controller = new TestArticleController();

  controller.Index();

  Assert.Equal("Editor", controller.ActualViewName);
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Spustíme test – neprojde. Aby test prošel, musíme doimplementovat
metodu &lt;code&gt;ArticleController.Index&lt;/code&gt;.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;[ControllerAction]
public void Index() {
  RenderView("Editor");
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Teď už by měl test projít. Jenže aby to fungovalo i na webu, musíme
ještě dopsat View &lt;code&gt;/Views/Article/Editor.aspx&lt;/code&gt;… Do příště za
domácí úkol.&lt;/p&gt;

&lt;h3 id="toc-zaverem"&gt;Závěrem&lt;/h3&gt;

&lt;p&gt;Aktuální stav je na codeplexu ke stažení, ale zdaleka není funkční. :)
Průběžně ho budu s dalšími díly doplňovat. Příště tedy uděláme
ukládání nových příspěvků a editaci. Když se pozorně podíváte na
zdrojáky, zjistíte, že tak trochu cheatuju :)&lt;/p&gt;

&lt;p&gt;Jo abych nezapoměl, pokud jste sem přišli přes RSS a ještě jste si &lt;a
href="/weblog/241-pozor-zmena-feedu.aspx"&gt;nezměnili adresu feedu&lt;/a&gt;, učiňte
tak zavčasu. Děkuji&lt;/p&gt;

&lt;h3 id="souvisejici"&gt;Související&lt;/h3&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href="/weblog/219-zaciname-s-jednokolejkou.aspx"&gt;Začínáme
	s jednokolejkou&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a href="/weblog/220-jak-funguje-monorail.aspx"&gt;Jak funguje
	MonoRail&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a href="/weblog/236-mvc-unit-testy.aspx"&gt;MVC na ASP.NET – testování
	jednotek&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Tagy: &lt;a rel="tag" href="http://technorati.com/tag/aspnetmvc"&gt;aspnetmvc&lt;/a&gt;,
&lt;a rel="tag" href="http://technorati.com/tag/gryphoon"&gt;gryphoon&lt;/a&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Rozhodl jsem se, že, jako praktickou ukázku použití TDD a [mvc] (dále jen MVC), budu psát seriálek, výsledkem něhož bude základ třetí verze redakčního systému [gryphoon].

**Upozornění:** Je možné, že některým věcem nebudete v průběhu čtení rozumět. Dopuručuji si přečíst "související články":[#souvisejici], na jejichž základě tento seriál staví.

Už z této podstaty vyplívá, že půjde o OSS. Projekt je hostován na Codeplexu:[gryphoon] pod MS-PL((Microsoft Public Licence)). Dalším důležitým znakem je použití [texy.net] jako základního kamene systému, spojení s databází bude zajišťovat [active record], pro testování použiji [xunit] a [rhino mocks]. Tím jsou nastíněny základní prvky architektury a můžeme se pomalu dát do práce.

Struktura projektu
==================

Prozatím to vypadá na tři projekty v řešení:
1.  Rarous.Gryphoon – Knihovna, jádro systému, které bude obsahovat objekty doménového modelu, konfiguraci a další potřebné komponenty.
2.  Rarous.Gryphoon.Spec – Knihovna s jednotkovými testy. xUnit.net místo termínu test používá fakt, proto bude brát tento projekt jako specifikaci zbylých částí.
3.  Rarous.Gryphoon.Web – Webová aplikace. Projekt bude obsahovat webovou část tj. Controllery a View (řadiče a pohledy) a Helpery (pomocníky).

První řádky specifikace
=======================

Naší jedinou specifikací bude projekt Rarous.Gryphoon.Spec. Tím co je v něm dáno, by se měly řídit oba zbylé projekty. Dobrým zvykem v TDD je navrhovat systém od shora dolů. První věc, se kterou přijdete do styku, je URL. Zatím nebudu výchozí schéma URL měnit, proto ani nebudu psát testy na Routování (zatím). Defaultní schéma URL by mělo být už milionkrát otestované v rámci MVC projektu.

Takže budeme pokračovat dál a to k řadiči článku (`ArticleController`). Ten by měl být zodpovědný za vytváření článků nových, jejich následnou editaci, zobrazování a v poslední řadě i mazání.

V prvním CTP, zatím nejsou předdefinované Mock Objekty pro controllery, proto použijeme Test subclass pattern, pro ověření činnosti controlleru. Controller bude mít následující rozhranní:

[*/data/obrazky/IArticleController2.png .(Diagram IArticleController)*]

A třída pro testování vypadá následovně:

/--code csharp
public class TestArticleController : ArticleController {
  public string ActualViewName { get; set; }
  public string RedirectViewName { get; set; }
  public string ActualMasterName { get; set; }
  public object ActualViewData { get; set; }

  protected override void RenderView(string viewName, string masterName,
                                     object viewData) {
    ActualViewName = viewName;
    ActualMasterName = masterName;
    ActualViewData = viewData;
  }

  protected override void RedirectToAction(object values) {
    RedirectViewName = values.ToDictionary()["Action"];
  }
}
\--code

Teď můžeme napsat první test, který ověří, že pokud přijdeme na adresu `/article/` otevře se nám editor nového článku. Pozn. Využívám výchozího schématu routeru `[controller]/[action]/[id]` -Pokud není *action* definovaná vybere se **Index**. V budoucnu ho změním na lepší, ale pro začátek stačí.

/--code csharp
[Fact]
public void ArticleController_DefaultActionShouldShowEditor() {
  TestArticleController controller = new TestArticleController();

  controller.Index();

  Assert.Equal("Editor", controller.ActualViewName);
}
\--code

Spustíme test – neprojde. Aby test prošel, musíme doimplementovat metodu `ArticleController.Index`.

/--code csharp
[ControllerAction]
public void Index() {
  RenderView("Editor");
}
\--code

Teď už by měl test projít. Jenže aby to fungovalo i na webu, musíme ještě dopsat View `/Views/Article/Editor.aspx`... Do příště za domácí úkol.

Závěrem
=======

Aktuální stav je na codeplexu ke stažení, ale zdaleka není funkční. :) Průběžně ho budu s dalšími díly doplňovat. Příště tedy uděláme ukládání nových příspěvků a editaci. Když se pozorně podíváte na zdrojáky, zjistíte, že tak trochu cheatuju :)

Jo abych nezapoměl, pokud jste sem přišli přes RSS a ještě jste si "nezměnili adresu feedu":[clanek(241)], učiňte tak zavčasu. Děkuji

== Související .[#souvisejici]
* [clanek(219)]
* [clanek(220)]
* [clanek(236)]

Tagy: [tag-aspnetmvc], [tag-gryphoon]

[tag-aspnetmvc]: http://technorati.com/tag/aspnetmvc aspnetmvc .{rel:tag}
[tag-gryphoon]: http://technorati.com/tag/gryphoon gryphoon .{rel:tag}

[mvc]: http://asp.net/downloads/3.5-extensions/ ASP.NET MVC
[gryphoon]: http://www.codeplex.com/gryphoon Gryphoon
[texy.net]: http://www.codeplex.com/texynet Texy.net
[active record]: http://www.castleproject.org/activerecord/index.html  Castle ActiveRecord
[xunit]: http://www.codeplex.com/xunit xUnit.net
[rhino mocks]: http://www.ayende.com/projects/rhino-mocks.aspx Rhino Mocks
[clanek(219)]: /weblog/219-zaciname-s-jednokolejkou.aspx Začínáme s jednokolejkou
[clanek(220)]: /weblog/220-jak-funguje-monorail.aspx Jak funguje MonoRail
[clanek(236)]: /weblog/236-mvc-unit-testy.aspx MVC na ASP.NET - testování jednotek
[clanek(241)]: /weblog/241-pozor-zmena-feedu.aspx

</raw>
    <author>Aleš Roubíček</author>
    <published>2007-12-23T18:56:11.140</published>
    <url>redakcni-system-na-asp-net-mvc</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>aspnet mvc gryphoon codeplex xunit activerecord rhinomocks texy</tags>
    <is-published>1</is-published>
    <edited>2008-09-13T13:49:28.620</edited>
  </article>
  <article>
    <id>243</id>
    <title>Buon natale</title>
    <description>Šťastné a veselé Vánoce a hodně štěstí a zdraví v novém roce Vám přeje Aleš Roubíček.</description>
    <html xml:space="preserve">
&lt;p&gt;Šťastné a veselé Vánoce a hodně štěstí a zdraví v novém roce Vám
přeje Aleš Roubíček.&lt;/p&gt;

&lt;div&gt;&lt;img src="/data/obrazky/pf2008.jpg" alt="PFka" /&gt;&lt;/div&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Šťastné a veselé Vánoce a hodně štěstí a zdraví v novém roce Vám přeje Aleš Roubíček.

[*/data/obrazky/pf2008.jpg .(PFka)*]</raw>
    <author>Aleš Roubíček</author>
    <published>2007-12-24T12:17:28.557</published>
    <url>buon-natale</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2007-12-24T12:17:28.603</edited>
  </article>
  <article>
    <id>244</id>
    <title>IronPython Studio</title>
    <description>S tím, jak byl uvolněn Visual Studio Shell, začínají se objevovat zajímavé aplikace na něm postavené. Jednou z nich je IronPython Studio.</description>
    <html xml:space="preserve">
&lt;p&gt;S tím, jak byl uvolněn Visual Studio Shell, začínají se objevovat
zajímavé aplikace na něm postavené. Jednou z nich je &lt;a
href="http://www.codeplex.com/IronPythonStudio"&gt;IronPython Studio&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Tato implementace je postavená na jednom ze samplů VS SDK, jímž je
integrace IronPythonu do VS. Co všechno to umí? Namátkou:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Intellisense&lt;/li&gt;

	&lt;li&gt;Zvýrazňování syntaxe&lt;/li&gt;

	&lt;li&gt;Debugování&lt;/li&gt;

	&lt;li&gt;Předdefinované šablony projektů&lt;/li&gt;

	&lt;li&gt;Code snippets&lt;/li&gt;

	&lt;li&gt;Python konzole přímo ve VS&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Celý projekt je i se zdrojovými kódy a může sloužit jako inspirace pro
integraci dalších jazyků.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">S tím, jak byl uvolněn Visual Studio Shell, začínají se objevovat zajímavé aplikace na něm postavené. Jednou z nich je [codeplex].

Tato implementace je postavená na jednom ze samplů VS SDK, jímž je integrace IronPythonu do VS. Co všechno to umí? Namátkou:

* Intellisense
* Zvýrazňování syntaxe
* Debugování
* Předdefinované šablony projektů
* Code snippets
* Python konzole přímo ve VS

Celý projekt je i se zdrojovými kódy a může sloužit jako inspirace pro integraci dalších jazyků.

[codeplex]: http://www.codeplex.com/IronPythonStudio IronPython Studio</raw>
    <author>Aleš Roubíček</author>
    <published>2007-12-26T08:31:58.657</published>
    <url>ironpython-studio</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>ironpython vs</tags>
    <is-published>1</is-published>
    <edited>2008-09-13T13:47:41.713</edited>
  </article>
  <article>
    <id>245</id>
    <title>NForms pro ASP.NET</title>
    <description>Do vydání kompletního frameworku Nette je ještě asi daleko, ale to nevadí. My na ASP.NET bychom z něj stejně žádný užitek neměli. Tedy vlastně, proč by ne?</description>
    <html xml:space="preserve">
&lt;p&gt;Do vydání kompletního frameworku Nette je ještě asi daleko, ale to
nevadí. My na ASP.NET bychom z něj stejně žádný užitek neměli. Tedy
vlastně, proč by ne?&lt;/p&gt;

&lt;p&gt;Vždyť &lt;a href="http://nettephp.com"&gt;Nette&lt;/a&gt; je protkáno spoustou
skvělých nápadů. A když jde o skvělé nápady proč je nezhmotnit že?
:) Ukradl jsem Davidovo mentální bohatství a jal se implementovat NForms
v C#. Jako inspirace mi sloužila skvělá &lt;a
href="http://www.avc-cvut.cz/avc.php?id=5258"&gt;přednáška o Nette
frameworku&lt;/a&gt;. Zatím jsem ve fázi (po dvou dnech koukání na přednášku a
přerušovaného psaní), kdy se formuláře hezky generují. To je tak
čtvrtina úspěšné cesty, doufám.&lt;/p&gt;

&lt;h3 id="toc-nahlizime-pod-poklicku"&gt;Nahlížíme pod pokličku&lt;/h3&gt;

&lt;p&gt;Základem je něco, jako NHtml, třída &lt;code&gt;HtmlElement&lt;/code&gt;, která se
stará o generování kódu. Syntaxe částečně vychází z NHtml, ale
vzhledem k rozdílnosti jazyků, jsem některé věci musel řešit odlišně.
V podstatě jsem zde narážel na limity C# jako staticky typovaného
jazyka.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;var input = new HtmlElement(
  "input",
  new { Name = "name", Id = "nameInput", Type = InputType.Text },
  HtmlElement.SelfClosing
);&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;V ukázce je vytvoření elementu &lt;code&gt;input&lt;/code&gt; včetně některých
atributů. Atributy se předávají pomocí vlastností anonymní třídy.
Vygenerovaný kód vypadá následovně:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;input name="name" id="nameInput" type="Text" /&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Další vlastnosti lze nastavovat přes indexer následujícím
způsobem:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-csharp"&gt;input["MaxLength"] = 25;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Dále pak má metody pro přidávání potomků, nastavování textu nebo
HTML, přidávání/odebírání CSS třídy a samotné renderování.&lt;/p&gt;

&lt;p&gt;Na tomto základě pak vyrůstá formulářová nadstavba. Snažil jsem se co
nejvíce přiblížit API PHPčkovému vzoru, ale práce je v tomto směru
velice těžká. Zlatej Microsoft a OpenXML ;) Vzorem je pár zachycených
řádků na přednášce (David pekelně rychle mačká PgDown/PgUp) a vlastní
fantazie ohledně zbytku.&lt;/p&gt;

&lt;p&gt;No prozatím jsem se dostal do následujícího stavu. Následná akce
řadiče:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;[ControllerAction]
public void Index() {
  var genres = new ListItem[] {
    new ListItem { Text = "muž", Value = 1 },
    new ListItem { Text = "žena", Value = 2 }
  };

  Form form = new Form();
  form.AddText("name", "Jméno:", 20, 50);
  form.AddText("email", "E-mail", 20, 255);
  form.AddHidden("skryte").SetValue("nějaká hodnota - skrytá");
  form.AddRadio("pohlavi", "Pohlaví:", genres);
  form.AddButton("submit", "Odeslat");
  Form = form;
  RenderView("Index");
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ve spojení se šablonou v pohledu:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;form method="post" action=""&amp;gt;
&amp;lt;div style="display:none"&amp;gt;&amp;lt;%=Form["skryte"].Control %&amp;gt;&amp;lt;/div&amp;gt;
&amp;lt;fieldset&amp;gt;
  &amp;lt;legend&amp;gt;Osobní údaje&amp;lt;/legend&amp;gt;
&amp;lt;table&amp;gt;
&amp;lt;tr&amp;gt;
  &amp;lt;td&amp;gt;&amp;lt;%=Form["name"].Label %&amp;gt;&amp;lt;/td&amp;gt;
  &amp;lt;td&amp;gt;&amp;lt;%=Form["name"].Control %&amp;gt;&amp;lt;/td&amp;gt;
&amp;lt;/tr&amp;gt;
&amp;lt;tr&amp;gt;
  &amp;lt;td&amp;gt;&amp;lt;%=Form["email"].Label %&amp;gt;&amp;lt;/td&amp;gt;
  &amp;lt;td&amp;gt;&amp;lt;%=Form["email"].Control %&amp;gt;&amp;lt;/td&amp;gt;
&amp;lt;/tr&amp;gt;
&amp;lt;tr&amp;gt;
  &amp;lt;td&amp;gt;&amp;lt;%=Form["pohlavi"].Label %&amp;gt;&amp;lt;/td&amp;gt;
  &amp;lt;td&amp;gt;&amp;lt;%=Form["pohlavi"].Control %&amp;gt;&amp;lt;/td&amp;gt;
&amp;lt;/tr&amp;gt;
&amp;lt;tr&amp;gt;
  &amp;lt;td&amp;gt;&amp;lt;/td&amp;gt;
  &amp;lt;td&amp;gt;&amp;lt;%=Form["submit"].Control %&amp;gt;&amp;lt;/td&amp;gt;
&amp;lt;/tr&amp;gt;
&amp;lt;/table&amp;gt;
&amp;lt;/fieldset&amp;gt;
&amp;lt;/form&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Vygeneruje následující kód:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;form method="post" action=""&amp;gt;
&amp;lt;div style="display:none"&amp;gt;
&amp;lt;input name="skryte" type="Hidden" value="nějaká hodnota - skrytá" /&amp;gt;
&amp;lt;/div&amp;gt;
&amp;lt;fieldset&amp;gt;
  &amp;lt;legend&amp;gt;Osobní údaje&amp;lt;/legend&amp;gt;
&amp;lt;table&amp;gt;
&amp;lt;tr&amp;gt;
  &amp;lt;td&amp;gt;&amp;lt;label for="name"&amp;gt;Jméno:&amp;lt;/label&amp;gt;&amp;lt;/td&amp;gt;
  &amp;lt;td&amp;gt;&amp;lt;input name="name" id="name" type="Text" size="20" maxlength="50" /&amp;gt;&amp;lt;/td&amp;gt;
&amp;lt;/tr&amp;gt;
&amp;lt;tr&amp;gt;
  &amp;lt;td&amp;gt;&amp;lt;label for="email"&amp;gt;E-mail&amp;lt;/label&amp;gt;&amp;lt;/td&amp;gt;
  &amp;lt;td&amp;gt;&amp;lt;input name="email" id="email" type="Text" size="20" maxlength="255" /&amp;gt;&amp;lt;/td&amp;gt;
&amp;lt;/tr&amp;gt;
&amp;lt;tr&amp;gt;
  &amp;lt;td&amp;gt;&amp;lt;label&amp;gt;Pohlaví:&amp;lt;/label&amp;gt;&amp;lt;/td&amp;gt;
  &amp;lt;td&amp;gt;
    &amp;lt;input name="pohlavi" id="pohlavi0" type="Radio" value="1" /&amp;gt;
    &amp;lt;label for="pohlavi0"&amp;gt;muž&amp;lt;/label&amp;gt;&amp;lt;br /&amp;gt;
    &amp;lt;input name="pohlavi" id="pohlavi1" type="Radio" value="2" /&amp;gt;
    &amp;lt;label for="pohlavi1"&amp;gt;žena&amp;lt;/label&amp;gt;&amp;lt;br /&amp;gt;
  &amp;lt;/td&amp;gt;
&amp;lt;/tr&amp;gt;
&amp;lt;tr&amp;gt;
  &amp;lt;td&amp;gt;&amp;lt;/td&amp;gt;
  &amp;lt;td&amp;gt;&amp;lt;input name="submit" type="Button" value="Odeslat" /&amp;gt;&amp;lt;/td&amp;gt;
&amp;lt;/tr&amp;gt;
&amp;lt;/table&amp;gt;
&amp;lt;/fieldset&amp;gt;
&amp;lt;/form&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;A to je zatím vše. A proč to vlastně dělám a nepokračuju v &lt;a
href="/weblog/242-redakcni-system-na-asp-net-mvc.aspx"&gt;seriálu
o Gryphoonu&lt;/a&gt;? Inu, vlastně pokračuju, pokračuju…&lt;/p&gt;

&lt;p&gt;Tagy: &lt;a rel="tag" href="http://technorati.com/tag/gryphoon"&gt;Gryphoon&lt;/a&gt;, &lt;a
rel="tag" href="http://technorati.com/tag/nforms"&gt;NForms&lt;/a&gt;, &lt;a rel="tag"
href="http://technorati.com/tag/aspnetmvc"&gt;aspnetmvc&lt;/a&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Do vydání kompletního frameworku Nette je ještě asi daleko, ale to nevadí. My na ASP.NET bychom z něj stejně žádný užitek neměli. Tedy vlastně, proč by ne?

Vždyť Nette:[nette] je protkáno spoustou skvělých nápadů. A když jde o skvělé nápady proč je nezhmotnit že? :) Ukradl jsem Davidovo mentální bohatství a jal se implementovat NForms v C#. Jako inspirace mi sloužila skvělá "přednáška o Nette frameworku":[prednaska]. Zatím jsem ve fázi (po dvou dnech koukání na přednášku a přerušovaného psaní), kdy se formuláře hezky generují. To je tak čtvrtina úspěšné cesty, doufám.

Nahlížíme pod pokličku
======================

Základem je něco, jako NHtml, třída `HtmlElement`, která se stará o generování kódu. Syntaxe částečně vychází z NHtml, ale vzhledem k rozdílnosti jazyků, jsem některé věci musel řešit odlišně. V podstatě jsem zde narážel na limity C# jako staticky typovaného jazyka.

/--code csharp
var input = new HtmlElement(
  "input",
  new { Name = "name", Id = "nameInput", Type = InputType.Text },
  HtmlElement.SelfClosing
);
\--code

V ukázce je vytvoření elementu `input` včetně některých atributů. Atributy se předávají pomocí vlastností anonymní třídy. Vygenerovaný kód vypadá následovně:

/--code xml
&lt;input name="name" id="nameInput" type="Text" /&gt;
\--code

Další vlastnosti lze nastavovat přes indexer následujícím způsobem:

/--code csharp
input["MaxLength"] = 25;
\--code

Dále pak má metody pro přidávání potomků, nastavování textu nebo HTML, přidávání/odebírání CSS třídy a samotné renderování.

Na tomto základě pak vyrůstá formulářová nadstavba. Snažil jsem se co nejvíce přiblížit API PHPčkovému vzoru, ale práce je v tomto směru velice těžká. Zlatej Microsoft a OpenXML ;) Vzorem je pár zachycených řádků na přednášce (David pekelně rychle mačká PgDown/PgUp) a vlastní fantazie ohledně zbytku.

No prozatím jsem se dostal do následujícího stavu. Následná akce řadiče:

/--code csharp
[ControllerAction]
public void Index() {
  var genres = new ListItem[] {
    new ListItem { Text = "muž", Value = 1 },
    new ListItem { Text = "žena", Value = 2 }
  };

  Form form = new Form();
  form.AddText("name", "Jméno:", 20, 50);
  form.AddText("email", "E-mail", 20, 255);
  form.AddHidden("skryte").SetValue("nějaká hodnota - skrytá");
  form.AddRadio("pohlavi", "Pohlaví:", genres);
  form.AddButton("submit", "Odeslat");
  Form = form;
  RenderView("Index");
}
\--code

ve spojení se šablonou v pohledu:

/--code xml
&lt;form method="post" action=""&gt;
&lt;div style="display:none"&gt;&lt;%=Form["skryte"].Control %&gt;&lt;/div&gt;
&lt;fieldset&gt;
  &lt;legend&gt;Osobní údaje&lt;/legend&gt;
&lt;table&gt;
&lt;tr&gt;
  &lt;td&gt;&lt;%=Form["name"].Label %&gt;&lt;/td&gt;
  &lt;td&gt;&lt;%=Form["name"].Control %&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
  &lt;td&gt;&lt;%=Form["email"].Label %&gt;&lt;/td&gt;
  &lt;td&gt;&lt;%=Form["email"].Control %&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
  &lt;td&gt;&lt;%=Form["pohlavi"].Label %&gt;&lt;/td&gt;
  &lt;td&gt;&lt;%=Form["pohlavi"].Control %&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
  &lt;td&gt;&lt;/td&gt;
  &lt;td&gt;&lt;%=Form["submit"].Control %&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/fieldset&gt;
&lt;/form&gt;
\--code

Vygeneruje následující kód:


/--code xml
&lt;form method="post" action=""&gt;
&lt;div style="display:none"&gt;
&lt;input name="skryte" type="Hidden" value="nějaká hodnota - skrytá" /&gt;
&lt;/div&gt;
&lt;fieldset&gt;
  &lt;legend&gt;Osobní údaje&lt;/legend&gt;
&lt;table&gt;
&lt;tr&gt;
  &lt;td&gt;&lt;label for="name"&gt;Jméno:&lt;/label&gt;&lt;/td&gt;
  &lt;td&gt;&lt;input name="name" id="name" type="Text" size="20" maxlength="50" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
  &lt;td&gt;&lt;label for="email"&gt;E-mail&lt;/label&gt;&lt;/td&gt;
  &lt;td&gt;&lt;input name="email" id="email" type="Text" size="20" maxlength="255" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
  &lt;td&gt;&lt;label&gt;Pohlaví:&lt;/label&gt;&lt;/td&gt;
  &lt;td&gt;
    &lt;input name="pohlavi" id="pohlavi0" type="Radio" value="1" /&gt;
    &lt;label for="pohlavi0"&gt;muž&lt;/label&gt;&lt;br /&gt;
    &lt;input name="pohlavi" id="pohlavi1" type="Radio" value="2" /&gt;
    &lt;label for="pohlavi1"&gt;žena&lt;/label&gt;&lt;br /&gt;
  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
  &lt;td&gt;&lt;/td&gt;
  &lt;td&gt;&lt;input name="submit" type="Button" value="Odeslat" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/fieldset&gt;
&lt;/form&gt;
\--code

A to je zatím vše. A proč to vlastně dělám a nepokračuju v "seriálu o Gryphoonu":[clanek(242)]? Inu, vlastně pokračuju, pokračuju...

Tagy: [tag-gryphoon], [tag-nforms], [tag-aspnetmvc]

[tag-gryphoon]: http://technorati.com/tag/gryphoon Gryphoon .{rel:tag}
[tag-nforms]: http://technorati.com/tag/nforms NForms .{rel:tag}
[tag-aspnetmvc]: http://technorati.com/tag/aspnetmvc aspnetmvc .{rel:tag}

[prednaska]: http://www.avc-cvut.cz/avc.php?id=5258
[nette]: http://nettephp.com
[clanek(242)]: /weblog/242-redakcni-system-na-asp-net-mvc.aspx</raw>
    <author>Aleš Roubíček</author>
    <published>2007-12-28T18:15:57.157</published>
    <url>nforms-pro-asp-net</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>nforms aspnet</tags>
    <is-published>1</is-published>
    <edited>2008-09-13T13:47:08.790</edited>
  </article>
  <article>
    <id>246</id>
    <title>Deklarativně nebo šablonově?</title>
    <description>Kolega Tragéd mi v komentáři k minulému článku sdělil, že moje ukázka je zoufalá. Já s ním tak trochu souhlasím, ale ne úplně.</description>
    <html xml:space="preserve">
&lt;p&gt;Kolega &lt;strong&gt;Tragéd&lt;/strong&gt; mi v komentáři k &lt;a
href="/weblog/245-nforms-pro-asp-net.aspx"&gt;minulému článku&lt;/a&gt; sdělil, že
moje ukázka je zoufalá. Já s ním tak trochu souhlasím, ale
ne úplně.&lt;/p&gt;

&lt;p&gt;Spousta kolegů píšících v ASP.NET má za zlatou krávu deklarativní
zápis všeho možného do ASPX stránky. I já býval takový. Když jsem
viděl někde v kódu &lt;code&gt;&amp;lt;% %&amp;gt;&lt;/code&gt;, říkal jsem si fůj. Jenže
s postupem času se toho člověk celkem hodně naučí. A začne přicházet
na to, že ne vždycky je deklarativní zápis to pravé ořechové.&lt;/p&gt;

&lt;p&gt;Vezměme si jako příklad jednoduchý &lt;code&gt;Repeater&lt;/code&gt;. To je kontrol
pro cyklický výpis dat. Vrazí se mu cokoli, co implementuje
&lt;code&gt;IEnumerable&lt;/code&gt; nebo je to &lt;code&gt;DataTable&lt;/code&gt;, a on to hezky
řádek po řádku vyplivne na stránku.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;asp:Repeater runat="server" DataSource="&amp;lt;%# "jedna dvě tři".Split(' ') %&amp;gt;"&amp;gt;
  &amp;lt;ItemTemplate&amp;gt;&amp;lt;span&amp;gt;&amp;lt;%# Container.DataItem %&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/ItemTemplate&amp;gt;
&amp;lt;/asp:Repeater&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Pak člověku přijde na mysl, v čem je předchozí kus kódu lepší než
ten následující?&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;% foreach(string item in "jedna dvě tři".Split(' ')) { %&amp;gt;
&amp;lt;span&amp;gt;&amp;lt;%= item %&amp;gt;&amp;lt;/span&amp;gt;
&amp;lt;% } %&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Já vím, je zoufalej, ale proč? Dělá to samé. A troufnu si tvrdit, že
je přehlednější a o něco výkonnější. Sice jsem to nijak neměřil, ale
již z podstaty, že nemusím parsovat XML Reapeatru, nemusím instanciovat
další třídu &lt;code&gt;Reapeater&lt;/code&gt;, projít jejím životním cyklem,
databindingem atd.&lt;/p&gt;

&lt;p&gt;Vezměte si dál třeba nějakej deklerativní datasource. Třeba ten
SqlDataSource, hned porušujete dobré mravy. Stránka by vůbec neměla
o nějakém SQLu nic vědět. To patří do úplně jiné vrstvy aplikace.
Netvrdím, že je to úplně špatně. Každej ať si dodržuje svoji štábní
kulturu.&lt;/p&gt;

&lt;p&gt;Dobré na těch dvou ukázkách je to, že si mohu vybrat, který způsob mi
víc vyhovuje. Špatné je to, když někdo přes plot křičí, že to co já
používám, je zoufalost a že bych se měl zařadit zpátky mezi pravověrné
Deklarativisty. Nikdy. Vždycky radši přemýšlej, co je pro daný scénář
výhodnější. Mám projekt kde jedna stránka je psaná „postaru“ a
další používaj sadu deklarativní komponent. A je to tak v pořádku.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Kolega **Tragéd** mi v komentáři k "minulému článku":[clanek(245)] sdělil, že moje ukázka je zoufalá. Já s ním tak trochu souhlasím, ale ne úplně.

Spousta kolegů píšících v ASP.NET má za zlatou krávu deklarativní zápis všeho možného do ASPX stránky. I já býval takový. Když jsem viděl někde v kódu `&lt;% %&gt;`, říkal jsem si fůj. Jenže s postupem času se toho člověk celkem hodně naučí. A začne přicházet na to, že ne vždycky je deklarativní zápis to pravé ořechové.

Vezměme si jako příklad jednoduchý `Repeater`. To je kontrol pro cyklický výpis dat. Vrazí se mu cokoli, co implementuje `IEnumerable` nebo je to `DataTable`, a on to hezky řádek po řádku vyplivne na stránku.

/--code xml
&lt;asp:Repeater runat="server" DataSource="&lt;%# "jedna dvě tři".Split(' ') %&gt;"&gt;
  &lt;ItemTemplate&gt;&lt;span&gt;&lt;%# Container.DataItem %&gt;&lt;/span&gt;&lt;/ItemTemplate&gt;
&lt;/asp:Repeater&gt;
\--code

Pak člověku přijde na mysl, v čem je předchozí kus kódu lepší než ten následující?

/--code xml
&lt;% foreach(string item in "jedna dvě tři".Split(' ')) { %&gt;
&lt;span&gt;&lt;%= item %&gt;&lt;/span&gt;
&lt;% } %&gt;
\--code

Já vím, je zoufalej, ale proč? Dělá to samé. A troufnu si tvrdit, že je přehlednější a o něco výkonnější. Sice jsem to nijak neměřil, ale již z podstaty, že nemusím parsovat XML Reapeatru, nemusím instanciovat další třídu `Reapeater`, projít jejím životním cyklem, databindingem atd.

Vezměte si dál třeba nějakej deklerativní datasource. Třeba ten SqlDataSource, hned porušujete dobré mravy. Stránka by vůbec neměla o nějakém SQLu nic vědět. To patří do úplně jiné vrstvy aplikace. Netvrdím, že je to úplně špatně. Každej ať si dodržuje svoji štábní kulturu.

Dobré na těch dvou ukázkách je to, že si mohu vybrat, který způsob mi víc vyhovuje. Špatné je to, když někdo přes plot křičí, že to co já používám, je zoufalost a že bych se měl zařadit zpátky mezi pravověrné Deklarativisty. Nikdy. Vždycky radši přemýšlej, co je pro daný scénář výhodnější. Mám projekt kde jedna stránka je psaná „postaru“ a další používaj sadu deklarativní komponent. A je to tak v pořádku.

[clanek(245)]: /weblog/245-nforms-pro-asp-net.aspx</raw>
    <author>Aleš Roubíček</author>
    <published>2007-12-30T18:02:12.583</published>
    <url>deklarativne-nebo-sablonove</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>aspnet templates</tags>
    <is-published>1</is-published>
    <edited>2008-09-13T13:46:15.650</edited>
  </article>
  <article>
    <id>247</id>
    <title>Validace v NForms pro ASP.NET</title>
    <description>Oproti původnímu očekávání, jsem za uplynulý týden na NForms skoro nešáhl. Chtělo by se říci naštěstí, protože jsem se věnoval jiným aktivitám, nepočítačovým. :) Ale asi z toho bude (z)páteční projekt. Po týdnu jsem to tedy znovu otevřel a včera dopsal zí</description>
    <html xml:space="preserve">
&lt;p&gt;Oproti původnímu očekávání, jsem za uplynulý týden na &lt;a
href="/weblog/245-nforms-pro-asp-net.aspx"&gt;NForms&lt;/a&gt; skoro nešáhl. Chtělo by
se říci naštěstí, protože jsem se věnoval jiným aktivitám,
nepočítačovým. :) Ale asi z toho bude &lt;del&gt;z&lt;/del&gt;páteční projekt. Po
týdnu jsem to tedy znovu otevřel a včera dopsal získávání hodnot
formuláře a na dnešek zbylo začít validační vrstvu.&lt;/p&gt;

&lt;p&gt;Validaci jsem započal jednoduchým pravidlem &lt;code&gt;PredicateRule&lt;/code&gt;.
Otázka je, jestli je to dobrý krok. Proto vlastně tento spot píšu. :)
Predikátová pravidla vznikají zápisem lambda výrazů, což je sám o sobě
mocný nástroj a dalo by se s ním hodně vyhrát. Ovšem naráží to pár
překážek. Například typovost hodnot formulářových prvků.&lt;/p&gt;

&lt;p&gt;Když jsem psal tu část NForms, která získává poslaná data, vytvořil
jsem generickou metodu
&lt;code&gt;GetValue&amp;lt;T&amp;gt;(Converter&amp;lt;string,T&amp;gt;)&lt;/code&gt;. Tato metoda získá
hodnotu v požadovaném typu. Pro převod na základní datové typy
z textového řetězce se dají použít předpřipravené metody třídy
`System.Convert `, pro vlastní struktury stačí předat delegát na vlastní
converter a mělo by to fungovat… Jenže jak se validátor dozví, jaký typ
zvolit?&lt;/p&gt;

&lt;p&gt;Znamená to asi jediné, musím napsat ještě generické ekvivalenty
formulářových prvků. Na jednu stranu to znamená docela víc práce, než
jsem čekal :) a na druhou mnohem větší komfort při tvorbě formulářů a
validačních pravidel. Díky tomu, že je celý framework určen pro verzi 3.5,
můžu využít lambda výrazy ke generování JScriptových pravidel. Tedy
doufám, že to půjde. Validační kód by pak mohl vypadat nějak tak:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;Form.AddRule("age", age =&amp;gt; age &amp;gt; 18, "Uživatel musí být plnoletý");&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Co myslíte? Mám se vydat touto cestou, nebo je to moc odvážné? :)&lt;/p&gt;

&lt;div class="hslice" id="related"&gt;
	&lt;h3 class="entry-title" id="toc-souvisejici"&gt;Související&lt;/h3&gt;

	&lt;ul class="entry-content"&gt;
		&lt;li&gt;&lt;a href="/weblog/245-nforms-pro-asp-net.aspx"&gt;NForms pro ASP.NET&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a href="/weblog/242-redakcni-system-na-asp-net-mvc.aspx"&gt;Redakční systém
		na ASP.NET MVC&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a href="/weblog/238-cekani-na-asp-net-extensions.aspx"&gt;Čekání na ASP.NET
		Extensions&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
&lt;/div&gt;

&lt;p&gt;Tagy: &lt;a rel="tag" href="http://technorati.com/tag/nforms"&gt;NForms&lt;/a&gt;, &lt;a
rel="tag" href="http://technorati.com/tag/lambda"&gt;lambda&lt;/a&gt;, &lt;a rel="tag"
href="http://technorati.com/tag/aspnetmvc"&gt;aspnetmvc&lt;/a&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Oproti původnímu očekávání, jsem za uplynulý týden na NForms:[clanek(245)] skoro nešáhl. Chtělo by se říci naštěstí, protože jsem se věnoval jiným aktivitám, nepočítačovým. :) Ale asi z toho bude --z--páteční projekt. Po týdnu jsem to tedy znovu otevřel a včera dopsal získávání hodnot formuláře a na dnešek zbylo začít validační vrstvu.

Validaci jsem započal jednoduchým pravidlem `PredicateRule`. Otázka je, jestli je to dobrý krok. Proto vlastně tento spot píšu. :) Predikátová pravidla vznikají zápisem lambda výrazů, což je sám o sobě mocný nástroj a dalo by se s ním hodně vyhrát. Ovšem naráží to pár překážek. Například typovost hodnot formulářových prvků.

Když jsem psal tu část NForms, která získává poslaná data, vytvořil jsem generickou metodu `GetValue&lt;T&gt;(Converter&lt;string,T&gt;)`. Tato metoda získá hodnotu v požadovaném typu. Pro převod na základní datové typy z textového řetězce se dají použít předpřipravené metody třídy `System.Convert `, pro vlastní struktury stačí předat delegát na vlastní converter a mělo by to fungovat… Jenže jak se validátor dozví, jaký typ zvolit?

Znamená to asi jediné, musím napsat ještě generické ekvivalenty formulářových prvků. Na jednu stranu to znamená docela víc práce, než jsem čekal :) a na druhou mnohem větší komfort při tvorbě formulářů a validačních pravidel. Díky tomu, že je celý framework určen pro verzi 3.5, můžu využít lambda výrazy ke generování JScriptových pravidel. Tedy doufám, že to půjde. Validační kód by pak mohl vypadat nějak tak:

/--code csharp
Form.AddRule("age", age =&gt; age &gt; 18, "Uživatel musí být plnoletý");
\--code

Co myslíte? Mám se vydat touto cestou, nebo je to moc odvážné? :)

/--div .[#related hslice]
Související .[entry-title]
===========
.[entry-content]
* [clanek(245)]
* [clanek(242)]
* [clanek(238)]
\--div

Tagy: [tag-nforms], [tag-lambda], [tag-aspnetmvc]
[tag-nforms]: http://technorati.com/tag/nforms NForms .{rel:tag}
[tag-lambda]: http://technorati.com/tag/lambda lambda .{rel:tag}
[tag-aspnetmvc]: http://technorati.com/tag/aspnetmvc aspnetmvc .{rel:tag}

[clanek(245)]: /weblog/245-nforms-pro-asp-net.aspx NForms pro ASP.NET
[clanek(242)]: /weblog/242-redakcni-system-na-asp-net-mvc.aspx Redakční systém na ASP.NET MVC
[clanek(238)]: /weblog/238-cekani-na-asp-net-extensions.aspx Čekání na ASP.NET Extensions
</raw>
    <author>Aleš Roubíček</author>
    <published>2008-01-04T16:09:37.467</published>
    <url>validace-v-nforms-pro-asp-net</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>aspnet nforms lambda</tags>
    <is-published>1</is-published>
    <edited>2008-09-13T13:44:47.333</edited>
  </article>
  <article>
    <id>248</id>
    <title>Je to zvláštní</title>
    <description>Měl jsem skoro napsanej článek o tom jak nesouhlasím s vyhlášením chráněného ložiska Osečná - Kotel. Bylo v tom spousta moudra, vtipu a podještědského nářečí. Jenže. </description>
    <html xml:space="preserve">
&lt;p&gt;Měl jsem skoro napsanej článek o tom jak nesouhlasím s vyhlášením
chráněného ložiska Osečná – Kotel. Bylo v tom spousta moudra, vtipu a
podještědského nářečí. Jenže. Jenže jsem ho psal v okně prohlížeče
a zmáčkl klávesu &lt;code&gt;backspace&lt;/code&gt; dřív než jsem doklikl do
textarey…&lt;/p&gt;

&lt;p&gt;Takže naučný článek je v hajzlu a jenom mě to utvrdilo v tom, že
novej Gryphoon musí mít automatické ukládání během psaní.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Měl jsem skoro napsanej článek o tom jak nesouhlasím s vyhlášením chráněného ložiska Osečná - Kotel. Bylo v tom spousta moudra, vtipu a podještědského nářečí. Jenže. Jenže jsem ho psal v okně prohlížeče a zmáčkl klávesu `backspace` dřív než jsem doklikl do textarey...

Takže naučný článek je v hajzlu a jenom mě to utvrdilo v tom, že novej Gryphoon musí mít automatické ukládání během psaní.</raw>
    <author>Aleš Roubíček</author>
    <published>2008-01-05T09:21:24.857</published>
    <url>je-to-zvlastni</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-01-05T09:21:24.920</edited>
  </article>
  <article>
    <id>249</id>
    <title>Vizualizace vlastních typů v debuggeru</title>
    <description>Jistě všichni znáte možnost jak přepsat defaultní zobrazování vlastního typu v debuggeru VS pomocí přepsání metody `ToString()`. Ovšem někdy je tato metoda velice užitečná i na jiné účely, co potom s tím?</description>
    <html xml:space="preserve">
&lt;p&gt;Jistě všichni znáte možnost jak přepsat výchozí zobrazování
vlastního typu v debuggeru VS pomocí přepsání metody
&lt;code&gt;ToString()&lt;/code&gt;. Ovšem někdy je tato metoda velice užitečná i na
jiné účely, co potom s tím?&lt;/p&gt;

&lt;p&gt;Když debuguje ve VS vlastní typy ve watches se vám u proměnné zobrazuje
celý název typu, např. &lt;code&gt;Rarous.NForms.TextItem&lt;/code&gt;. Pokud chcete
v debuggeru vidět užitečnější informace, zpravidla přepíšete metodu
&lt;code&gt;ToString()&lt;/code&gt;, kterou má každý objekt, tak, aby vypisovala to, co
chcete. Např.:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public override string ToString() {
  return "\"" + Control.Name + "\", Value=" + Control.GetValue();
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Při debutování by se nám pak mohlo zobrazovat něco jako &lt;code&gt;"email",
Value=frantisek.koudelka@sts-chvojkovice.cz&lt;/code&gt;. Jenže. Teď chci, aby se mi
v šabloně při zápisu &lt;code&gt;&amp;lt;%=Form["email"]%&amp;gt;&lt;/code&gt; vypsal kód
formulářového prvku a jeho labelu. Jak to udělat, aby se zachovalo pěkné
debugování a přibyla nová a ještě lepší funkčnost?&lt;/p&gt;

&lt;p&gt;Naštěstí existuje jiné řešení, jak debugovací informace zobrazovat.
Troufnu si tvrdit, že i mnohem čistší. V .net frameworku existuje atribut
&lt;code&gt;System.Diagnostics.DebuggerDisplayAttribute&lt;/code&gt;, který je určen,
právě k zobrazování informací v debuggeru. Jeho užití je
následující:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;[DebuggerDisplay("{Control.Name}, Value={Control.GetValue(),nq}")]
public class TextItem : FormItem {
  // implementace třídy...

  public override string ToString() {
    return Label + " " + Control;
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Tímto jsme dosáhli, nové funkčnosti metody &lt;code&gt;ToString()&lt;/code&gt; a
zachovali jsme vlastní informace zobrazované v debuggeru. Více informaci
o atributu &lt;a
href="http://msdn2.microsoft.com/en-us/library/x810d419.aspx"&gt;DebuggerDisplay&lt;/a&gt;,
najdete v MSDN.&lt;/p&gt;

&lt;p&gt;Tagy: &lt;a href="http://technorati.com/tag/c%23"&gt;C#&lt;/a&gt;, &lt;a
href="http://technorati.com/tag/debugger"&gt;debugger&lt;/a&gt;, &lt;a
href="http://technorati.com/tag/nforms"&gt;NForms&lt;/a&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Jistě všichni znáte možnost jak přepsat výchozí zobrazování vlastního typu v debuggeru VS pomocí přepsání metody `ToString()`. Ovšem někdy je tato metoda velice užitečná i na jiné účely, co potom s tím?

Když debuguje ve VS vlastní typy ve watches se vám u proměnné zobrazuje celý název typu, např. `Rarous.NForms.TextItem`. Pokud chcete v debuggeru vidět užitečnější informace, zpravidla přepíšete metodu `ToString()`, kterou má každý objekt, tak, aby vypisovala to, co chcete. Např.:

/--code csharp
public override string ToString() {
  return "\"" + Control.Name + "\", Value=" + Control.GetValue();
}
\--code

Při debutování by se nám pak mohlo zobrazovat něco jako `"email", Value=frantisek.koudelka@sts-chvojkovice.cz`. Jenže. Teď chci, aby se mi v šabloně při zápisu `&lt;%=Form["email"]%&gt;` vypsal kód formulářového prvku a jeho labelu. Jak to udělat, aby se zachovalo pěkné debugování a přibyla nová a ještě lepší funkčnost?

Naštěstí existuje jiné řešení, jak debugovací informace zobrazovat. Troufnu si tvrdit, že i mnohem čistší. V .net frameworku existuje atribut `System.Diagnostics.DebuggerDisplayAttribute`, který je určen, právě k zobrazování informací v debuggeru. Jeho užití je následující:

/--code csharp
[DebuggerDisplay("{Control.Name}, Value={Control.GetValue(),nq}")]
public class TextItem : FormItem {
  // implementace třídy...

  public override string ToString() {
    return Label + " " + Control;
  }
}
\--code

Tímto jsme dosáhli, nové funkčnosti metody `ToString()` a zachovali jsme vlastní informace zobrazované v debuggeru. Více informaci o atributu DebuggerDisplay:[msdn], najdete v MSDN.

Tagy: [tag-csharp], [tag-debugger], [tag-nforms]

[tag-csharp]: http://technorati.com/tag/c%23 C# .{rel=tag}
[tag-debugger]: http://technorati.com/tag/debugger debugger .{rel=tag}
[tag-nforms]: http://technorati.com/tag/nforms NForms .{rel=tag}

[msdn]: http://msdn2.microsoft.com/en-us/library/x810d419.aspx

</raw>
    <author>Aleš Roubíček</author>
    <published>2008-01-16T07:54:41.473</published>
    <url>vizualizace-vlastnich-typu-v-debuggeru</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>debugerdisplay csharp nforms</tags>
    <is-published>1</is-published>
    <edited>2008-09-13T13:43:04.960</edited>
  </article>
  <article>
    <id>250</id>
    <title>CSSX</title>
    <description>Tento člán je pouze spekulativní, píšu ho, abych si utřídil myšlenky a rozvedl jeden možná úplně blbý nápad.</description>
    <html xml:space="preserve">
&lt;p&gt;Tento člán je pouze spekulativní, píšu ho, abych si utřídil myšlenky
a rozvedl jeden možná úplně blbý nápad.&lt;/p&gt;

&lt;p&gt;Jak tak pročítám &lt;a href="http://www.weblogy.cz/"&gt;weblůžky&lt;/a&gt; narazil
jsem na dva články: &lt;a
href="http://pixy.cz/pixynergia/2008/what-im-missing-in-css/"&gt;What I’m missing
in CSS&lt;/a&gt; a &lt;a
href="http://www.misantrop.info/645101-parametrizovane-css.php"&gt;Parametrizované
CSS&lt;/a&gt;. A uvědomil jsem si, že podpoře lepšího psaní &lt;acronym
title="kaskádové styly Macíku"&gt;CSS&lt;/acronym&gt;, nebo spíš jeho použitelnosti
a usnadnění práce kodérů, se moc pozornosti nevěnuje.&lt;/p&gt;

&lt;p&gt;Rozhodl jsem se, že bych mohl napsat vlastní preprocesor pro asp.net,
který rozšíří syntaxi CSS o některé nové možnosti, ale zůstane
zpětně kompatibilní s lexikálními pravidly CSS. Preprocesor by měl také
umožňovat komprimaci stylopisu, jak textovou, tak GZip. Měl by umět
slučovat importované stylopisy a snížit tak počet http požadavků. Dále
cachování a další nezbytnosti. :)&lt;/p&gt;

&lt;h3 id="toc-promenne"&gt;Proměnné&lt;/h3&gt;

&lt;p&gt;Prvním vylepšením CSSX jsou proměnné, které se definují na začátku
dokumentu (kvůli lepší přehlednosti). Deklarace proměnné začíná
zavináčovým pravidlem &lt;code&gt;@var&lt;/code&gt; následuje název proměnné
začínající na znak dolaru, např. &lt;code&gt;$firemni-modra&lt;/code&gt; následuje
dvojtečka a přiřazená hodnota. Deklaraci uzavírá středník. V praxi to
může vypadat třeba následovně:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-css"&gt;/* definice proměnných */
@var $firemni-modra: #2465B7;
@var $firemni-zelena: #A0B424;

a{color:$firemni-modra;}
a:hover{color:$firemni-zelena;}

/* další pravidla… */&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;V syntaxi využívám lexikální pravidla CSS, např. to, že neznámá
zavináčová pravidla jsou ignorována až k následujícímu středníku nebo
se ignoruje následující blok uzavřený ve složených závorkách.&lt;/p&gt;

&lt;h3 id="toc-podminky"&gt;Podmínky&lt;/h3&gt;

&lt;p&gt;Podmínky slouží k definování podmíněného bloku pravidel. Podmínky
se definují pomocí zavináčového pravidla &lt;code&gt;@if&lt;/code&gt; následovaného
symbolem a blokem s definicemi:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-css"&gt;@if IE6 {
/* pravidla pouze pro IE6 */
}

@if BLUE {
/* pravidla pro pozadavek  style.cssx?symbols=blue */
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Symboly jsou definovány jednak pomocí „browser caps“ z asp.net a
druhak pomocí GET parametru &lt;code&gt;symbols&lt;/code&gt;. Podmínky jsou proto vhodné
pro validní hackování stylopisu pro určité prohlížeče nebo pro
skinování. Užití určitě může být povícero.&lt;/p&gt;

&lt;p&gt;Pokud máte další nápady na rozšíření nebo vylepšení mých návrhů,
klidně to písněte do komentářů, diskusi se nebráním. :)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Tento člán je pouze spekulativní, píšu ho, abych si utřídil myšlenky a rozvedl jeden možná úplně blbý nápad.

Jak tak pročítám weblůžky:[weblogy] narazil jsem na dva články: [pixy] a [misantrop]. A uvědomil jsem si, že podpoře lepšího psaní CSS((kaskádové styly Macíku)), nebo spíš jeho použitelnosti a usnadnění práce kodérů, se moc pozornosti nevěnuje.

Rozhodl jsem se, že bych mohl napsat vlastní preprocesor pro asp.net, který rozšíří syntaxi CSS o některé nové možnosti, ale zůstane zpětně kompatibilní s lexikálními pravidly CSS. Preprocesor by měl také umožňovat komprimaci stylopisu, jak textovou, tak GZip. Měl by umět slučovat importované stylopisy a snížit tak počet http požadavků. Dále cachování a další nezbytnosti. :)

Proměnné
========

Prvním vylepšením CSSX jsou proměnné, které se definují na začátku dokumentu (kvůli lepší přehlednosti). Deklarace proměnné začíná zavináčovým pravidlem `@var` následuje název proměnné začínající na znak dolaru, např. `$firemni-modra` následuje dvojtečka a přiřazená hodnota. Deklaraci uzavírá středník. V praxi to může vypadat třeba následovně:

/--code css
/* definice proměnných */
@var $firemni-modra: #2465B7;
@var $firemni-zelena: #A0B424;

a{color:$firemni-modra;}
a:hover{color:$firemni-zelena;}

/* další pravidla… */
\--code

V syntaxi využívám lexikální pravidla CSS, např. to, že neznámá zavináčová pravidla jsou ignorována až k následujícímu středníku nebo se ignoruje následující blok uzavřený ve složených závorkách.

Podmínky
========

Podmínky slouží k definování podmíněného bloku pravidel. Podmínky se definují pomocí zavináčového pravidla `@if` následovaného symbolem a blokem s definicemi:

/--code css
@if IE6 {
/* pravidla pouze pro IE6 */
}

@if BLUE {
/* pravidla pro pozadavek  style.cssx?symbols=blue */
}
\--code

Symboly jsou definovány jednak pomocí „browser caps“ z asp.net a druhak pomocí GET parametru `symbols`. Podmínky jsou proto vhodné pro validní hackování stylopisu pro určité prohlížeče nebo pro skinování. Užití určitě může být povícero.

Pokud máte další nápady na rozšíření nebo vylepšení mých návrhů, klidně to písněte do komentářů, diskusi se nebráním. :)

[weblogy]: http://www.weblogy.cz/ Weblogy.cz
[misantrop]: http://www.misantrop.info/645101-parametrizovane-css.php Parametrizované CSS
[pixy]: http://pixy.cz/pixynergia/2008/what-im-missing-in-css/ What I’m missing in CSS
</raw>
    <author>Aleš Roubíček</author>
    <published>2008-01-18T21:00:17.073</published>
    <url>cssx</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>cssx css aspnet</tags>
    <is-published>1</is-published>
    <edited>2008-09-13T13:41:53.460</edited>
  </article>
  <article>
    <id>251</id>
    <title>Holland Trip</title>
    <description>Zápisky z výletu do holandska, budu postupně doplňovat.</description>
    <html xml:space="preserve">
&lt;h3&gt;Den první&lt;/h3&gt;

&lt;p&gt;Tak mám za sebou první den v Den Haagu. To je město, kde sídlí
nizozemský parlament a mezinárodní soudní tribunál. Taky je to město, kde
studuje a žije moje sestřička Zuzka. Po půl roce, co tam bydlí, jsem se
rozhodl, že jí navštívím a jela se mnou i naše kamarádka Evíka.&lt;/p&gt;

&lt;p&gt;Teda jela. Jako sedět v autobuse 16 hodin se mi opravdu nechtělo a
raději jsem zvolil cestu leteckou. Sice cesta vyjde přibližně na jednou
takový peníze, ale zabere tak šestinu času. Nejhorší na tom bylo vstávat
ve čtvrt na pět, abych byl v půl šestý na letišti.&lt;/p&gt;

&lt;p&gt;Přestože byla celá Evropa pod mrakem a pršelo, tak to s letadlem ani moc
neházelo. V Amsterdamu trochu zabrala cesta do místnosti se zavazadly, museli
jsme projít skoro celé letiště, které není tak malé jak v Praze. Prý
páté největší v Evropě.&lt;/p&gt;

&lt;p&gt;V příletové hale na nás čekala Zuzka s Danem (to je její přítel).
Po přivítání jsem si šel vybrat z bankomatu nějaký eura, páč se mi
nechtělo lítat po Praze a hledat nejlepší kurz. Tahle jsem to nechal na
mateřské bance… Pak jsme sedli na vlak (nádraží je součástí
letištního komplexu) a vzali směr Den Haag. Cesta do samotného centra Háchu
trvala asi 20 min. Vlastně jsme jeli i šalinou, takže o něco víc.&lt;/p&gt;

&lt;p&gt;Cestou jsme se tedy zastavili na snídani v pasáži a pak jsme se vydali
k Danovi do bytu. Tam jsme sbírali síly a vyprávěli si zážitky za dobu,
co jsme se neviděli. Odpoledne jsme se pak jeli podívat na pobřeží, kde
pracuje Zuzka. Docela pěkný podnik. Dal jsem si tam Walkera, přišel právě
vhod, a pak řecký salát, který byl skoro tak dobrý, jako dělám
já… ;)&lt;/p&gt;

&lt;p&gt;Protože pršelo, tak nemělo cenu se někde dál courat, jeli jsme proto
nazpět do bytu. Tam jsme si zapnuli bednu a sbírali síly na večerní akci.
Já jsem to s tím regeneračním spánkem trochu přehnal a tak už jsem potom
nikam nešel. Teda vlastně šel – do postele. Holky šly tedy
pařit samy.&lt;/p&gt;
&lt;!--[if !IE]&gt; --&gt;
 			&lt;object type="application/x-shockwave-flash"
data="http://picasaweb.google.cz/s/c/bin/slideshow.swf" width="550"
height="367"&gt;
 			&lt;!-- &lt;![endif]--&gt;
 			&lt;!--[if IE]&gt;
			&lt;object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
			  codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"
			  width="550" height="367"&gt;
			  &lt;param name="movie" value="http://picasaweb.google.cz/s/c/bin/slideshow.swf" /&gt;
			&lt;!--&gt;&lt;!--dgx--&gt;
&lt;param name="loop" value="true" /&gt;

&lt;param name="menu" value="false" /&gt;

&lt;param name="flashvars"
value="host=picasaweb.google.cz&amp;amp;RGB=0xF8F8FF&amp;amp;feed=http%3A%2F%2Fpicasaweb.google.cz%2Fdata%2Ffeed%2Fapi%2Fuser%2Frarous%2Falbumid%2F5157532442355930209%3Fkind%3Dphoto%26alt%3Drss"
/&gt;
 			&lt;/object&gt;
 			&lt;!-- &lt;![endif]--&gt;
&lt;h3&gt;Den druhý&lt;/h3&gt;

&lt;p&gt;Protože i v době psaní toho (11.44) ještě všichni vychrápávaj,
sebral jsem se ráno na menší obchůzku po okolí. Vzal jsem si něčí
klíče, zkusil, jestli pasují do zámku a vydal jsem se prohlídnout několik
okolních vesniček. Tady za rohem šlo ještě pár lidí na ranní mši –
přeci jen je neděle. Po krátké procházce jsem se rozhodl navštívit
zdejšího Alberta a koupit si něco k snídani. Ceny tam jsou přibližně
podobné jako u nás, možná o málo větší.&lt;/p&gt;

&lt;p&gt;Cestou z krámu jsem potkal spoustu lidí, asi šli z té ranní mše.&lt;/p&gt;

&lt;p&gt;Krátce po poledni došlo k procitnutí spícího království. Podívali
jsme se tedy společně na fotky a všichni se divili, co jsem toho už dneska
stihnul… Po snídani jsme se vydali na cestu do Amsterdamu. Z nádraží jsme
se dali cestou po nábřeží směrem ke královninu paláci. Na náměstí jsme
si udělali několik snímků a šli se mrknout na nějaký hadry do Magna
Plaza. Nakonec jsme tam nic nepořídili, tak jsme zamířili do dalších
nekonečných ulic plných nejrůznějších krámů a lidí.&lt;/p&gt;

&lt;p&gt;Po nějaký době jsme navštívili coffeeshop, kde jsme si dali nějaký
pití (zajímavý je, že takovej coffeshop je rozdělenej na dvě části,
v jedný se nesmí prodávat alkohol a ve druhý drogy). Po drinku jsme se
nasměrovali do „red lights“ – vyhlášené čtvrti. Pak už jsme
mířili na vlak, protože nás čekali Danovi rodiče s večeří. Domů jsme
se dostali až v jedenáct. Byl to celkem dlouhý den, plný chození,
courání a šmajdání.&lt;/p&gt;
&lt;!--[if !IE]&gt; --&gt;
 			&lt;object type="application/x-shockwave-flash"
data="http://picasaweb.google.cz/s/c/bin/slideshow.swf" width="550"
height="367"&gt;
 			&lt;!-- &lt;![endif]--&gt;
 			&lt;!--[if IE]&gt;
			&lt;object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
			  codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"
			  width="550" height="367"&gt;
			  &lt;param name="movie" value="http://picasaweb.google.cz/s/c/bin/slideshow.swf" /&gt;
			&lt;!--&gt;&lt;!--dgx--&gt;
&lt;param name="loop" value="true" /&gt;

&lt;param name="menu" value="false" /&gt;

&lt;param name="flashvars"
value="host=picasaweb.google.cz&amp;amp;RGB=0xF8F8FF&amp;amp;feed=http%3A%2F%2Fpicasaweb.google.cz%2Fdata%2Ffeed%2Fapi%2Fuser%2Frarous%2Falbumid%2F5157688362553677185%3Fkind%3Dphoto%26alt%3Drss"
/&gt;
 			&lt;/object&gt;
 			&lt;!-- &lt;![endif]--&gt;
&lt;h3&gt;Den třetí&lt;/h3&gt;

&lt;p&gt;Třetí den uběhl celkem rychle. Ráno jsme vstali kolem deváté, aby Zuzka
stihla v deset školu. Dokonce jsme tak spěchali, že jsme ani nestihli koupit
lístek na tramvaj a jeli jsme na černo. Naštěstí jsme na těch třech
zastávkách nepotkali žádnou revizi. Takže ke škole jsme se dopravili
v pořádku a Zuzka utíkala na hodinu. Já s Evčou jsme zatím šli do
studentské kavárny. Tam jsme si dali nějakou snídani a počkali až Zuzka
skončí.&lt;/p&gt;

&lt;p&gt;Po škole jsme šli zpátky procházkou po zdejších uličkách, které
najednou byly plné nejrůznějších obchodů. Nejprve jsme zapluli do
obchodního domu Bijenkorf. Tam jsme si se Zuzkou koupili dárky k Vánocům :)
Já si tam navíc koupil nějaká trička a kalhoty. Pak jsme pokračovali
hlouběji do města a procházeli víc a víc obchodů. Po jídle v Burger
Kingu jsme šli domů. Dan zrovna vstával…&lt;/p&gt;

&lt;p&gt;Trochu jsme dobyli baterky a chystali se na odpolední vycházku po
památkách a večeři. Nakonec to dopadlo všechno jinak. Když jsme vycházeli
ven, zrovna pěkně pršelo. Otevřeli jsme deštníky, ale foukal pěknej vítr
a Zuzce se deštník zlomil. :)&lt;/p&gt;

&lt;p&gt;Stejně jsme šli dál. Došli jsme k parlamentu, ten jsme si vyfotili,
prošli jsme skrz a byli jsme tak zmoklí, že jsme museli najít nějakou
kavárnu, kam zapadnout. Jednu jsme našli, dali jsme si něco teplého na
zahřátí. Pak jsme si řekli, že ani na tu večeři nemá cenu chodit, že
něco radši uděláme doma. Tak jsme se vydali nazpět. Holky se cestou stavili
v Albertovi, aby koupili něco k večeři.&lt;/p&gt;

&lt;p&gt;Večer jsme pak koukali na nějaký filmy a Zuzka udělala výbornou
večeři.&lt;/p&gt;
&lt;!--[if !IE]&gt; --&gt;
 			&lt;object type="application/x-shockwave-flash"
data="http://picasaweb.google.cz/s/c/bin/slideshow.swf" width="550"
height="367"&gt;
 			&lt;!-- &lt;![endif]--&gt;
 			&lt;!--[if IE]&gt;
			&lt;object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
			  codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"
			  width="550" height="367"&gt;
			  &lt;param name="movie" value="http://picasaweb.google.cz/s/c/bin/slideshow.swf" /&gt;
			&lt;!--&gt;&lt;!--dgx--&gt;
&lt;param name="loop" value="true" /&gt;

&lt;param name="menu" value="false" /&gt;

&lt;param name="flashvars"
value="host=picasaweb.google.cz&amp;amp;RGB=0xF8F8FF&amp;amp;feed=http%3A%2F%2Fpicasaweb.google.cz%2Fdata%2Ffeed%2Fapi%2Fuser%2Frarous%2Falbumid%2F5158623435977852017%3Fkind%3Dphoto%26alt%3Drss"
/&gt;
 			&lt;/object&gt;
 			&lt;!-- &lt;![endif]--&gt;
&lt;h3&gt;Den čtvrtý&lt;/h3&gt;

&lt;p&gt;Původně jsme měli v plánu navštívit Amsterdam a projít si jeho
památky, ale protože se nezdařil včerejší výlet po památkách Haagu a
navíc svítilo sluníčko, rozhodli jsme se, že si projdeme konečně zbytek
Haagu. Nějak po poledni jsme tedy vyrazili, po původní trase – tedy směr
parlament. Po parlamentu jsme navštívili muzeum. Z muzea jsme pokračovali
dál, až jsme došli k pracovnímu paláci královny.&lt;/p&gt;

&lt;p&gt;Asi jsme měli štěstí, protože před vchodem byla přistavená limuzína
a vypadalo to, že se asi někam královna chystá. Po nějaké době se před
palácem nashromáždilo celkem dost lidí. Všichni byli zvědaví. Nakonec
z paláce vylez princ a jeho choť, naskočili do limuzíny a odjeli pryč. :)
A bylo po show.&lt;/p&gt;

&lt;p&gt;Zjistil jsem, že kousek od královského paláce je naše česká ambasáda.
Asi je moc důležitá. Po této zkušenosti nám došlo, že jsme ještě
nejedli a chtělo by to nějakou snídani. Tak jsme si na ní zašli. Po
snídani (dá-li se tomu tak ve dvě říkat) jsme zamířili k mezinárodnímu
soudnímu tribunálu, ale nakonec nás tam ale nechtěli, prý tam dneska měli
napilno a byla tam zvýšená možnost kriminality. Tak byly prohlídky
zrušený.&lt;/p&gt;

&lt;p&gt;Poslední atrakcí na naší dlouhé cestě bylo Omniversum. Koupili jsme si
lístky za €10 a hodinu koukali na kulatý plátno s filmem o mumiích.
Docela dobrý, až na to, že sloupy se na bocích nereálně ohýbaly. To mi
zkazilo celkový dojem. :) Po promítání jsme se vydali na šalinu a jeli
zpátky k bytu. Holky se šly ještě podívat na hadry do Stingu a já
s Danem do Alberta pro nějaký jídlo.&lt;/p&gt;
&lt;!--[if !IE]&gt; --&gt;
 			&lt;object type="application/x-shockwave-flash"
data="http://picasaweb.google.cz/s/c/bin/slideshow.swf" width="550"
height="367"&gt;
 			&lt;!-- &lt;![endif]--&gt;
 			&lt;!--[if IE]&gt;
			&lt;object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
			  codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"
			  width="550" height="367"&gt;
			  &lt;param name="movie" value="http://picasaweb.google.cz/s/c/bin/slideshow.swf" /&gt;
			&lt;!--&gt;&lt;!--dgx--&gt;
&lt;param name="loop" value="true" /&gt;

&lt;param name="menu" value="false" /&gt;

&lt;param name="flashvars"
value="host=picasaweb.google.cz&amp;amp;RGB=0xF8F8FF&amp;amp;feed=http%3A%2F%2Fpicasaweb.google.cz%2Fdata%2Ffeed%2Fapi%2Fuser%2Frarous%2Falbumid%2F5158622808912626401%3Fkind%3Dphoto%26alt%3Drss"
/&gt;
 			&lt;/object&gt;
 			&lt;!-- &lt;![endif]--&gt;
&lt;h3&gt;Fotky&lt;/h3&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href="http://picasaweb.google.cz/rarous/DenHaag"&gt;Fotky z Haagu&lt;/a&gt; (1.
	den)&lt;/li&gt;

	&lt;li&gt;&lt;a href="http://picasaweb.google.cz/rarous/Amsterdam"&gt;Fotky
	z Amsterdamu&lt;/a&gt; (2. den)&lt;/li&gt;

	&lt;li&gt;&lt;a href="http://picasaweb.google.cz/rarous/DenHaag2"&gt;Fotky z Haagu&lt;/a&gt; (3.
	den)&lt;/li&gt;

	&lt;li&gt;&lt;a href="http://picasaweb.google.cz/rarous/DenHaag3"&gt;Fotky z Haagu&lt;/a&gt; (4.
	den)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Foceno Olympusem µ750.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">== Den první
Tak mám za sebou první den v Den Haagu. To je město, kde sídlí nizozemský parlament a mezinárodní soudní tribunál. Taky je to město, kde studuje a žije moje sestřička Zuzka. Po půl roce, co tam bydlí, jsem se rozhodl, že jí navštívím a jela se mnou i naše kamarádka Evíka.

Teda jela. Jako sedět v autobuse 16 hodin se mi opravdu nechtělo a raději jsem zvolil cestu leteckou. Sice cesta vyjde přibližně na jednou takový peníze, ale zabere tak šestinu času. Nejhorší na tom bylo vstávat ve čtvrt na pět, abych byl v půl šestý na letišti.

Přestože byla celá Evropa pod mrakem a pršelo, tak to s letadlem ani moc neházelo. V Amsterdamu trochu zabrala cesta do místnosti se zavazadly, museli jsme projít skoro celé letiště, které není tak malé jak v Praze. Prý páté největší v Evropě.

V příletové hale na nás čekala Zuzka s Danem (to je její přítel). Po přivítání jsem si šel vybrat z bankomatu nějaký eura, páč se mi nechtělo lítat po Praze a hledat nejlepší kurz. Tahle jsem to nechal na mateřské bance… Pak jsme sedli na vlak (nádraží je součástí letištního komplexu) a vzali směr Den Haag. Cesta do samotného centra Háchu trvala asi 20 min. Vlastně jsme jeli i šalinou, takže o něco víc.

Cestou jsme se tedy zastavili na snídani v pasáži a pak jsme se vydali k Danovi do bytu. Tam jsme sbírali síly a vyprávěli si zážitky za dobu, co jsme se neviděli. Odpoledne jsme se pak jeli podívat na pobřeží, kde pracuje Zuzka. Docela pěkný podnik. Dal jsem si tam Walkera, přišel právě vhod, a pak řecký salát, který byl skoro tak dobrý, jako dělám já… ;)

Protože pršelo, tak nemělo cenu se někde dál courat, jeli jsme proto nazpět do bytu. Tam jsme si zapnuli bednu a sbírali síly na večerní akci. Já jsem to s tím regeneračním spánkem trochu přehnal a tak už jsem potom nikam nešel. Teda vlastně šel – do postele. Holky šly tedy pařit samy.

{{flash: http://picasaweb.google.cz/s/c/bin/slideshow.swf, 550, 367, host=picasaweb.google.cz&amp;RGB=0xF8F8FF&amp;feed=http%3A%2F%2Fpicasaweb.google.cz%2Fdata%2Ffeed%2Fapi%2Fuser%2Frarous%2Falbumid%2F5157532442355930209%3Fkind%3Dphoto%26alt%3Drss}}

==Den druhý

Protože i v době psaní toho (11.44) ještě všichni vychrápávaj, sebral jsem se ráno na menší obchůzku po okolí. Vzal jsem si něčí klíče, zkusil, jestli pasují do zámku a vydal jsem se prohlídnout několik okolních vesniček. Tady za rohem šlo ještě pár lidí na ranní mši - přeci jen je neděle. Po krátké procházce jsem se rozhodl navštívit zdejšího Alberta a koupit si něco k snídani. Ceny tam jsou přibližně podobné jako u nás, možná o málo větší.

Cestou z krámu jsem potkal spoustu lidí, asi šli z té ranní mše.

Krátce po poledni došlo k procitnutí spícího království. Podívali jsme se tedy společně na fotky a všichni se divili, co jsem toho už dneska stihnul… Po snídani jsme se vydali na cestu do Amsterdamu. Z nádraží jsme se dali cestou po nábřeží směrem ke královninu paláci. Na náměstí jsme si udělali několik snímků a šli se mrknout na nějaký hadry do Magna Plaza. Nakonec jsme tam nic nepořídili, tak jsme zamířili do dalších nekonečných ulic plných nejrůznějších krámů a lidí.

Po nějaký době jsme navštívili coffeeshop, kde jsme si dali nějaký pití (zajímavý je, že takovej coffeshop je rozdělenej na dvě části, v jedný se nesmí prodávat alkohol a ve druhý drogy). Po drinku jsme se nasměrovali do „red lights“ – vyhlášené čtvrti. Pak už jsme mířili na vlak, protože nás čekali Danovi rodiče s večeří. Domů jsme se dostali až v jedenáct. Byl to celkem dlouhý den, plný chození, courání a šmajdání.

{{flash: http://picasaweb.google.cz/s/c/bin/slideshow.swf, 550, 367, host=picasaweb.google.cz&amp;RGB=0xF8F8FF&amp;feed=http%3A%2F%2Fpicasaweb.google.cz%2Fdata%2Ffeed%2Fapi%2Fuser%2Frarous%2Falbumid%2F5157688362553677185%3Fkind%3Dphoto%26alt%3Drss}}

== Den třetí

Třetí den uběhl celkem rychle. Ráno jsme vstali kolem deváté, aby Zuzka stihla v deset školu. Dokonce jsme tak spěchali, že jsme ani nestihli koupit lístek na tramvaj a jeli jsme na černo. Naštěstí jsme na těch třech zastávkách nepotkali žádnou revizi. Takže ke škole jsme se dopravili v pořádku a Zuzka utíkala na hodinu. Já s Evčou jsme zatím šli do studentské kavárny. Tam jsme si dali nějakou snídani a počkali až Zuzka skončí.

Po škole jsme šli zpátky procházkou po zdejších uličkách, které najednou byly plné nejrůznějších obchodů. Nejprve jsme zapluli do obchodního domu Bijenkorf. Tam jsme si se Zuzkou koupili dárky k Vánocům :) Já si tam navíc koupil nějaká trička a kalhoty. Pak jsme pokračovali hlouběji do města a procházeli víc a víc obchodů. Po jídle v Burger Kingu jsme šli domů. Dan zrovna vstával…

Trochu jsme dobyli baterky a chystali se na odpolední vycházku po památkách a večeři. Nakonec to dopadlo všechno jinak. Když jsme vycházeli ven, zrovna pěkně pršelo. Otevřeli jsme deštníky, ale foukal pěknej vítr a Zuzce se deštník zlomil. :)

Stejně jsme šli dál. Došli jsme k parlamentu, ten jsme si vyfotili, prošli jsme skrz a byli jsme tak zmoklí, že jsme museli najít nějakou kavárnu, kam zapadnout. Jednu jsme našli, dali jsme si něco teplého na zahřátí. Pak jsme si řekli, že ani na tu večeři nemá cenu chodit, že něco radši uděláme doma. Tak jsme se vydali nazpět. Holky se cestou stavili v Albertovi, aby koupili něco k večeři.

Večer jsme pak koukali na nějaký filmy a Zuzka udělala výbornou večeři.

{{flash: http://picasaweb.google.cz/s/c/bin/slideshow.swf, 550, 367, host=picasaweb.google.cz&amp;RGB=0xF8F8FF&amp;feed=http%3A%2F%2Fpicasaweb.google.cz%2Fdata%2Ffeed%2Fapi%2Fuser%2Frarous%2Falbumid%2F5158623435977852017%3Fkind%3Dphoto%26alt%3Drss}}

==Den čtvrtý

Původně jsme měli v plánu navštívit Amsterdam a projít si jeho památky, ale protože se nezdařil včerejší výlet po památkách Haagu a navíc svítilo sluníčko, rozhodli jsme se, že si projdeme konečně zbytek Haagu. Nějak po poledni jsme tedy vyrazili, po původní trase – tedy směr parlament. Po parlamentu jsme navštívili muzeum. Z muzea jsme pokračovali dál, až jsme došli k pracovnímu paláci královny.

Asi jsme měli štěstí, protože před vchodem byla přistavená limuzína a vypadalo to, že se asi někam královna chystá. Po nějaké době se před palácem nashromáždilo celkem dost lidí. Všichni byli zvědaví. Nakonec z paláce vylez princ a jeho choť, naskočili do limuzíny a odjeli pryč. :) A bylo po show.

Zjistil jsem, že kousek od královského paláce je naše česká ambasáda. Asi je moc důležitá. Po této zkušenosti nám došlo, že jsme ještě nejedli a chtělo by to nějakou snídani. Tak jsme si na ní zašli. Po snídani (dá-li se tomu tak ve dvě říkat) jsme zamířili k mezinárodnímu soudnímu tribunálu, ale nakonec nás tam ale nechtěli, prý tam dneska měli napilno a byla tam zvýšená možnost kriminality. Tak byly prohlídky zrušený.

Poslední atrakcí na naší dlouhé cestě bylo Omniversum. Koupili jsme si lístky za €10 a hodinu koukali na kulatý plátno s filmem o mumiích. Docela dobrý, až na to, že sloupy se na bocích nereálně ohýbaly. To mi zkazilo celkový dojem. :) Po promítání jsme se vydali na šalinu a jeli zpátky k bytu. Holky se šly ještě podívat na hadry do Stingu a  já s Danem do Alberta pro nějaký jídlo.


{{flash: http://picasaweb.google.cz/s/c/bin/slideshow.swf, 550, 367, host=picasaweb.google.cz&amp;RGB=0xF8F8FF&amp;feed=http%3A%2F%2Fpicasaweb.google.cz%2Fdata%2Ffeed%2Fapi%2Fuser%2Frarous%2Falbumid%2F5158622808912626401%3Fkind%3Dphoto%26alt%3Drss}}

== Fotky

* "Fotky z Haagu":[http://picasaweb.google.cz/rarous/DenHaag] (1. den)
* "Fotky z Amsterdamu":[http://picasaweb.google.cz/rarous/Amsterdam] (2. den)
* "Fotky z Haagu":[http://picasaweb.google.cz/rarous/DenHaag2] (3. den)
* "Fotky z Haagu":[http://picasaweb.google.cz/rarous/DenHaag3] (4. den)

Foceno Olympusem &amp;micro;750.
</raw>
    <author>Aleš Roubíček</author>
    <published>2008-01-20T13:26:07.627</published>
    <url>holland-trip</url>
    <category>Kamarádi</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-02-09T15:07:13.390</edited>
  </article>
  <article>
    <id>252</id>
    <title>V zajetí sociálních sítí</title>
    <description>Nedávno jsem zkusil nainstalovat sociální prohlížeč [flock]. Nebylo to poprvé, ale tehdá jsem ještě nebyl tak socializovaně zasíťován. Teď už jsem, tak mu zkouším dávat druhou šanci. </description>
    <html xml:space="preserve">
&lt;p&gt;Nedávno jsem zkusil nainstalovat sociální prohlížeč &lt;a
href="http://www.flock.com/"&gt;Flock&lt;/a&gt;. Nebylo to poprvé, ale tehdá jsem
ještě nebyl tak socializovaně zasíťován. Teď už jsem, tak mu zkouším
dávat druhou šanci.&lt;/p&gt;

&lt;p&gt;Jako hlavní prohlížeč používám &lt;acronym
title="Internet Explorer 7"&gt;IE7&lt;/acronym&gt; ve Vistě a jsem s ním plně
spokojen, používám i zbylé z velké čtverky (Firefox, Safari, &lt;acronym
title="dá-li se její pidi podíl počítat mezi velké"&gt;Opera&lt;/acronym&gt;) –
pro pracovní účely, jako programátor webových aplikací je nemohu
ignorovat.&lt;/p&gt;

&lt;p&gt;Po tom, co jsem si přečetl zprávičku, že Flock 1.1 bude podporovat
i moji oblíbenou &lt;a href="http://picasa.google.com"&gt;Picasu&lt;/a&gt;, řekl jsem si,
že bych ho měl zase zkusit. Tak jsem si v pátek nainstalovat verzi 1.0 a
začal objevovat její možnosti.&lt;/p&gt;

&lt;h3 id="toc-nove-zapojen"&gt;Nově zapojen&lt;/h3&gt;

&lt;p&gt;Díky Flocku jsem se zapojil do dalších web 2.0 sítí :). První byl &lt;a
href="http://www.twitter.com/"&gt;twitter&lt;/a&gt; a začal jsem microblogovat. Hned
při registraci jsem pozval pár svých známých a první, kdo se mnou začal,
nebyl nikdo jiný než &lt;a href="http://www.mraveniste.org/"&gt;Jan Bien
„Mravenec“&lt;/a&gt; – duchovní syn služby &lt;a
href="http://www.weblogy.cz"&gt;Weblogy.cz&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Dobrý na twittru je, že do něj můžete posílat zprávy i přes Jabber
(např. &lt;a href="http://talk.google.com/"&gt;Google Talk&lt;/a&gt;) nebo SMSkou. Ve
Flocku pak vidíte vaše kontakty s jejich aktuálními stavy. :)&lt;/p&gt;

&lt;p&gt;Při hlubším zkoumání jsem zjistil, že přes tlačítko pro
přihlašování &lt;acronym title="Realy Simple Sindication"&gt;RSS&lt;/acronym&gt;
kanálů lze přidávat kanály i do &lt;a href="http://reader.google.com/"&gt;Google
Readeru&lt;/a&gt;, který používám jako čtečku kanálů. To se mi líbí,
v IEčku jsem dosud používal bookmarklet. Další věcí, která mě mile
překvapila, bylo, že bookmarky lze ukládat do online služby &lt;a
href="http://del.icio.us/"&gt;del.icio.us&lt;/a&gt;. Tuto službu jsem dosud
nepoužíval, ale už je na čase. :) Takže to je zatím poslední sociální
síť, ve které jsem uvízl.&lt;/p&gt;

&lt;p&gt;Budu Flock ještě pár dní zkoušet a možná po necelých dvou letech
opustím IE7… Možná také po této zkušenosti obnovíme myšlenku
zesocializovat službu Weblogy. Kdo ví…&lt;/p&gt;

&lt;h3 id="toc-souvisejici"&gt;Související&lt;/h3&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href="/clanek/191-socialni-site.aspx"&gt;Sociální sítě&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Nedávno jsem zkusil nainstalovat sociální prohlížeč [flock]. Nebylo to poprvé, ale tehdá jsem ještě nebyl tak socializovaně zasíťován. Teď už jsem, tak mu zkouším dávat druhou šanci.

Jako hlavní prohlížeč používám "IE7"((Internet Explorer 7)) ve Vistě a jsem s ním plně spokojen, používám i zbylé z velké čtverky (Firefox, Safari, Opera((dá-li se její pidi podíl počítat mezi velké))) - pro pracovní účely, jako programátor webových aplikací je nemohu ignorovat.

Po tom, co jsem si přečetl zprávičku, že Flock 1.1 bude podporovat i moji oblíbenou Picasu:[picasa], řekl jsem si, že bych ho měl zase zkusit. Tak jsem si v pátek nainstalovat verzi 1.0 a začal objevovat její možnosti.

== Nově zapojen

Díky Flocku jsem se zapojil do dalších web 2.0 sítí :). První byl [twitter] a začal jsem microblogovat. Hned při registraci jsem pozval pár svých známých a první, kdo se mnou začal, nebyl nikdo jiný než [mravenec] – duchovní syn služby [weblogy].

Dobrý na twittru je, že do něj můžete posílat zprávy i přes Jabber (např. [talk]) nebo SMSkou. Ve Flocku pak vidíte vaše kontakty s jejich aktuálními stavy. :)

Při hlubším zkoumání jsem zjistil, že přes tlačítko pro přihlašování RSS((Realy Simple Sindication)) kanálů lze přidávat kanály i do "Google Readeru":[reader], který používám jako čtečku kanálů. To se mi líbí, v IEčku jsem dosud používal bookmarklet. Další věcí, která mě mile překvapila, bylo, že bookmarky lze ukládat do online služby [delicious]. Tuto službu jsem dosud nepoužíval, ale už je na čase. :) Takže to je zatím poslední sociální síť, ve které jsem uvízl.

Budu Flock ještě pár dní zkoušet a možná po necelých dvou letech opustím IE7… Možná také po této zkušenosti obnovíme myšlenku zesocializovat službu Weblogy. Kdo ví…

== Související

* "Sociální sítě":[/clanek/191-socialni-site.aspx]

[flock]: http://www.flock.com/ Flock
[twitter]: http://www.twitter.com/ twitter
[mravenec]: http://www.mraveniste.org/ Jan Bien „Mravenec“
[weblogy]: http://www.weblogy.cz Weblogy.cz
[reader]: http://reader.google.com/
[delicious]: http://del.icio.us/ del.icio.us
[talk]: http://talk.google.com/ Google Talk
[picasa]: http://picasa.google.com Picasa</raw>
    <author>Aleš Roubíček</author>
    <published>2008-01-27T12:09:50.340</published>
    <url>v-zajeti-socialnich-siti</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>flock ie7 twitter reader delicious</tags>
    <is-published>1</is-published>
    <edited>2008-09-13T13:39:04.800</edited>
  </article>
  <article>
    <id>253</id>
    <title>Jak je to s tím seriálem?</title>
    <description>Před Vánocema jsem slíbil seriál o tom, jak napsat redakční systém nad ASP.NET MVC pomocí TDD. Mám pár dílů na disku, tak proč nejsou venku?</description>
    <html xml:space="preserve">
&lt;p&gt;Před Vánocema jsem slíbil seriál o tom, jak napsat &lt;a
href="/weblog/242-redakcni-system-na-asp-net-mvc.aspx"&gt;redakční systém nad
ASP.NET &lt;acronym title="Model View Controller"&gt;MVC&lt;/acronym&gt;&lt;/a&gt; pomocí
&lt;acronym title="Test Driven Development"&gt;TDD&lt;/acronym&gt;. Mám pár dílů na
disku, tak proč nejsou venku?&lt;/p&gt;

&lt;p&gt;No při psaní jsem narazil na pár problémů, ať je to ještě nezralost
ASP.NET MVC, nedostatek času a tak. Rozhodně však nejde o další mrtvý
projekt. Pokusím se ho dopsat společně s návazností na &lt;a
href="/weblog/245-nforms-pro-asp-net.aspx"&gt;NForms&lt;/a&gt; a &lt;a
href="/weblog/250-cssx.aspx"&gt;CSSX&lt;/a&gt;, protože to jsou věci, od kterých si
slibuju mnohem jednodušší a rychleší tvorbu webíků.&lt;/p&gt;

&lt;p&gt;Ale psát kód a zároveň tvořit článek, kterému by rozuměl i macík,
je dost časově náročné. A protože musim chodit občas pařit, nebou
skouknout nějakej ten film a nebo prostě jenom relaxovat, tak asi blognu až
jenom finál…&lt;/p&gt;

&lt;p&gt;Přišli jste sem z RSS čtečky? Zkontrolujte si prosím, zda máte
správnou URL feedu &lt;a
href="http://feeds.feedburner.com/rarous-weblog"&gt;http://feeds.feedburner.com/rarous-weblog&lt;/a&gt;. Děkuji&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Před Vánocema jsem slíbil seriál o tom, jak napsat "redakční systém nad ASP.NET MVC((Model View Controller))":[clanek(242)] pomocí TDD((Test Driven Development)). Mám pár dílů na disku, tak proč nejsou venku?

No při psaní jsem narazil na pár problémů, ať je to ještě nezralost ASP.NET MVC, nedostatek času a tak. Rozhodně však nejde o další mrtvý projekt. Pokusím se ho dopsat společně s návazností na NForms:[clanek(245)] a CSSX:[clanek(250)], protože to jsou věci, od kterých si slibuju mnohem jednodušší a rychleší tvorbu webíků.

Ale psát kód a zároveň tvořit článek, kterému by rozuměl i macík, je dost časově náročné. A protože musim chodit občas pařit, nebou skouknout nějakej ten film a nebo prostě jenom relaxovat, tak asi blognu až jenom finál...

Přišli jste sem z RSS čtečky? Zkontrolujte si prosím, zda máte správnou URL feedu http://feeds.feedburner.com/rarous-weblog. Děkuji

[clanek(242)]: /weblog/242-redakcni-system-na-asp-net-mvc.aspx
[clanek(245)]: /weblog/245-nforms-pro-asp-net.aspx
[clanek(250)]: /weblog/250-cssx.aspx</raw>
    <author>Aleš Roubíček</author>
    <published>2008-02-02T09:58:46.227</published>
    <url>jak-je-to-s-tim-serialem</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>aspnet mvc cssx nforms</tags>
    <is-published>1</is-published>
    <edited>2008-09-13T13:39:58.283</edited>
  </article>
  <article>
    <id>254</id>
    <title>David se vrhl na Goliáše XHTML</title>
    <description>Z titulku můžete vyčíst tajnou šifru DGX. Snad jsem toho neprozradil moc... Aneb moje reakce na článek „Konečně pravda o XHTML a HTML.“</description>
    <html xml:space="preserve">
&lt;p&gt;DGX se rozhodl vydat článek s titulkem &lt;a
href="http://latrine.dgx.cz/konecne-pravda-o-xhtml-a-html"&gt;Konečně pravda
o XHTML a HTML&lt;/a&gt; a moudře zakázal komentáře, protože toto je stále
téma, které dokáže pěkně blafnout. Díky tomu můžu napsat svůj
komentář u sebe.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Dovolil bych si nesouhlasit s následujícím tím, úryvkem, z části &lt;a
	href="http://latrine.dgx.cz/konecne-pravda-o-xhtml-a-html#toc-mytus-html-dovoluje-prasarny-ktere-vam-v-xhtml-neprojdou"&gt;Prasárny&lt;/a&gt;.
		&lt;blockquote&gt;
			&lt;p&gt;XHTML kód zase třeba používáním řetězců abc, AbC, aBC pro
			různé třídy.&lt;/p&gt;
		&lt;/blockquote&gt;

		&lt;p&gt;Hodnoty atributů &lt;code&gt;class&lt;/code&gt; a &lt;code&gt;id&lt;/code&gt; jsou stejně
		case-sensitive jak v HTML, tak v XHTML. Pokud se tak nechoval např. Netscape
		6-, byla to chyba jeho interpreteru CSS.&lt;/p&gt;
	&lt;/li&gt;

	&lt;li&gt;Můj názor na DTD v XHTML je již nějakou dobu celkem jasný –
	přináší jen problémy, stěžuje rozšiřitelnost. Užívejme raději
	schéma a jmenné prostory. Jediný důvod k použití DTD v XHTML je,
	bohužel, přepínání prohlížeče do standard modu.&lt;/li&gt;

	&lt;li&gt;Dle mého názoru je velkou výhodou XHTML v čisté podobě to, že je
	lépe čitelné pro lidského čtenáře, protože se může lépe orientovat
	(vizuálně), kde daný element končí a kde začíná.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Největším problémem bezesporu je XML samotné. Jeho striktnost a
jednoznačnost vyvolává v kreativní části lidstva ranní nevolnost. Jak
jinak si vysvětlit, že ani relativně velké firmy nejsou schopné dodávat
dobře sestavené dokumenty?&lt;/p&gt;

&lt;p&gt;Tagy: &lt;a href="http://technorati.com/tag/xhtml"&gt;XHTML&lt;/a&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">DGX se rozhodl vydat článek s titulkem [xhtml] a moudře zakázal komentáře, protože toto je stále téma, které dokáže pěkně blafnout. Díky tomu můžu napsat svůj komentář u sebe.

1. Dovolil bych si nesouhlasit s následujícím tím, úryvkem, z části [prasarny].

 &gt; XHTML kód zase třeba používáním řetězců abc, AbC, aBC pro různé třídy.

 Hodnoty atributů `class` a `id` jsou stejně case-sensitive jak v HTML, tak v XHTML. Pokud se   tak nechoval např. Netscape 6-, byla to chyba jeho interpreteru CSS.

2. Můj názor na DTD v XHTML je již nějakou dobu celkem jasný - přináší jen problémy, stěžuje rozšiřitelnost. Užívejme raději schéma a jmenné prostory. Jediný důvod k použití DTD v XHTML je, bohužel, přepínání prohlížeče do standard modu.

3. Dle mého názoru je velkou výhodou XHTML v čisté podobě to, že je lépe čitelné pro lidského čtenáře, protože se může lépe orientovat (vizuálně), kde daný element končí a kde začíná.

Největším problémem bezesporu je XML samotné. Jeho striktnost a jednoznačnost vyvolává v kreativní části lidstva ranní nevolnost. Jak jinak si vysvětlit, že ani relativně velké firmy nejsou schopné dodávat dobře sestavené dokumenty?


Tagy: [tag-xhtml]

[tag-xhtml]: http://technorati.com/tag/xhtml XHTML .{rel=tag}
[xhtml]: http://latrine.dgx.cz/konecne-pravda-o-xhtml-a-html Konečně pravda o XHTML a HTML
[prasarny]: http://latrine.dgx.cz/konecne-pravda-o-xhtml-a-html#toc-mytus-html-dovoluje-prasarny-ktere-vam-v-xhtml-neprojdou Prasárny
</raw>
    <author>Aleš Roubíček</author>
    <published>2008-02-03T09:08:10.667</published>
    <url>david-se-vrhl-na-goliase-xhtml</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>xhtml</tags>
    <is-published>1</is-published>
    <edited>2008-09-13T11:46:37.923</edited>
  </article>
  <article>
    <id>255</id>
    <title>Method Chaining vs. Fluent Interface</title>
    <description>Přes Devlogy jsem narazil na článek Intervalu s názvem Fluent Interfaces, ve kterém autor popisuje Method Chaining. Kde udělal kolega Mrozek chybu?</description>
    <html xml:space="preserve">
&lt;p&gt;Přes &lt;a href="http://www.devlogy.cz/"&gt;Devlogy.cz&lt;/a&gt; jsem narazil na
článek &lt;a href="http://interval.cz/"&gt;Intervalu&lt;/a&gt; s názvem &lt;a
href="http://php.interval.cz/clanky/fluent-interfaces/"&gt;Fluent Interfaces&lt;/a&gt;,
ve kterém autor popisuje &lt;a
href="http://martinfowler.com/dslwip/MethodChaining.html"&gt;Method Chaining&lt;/a&gt;.
Kde udělal kolega Mrozek chybu?&lt;/p&gt;

&lt;p&gt;V definici vážení! :)&lt;/p&gt;

&lt;blockquote&gt;
	&lt;p&gt;Takzvané „Fluent Interface“ (česky též „plynulé rozhraní“ nebo
	„řetězcovité volání“) je způsob spojování metod &lt;strong&gt;jednoho
	objektu&lt;/strong&gt;, který usnadňuje předávání pracovního kontextu
	objektu.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Plynulé rozhraní totiž jde za hranice jednoho objektu. Umožňuje
kontextově navazovat třeba celé API do jedné věty. Často se jako
návratový typ dané metody používá nějaké rozhraní. Důležité také
je, že plynulá rozhraní se používají k tvorbě &lt;acronym
title="Domain Specific Language"&gt;DSL&lt;/acronym&gt;.&lt;/p&gt;

&lt;p&gt;To jsem dneska zase rozepsal…&lt;/p&gt;

&lt;p&gt;Přišli jste sem z RSS čtečky? Zkontrolujte si prosím, zda máte
správnou URL feedu &lt;a
href="http://feeds.feedburner.com/rarous-weblog"&gt;http://feeds.feedburner.com/rarous-weblog&lt;/a&gt;. Děkuji&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Přes [devlogy] jsem narazil na článek Intervalu:[interval] s názvem [fluent], ve kterém autor popisuje [chaining]. Kde udělal kolega Mrozek chybu?

V definici vážení! :)

&gt; Takzvané "Fluent Interface" (česky též "plynulé rozhraní" nebo "řetězcovité volání") je způsob spojování metod &lt;strong&gt;jednoho objektu&lt;/strong&gt;, který usnadňuje předávání pracovního kontextu objektu.

Plynulé rozhraní totiž jde za hranice jednoho objektu. Umožňuje kontextově navazovat třeba celé API do jedné věty. Často se jako návratový typ dané metody používá nějaké rozhraní. Důležité také je, že plynulá rozhraní se používají k tvorbě DSL((Domain Specific Language)).

To jsem dneska zase rozepsal...

Přišli jste sem z RSS čtečky? Zkontrolujte si prosím, zda máte správnou URL feedu http://feeds.feedburner.com/rarous-weblog. Děkuji

[devlogy]: http://www.devlogy.cz/ Devlogy.cz
[interval]: http://interval.cz/ Interval.cz
[fluent]: http://php.interval.cz/clanky/fluent-interfaces/ Fluent Interfaces
[chaining]: http://martinfowler.com/dslwip/MethodChaining.html Method Chaining</raw>
    <author>Aleš Roubíček</author>
    <published>2008-02-03T11:24:55.363</published>
    <url>method-chaining-vs-fluent-interface</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-02-03T11:25:49.487</edited>
  </article>
  <article>
    <id>256</id>
    <title>Mikroformáty - Důvod proč používat XHTML</title>
    <description>Minulý týden jsme si prodiskutovali pár mýtů na téma HTML vs. XHTML. Dneska si povíme o jedné věci, která nám možná přidá na hodnotě XHTML a tou jsou mikroformáty.</description>
    <html xml:space="preserve">
&lt;p&gt;Minulý týden jsme si prodiskutovali &lt;a
href="/weblog/254-david-se-vrhl-na-goliase-xhtml.aspx"&gt;pár mýtů na téma HTML
vs. XHTML&lt;/a&gt;. Zjistili jsme, že v HTML 4 jsou hodnoty atributů
&lt;code&gt;id&lt;/code&gt; a &lt;code&gt;class&lt;/code&gt; citlivé na velikost písmen
(přinejmenším v CSS a JavaScriptu). Shodli jsme se na tom, že DTD je
přežitek, a že za spoustou mýtů stojí prasata, která jsou podvědomě
spojována s HTML.&lt;/p&gt;

&lt;p&gt;Dneska si povíme o jedné věci, která nám možná přidá na hodnotě
XHTML a tou jsou &lt;a href="http://microformats.org/"&gt;mikroformáty&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id="toc-mikroformaty"&gt;Mikroformáty&lt;/h3&gt;

&lt;p&gt;Mikroformáty jsou sémanticky obohacené části XHTML kódu. Ačkoli se pro
jejich definovaná využívá atributů (&lt;code&gt;class&lt;/code&gt;, &lt;code&gt;rel&lt;/code&gt;,
&lt;code&gt;rev&lt;/code&gt;…), které jsou samozřejmě definovány v HTML,
k získávání jejich cenných dat se obecně využívá XML parserů. Proto
je lepší mít stránky v dobře sestaveném XHTML, než v plně validním
HTML – samozřejmě pokud chcete mikroformáty využívat. Ale proč
by ne.&lt;/p&gt;

&lt;h3 id="toc-uzivame-v-praxi"&gt;Uživáme v praxi&lt;/h3&gt;

&lt;p&gt;Když se podíváte do pravého sloupce (možná je až dole), na první
pohled tam nenajdete nic zajímavého, vlastně kecám. Hned nahoře jsou moje
kontaktní údaje, k jejich definici jsem použil mikroformátu &lt;a
href="http://microformats.org/wiki/hcard"&gt;hCard&lt;/a&gt;, který slouží k popisu
vizitkových dat a je kompatibilní se standardním formátem
&lt;em&gt;vCard&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;O kousek niž je další box s titulem &lt;strong&gt;Kolegové a
kamarádi&lt;/strong&gt;, není to nic jiného než blogroll s odkazy na mé kolegy,
kamarády a další dobré lidi :). Při jeho tvorbě jsem použil špetku
mikroformátu zvaného &lt;a href="http://gmpg.org/xfn"&gt;XFN&lt;/a&gt;. Tento slouží
k definici meziblogových vztahů.&lt;/p&gt;

&lt;p&gt;Mezi těmito boxy je jiný, tako co žádný mikroformát nepoužívá, ale
informuje o tom, že stále hledám nějakého šikovného kolegu, co umí
dobře C# a chtěl by se mnou spolupracovat na &lt;a
href="http://firmy.atlas.cz/"&gt;Atlasu firem&lt;/a&gt; a s ním spojených interních
systémech. Práce je to opravdu zajímavá, rozšíříš si obzory a navíc
možnost pracovat s tak milými a sympatickými lidmi…&lt;/p&gt;

&lt;h3 id="toc-s-cim-na-ne"&gt;S čím na ně?&lt;/h3&gt;

&lt;p&gt;Jo k praktickému využití mikroformátů ještě schází podpora
v prohlížečích. Do odnoží firefoxu se dá doinstalovat nástroj &lt;a
href="https://addons.mozilla.org/en-US/firefox/addon/4106"&gt;Operator&lt;/a&gt;, který
je určitě dobrým pomocníkem při vývoji a je propojen na některé služby,
které s MF umí pracovat. Nativní podpora pro mikroformáty je slibována ve
Firefoxu 3 a Internet Exploreru 8 (znamená to, že bude konečně umět
XHTML?). Dále se po internetu válej nějaký skripty, které slouží
k transformaci na jiné formáty, CSSka pro zvýrazňování mikroformátů ve
stránce a tak.&lt;/p&gt;

&lt;p&gt;Tagy: &lt;a href="http://technorati.com/tag/microformats"&gt;Microformats&lt;/a&gt;, &lt;a
href="http://technorati.com/tag/xhtml"&gt;XHTML&lt;/a&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Minulý týden jsme si prodiskutovali "pár mýtů na téma HTML vs. XHTML":[clanek(254)]. Zjistili jsme, že v HTML 4 jsou hodnoty atributů `id` a `class` citlivé na velikost písmen (přinejmenším v CSS a JavaScriptu). Shodli jsme se na tom, že DTD je přežitek, a že za spoustou mýtů stojí prasata, která jsou podvědomě spojována s HTML.

Dneska si povíme o jedné věci, která nám možná přidá na hodnotě XHTML a tou jsou mikroformáty:[microformats].

Mikroformáty
============

Mikroformáty jsou sémanticky obohacené části XHTML kódu. Ačkoli se pro jejich definovaná využívá atributů (`class`, `rel`, `rev`…), které jsou samozřejmě definovány v HTML, k získávání jejich cenných dat se obecně využívá XML parserů. Proto je lepší mít stránky v dobře sestaveném XHTML, než v plně validním HTML – samozřejmě pokud chcete mikroformáty využívat. Ale proč by ne.

Uživáme v praxi
===============

Když se podíváte do pravého sloupce (možná je až dole), na první pohled tam nenajdete nic zajímavého, vlastně kecám. Hned nahoře jsou moje kontaktní údaje, k jejich definici jsem použil mikroformátu [hCard], který slouží k popisu vizitkových dat a je kompatibilní se standardním formátem *vCard*.

O kousek niž je další box s titulem **Kolegové a kamarádi**, není to nic jiného než blogroll s odkazy na mé kolegy, kamarády a další dobré lidi :).  Při jeho tvorbě jsem použil špetku mikroformátu zvaného [XFN]. Tento slouží k definici meziblogových vztahů.

Mezi těmito boxy je jiný, tako co žádný mikroformát nepoužívá, ale informuje o tom, že stále hledám nějakého šikovného kolegu, co umí dobře C# a chtěl by se mnou spolupracovat na "Atlasu firem":[katalog] a s ním spojených interních systémech. Práce je to opravdu zajímavá, rozšíříš si obzory a navíc možnost pracovat s tak milými a sympatickými lidmi…

S čím na ně?
============

Jo k praktickému využití mikroformátů ještě schází podpora v prohlížečích. Do odnoží firefoxu se dá doinstalovat nástroj [operator], který je určitě dobrým pomocníkem při vývoji a je propojen na některé služby, které s MF umí pracovat. Nativní podpora pro mikroformáty je slibována ve Firefoxu 3 a Internet Exploreru 8 (znamená to, že bude konečně umět XHTML?). Dále se po internetu válej nějaký skripty, které slouží k transformaci na jiné formáty, CSSka pro zvýrazňování mikroformátů ve stránce a tak.

Tagy: [tag-microformats], [tag-xhtml]

[tag-microformats]: http://technorati.com/tag/microformats Microformats .{rel=tag}
[tag-xhtml]: http://technorati.com/tag/xhtml XHTML .{rel=tag}

[clanek(254)]: /weblog/254-david-se-vrhl-na-goliase-xhtml.aspx David se vrhl na Goliáše XHTML.
[microformats]: http://microformats.org/ Microformats
[hCard]: http://microformats.org/wiki/hcard hCard
[XFN]: http://gmpg.org/xfn XFN
[operator]: https://addons.mozilla.org/en-US/firefox/addon/4106 Operator
[katalog]: http://firmy.atlas.cz/
</raw>
    <author>Aleš Roubíček</author>
    <published>2008-02-12T11:04:57.267</published>
    <url>mikroformaty-duvod-proc-pouzivat-xhtml</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>microformats xhtml xfn hcard operator firefox ie8</tags>
    <is-published>1</is-published>
    <edited>2008-09-13T11:45:59.860</edited>
  </article>
  <article>
    <id>257</id>
    <title>Nový rarouš.net</title>
    <description>Právě jsem spustil první beta verzi homepage rarouš.net. Po letech jsem se vrátil k homepagi oddělené od blogu, když ne tak úplně. Nová verze by měla v krátkosti informovat o mně.</description>
    <html xml:space="preserve">
&lt;p&gt;Právě jsem spustil první beta verzi homepage &lt;a
href="http://rarous.net/"&gt;rarouš.net&lt;/a&gt;. Po letech jsem se vrátil k homepagi
oddělené od blogu, když ne tak úplně. Nová verze by měla v krátkosti
informovat o mně. Je na ní &lt;a rel="me"
href="http://rarous.net/#kontakt"&gt;kontakt&lt;/a&gt;, poslední články z blogu,
poslední alba na picase, poslední zápich z twittru, co zrovna poslouchám a
co mě zaujalo ve čtečce.&lt;/p&gt;

&lt;p&gt;Všechny tyto informace jsou agregované a k jejich načítání používám
nové třídy z .net frameworku 3.5 (LINQ to XML a Syndication services). Aby
nedocházelo k přetěžování, tak jsou data cachována na 5min.&lt;/p&gt;

&lt;p&gt;Zajímavé je, že to málo mi zabralo celé tři dny práce – vymyšlení
konceptu, návrh grafiky, nakódování šablony a programování. Jenže
zdaleka ještě nejsem hotov. :) Ještě mi zbývá přidat hledání, udělat
celou patičku a dovymyslet způsob agregování muziky z &lt;a
href="http://rarousmusic.com/"&gt;raroušmusic­.com&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;No ještě je toho dost, ale teď je načase nejakej relax…&lt;/p&gt;

&lt;h3&gt;Update&lt;/h3&gt;

&lt;p&gt;Tak patička je snad hotová.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Právě jsem spustil první beta verzi homepage [rarous]. Po letech jsem se vrátil k homepagi oddělené od blogu, když ne tak úplně. Nová verze by měla v krátkosti informovat o mně. Je na ní [kontakt], poslední články z blogu, poslední alba na picase, poslední zápich z twittru, co zrovna poslouchám a co mě zaujalo ve čtečce.

Všechny tyto informace jsou agregované a k jejich načítání používám nové třídy z .net frameworku 3.5 (LINQ to XML a Syndication services). Aby nedocházelo k přetěžování, tak jsou data cachována na 5min.

Zajímavé je, že to málo mi zabralo celé tři dny práce – vymyšlení konceptu, návrh grafiky, nakódování šablony a programování. Jenže zdaleka ještě nejsem hotov. :)
Ještě mi zbývá přidat hledání, udělat celou patičku a dovymyslet způsob agregování muziky z [music].

No ještě je toho dost, ale teď je načase nejakej relax…

==Update
Tak patička je snad hotová.

[rarous]: http://rarous.net/ rarouš.net
[kontakt]: http://rarous.net/#kontakt kontakt .{rel:me}
[music]: http://rarousmusic.com/ raroušmusic.com</raw>
    <author>Aleš Roubíček</author>
    <published>2008-02-17T12:40:37.727</published>
    <url>novy-rarous-net</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-02-17T18:30:15.930</edited>
  </article>
  <article>
    <id>258</id>
    <title>Pár postřehů k nové HP</title>
    <description>Pár postřehů z tvorby nové homepage rarouš.net.</description>
    <html xml:space="preserve">
&lt;p&gt;O tom, že jsem spustil novýho &lt;a href="http://rarous.net"&gt;rarouše na
net&lt;/a&gt;, jste se mohli dočíst &lt;a
href="/weblog/257-novy-rarous-net.aspx"&gt;minule&lt;/a&gt;. Teď ještě pár postřehů
s odstupem času…&lt;/p&gt;

&lt;h3 id="toc-hledani"&gt;Hledání&lt;/h3&gt;

&lt;p&gt;Jednou z plánovaných funkcí je hledání. Používám kustomizované Live
Search. Stačí mi přidat jen malý formulář, ale zatím se mi nechce.
Vždyť většina návštěvníků má stejně prohlížeč s hledacím
políčkem a může si &lt;a href="/weblog/185-format-opensearch-dil-1.aspx"&gt;snadno
přidat můj plugin&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id="toc-styly"&gt;Styly&lt;/h3&gt;

&lt;p&gt;Wow, napsal jsem to celý ve standard modu s CSS 2.1 selektorama a vůbec
jsem to nikterak neladil a funguje to všude stejně – pokud to teda umí CSS
2.1… ;) Pak jsem kolegovi diktoval adresu a najednou se ubjevila nějaká
žumpa, heh bylo to v IE6. Je to hnus velebnosti, ale upravovat to nebudu.&lt;/p&gt;

&lt;h3 id="toc-hlavni-sloupec"&gt;Hlavní sloupec&lt;/h3&gt;

&lt;p&gt;Lukáš Mačí mi jako reakci na mou novou homepage sdělil:&lt;/p&gt;

&lt;blockquote&gt;
	&lt;p&gt;na muj vkus je docela potlacenej ten hlavni sloupek&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;No netušil jsem, kterej hlavní sloupec myslí, já totiž žádnej sloupec
za hlavní nepovažuju. Proto maj oba obsahový boxy přidělenou stejnou část
obrazovky.&lt;/p&gt;

&lt;h3 id="toc-agregace"&gt;Agregace&lt;/h3&gt;

&lt;p&gt;Pro načítání většiny dat na HP je použita agregace z různých
kanálů – proto je ta stránka taková sociální. Celý kód pro
načítání všech boxů je asi na 10 řádek a dost z toho zabíra metoda
pro načtení feedu. :) Všechno je to úžasně jednoduché, díky novému
3.5 frameworku.&lt;/p&gt;

&lt;p&gt;Novinkou v 3.5 je totiž nový namespace
&lt;code&gt;System.ServiceModel.Syndication&lt;/code&gt;, který obsahuje abstrahovaný
model nad RSS 2.0 a Atom 1.0. Pro oba formáty lze použít pouze jednu
třídu &lt;a
href="http://msdn2.microsoft.com/en-us/library/system.servicemodel.syndication.syndicationfeed.aspx"&gt;SyndicationFeed&lt;/a&gt;,
s níž jde práce jak po másle. Načtení feedu pak vypadá asi
následovně:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;private static SyndicationFeed GetFeed(string feedUrl) {
  var reader = XmlReader.Create(feedUrl);
  var feed = SyndicationFeed.Load(reader);
  return feed;
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Naštěstí jsou zdroje, ze kterých čerpám, wellformed a validní. Jak si
tahle třída poradí s prasokódem fakt netuším a ani jsem to
nezkoušel.&lt;/p&gt;

&lt;p&gt;Nejvíc jsem se zapotil u načítání galerií z picasy, protože jsem
chtěl čerpat data z Media RSS Extensions. Původně jsem napsal asi
20 řádkový strašidelný kód, který načítal pouze adresu náhledového
obrázku a stejně nefungoval. Postupně jsem se však přibližoval k cíli a
nakonec jsem skončil u celkem elegantní konstrukce:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;private static string GetThumbnailUrl(SyndicationItem item) {
  var reader = item.ElementExtensions[0].GetReader();
  var group = XElement.ReadFrom(reader) as XElement;

  var url = group.
    Element(XName.Get("thumbnail", "http://search.yahoo.com/mrss/")).
    Attribute(XName.Get("url")).Value;

  return url;
}&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id="toc-na-zaver"&gt;Na závěr&lt;/h3&gt;

&lt;p&gt;Nakonec jsem se rozhodl, že i na agregovanou HP nasadím &lt;a
href="http://texy.info/"
title="The best text  → HTML converter and formatter"&gt;Texy!&lt;/a&gt;. Zatim tam
není, ale důvody pro ni jsou jasné: z twittru nechoděj URL jako odkazy,
typografický pravidla nejsou vůbec nikde. Takže k tomu bude Texy! dobrá.
Možná mě to donutí napsat tu novou Texy-WS a patřičného providera pro &lt;a
href="http://www.codeplex.com/texynet"&gt;Texy.net&lt;/a&gt;. Ale možná taky ne!&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">O tom, že jsem spustil novýho "rarouše na net":[http://rarous.net], jste se mohli dočíst minule:[clanek(257)]. Teď ještě pár postřehů s odstupem času...

== Hledání
Jednou z plánovaných funkcí je hledání. Používám kustomizované Live Search. Stačí mi přidat jen malý formulář, ale zatím se mi nechce. Vždyť většina návštěvníků má stejně prohlížeč s hledacím políčkem a může si "snadno přidat můj plugin":[clanek(185)].

== Styly
Wow, napsal jsem to celý ve standard modu s CSS 2.1 selektorama a vůbec jsem to nikterak neladil a funguje to všude stejně - pokud to teda umí CSS 2.1... ;) Pak jsem kolegovi diktoval adresu a najednou se ubjevila nějaká žumpa, heh bylo to v IE6. Je to hnus velebnosti, ale upravovat to nebudu.

== Hlavní sloupec
Lukáš Mačí mi jako reakci na mou novou homepage sdělil:

&gt; na muj vkus je docela potlacenej ten hlavni sloupek

No netušil jsem, kterej hlavní sloupec myslí, já totiž žádnej sloupec za hlavní nepovažuju. Proto maj oba obsahový boxy přidělenou stejnou část obrazovky.


== Agregace
Pro načítání většiny dat na HP je použita agregace z různých kanálů - proto je ta stránka taková sociální. Celý kód pro načítání všech boxů je asi na 10 řádek a dost z toho zabíra metoda pro načtení feedu. :) Všechno je to úžasně jednoduché, díky novému 3.5 frameworku.

Novinkou v 3.5 je totiž nový namespace `System.ServiceModel.Syndication`, který obsahuje abstrahovaný model nad RSS 2.0 a Atom 1.0. Pro oba formáty lze použít pouze jednu třídu [feed], s níž jde práce jak po másle. Načtení feedu pak vypadá asi následovně:

/--code csharp
private static SyndicationFeed GetFeed(string feedUrl) {
  var reader = XmlReader.Create(feedUrl);
  var feed = SyndicationFeed.Load(reader);
  return feed;
}
\--code

Naštěstí jsou zdroje, ze kterých čerpám, wellformed a validní. Jak si tahle třída poradí s prasokódem fakt netuším a ani jsem to nezkoušel.

Nejvíc jsem se zapotil u načítání galerií z picasy, protože jsem chtěl čerpat data z Media RSS Extensions. Původně jsem napsal asi 20 řádkový strašidelný kód, který načítal pouze adresu náhledového obrázku a stejně nefungoval. Postupně jsem se však přibližoval k cíli a nakonec jsem skončil u celkem elegantní konstrukce:

/--code csharp
private static string GetThumbnailUrl(SyndicationItem item) {
  var reader = item.ElementExtensions[0].GetReader();
  var group = XElement.ReadFrom(reader) as XElement;

  var url = group.
    Element(XName.Get("thumbnail", "http://search.yahoo.com/mrss/")).
    Attribute(XName.Get("url")).Value;

  return url;
}
\--code

== Na závěr
Nakonec jsem se rozhodl, že i na agregovanou HP nasadím [texy]. Zatim tam není, ale důvody pro ni jsou jasné: z twittru nechoděj URL jako odkazy, typografický pravidla nejsou vůbec nikde. Takže k tomu bude Texy! dobrá. Možná mě to donutí napsat tu novou Texy-WS a patřičného providera pro [texy-net]. Ale možná taky ne!

[feed]: http://msdn2.microsoft.com/en-us/library/system.servicemodel.syndication.syndicationfeed.aspx SyndicationFeed
[clanek(185)]: /weblog/185-format-opensearch-dil-1.aspx
[clanek(257)]: /weblog/257-novy-rarous-net.aspx
[texy-net]: http://www.codeplex.com/texynet Texy.net</raw>
    <author>Aleš Roubíček</author>
    <published>2008-02-20T21:02:41.147</published>
    <url>par-postrehu-k-nove-hp</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-06-23T13:44:14.667</edited>
  </article>
  <article>
    <id>259</id>
    <title>www.spojeno.cz</title>
    <description>no comment</description>
    <html xml:space="preserve">
&lt;p&gt;&lt;a href="http://www.spojeno.cz/"&gt;http://www.spojeno.cz/&lt;/a&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">http://www.spojeno.cz/</raw>
    <author>Aleš Roubíček</author>
    <published>2008-02-26T10:57:18.880</published>
    <url>www-spojeno-cz</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-02-26T10:57:18.940</edited>
  </article>
  <article>
    <id>260</id>
    <title>Dynamic Silverlight</title>
    <description>Pár odkazů na dynamické jazyky do vašeho prohlížeče.</description>
    <html xml:space="preserve">
&lt;p&gt;Jednou z věcí, na kterou se dlouho těším, je podpora dynamických
jazyků v Silverlightu 2+. Umožňuje to nový stack v .net runtime &lt;acronym
title="Dynamic Language Runtime"&gt;DLR&lt;/acronym&gt;, nad kterým jsou implementovány
jazyky &lt;a href="http://www.codeplex.com/IronPython"&gt;IronPython&lt;/a&gt;, &lt;a
href="http://www.ironruby.net/"&gt;IronRuby&lt;/a&gt;, JScript.net a budoucí verze
Visual Basicu označovaná jako VBx.&lt;/p&gt;

&lt;p&gt;Dynamic Silverlight – jak se rozšíření &lt;a
href="http://silverlight.net/"&gt;Silverlightu&lt;/a&gt; 2.0 pro dynamické jazyky
nazývá – byl představen poslední den konference MIX08. Zájemcům
doporučuju shlédnout &lt;a
href="http://sessions.visitmix.com/?selectedSearch=T28"&gt;záznam přednášky&lt;/a&gt;
Johna Lama. No a právě včera byly zprovozněny &lt;a
href="http://dynamicsilverlight.net/"&gt;nové stránky&lt;/a&gt; tohoto zajímavého
projektu, kde si můžete stáhnout SDK s potřebnými knihovnami. Tak
s chutí do hraní! :)&lt;/p&gt;

&lt;p&gt;Tagy: &lt;a href="http://technorati.com/tag/silverlight"&gt;Silverlight&lt;/a&gt;, &lt;a
href="http://technorati.com/tag/ironpython"&gt;IronPython&lt;/a&gt;, &lt;a
href="http://technorati.com/tag/ironruby"&gt;IronRuby&lt;/a&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Jednou z věcí, na kterou se dlouho těším, je podpora dynamických jazyků v Silverlightu 2+. Umožňuje to nový stack v .net runtime DLR((Dynamic Language Runtime)), nad kterým jsou implementovány jazyky [python], [ruby], JScript.net a budoucí verze Visual Basicu označovaná jako VBx.

Dynamic Silverlight - jak se rozšíření Silverlightu:[silverlight] 2.0 pro dynamické jazyky nazývá - byl představen poslední den konference MIX08. Zájemcům doporučuju shlédnout "záznam přednášky":[video] Johna Lama. No a právě včera byly zprovozněny "nové stránky":[dynamicsilverlight] tohoto zajímavého projektu, kde si můžete stáhnout SDK s potřebnými knihovnami. Tak s chutí do hraní! :)

Tagy: [tag-silverlight], [tag-ironpython], [tag-ironruby]

[tag-silverlight]: http://technorati.com/tag/silverlight Silverlight .{rel=tag}
[tag-ironpython]: http://technorati.com/tag/ironpython IronPython .{rel=tag}
[tag-ironruby]: http://technorati.com/tag/ironruby IronRuby .{rel=tag}

[silverlight]: http://silverlight.net/ Silverlight
[dynamicsilverlight]: http://dynamicsilverlight.net/ Dynamic Silverlight
[python]: http://www.codeplex.com/IronPython IronPython
[ruby]: http://www.ironruby.net/ IronRuby
[video]: http://sessions.visitmix.com/?selectedSearch=T28
</raw>
    <author>Aleš Roubíček</author>
    <published>2008-03-15T11:48:20.540</published>
    <url>dynamic-silverlight</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>silverlight dlr ironpython ironruby</tags>
    <is-published>1</is-published>
    <edited>2008-09-13T11:43:58.907</edited>
  </article>
  <article>
    <id>261</id>
    <title>WebCamp za námi</title>
    <description>Poslední dva dny jsem strávil na konferenci pro webové tvůrce pořádané Vilémem Málkem a Jakubem Vránou. Jaké to tam bylo a o co jste pravděpodobně přišli? Dozvíte se dále.</description>
    <html xml:space="preserve">
&lt;p&gt;Poslední dva dny jsem strávil na konferenci pro webové tvůrce pořádané
&lt;a href="http://interval.cz/"&gt;Vilémem Málkem&lt;/a&gt; a &lt;a
href="http://php.vrana.cz/"&gt;Jakubem Vránou&lt;/a&gt;. Jaké to tam bylo a o co jste
pravděpodobně přišli?&lt;/p&gt;

&lt;p&gt;O &lt;a href="http://www.webcamp.cz/"&gt;WebCampu&lt;/a&gt; jsem věděl už před pár
týdny. Nezaujal mě ani tak program, jako někteří přednášející. Už
nějakou dobu jsme měl potřebu se setkat s &lt;a
href="http://www.davidgrudl.com/"&gt;Davidem Grudlem&lt;/a&gt; (všimněte si, není
Grundl a ani DGX) a &lt;a href="http://www.borber.com/"&gt;Borkem Bernardem&lt;/a&gt;.
Vzhledem k tomu, že oba na této konferenci měli přednášet a navíc
v Dejvicích, byla to jedinečná příležitost. :)&lt;/p&gt;

&lt;p&gt;Psal jsem Borkovi, ať se mi večer ozve, že bych s nimi zašel „na
jedno.“ Pak mi v úterý přišel mejl od &lt;a
href="http://www.mraveniste.org/"&gt;Honzy Biena&lt;/a&gt;, že je pozvaný u může si
vzít hosta, ať tedy jdu s ním. No měl jsem zrovna dovolenou a pohyboval
jsem se v Praze – tak jsem souhlasil.&lt;/p&gt;

&lt;h3 id="toc-den-prvni-webovy-vyvoj"&gt;Den první – webový vývoj&lt;/h3&gt;

&lt;p&gt;První den byl věnován webovému vývoj a to především v PHP. Na konec
jsem na konferenci našel několik i pro mne zajímavých témat. Na začátku
bylo téma o podpoře PHP v produktech Microsoftu (o tom jak rozběhat &lt;a
href="/weblog/231-jak-na-php-ve-viste.aspx"&gt;PHP 5 v IIS na Vistě&lt;/a&gt; jsem už
psal). Přednáška o budoucnosti PHP byla spíše zábavnou (alespoň z mého
C# pohledu). Jakub ať se nezlobí, ale jeho &lt;a
href="http://adminer.cz/"&gt;generátor administračních rozhranní&lt;/a&gt; se mi
vůbec nelíbil. ;)&lt;/p&gt;

&lt;p&gt;Borek pak prezentoval celkem ze široka, jaké možnosti pro webové
vývojáře dnes existují. Jako serverou alternativu prezentoval ASP.NET (v &lt;a
href="http://forums.asp.net/1145.aspx"&gt;Dynamic Data&lt;/a&gt; měl admina stejně
rychle hotového jako Jakub, navíc vč. doménových objektů). U RIA se Borek
zmínil o &lt;a href="http://www.microsoft.com/silverlight/"&gt;Silverlightu&lt;/a&gt; 2 a
&lt;a href="http://www.adobe.com/flex/"&gt;Flexu&lt;/a&gt;. Dále o možnosti psát na
serveru klientským způsobem a trendu sbližování technologií pro tvorbu
tenkých klientů (browser, plugin, Java/.net, native). Pak jsme šli na pivo do
Budvarky.&lt;/p&gt;

&lt;p&gt;Vrátili jsme se až na závěrečnou část přednášky &lt;a
href="http://www.tomasp.net/"&gt;Tomáše Petříčka&lt;/a&gt;, která byla o &lt;a
href="http://www.php-compiler.net/"&gt;Phalangeru&lt;/a&gt; v Silverlightu. Myslím, že
ta dost přítomných vývojářů zaujala, alespoň podle pozdějších reakcí
v hospodě. Na konec byl zlatý hřeb večera – přednáška
&lt;del&gt;DGX&lt;/del&gt;&lt;ins&gt;Davida&lt;/ins&gt; o &lt;a href="http://texy.info/"
title="The best text  → HTML converter and formatter"&gt;Texy!&lt;/a&gt; (z pohledu
programátora).&lt;/p&gt;

&lt;p&gt;Nakonec jsme se přesunuli o patro níž, kde je i hospoda. Tam jsme
nakonec s Davidem a Štěpánem stvrdli až do tří nebo tak nějak. :D&lt;/p&gt;

&lt;h3 id="toc-den-druhy-budoucnost-a-pristupnost-webu"&gt;Den druhý – budoucnost
a přístupnost webu&lt;/h3&gt;

&lt;p&gt;Ráno jsme přišli dost zničení (po třech a půl hodinách spánku) a
zachytili jsme začátek přednášky &lt;a
href="http://pristupnost.nawebu.cz/"&gt;Davida Špinara&lt;/a&gt; o &lt;a
href="http://www.pravidla-pristupnosti.cz/"&gt;pravidlech přístupnosti&lt;/a&gt; pro
weby státní správy. Následovala další přednáška o snaze o &lt;a
href="http://seznam.sblog.cz/2008/03/28/33"&gt;bezbariérový Seznam&lt;/a&gt; a další
o tom jakým způsobem používají web handicapovaní uživatelé a praktickou
ukázkou hlasové čtečky.&lt;/p&gt;

&lt;p&gt;V odpoledním bloku vystoupil &lt;a
href="http://www.webylon.info/"&gt;Chamurappi&lt;/a&gt; a představil svůj &lt;a
href="http://validator.w3.cz/"&gt;český validátor&lt;/a&gt;. &lt;a
href="http://www.marigold.cz/"&gt;Patrick Zandl&lt;/a&gt; měl velice zajímavou
přednášku o &lt;a href="http://www.stream.cz/"&gt;Stream.cz&lt;/a&gt; a na závěr
vystoupil &lt;a href="http://html456.blogspot.com/"&gt;Martin Hassman&lt;/a&gt;
s tématem HTML5.&lt;/p&gt;

&lt;p&gt;Všechno to byla zajímavá témata, ale díky únavě z předchozího dne,
to mohlo vypadat, že mě to nezajímá, opakem byla pravda. Návštěvnost
konference asi neodpovídala představám pořadatelů, ale možná to bylo
i tím, že se o ní málo mluvilo – já jsem jí zaregistroval, díky
službě &lt;a href="http://www.weblogy.cz/"&gt;W3B&lt;/a&gt; – nebo dosti vysoké ceně.
Snad bude mít příští akce větší komerční úspěch.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Poslední dva dny jsem strávil na konferenci pro webové tvůrce pořádané "Vilémem Málkem":[interval] a "Jakubem Vránou":[vrana]. Jaké to tam bylo a o co jste pravděpodobně přišli?

O WebCampu:[webcamp] jsem věděl už před pár týdny. Nezaujal mě ani tak program, jako někteří přednášející. Už nějakou dobu jsme měl potřebu se setkat s "Davidem Grudlem":[dgx] (všimněte si, není Grundl a ani DGX) a "Borkem Bernardem":[borber]. Vzhledem k tomu, že oba na této konferenci měli přednášet a navíc v Dejvicích, byla to jedinečná příležitost. :)

Psal jsem Borkovi, ať se mi večer ozve, že bych s nimi zašel "na jedno." Pak mi v úterý přišel mejl od "Honzy Biena":[mraveniste], že je pozvaný u může si vzít hosta, ať tedy jdu s ním. No měl jsem zrovna dovolenou a pohyboval jsem se v Praze - tak jsem souhlasil.

Den první - webový vývoj
========================

První den byl věnován webovému vývoj a to především v PHP. Na konec jsem na konferenci našel několik i pro mne zajímavých témat. Na začátku bylo téma o podpoře PHP v produktech Microsoftu (o tom jak rozběhat "PHP 5 v IIS na Vistě":[clanek(231)] jsem už psal). Přednáška o budoucnosti PHP byla spíše zábavnou (alespoň z mého C# pohledu). Jakub ať se nezlobí, ale jeho "generátor administračních rozhranní":[adminer] se mi vůbec nelíbil. ;)

Borek pak prezentoval celkem ze široka, jaké možnosti pro webové vývojáře dnes existují. Jako serverou alternativu prezentoval ASP.NET (v "Dynamic Data":[dynamicdata] měl admina stejně rychle hotového jako Jakub, navíc vč. doménových objektů). U RIA se Borek zmínil o Silverlightu:[silverlight] 2 a Flexu:[flex]. Dále o možnosti psát na serveru klientským způsobem a trendu sbližování technologií pro tvorbu tenkých klientů (browser, plugin, Java/.net, native). Pak jsme šli na pivo do Budvarky.

Vrátili jsme se až na závěrečnou část přednášky "Tomáše Petříčka":[tomasp], která byla o Phalangeru:[phalanger] v Silverlightu. Myslím, že ta dost přítomných vývojářů zaujala, alespoň podle pozdějších reakcí v hospodě. Na konec byl zlatý hřeb večera - přednáška --DGX--++Davida++ o "Texy!":[texy] (z pohledu programátora).

Nakonec jsme se přesunuli o patro níž, kde je i hospoda. Tam jsme nakonec s Davidem a Štěpánem stvrdli až do tří nebo tak nějak. :D

Den druhý - budoucnost a přístupnost webu
=========================================

Ráno jsme přišli dost zničení (po třech a půl hodinách spánku) a zachytili jsme začátek přednášky "Davida Špinara":[pristupnost] o "pravidlech přístupnosti":[pravidla] pro weby státní správy. Následovala další přednáška o snaze o "bezbariérový Seznam":[seznam] a další o tom jakým způsobem používají web handicapovaní uživatelé a praktickou ukázkou hlasové čtečky.

V odpoledním bloku vystoupil Chamurappi:[webylon] a představil svůj "český validátor":[validator]. "Patrick Zandl":[marigold] měl velice zajímavou přednášku o Stream.cz:[stream] a na závěr vystoupil "Martin Hassman":[html456] s tématem HTML5.

Všechno to byla zajímavá témata, ale díky únavě z předchozího dne, to mohlo vypadat, že mě to nezajímá, opakem byla pravda. Návštěvnost konference asi neodpovídala představám pořadatelů, ale možná to bylo i tím, že se o ní málo mluvilo - já jsem jí zaregistroval, díky službě [weblogy] - nebo dosti vysoké ceně. Snad bude mít příští akce větší komerční úspěch.

[weblogy]: http://www.weblogy.cz/ W3B
[mraveniste]: http://www.mraveniste.org/
[webcamp]: http://www.webcamp.cz/
[dgx]: http://www.davidgrudl.com/
[borber]: http://www.borber.com/
[tomasp]: http://www.tomasp.net/
[marigold]: http://www.marigold.cz/
[pristupnost]: http://pristupnost.nawebu.cz/
[pravidla]: http://www.pravidla-pristupnosti.cz/
[html456]: http://html456.blogspot.com/
[vrana]: http://php.vrana.cz/
[stream]: http://www.stream.cz/
[adminer]: http://adminer.cz/
[validator]: http://validator.w3.cz/
[webylon]: http://www.webylon.info/
[interval]: http://interval.cz/
[dynamicdata]: http://forums.asp.net/1145.aspx
[phalanger]: http://www.php-compiler.net/
[silverlight]: http://www.microsoft.com/silverlight/
[flex]: http://www.adobe.com/flex/
[seznam]: http://seznam.sblog.cz/2008/03/28/33
[clanek(231)]: /weblog/231-jak-na-php-ve-viste.aspx</raw>
    <author>Aleš Roubíček</author>
    <published>2008-03-29T11:56:31.210</published>
    <url>webcamp-za-nami</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>webcamp dynamicdata php aspnet silverlight flex texy html5</tags>
    <is-published>1</is-published>
    <edited>2008-09-13T11:43:09.970</edited>
  </article>
  <article>
    <id>262</id>
    <title>Pomožte s bakalářkou </title>
    <description>Kamarád a bývalý kolega, mj. duchovní praotec služby weblogy.cz, potřebuje pomoc s bakalářskou prací. Připojte se také, nezabere vám to víc jak deset minut. http://dotaznik.lahvicka.cz/</description>
    <html xml:space="preserve">
&lt;p&gt;Kamarád a bývalý kolega, mj. duchovní praotec služby weblogy.cz, Jirka
Lahvička potřebuje pomoc s bakalářskou prací. &lt;a
href="http://dotaznik.lahvicka.cz/"&gt;Připojte se&lt;/a&gt; také, nezabere vám to
víc jak deset minut.&lt;/p&gt;

&lt;p&gt;Mrkněte na následující &lt;a
href="http://dotaznik.lahvicka.cz/"&gt;dotazník&lt;/a&gt;. Díky&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Kamarád a bývalý kolega, mj. duchovní praotec služby weblogy.cz, Jirka Lahvička potřebuje pomoc s bakalářskou prací. "Připojte se":[http://dotaznik.lahvicka.cz/] také, nezabere vám to víc jak deset minut.

Mrkněte na následující dotazník:[http://dotaznik.lahvicka.cz/]. Díky</raw>
    <author>Aleš Roubíček</author>
    <published>2008-04-06T18:19:49.650</published>
    <url>pomozte-s-bakalarkou</url>
    <category>Kamarádi</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-04-06T18:22:17.417</edited>
  </article>
  <article>
    <id>263</id>
    <title>Homepage reloaded</title>
    <description>Konečně se mi podařilo odstranit nepříjemný bug na mojí nedávno spuštěné homepage. Analytics teď trackují bezproblémů a počítají i zastoupení Silverlightu.</description>
    <html xml:space="preserve">
&lt;p&gt;Už je tomu nějakej ten týden, co jsem nasadil novou sociální &lt;a
href="/"&gt;homepage&lt;/a&gt;. Po úpravách, které jí měly vystavovat jako
&lt;code&gt;application/xhtml+xml&lt;/code&gt; došlo k tomu, že jsem se na ní ve
Firefoxu už nedostal.&lt;/p&gt;

&lt;p&gt;Měl jsem za to, že je chyba v mém systému a že je muj FF nějakej
nabořenej, protože u &lt;a href="http://www.maciweb.cz/"&gt;Macíka&lt;/a&gt; to třeba
nedělalo. Proto jsem to ani moc neřešil. Jenže jsem si jednoho dne řekl,
že to musím rozlousknout.&lt;/p&gt;

&lt;h3 id="toc-jadro-pudla"&gt;Jádro pudla&lt;/h3&gt;

&lt;p&gt;Chyba nakonec nebyla pouze v mém Firefoxu, ale šlo o kombinaci Firofox +
Silverlight. Do svého Google Analytics kódu jsem měl totiž přidaný kód,
pro &lt;a href="http://www.nikhilk.net/Silverlight-Analytics.aspx"&gt;měření
zastoupení Silverlight&lt;/a&gt; pluginu, který jsem vzal od Nikhila Kothariho.
Problém byl v tom, že plugin instancioval pomocí vytvoření
&lt;code&gt;embed&lt;/code&gt; značky přes &lt;code&gt;innerHTML&lt;/code&gt;. To v kombinaci s
&lt;code&gt;application/xhtml+xml&lt;/code&gt; Firefox sestřelilo.&lt;/p&gt;

&lt;h3 id="toc-reseni"&gt;Řešení&lt;/h3&gt;

&lt;p&gt;Když si mě včera do Twittru přidal &lt;a href="http://arcao.com/"&gt;Arcao&lt;/a&gt;,
našel jsem na jeho stránkách informaci, o které jsem dosud nevěděl.
Google Analytics maj novej script pro měření. Takže ten jsem použil pro
novou verzi meho kontrolu na měření návštěvnosti. A začal si hrát
s ověřováním Silverlightu. U IE jsem zůstal u metody inicializace
ActiveX objektu a využití jeho API. U Firefoxu jsme na to musel trochu jinak.
Nakonec jsem využil &lt;acronym title="Plug-in API"&gt;PAPI&lt;/acronym&gt; a vlastnost
&lt;code&gt;description&lt;/code&gt;, která vrací verzi pluginu.&lt;/p&gt;

&lt;p&gt;Ale verze pluginu se neshoduje s komerčním označením Silverlightu. Musel
jsem tedy ještě přidat přepočet. Zatím je to takhle:&lt;/p&gt;

&lt;table class="tabulka"&gt;
	&lt;thead&gt;
		&lt;tr&gt;
			&lt;th&gt;Plug-in&lt;/th&gt;

			&lt;th&gt;Silverlight&lt;/th&gt;
		&lt;/tr&gt;
	&lt;/thead&gt;

	&lt;tbody&gt;
		&lt;tr&gt;
			&lt;td&gt;0.80&lt;/td&gt;

			&lt;td&gt;WPF/e&lt;/td&gt;
		&lt;/tr&gt;

		&lt;tr&gt;
			&lt;td&gt;0.90&lt;/td&gt;

			&lt;td&gt;Silverlight 1.0&lt;/td&gt;
		&lt;/tr&gt;

		&lt;tr&gt;
			&lt;td&gt;0.95&lt;/td&gt;

			&lt;td&gt;Silverlight 1.1&lt;/td&gt;
		&lt;/tr&gt;

		&lt;tr&gt;
			&lt;td&gt;1.00&lt;/td&gt;

			&lt;td&gt;Silverlight 2.0&lt;/td&gt;
		&lt;/tr&gt;
	&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;No a výsledný kód po nějaké kompresi vypadá takto:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;%@ Control Language="C#" %&amp;gt;
&amp;lt;script runat="server"&amp;gt;
private string _ua;
public string UserAccount {
  get { return _ua; }
  set { _ua = value; }
}
&amp;lt;/script&amp;gt;
&amp;lt;script src="http://www.google-analytics.com/ga.js" type="text/javascript"&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script type="text/javascript"&amp;gt;
&amp;lt;% if (Page.Response.ContentType.ToLower() == "text/html") { %&amp;gt;&amp;lt;!--&amp;lt;% } else { %&amp;gt;// &amp;lt;![CDATA[ &amp;lt;% } %&amp;gt;
try{var t=_gat._getTracker("&amp;lt;%= UserAccount %&amp;gt;"),v=(function (){var v='',n={},s='Silverlight',a='AgControl',b=s+' Plug-In',x=['2.0','1.1','1.0'];n.a=window.navigator.userAgent;n.p=navigator.plugins;
try {if(n.a.indexOf('MSIE')&amp;gt;=0){var c=new ActiveXObject(a+'.'+a);if(c)for(var i=0;i&amp;lt;sv.length;i++)if(c.isVersionSupported(x[i])){v=s+'/'+x[i];break;}}
else if(n.p[b]){v=n.p[b].description;var d=v.split('.');if(d.length&amp;gt;0)v=d[0]=='1'?s+'/2.0':d[0]=='0'&amp;amp;&amp;amp;d[1]=='95'?s+'/1.1':d[0]=='0'&amp;amp;&amp;amp;d[1]=='90'?s+'/1.0':d[0]=='0'&amp;amp;&amp;amp;d[1]=='80'?'WPF/E':'';}
}catch(e){}return v;})(),a=t._addOrganic,b=t._setVar,q='q',s='s';
a('seznam.cz',q);a('centrum.cz',q);a('jyxo.cz',s);a('atlas.cz',q);a('zoohoo.cz',q);a('tiscali.cz','query');a('1.cz',q);a('volny.cz','search');
a('zoznam',s);a('atlas.sk','phrase');a('centrum.sk',q);a('morfeo.sk',q);a('szm','ws');a('azet',s+q);a('zoohoo.sk',q);
t._initData();t._trackPageview();if(v)b(v);}catch(e){}
&amp;lt;% if (Page.Response.ContentType.ToLower() == "text/html") { %&amp;gt;// --&amp;gt;&amp;lt;% } else { %&amp;gt;// ]]&amp;gt;&amp;lt;% } %&amp;gt;
&amp;lt;/script&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Snad se bude hodit.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Už je tomu nějakej ten týden, co jsem nasadil novou sociální homepage:[/]. Po úpravách, které jí měly vystavovat jako `application/xhtml+xml` došlo k tomu, že jsem se na ní ve Firefoxu už nedostal.

Měl jsem za to, že je chyba v mém systému a že je muj FF nějakej nabořenej, protože u Macíka:[macus] to třeba nedělalo. Proto jsem to ani moc neřešil. Jenže jsem si jednoho dne řekl, že to musím rozlousknout.

Jádro pudla
===========

Chyba nakonec nebyla pouze v mém Firefoxu, ale šlo o kombinaci Firofox + Silverlight. Do svého Google Analytics kódu jsem měl totiž přidaný kód, pro "měření zastoupení Silverlight":[nikhilk] pluginu, který jsem vzal od Nikhila Kothariho. Problém byl v tom, že plugin instancioval pomocí vytvoření `embed` značky přes `innerHTML`. To v kombinaci s `application/xhtml+xml` Firefox sestřelilo.

Řešení
======

Když si mě včera do Twittru přidal Arcao:[arcao], našel jsem na jeho stránkách informaci, o které jsem dosud nevěděl. Google Analytics maj novej script pro měření. Takže ten jsem použil pro novou verzi meho kontrolu na měření návštěvnosti. A začal si hrát s ověřováním  Silverlightu. U IE jsem zůstal u metody inicializace ActiveX objektu a využití jeho API. U Firefoxu jsme na to musel trochu jinak. Nakonec jsem využil PAPI((Plug-in API)) a vlastnost `description`, která vrací verzi pluginu.

Ale verze pluginu se neshoduje s komerčním označením Silverlightu. Musel jsem tedy ještě přidat přepočet. Zatím je to takhle:

.[tabulka]
| Plug-in | Silverlight
|---------------------------
| 0.80    | WPF/e
| 0.90    | Silverlight 1.0
| 0.95    | Silverlight 1.1
| 1.00    | Silverlight 2.0

No a výsledný kód po nějaké kompresi vypadá takto:

/--code xml
&lt;%@ Control Language="C#" %&gt;
&lt;script runat="server"&gt;
private string _ua;
public string UserAccount {
  get { return _ua; }
  set { _ua = value; }
}
&lt;/script&gt;
&lt;script src="http://www.google-analytics.com/ga.js" type="text/javascript"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
&lt;% if (Page.Response.ContentType.ToLower() == "text/html") { %&gt;&lt;!--&lt;% } else { %&gt;// &lt;![CDATA[ &lt;% } %&gt;
try{var t=_gat._getTracker("&lt;%= UserAccount %&gt;"),v=(function (){var v='',n={},s='Silverlight',a='AgControl',b=s+' Plug-In',x=['2.0','1.1','1.0'];n.a=window.navigator.userAgent;n.p=navigator.plugins;
try {if(n.a.indexOf('MSIE')&gt;=0){var c=new ActiveXObject(a+'.'+a);if(c)for(var i=0;i&lt;sv.length;i++)if(c.isVersionSupported(x[i])){v=s+'/'+x[i];break;}}
else if(n.p[b]){v=n.p[b].description;var d=v.split('.');if(d.length&gt;0)v=d[0]=='1'?s+'/2.0':d[0]=='0'&amp;&amp;d[1]=='95'?s+'/1.1':d[0]=='0'&amp;&amp;d[1]=='90'?s+'/1.0':d[0]=='0'&amp;&amp;d[1]=='80'?'WPF/E':'';}
}catch(e){}return v;})(),a=t._addOrganic,b=t._setVar,q='q',s='s';
a('seznam.cz',q);a('centrum.cz',q);a('jyxo.cz',s);a('atlas.cz',q);a('zoohoo.cz',q);a('tiscali.cz','query');a('1.cz',q);a('volny.cz','search');
a('zoznam',s);a('atlas.sk','phrase');a('centrum.sk',q);a('morfeo.sk',q);a('szm','ws');a('azet',s+q);a('zoohoo.sk',q);
t._initData();t._trackPageview();if(v)b(v);}catch(e){}
&lt;% if (Page.Response.ContentType.ToLower() == "text/html") { %&gt;// --&gt;&lt;% } else { %&gt;// ]]&gt;&lt;% } %&gt;
&lt;/script&gt;
\--code

Snad se bude hodit.

[macus]: http://www.maciweb.cz/
[arcao]: http://arcao.com/
[nikhilk]: http://www.nikhilk.net/Silverlight-Analytics.aspx</raw>
    <author>Aleš Roubíček</author>
    <published>2008-04-09T11:34:07.417</published>
    <url>homepage-reloaded</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>silverlight analytics aspnet</tags>
    <is-published>1</is-published>
    <edited>2008-09-13T11:40:08.170</edited>
  </article>
  <article>
    <id>264</id>
    <title>Weblogy.cz ve vašem mobilu</title>
    <description>Víte o tom, že službu W3B můžete využívat i ve vašem mobilu? Mobilní verzi najdete na adrese http://www.weblogy.cz/m</description>
    <html xml:space="preserve">
&lt;p&gt;Víte o tom, že službu W3B můžete využívat i ve vašem mobilu?
Mobilní verzi najdete na adrese &lt;a
href="http://www.weblogy.cz/m"&gt;http://www.weblogy.cz/m&lt;/a&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Víte o tom, že službu W3B můžete využívat i ve vašem mobilu? Mobilní verzi najdete na adrese http://www.weblogy.cz/m</raw>
    <author>Aleš Roubíček</author>
    <published>2008-04-10T10:52:22.610</published>
    <url>weblogy-cz-ve-vasem-mobilu</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>weblogy</tags>
    <is-published>1</is-published>
    <edited>2008-09-13T11:38:29.497</edited>
  </article>
  <article>
    <id>265</id>
    <title>Using pattern</title>
    <description>Dneska se podíváme na jeden zajímavý vzor v jazyce C#.</description>
    <html xml:space="preserve">
&lt;p&gt;Je tomu již dlouhá doba, co jsem psal &lt;a
href="/weblog/171-blok-using.aspx"&gt;spotík o užívání bloku
&lt;code&gt;using&lt;/code&gt;&lt;/a&gt; v jazyce C# pro třídy implementující rozhranní
&lt;code&gt;System.IDisposable&lt;/code&gt;. Tohoto bloku se dá využít k logickému
členění kódu do bloků a vytvořit tak syntax sugar na úrovni API.&lt;/p&gt;

&lt;h3 id="toc-ukazky-uziti"&gt;Ukázky užití&lt;/h3&gt;

&lt;p&gt;S using patternem se v moderních API dá potkat celkem často. První
ukázka je z mockovacího frameworku &lt;a
href="http://www.ayende.com/projects/rhino-mocks/downloads.aspx"&gt;Rhino
Mocks&lt;/a&gt;. Používá se pro nahrávání a přehrávání chování
mockovaného objektu.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;MockRepository mocks = new MockRepository();
IDependency dependency = mocks.CreateMock&amp;lt;IDependency&amp;gt;();

using(mocks.Record()) {
    Expect.Call(dependency.GetSomething("parameter")).Return("result");
    dependency.DoSomething();
}

using(mocks.Playback()) {
    Subject subject = new Subject(dependency);
    subject.DoWork();
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Using pattern usnadňuje čtení takovéhoto kódu a hned je jasná
i logická struktura.&lt;/p&gt;

&lt;p&gt;Další ukázka pochází z ASP.NET MVC frameworku, kde se using pattern
používá v HTML helperu pro generování formuláře.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;% using(Html.Form&amp;lt;HomeController&amp;gt;(action =&amp;gt; action.Index())) { %&amp;gt;
...
&amp;lt;% } %&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id="toc-implementace"&gt;Implementace&lt;/h3&gt;

&lt;p&gt;Základem, tedy, je blok &lt;code&gt;using&lt;/code&gt;, který slouží k bezpečnému
zavolání metody &lt;code&gt;Dispose&lt;/code&gt; objektu implementujícího rozhranní
&lt;code&gt;System.IDisposable&lt;/code&gt;. Jak na to, když v using bloku předáváme
metodu a ne objekt? Jednoduše, musíme vrátit v metodě objekt, který se
o špinavou práci postará. V podstatě ani nemusí být nijak
inteligentní.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class UsingPattern : IDisposable {

  private WorkerMethod _method;

  public delegate void WorkerMethod();

  public UsingPattern(WorkerMethod method) {
    _method = method;
  }

  public void Dispose() {
    _method();
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Užití v našem API je pak celkem triviální.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class SomeClass {
  public UsingPattern SomeMethod() {
    Console.WriteLine("Zacatek bloku");
    return new UsingPattern(() =&amp;gt; Console.WriteLine("Konec bloku"));
  }
}

public class OtherClass {
  public void Consumer() {
    var some = new SomeClass();

    using (some.SomeMethod()) {
      Console.WriteLine("Blok");
    }
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Tagy: &lt;a rel="tag" href="http://technorati.com/tag/c%23"&gt;c#&lt;/a&gt;, &lt;a rel="tag"
href="http://technorati.com/tag/patterns"&gt;patterns&lt;/a&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Je tomu již dlouhá doba, co jsem psal "spotík o užívání bloku `using`":[clanek(171)]  v jazyce C# pro třídy implementující rozhranní `System.IDisposable`. Tohoto bloku se dá využít k logickému členění kódu do bloků a vytvořit tak syntax sugar na úrovni API.

Ukázky užití
============

S using patternem se v moderních API dá potkat celkem často. První ukázka je z mockovacího frameworku [rhino-mocks]. Používá se pro nahrávání a přehrávání chování mockovaného objektu.

/--code csharp
MockRepository mocks = new MockRepository();
IDependency dependency = mocks.CreateMock&lt;IDependency&gt;();

using(mocks.Record()) {
    Expect.Call(dependency.GetSomething("parameter")).Return("result");
    dependency.DoSomething();
}

using(mocks.Playback()) {
    Subject subject = new Subject(dependency);
    subject.DoWork();
}
\--code

Using pattern usnadňuje čtení takovéhoto kódu a hned je jasná i logická struktura.

Další ukázka pochází z ASP.NET MVC frameworku, kde se using pattern používá v HTML helperu pro generování formuláře.

/--code xml
&lt;% using(Html.Form&lt;HomeController&gt;(action =&gt; action.Index())) { %&gt;
...
&lt;% } %&gt;
\--code

Implementace
============

Základem, tedy, je blok `using`, který slouží k bezpečnému zavolání metody `Dispose` objektu implementujícího rozhranní `System.IDisposable`. Jak na to, když v using bloku předáváme metodu a ne objekt? Jednoduše, musíme vrátit v metodě objekt, který se o špinavou práci postará. V podstatě ani nemusí být nijak inteligentní.

/--code csharp
  public class UsingPattern : IDisposable {

    private WorkerMethod _method;

    public delegate void WorkerMethod();

    public UsingPattern(WorkerMethod method) {
      _method = method;
    }

    public void Dispose() {
      _method();
    }
  }
\--code

Užití v našem API je pak celkem triviální.

/--code csharp
  public class SomeClass {
    public UsingPattern SomeMethod() {
      Console.WriteLine("Zacatek bloku");
      return new UsingPattern(() =&gt; Console.WriteLine("Konec bloku"));
    }
  }

  public class OtherClass {
    public void Consumer() {
      var some = new SomeClass();

      using (some.SomeMethod()) {
        Console.WriteLine("Blok");
      }
    }
  }
\--code

Tagy: [tag-csharp], [tag-patterns]

[tag-csharp]: http://technorati.com/tag/c%23 c# .{rel:tag}
[tag-patterns]: http://technorati.com/tag/patterns patterns .{rel:tag}

[rhino-mocks]: http://www.ayende.com/projects/rhino-mocks/downloads.aspx Rhino Mocks
[clanek(171)]: /weblog/171-blok-using.aspx

</raw>
    <author>Aleš Roubíček</author>
    <published>2008-04-14T15:32:14.900</published>
    <url>using-pattern</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>patterns idisposable aspnet mvc rhinomocks</tags>
    <is-published>1</is-published>
    <edited>2008-09-13T11:38:14.650</edited>
  </article>
  <article>
    <id>266</id>
    <title>Skandální odhalení</title>
    <description>Kódové označení: rarouš; Verze: Microsoft Cylon 4.02 SP1 Hollywar Edition; Datum posledního updatu: CET 21:45 16.4.2008</description>
    <html xml:space="preserve">
&lt;p&gt;Kódové označení: rarouš&lt;br /&gt;
Verze: Microsoft Cylon 4.02 SP1 Hollywar Edition&lt;br /&gt;
Datum posledního updatu: CET 21:45 16.4.2008&lt;/p&gt;

&lt;p&gt;rarouš – robotická bytost (&lt;a
href="http://en.wikipedia.org/wiki/Cylon_%28re-imagining%29"&gt;cylon&lt;/a&gt;)
vytvořená v laboratořích v Redmondu pro vedení svatých válek v oblasti
střední a východní Evropy. Identických modelů je po Zemi rozmístěno
několik.&lt;/p&gt;

&lt;p&gt;Elektronika je napájena &lt;a
href="http://cs.wikipedia.org/wiki/Palivov%C3%BD_%C4%8Dl%C3%A1nek"&gt;palivovými
články&lt;/a&gt; na bázi &lt;a
href="http://cs.wikipedia.org/wiki/Ethanol"&gt;etanolu&lt;/a&gt;, který je nedílnou
součásti konzumních lihovin (běžně užívaný metanol, by mohl vzbuzovat
u veřejnosti podezření). Nekompatibilní roztoky s koncentrací menší
než 35% (typicky pivo) jsou neprodleně ze systému vyloučeny nejkratší
možnou cestou. Zbylá voda je vylučována pomocí standardního rozhranní,
které je navíc opatřeno USB A konektorem. Tento se používá ke
každodennímu 16 hodinovému rituálu (tzv. &lt;a
href="http://www.lupa.cz/clanky/atlas-ve-sparech-centra-pratelska-prevzeti-neexis"&gt;obcování
s počítačem&lt;/a&gt;), který slouží k nutné aktualizaci a údržbě
systému.&lt;/p&gt;

&lt;p&gt;Cyloni byly vyvinuti k různým účelům, někteří jsou skvělými
marketéry, jiní programátory nebo správci systémů. Obvykle jsou to
klikači. Jejich systém používá vždy nejnovější technologie Microsoftu,
proto se jejich chování může zdát nestabilní (schizofrenie, nenadálé
výbuchy rebélie apod.). Velice obtížnou úlohou pro programátory Cylonů
bylo vytvoření simulace emocí. V současné čtvrté verzi se může setkat
již s rozladěností, vztekem, nebo simulací kocoviny. Často nejsou sami
schopní vyhodnotit, kdy se mají emoční podprogramy spustit, proto neustále
analyzují okolí. Na základě této analýzy, odcházejí při obcování
s počítačem informace do datacentra v Redmondu a jsou okamžitě
vyhodnocovány farmou superpočítačů. Následně vznikne sada
aktualizačních balíčků a hotfixů, které jsou distribuovány pomocí Cylon
Update nebo v rámci &lt;a
href="http://update.microsoft.com/microsoftupdate/v6/default.aspx?ln=cs-cz"&gt;Microsoft
Update&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Tento spot byl vytvořen za pomocí
&lt;code&gt;System.Reflection.Machine.SelfDump()&lt;/code&gt;.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Kódové označení: rarouš
 Verze: Microsoft Cylon 4.02 SP1 Hollywar Edition
 Datum posledního updatu: CET 21:45 16.4.2008

rarouš – robotická bytost ([cylon]) vytvořená v laboratořích v Redmondu pro vedení svatých válek v oblasti střední a východní Evropy. Identických modelů je po Zemi rozmístěno několik.

Elektronika je napájena "palivovými články":[clanek] na bázi etanolu:[ethanol], který je nedílnou součásti konzumních lihovin (běžně užívaný metanol, by mohl vzbuzovat u veřejnosti podezření). Nekompatibilní roztoky s koncentrací menší než 35% (typicky pivo) jsou neprodleně ze systému vyloučeny nejkratší možnou cestou. Zbylá voda je vylučována pomocí standardního rozhranní, které je navíc opatřeno USB A konektorem. Tento se používá ke každodennímu 16 hodinovému rituálu (tzv. "obcování s počítačem":[obcovani]), který slouží k nutné aktualizaci a údržbě systému.

Cyloni byly vyvinuti k různým účelům, někteří jsou skvělými marketéry, jiní programátory nebo správci systémů. Obvykle jsou to klikači. Jejich systém používá vždy nejnovější technologie Microsoftu, proto se jejich chování může zdát nestabilní (schizofrenie, nenadálé výbuchy rebélie apod.). Velice obtížnou úlohou pro programátory Cylonů bylo vytvoření simulace emocí. V současné čtvrté verzi se může setkat již s rozladěností, vztekem, nebo simulací kocoviny. Často nejsou sami schopní vyhodnotit, kdy se mají emoční podprogramy spustit, proto neustále analyzují okolí. Na základě této analýzy, odcházejí při obcování s počítačem informace do datacentra v Redmondu a jsou okamžitě vyhodnocovány farmou superpočítačů. Následně vznikne sada aktualizačních balíčků a hotfixů, které jsou distribuovány pomocí Cylon Update nebo v rámci [update].

Tento spot byl vytvořen za pomocí `System.Reflection.Machine.SelfDump()`.

[ethanol]: http://cs.wikipedia.org/wiki/Ethanol
[cylon]: http://en.wikipedia.org/wiki/Cylon_%28re-imagining%29 cylon
[clanek]: http://cs.wikipedia.org/wiki/Palivov%C3%BD_%C4%8Dl%C3%A1nek
[update]: http://update.microsoft.com/microsoftupdate/v6/default.aspx?ln=cs-cz Microsoft Update
[obcovani]: http://www.lupa.cz/clanky/atlas-ve-sparech-centra-pratelska-prevzeti-neexis</raw>
    <author>Aleš Roubíček</author>
    <published>2008-04-18T10:14:09.717</published>
    <url>skandalni-odhaleni</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-05-01T19:46:42.133</edited>
  </article>
  <article>
    <id>267</id>
    <title>Vkládání data do stránky</title>
    <description>Mikroformáty jsou určeny pro snadnější získávání dat ze stránek, jak pro lidi, tak pro stroje. Jedním z problémů je jak, vkládat data a časy, aby byly pochopitelné pro lidi i snadno vyparsovatelné strojem. Poradit jak na to, si klade za cíl tento spot.</description>
    <html xml:space="preserve">
&lt;p&gt;&lt;a href="http://microformats.org/"&gt;Mikroformáty&lt;/a&gt; jsou určeny pro
snadnější získávání dat ze stránek, jak pro lidi, tak pro stroje.
Jedním z problémů je, jak vkládat data a časy, aby byly pochopitelné pro
lidi i snadno vyparsovatelné strojem.&lt;/p&gt;

&lt;p&gt;Způsobů zápisu data a času existuje nespočet. Snad každý stát/jazyk
definuje jiná pravidla pro jejich zápis. Ruku na srdce, kdo z nás přesně
ví, jak správně zapisovat datum a čas v naší mateřštině? Případ od
případu se může lišit a i správných způsobů je hned několik. Pro
přenos časové informace existují standardní formáty, ale ty jsou pro lidi
mnohem méně srozumitelné. Jak skloubit snadnou čitelnost pro lidi
i stroje?&lt;/p&gt;

&lt;h3 id="toc-mikroformaty-na-scenu"&gt;Mikroformáty na scénu&lt;/h3&gt;

&lt;p&gt;Kupodivu mnoho mikroformátů obsahuje i definici pro některý časový
údaj. Naštěstí, každý to neřeší jinou cestou, ale používá se &lt;a
href="http://microformats.org/wiki/datetime-design-pattern"&gt;návrhový vzor pro
zápis data a času&lt;/a&gt;. V tomto vzoru se používá tag &lt;code&gt;abbr&lt;/code&gt;,
který uzavírá „lidskou interpretaci“ data a času, a v atributu
&lt;code&gt;title&lt;/code&gt; jeho strojovou podobu dle &lt;a
href="http://www.w3.org/TR/NOTE-datetime"&gt;ISO 8601&lt;/a&gt;. Navíc se ještě
využívá &lt;a
href="http://microformats.org/wiki/class-design-pattern"&gt;návrhového vzoru
třída&lt;/a&gt; pro definování, co datum právě vyjadřuje.&lt;/p&gt;

&lt;p&gt;Datum publikace článku můžeme zapsat následujícím způsobem:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;Publikováno
&amp;lt;abbr class="published"
  title="2008-04-20T10:00:00Z"&amp;gt;
  20. dubna 2008 ve 12.00
&amp;lt;/abbr&amp;gt;.&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;V ukázce si můžete všimnout, že čas se v atributu &lt;code&gt;title&lt;/code&gt;
neshoduje s „lidskou“ podobou. Je to dáno tím, že jde o vyjádření
tzv. univerzálního času UTC. Ekvivalentně lze zapsat jako středoevropský
letní čas &lt;code&gt;2008-04-20T12:00:00+02:00&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id="toc-vypis-v-dotnetu"&gt;Výpis v dotnetu&lt;/h3&gt;

&lt;p&gt;V ASP.NET se dají pro správný výpis použít dvě metody třídy
&lt;code&gt;System.DateTime&lt;/code&gt;. Tou první je metoda
&lt;code&gt;ToUniversalTime()&lt;/code&gt;, která čas převede na UTC, a tou druhou je
&lt;code&gt;ToString("s")&lt;/code&gt;, která vytvoří textovou podobu tzv.
seřaditelného času. Nezapomeňte však přidat písmeno Z,
vyjadřující UTC.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;abbr class="published"
  title="&amp;lt;%= item.DatePublished.ToUniversalTime().ToString("s") %&amp;gt;Z"&amp;gt;
  &amp;lt;%= item.DatePublished.ToString("f")%&amp;gt;
&amp;lt;/abbr&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Bohužel, žádný ze standardních formátů přesně neodpovídá tomu,
který potřebujeme. Ale je tu možnost použít vlastní formát pro
univerzální vyjádření času &lt;code&gt;yyyy'-'MM'-'dd'T'HH':'mm':'ss'Z'&lt;/code&gt;
nebo &lt;code&gt;yyyy'-'MM'-'dd'T'HH':'mm':'sszz&lt;/code&gt; pro
&lt;code&gt;System.DateTimeOffset&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Tagy: &lt;a rel="tag"
href="http://technorati.com/tag/microformats"&gt;microformats&lt;/a&gt;, &lt;a rel="tag"
href="http://technorati.com/tag/asp.net"&gt;asp.net&lt;/a&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">[microformats] jsou určeny pro snadnější získávání dat ze stránek, jak pro lidi, tak pro stroje. Jedním z problémů je, jak vkládat data a časy, aby byly pochopitelné pro lidi i snadno vyparsovatelné strojem.

Způsobů zápisu data a času existuje nespočet. Snad každý stát/jazyk definuje jiná pravidla pro jejich zápis. Ruku na srdce, kdo z nás přesně ví, jak správně zapisovat datum a čas v naší mateřštině? Případ od případu se může lišit a i správných způsobů je hned několik. Pro přenos časové informace existují standardní formáty, ale ty jsou pro lidi mnohem méně srozumitelné. Jak skloubit snadnou čitelnost pro lidi i stroje?

Mikroformáty na scénu
=====================

Kupodivu mnoho mikroformátů obsahuje i definici pro některý časový údaj. Naštěstí, každý to neřeší jinou cestou, ale používá se "návrhový vzor pro zápis data a času":[date-pattern]. V tomto vzoru se používá tag `abbr`, který uzavírá "lidskou interpretaci" data a času, a v atributu `title` jeho strojovou podobu dle [ISO8601]. Navíc se ještě využívá "návrhového vzoru třída":[class-pattern] pro definování, co datum právě vyjadřuje.

Datum publikace článku můžeme zapsat následujícím způsobem:

/--code xml
Publikováno
&lt;abbr class="published"
  title="2008-04-20T10:00:00Z"&gt;
  20. dubna 2008 ve 12.00
&lt;/abbr&gt;.
\--code

V ukázce si můžete všimnout, že čas se v atributu `title` neshoduje s „lidskou“ podobou. Je to dáno tím, že jde o vyjádření tzv. univerzálního času UTC. Ekvivalentně lze zapsat jako středoevropský letní čas `2008-04-20T12:00:00+02:00`.

Výpis v dotnetu
===============

V ASP.NET se dají pro správný výpis použít dvě metody třídy `System.DateTime`. Tou první je metoda `ToUniversalTime()`, která čas převede na UTC, a tou druhou je `ToString("s")`, která vytvoří textovou podobu tzv. seřaditelného času. Nezapomeňte však přidat písmeno Z, vyjadřující UTC.

/--code xml
&lt;abbr class="published"
  title="&lt;%= item.DatePublished.ToUniversalTime().ToString("s") %&gt;Z"&gt;
  &lt;%= item.DatePublished.ToString("f")%&gt;
&lt;/abbr&gt;
\--code

Bohužel, žádný ze standardních formátů přesně neodpovídá tomu, který potřebujeme. Ale je tu možnost použít vlastní formát pro univerzální vyjádření času `yyyy'-'MM'-'dd'T'HH':'mm':'ss'Z'` nebo `yyyy'-'MM'-'dd'T'HH':'mm':'sszz` pro `System.DateTimeOffset`.

Tagy: [tag-microformats], [tag-aspnet]

[tag-microformats]: http://technorati.com/tag/microformats microformats .{rel:tag}
[tag-aspnet]: http://technorati.com/tag/asp.net asp.net .{rel:tag}

[microformats]: http://microformats.org/ Mikroformáty
[date-pattern]: http://microformats.org/wiki/datetime-design-pattern
[class-pattern]: http://microformats.org/wiki/class-design-pattern
[ISO8601]: http://www.w3.org/TR/NOTE-datetime ISO 8601
</raw>
    <author>Aleš Roubíček</author>
    <published>2008-04-20T12:00:15.293</published>
    <url>vkladani-data-do-stranky</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>xhtml html microformats ISO8601 aspnet</tags>
    <is-published>1</is-published>
    <edited>2008-09-13T11:36:24.820</edited>
  </article>
  <article>
    <id>268</id>
    <title>Vyhledávání komponent v ASP.NET stránce</title>
    <description>Asi málo koho překvapí, že v ASP.NET jsou komponenty, ze kterých se skládá výsledná stránka. Někdy však narazíme na potřebu provázat tyto prvky mezi sebou. Jednou z možností je vyhledávání přes ID prvku. Ale je tu menší háček.</description>
    <html xml:space="preserve">
&lt;p&gt;Asi málo koho překvapí, že v ASP.NET jsou komponenty, ze kterých se
skládá výsledná stránka. Někdy však narazíme na potřebu provázat tyto
prvky mezi sebou. Jednou z možností je vyhledávání přes ID prvku.&lt;/p&gt;

&lt;p&gt;Vývojáři na toto pamatovali a každý potomek třídy
&lt;code&gt;System.Web.UI.Control&lt;/code&gt; má metodu &lt;code&gt;FindControl(string)&lt;/code&gt;,
která rekurzivně projde strom potomků a snaží se najít toho se zadaným
ID. To je všechno moc hezký, jenže je tu jeden háček, který to tak trochu
celý nabourává.&lt;/p&gt;

&lt;p&gt;Rekurzivně se prohledává pouze v rozsahu jmenného kontejneru. Pokud je
mezi potomky komponenta implementující rozhranní
&lt;code&gt;System.Web.UI.INamingContainer&lt;/code&gt;, jeho potomci se neprohledávají.
Pak přijdeme na problém, kdy chceme na celé stránce najít komponentu
s daným ID. Pokud stránka obsahuje WebForm, nebo je to ContentPage, nebo má
šablonované prvky, ve kterých je hledaná komponenta zanořená, tak
zavolání &lt;code&gt;Page.FindControl("HledaneID")&lt;/code&gt; vrátí
&lt;code&gt;null&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id="toc-reseni-problemu"&gt;Řešení problému&lt;/h3&gt;

&lt;p&gt;Kdysi jsem si napsal pomocníka. Který ošetřoval různé podmínky
(MasterPage, WebForm a ContentPlaceHol­dery). Byl dost konkrétní, ale na
většinu případů užití bohatě stačil. Ta funkce nebyla moc hezká.
Nedávno jsem narazil právě na popis toho, proč mi to kdysi nefungovalo a
musel jsem psát ty výjimky, který jsem snad osvětlil v předchozím
odstavci. Nová upravená verze vypadá následovně:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;using System;
using System.Collections.Generic;
using System.Text;
using System.Web.UI;
using System.Web.UI.HtmlControls;

public class PageHelper {
  /// &amp;lt;summary&amp;gt;
  /// Najde ovládací prvek požadovaneho typu na strance
  /// včetně ošetření na MasterPage.
  /// &amp;lt;/summary&amp;gt;
  /// &amp;lt;typeparam name="T"&amp;gt;Typ ovládacího prvku.&amp;lt;/typeparam&amp;gt;
  /// &amp;lt;param name="parent"&amp;gt;Ve které stránce se má hledat.&amp;lt;/param&amp;gt;
  /// &amp;lt;param name="controlID"&amp;gt;ID Controlu ve stránce.&amp;lt;/param&amp;gt;
  /// &amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;
  public static T FindControl&amp;lt;T&amp;gt;(Page parent, string controlID)
    where T : Control {
    return FindControl(parent.Master as Control ?? parent as Control, controlID) as T;
  }

  private static Control FindControl(Control parent, string controlID) {
    if (parent == null) {
      throw new ArgumentNullException("parent");
    }
    if (String.IsNullOrEmpty(controlID)) {
      return null;
    }

    Control result = parent.FindControl(controlID);
    if (result == null &amp;amp;&amp;amp; parent.Controls.Count &amp;gt; 1) {
      foreach (Control child in parent.Controls) {
        if (child is INamingContainer || child is HtmlContainerControl) {
          result = FindControl(child, controlID);
        }
        if (result != null) {
          break;
        }
      }
    }
    return result;
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Snad se bude hodit.&lt;/p&gt;

&lt;div class="hslice" id="related"&gt;
	&lt;h3 class="entry-title" id="toc-souvisejici"&gt;Související&lt;/h3&gt;

	&lt;ul class="entry-content"&gt;
		&lt;li&gt;&lt;a href="/weblog/213-layout-template.aspx"&gt;Layout Template&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
&lt;/div&gt;

&lt;p&gt;Tagy: &lt;a rel="tag" href="http://technorati.com/tag/aspnet"&gt;ASP.NET&lt;/a&gt;, &lt;a
rel="tag" href="http://technorati.com/tag/findcontrol"&gt;FindControl&lt;/a&gt;,
[tag-findcontrol]&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Asi málo koho překvapí, že v ASP.NET jsou komponenty, ze kterých se skládá výsledná stránka. Někdy však narazíme na potřebu provázat tyto prvky mezi sebou. Jednou z možností je vyhledávání přes ID prvku.

Vývojáři na toto pamatovali a každý potomek třídy `System.Web.UI.Control` má metodu `FindControl(string)`, která rekurzivně projde strom potomků a snaží se najít toho se zadaným ID. To je všechno moc hezký, jenže je tu jeden háček, který to tak trochu celý nabourává.

Rekurzivně se prohledává pouze v rozsahu jmenného kontejneru. Pokud je mezi potomky komponenta implementující rozhranní `System.Web.UI.INamingContainer`, jeho potomci se neprohledávají. Pak přijdeme na problém, kdy chceme na celé stránce najít komponentu s daným ID. Pokud stránka obsahuje WebForm, nebo je to ContentPage, nebo má šablonované prvky, ve kterých je hledaná komponenta zanořená, tak zavolání `Page.FindControl("HledaneID")` vrátí `null`.

Řešení problému
===============

Kdysi jsem si napsal pomocníka. Který ošetřoval různé podmínky (MasterPage, WebForm a ContentPlaceHoldery). Byl dost konkrétní, ale na většinu případů užití bohatě stačil. Ta funkce nebyla moc hezká. Nedávno jsem narazil právě na popis toho, proč mi to kdysi nefungovalo a musel jsem psát ty výjimky, který jsem snad osvětlil v předchozím odstavci. Nová upravená verze vypadá následovně:

/--code csharp
using System;
using System.Collections.Generic;
using System.Text;
using System.Web.UI;
using System.Web.UI.HtmlControls;

public class PageHelper {
  /// &lt;summary&gt;
  /// Najde ovládací prvek požadovaneho typu na strance
  /// včetně ošetření na MasterPage.
  /// &lt;/summary&gt;
  /// &lt;typeparam name="T"&gt;Typ ovládacího prvku.&lt;/typeparam&gt;
  /// &lt;param name="parent"&gt;Ve které stránce se má hledat.&lt;/param&gt;
  /// &lt;param name="controlID"&gt;ID Controlu ve stránce.&lt;/param&gt;
  /// &lt;returns&gt;&lt;/returns&gt;
  public static T FindControl&lt;T&gt;(Page parent, string controlID)
    where T : Control {
    return FindControl(parent.Master as Control ?? parent as Control, controlID) as T;
  }

  private static Control FindControl(Control parent, string controlID) {
    if (parent == null) {
      throw new ArgumentNullException("parent");
    }
    if (String.IsNullOrEmpty(controlID)) {
      return null;
    }

    Control result = parent.FindControl(controlID);
    if (result == null &amp;&amp; parent.Controls.Count &gt; 1) {
      foreach (Control child in parent.Controls) {
        if (child is INamingContainer || child is HtmlContainerControl) {
          result = FindControl(child, controlID);
        }
        if (result != null) {
          break;
        }
      }
    }
    return result;
  }
}
\--code

Snad se bude hodit.

/--div .[#related hslice]
Související .[entry-title]
===========
.[entry-content]
* [clanek(213)]
\--div

Tagy: [tag-aspnet], [tag-csharp], [tag-findcontrol]

[tag-aspnet]: http://technorati.com/tag/aspnet ASP.NET .{rel:tag}
[tag-csharp]: http://technorati.com/tag/c%23 C# .{rel:tag}
[tag-csharp]: http://technorati.com/tag/findcontrol FindControl .{rel:tag}

[clanek(213)]: /weblog/213-layout-template.aspx Layout Template</raw>
    <author>Aleš Roubíček</author>
    <published>2008-05-02T13:13:41.633</published>
    <url>vyhledavani-komponent-v-asp-net-strance</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>aspnet findcontrol</tags>
    <is-published>1</is-published>
    <edited>2008-09-13T11:34:48.193</edited>
  </article>
  <article>
    <id>269</id>
    <title>Hlavička Pragma a její místo v HTML</title>
    <description>Zajímavým fenoménem je používání HTTP hlavičky Pragma v meta HTML dokumentu. Proč je to úplná zbytečnost? </description>
    <html xml:space="preserve">
&lt;p&gt;Velmi často se ve zdrojových kódech HTML stránek potkávám se
zajímavým mýtem a to s následujícím ta­gem:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;meta http-equiv="pragma" content="no-cache"&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Autor se tím pravděpodobně pokouší docílit toho, aby se jeho stránka
necachovala. Přejdu-li to, že vypnutí cachování je nesmysl už z pohledu
škálování výkonu webové aplikace, tak stejně užití pragmy nemá
hlubšího významu.&lt;/p&gt;

&lt;h3 id="toc-proc-je-pouziti-pragma-no-cache-nesmysl"&gt;Proč je použití
Pragma:no-cache nesmysl&lt;/h3&gt;

&lt;ol&gt;
	&lt;li&gt;Hlavička &lt;code&gt;Pragma&lt;/code&gt; s hodnotou &lt;code&gt;no-cache&lt;/code&gt; je &lt;a
	href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.32"&gt;součástí
	specifikace HTTP 1.1&lt;/a&gt; z &lt;strong&gt;historic­kých důvodů&lt;/strong&gt; a je dnes
	plně nahrazena hlavičkou &lt;code&gt;Cache-Control&lt;/code&gt;.&lt;/li&gt;

	&lt;li&gt;Hlavička &lt;code&gt;Pragma&lt;/code&gt; je &lt;strong&gt;pouze hlavičkou
	požadavku&lt;/strong&gt; a v odpovědi nemá opodstatnění.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Hlavičku Pragma:no-cache posílali klienti HTTP/1.0 když nechtěli dostat
cachovanou odpověď z lokální nebo proxy cache, ale přímo od serveru,
který volali. Posílat ji tedy v odpovědi (natož v HTML) nemá žádný
význam. Někdo by mohl podotknout, že mu to funguje. &lt;a
href="http://support.microsoft.com/kb/222064"&gt;Mícrosoft na to říká&lt;/a&gt;:
strkejte si pragmu do HTML, ale my vás stejně budem cachovat. Mozilla raději
řídí &lt;a
href="http://www.mozilla.org/projects/netlib/http/http-caching-faq.html"&gt;cachování
pomocí HTTP hlaviček&lt;/a&gt; a tento tag také ignoruje.&lt;/p&gt;

&lt;h3 id="toc-zaver"&gt;Závěr&lt;/h3&gt;

&lt;p&gt;Nejprve si rozmyslete, zda je pro vás zakázání cachování opravdu
přínosné – v 99% případů nebude. Pokud stejně nebudete chtít
cachovat (každý požadavek bude váš server muset vždy zpracovat, bude muset
protéct po vaší lince atd.), posílejte HTTP hlavičku
&lt;code&gt;Cache-control&lt;/code&gt; s hodnotou &lt;code&gt;no-cache&lt;/code&gt;. Vkládání do
meta stránky nemá opodstatnění, zbytečně tak zvětšíte opověď a
prohlížeče to stejně většinou ignorují.&lt;/p&gt;

&lt;p&gt;Tagy: &lt;a rel="tag" href="http://technorati.com/tag/html"&gt;HTML&lt;/a&gt;, &lt;a
rel="tag" href="http://technorati.com/tag/pragma"&gt;Pragma&lt;/a&gt;, &lt;a rel="tag"
href="http://technorati.com/tag/cache"&gt;Cache&lt;/a&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Velmi často se ve zdrojových kódech HTML stránek potkávám se zajímavým mýtem a to s následujícím tagem:

/---code xml
&lt;meta http-equiv="pragma" content="no-cache"&gt;
\--code

Autor se tím pravděpodobně pokouší docílit toho, aby se jeho stránka necachovala. Přejdu-li to, že vypnutí cachování je nesmysl už z pohledu škálování výkonu webové aplikace, tak stejně užití pragmy nemá hlubšího významu.

Proč je použití Pragma:no-cache nesmysl
=======================================

1. Hlavička `Pragma` s hodnotou `no-cache` je "součástí specifikace HTTP 1.1":[pragma] z **historických důvodů** a je dnes plně nahrazena hlavičkou `Cache-Control`.
2. Hlavička `Pragma` je **pouze hlavičkou požadavku** a v odpovědi nemá opodstatnění.

Hlavičku Pragma:no-cache posílali klienti HTTP/1.0 když nechtěli dostat cachovanou odpověď z lokální nebo proxy cache, ale přímo od serveru, který volali. Posílat ji tedy v odpovědi (natož v HTML) nemá žádný význam. Někdo by mohl podotknout, že mu to funguje. "Mícrosoft na to říká":[msie]: strkejte si pragmu do HTML, ale my vás stejně budem cachovat. Mozilla raději řídí "cachování pomocí HTTP hlaviček":[mozilla] a tento tag také ignoruje.

Závěr
=====

Nejprve si rozmyslete, zda je pro vás zakázání cachování opravdu přínosné - v 99% případů nebude. Pokud stejně nebudete chtít cachovat (každý požadavek bude váš server muset vždy zpracovat, bude muset protéct po vaší lince atd.), posílejte HTTP hlavičku `Cache-control` s hodnotou `no-cache`. Vkládání do meta stránky nemá opodstatnění, zbytečně tak zvětšíte opověď a prohlížeče to stejně většinou ignorují.

Tagy: [tag-html], [tag-pragma], [tag-cache]

[tag-html]: http://technorati.com/tag/html HTML .{rel:tag}
[tag-pragma]: http://technorati.com/tag/pragma Pragma .{rel:tag}
[tag-cache]: http://technorati.com/tag/cache Cache .{rel:tag}

[pragma]: http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.32
[msie]: http://support.microsoft.com/kb/222064
[mozilla]: http://www.mozilla.org/projects/netlib/http/http-caching-faq.html</raw>
    <author>Aleš Roubíček</author>
    <published>2008-05-17T09:51:36.420</published>
    <url>hlavicka-pragma-a-jeji-misto-v-html</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>html xhtml http pragma caching</tags>
    <is-published>1</is-published>
    <edited>2008-09-13T11:29:13.487</edited>
  </article>
  <article>
    <id>270</id>
    <title>Změny na stránkách</title>
    <description>Trochu jsem si pohrál s těmahle stránkama. Potunil jsem hlavní stránku a upravil výstup RSS.</description>
    <html xml:space="preserve">
&lt;p&gt;První viditelnou změnou je úprava RSS exportu, odedneška se budou
v hlavním feedu zobrazovat celé články. Pokud chcete v mém feedu
i nadále pouze perexy, použijte adresu &lt;a
href="http://feeds.feedburner.com/rarous/weblog"&gt;http://feeds.feedburner.com/rarous/weblog&lt;/a&gt;.
Je to experiment, ve kterém si chci ověřit, jaký vliv to bude mít na
návštěvnost – čtenost článků. Druhým důvodem je &lt;a
href="http://www.technorati.com/"&gt;Technorati&lt;/a&gt; – doufám, že tak začne
indexovat tagy.&lt;/p&gt;

&lt;p&gt;V rámci optimalizace výkonu &lt;a href="/"&gt;homepage&lt;/a&gt; jsem všechny
agregované feedy hodil do &lt;a href="http://www.feedburner.com/"&gt;FeedBurneru&lt;/a&gt;,
který jim dokáže nastavit cachovací hlavičky a hlavně ETag, kterej např.
google nikam nedává. Navíc má mnohem kratší odezvy.&lt;/p&gt;

&lt;p&gt;Teď mám na hlavní stránce celkem tři úrovně cachování.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;&lt;em&gt;Veřejné&lt;/em&gt;. Stránka má nastavené cahování u klienta a po
	cestě na dvě minuty – její rychlejší aktualizaci nečekám a je to
	spíš ochrana proti zběsilému refreshování.&lt;/li&gt;

	&lt;li&gt;&lt;em&gt;Output cache na serveru&lt;/em&gt;. Využívám cachovacího mechanismu
	ASP.NET a vyredrovaná stránka se na serveru cachuje 5 minut. To má výhodu
	v tom, že se posílá odpověď 304, když se obsah nezměnil.&lt;/li&gt;

	&lt;li&gt;&lt;em&gt;Cachování agregovaných dat&lt;/em&gt;. Když načtu feed, uložím si ho
	pod jeho ETagem do cache na 45 minut. Při dalším dotazu se pošle požadavek
	HEAD a stáhnou se jen hlavičky. Pokud se změnil ETag, tak ho v cache nenajdu
	a musím data načíst GETem.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Myslím, že teď je to celkem účinné, ale stejně ještě přijde časem
jedna změna, kdy se o načítání feedů nebude starat Controller, ale na
pozadí poběží task, který bude agregovat podobně jako služba &lt;a
href="http://www.weblogy.cz/"&gt;Weblogy.cz&lt;/a&gt;.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">První viditelnou změnou je úprava RSS exportu, odedneška se budou v hlavním feedu zobrazovat celé články. Pokud chcete v mém feedu i nadále pouze perexy, použijte adresu http://feeds.feedburner.com/rarous/weblog. Je to experiment, ve kterém si chci ověřit, jaký vliv to bude mít na návštěvnost - čtenost článků. Druhým důvodem je [technorati] - doufám, že tak začne indexovat tagy.

V rámci optimalizace výkonu homepage:[/] jsem všechny agregované feedy hodil do FeedBurneru:[feedburner], který jim dokáže nastavit cachovací hlavičky a hlavně ETag, kterej např. google nikam nedává. Navíc má mnohem kratší odezvy.

Teď mám na hlavní stránce celkem tři úrovně cachování.

1. *Veřejné*. Stránka má nastavené cahování u klienta a po cestě na dvě minuty - její rychlejší aktualizaci nečekám a je to spíš ochrana proti zběsilému refreshování.
2. *Output cache na serveru*. Využívám cachovacího mechanismu ASP.NET a vyredrovaná stránka se na serveru cachuje 5 minut. To má výhodu v tom, že se posílá odpověď 304, když se obsah nezměnil.
3. *Cachování agregovaných dat*. Když načtu feed, uložím si ho pod jeho ETagem do cache  na 45 minut. Při dalším dotazu se pošle požadavek HEAD a stáhnou se jen hlavičky. Pokud se změnil ETag, tak ho v cache nenajdu a musím data načíst GETem.

Myslím, že teď je to celkem účinné, ale stejně ještě přijde časem jedna změna, kdy se o načítání feedů nebude starat Controller, ale na pozadí poběží task, který bude agregovat podobně jako služba [weblogy].

[technorati]: http://www.technorati.com/ Technorati
[feedburner]: http://www.feedburner.com/ FeedBurner
[weblogy]: http://www.weblogy.cz/ Weblogy.cz</raw>
    <author>Aleš Roubíček</author>
    <published>2008-05-19T19:28:40.980</published>
    <url>zmeny-na-strankach</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>caching etag aspnet</tags>
    <is-published>1</is-published>
    <edited>2008-09-13T11:27:47.157</edited>
  </article>
  <article>
    <id>271</id>
    <title>Active Record vs. Repository pattern</title>
    <description>Dnes se podíváme na dva návrhové vzory z oblasti přístupu k datům, které používají zcela odlišnou filosofii, ale nakonec si ukážeme, že jejich kombinací, můžeme získat celkem zajímavé výsledky.</description>
    <html xml:space="preserve">
&lt;p&gt;Dnes se podíváme na dva návrhové vzory z oblasti přístupu k datům,
které používají zcela odlišnou filosofii, ale nakonec si ukážeme, že
jejich kombinací, můžeme získat celkem zajímavé výsledky.&lt;/p&gt;

&lt;h3 id="toc-active-record"&gt;Active Record&lt;/h3&gt;

&lt;p&gt;Návrhový vzor &lt;a
href="http://www.martinfowler.com/eaaCatalog/activeRecord.html"&gt;Active
Record&lt;/a&gt; staví na předpokladu, že základem aplikace je databázový model
a od něj se vše odvíjí. Každý řádek tabulky je reprezentován
konkrétní instancí objektu. Většinou je takový objekt odvozen od bázové
třídy, která implementuje potřebné rozhranní pro persistenci objektu –
typicky &lt;acronym title="Create, Read, Update, Delete"&gt;CRUD&lt;/acronym&gt; metody.&lt;/p&gt;

&lt;div&gt;&lt;img src="/data/obrazky/activerecord.png" alt="Diagram vzoru ActiveRecord"
/&gt;&lt;/div&gt;

&lt;p&gt;Tento vzor se hojně využívá v různých ORM frameworcích. Je
součástí dnes velmi módních frameworků &lt;a
href="http://wiki.rubyonrails.org/rails/pages/ActiveRecord"&gt;Ruby on Rails&lt;/a&gt;,
&lt;a href="http://www.djangoproject.com/documentation/db-api/"&gt;django&lt;/a&gt; nebo &lt;a
href="http://www.castleproject.org/activerecord/index.html"&gt;Castle&lt;/a&gt;, které
na něm stavějí svůj datový model a díky velice snadnému mapování
dokážete napsat (vygenerovat) kostru databázové aplikace během několika
málo minut.&lt;/p&gt;

&lt;p&gt;Pro velice jednoduché aplikace může být tento vzor, díky své
jednoduchosti, vhodný. Jenže porušuje několik pravidel dobrého objektového
návrhu (persistence ignorance, &lt;a
href="http://en.wikipedia.org/wiki/Single_responsibility_principle"&gt;single
responsibility&lt;/a&gt;, pevně daná bázová třída, atd.).&lt;/p&gt;

&lt;h3 id="toc-repository"&gt;Repository&lt;/h3&gt;

&lt;p&gt;Návrhový vzor Repository je základním kamenem doménou řízeného
návrhu. Model aplikace nemá ponětí o tom, jakým způsobem je persistován.
O to se stará právě Repository. Navíc díky tomu, že se o persistenci
stará cizí objekt, stačí nám znát pouze jeho rozhranní a v případě
potřeby ho snadno nahradit jiným.&lt;/p&gt;

&lt;div&gt;&lt;img src="/data/obrazky/repository.png" alt="Diagram vzoru Repository"
/&gt;&lt;/div&gt;

&lt;h3 id="toc-kombinace"&gt;Kombinace&lt;/h3&gt;

&lt;p&gt;Teď zabrousím do konkrétnějších implementací a to do &lt;a
href="http://www.castleproject.org/activerecord/index.html"&gt;ActiveRecord&lt;/a&gt;
z projektu Castle. Tako konkrétní implementace je postavená na běhovém
prostření dotnet a jako svůj základ používá ORM nástroj &lt;a
href="http://www.hibernate.org/343.html"&gt;NHibernate&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Nejpřímější cesta jak s ním pracovat, je podědit třídu z bázové
třídy &lt;code&gt;ActiveRecordBase&lt;/code&gt; a označit ji a její vlastnosti
patřičnými atributy:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;[ActiveRecord]
public class User : ActiveRecordBase&amp;lt;User&amp;gt; {
  [PrimaryKey] public int Id { get; set; }
  [Property] public string Name { get; set; }
  [Property] public string Email { get; set; }
  [Property] public string Login { get; set; }
  [Property] public string Password { get; set; }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;A můžeme pracovat. Autoři si však byli vědomi toho, že vzor Active
Record nemusí vyhovovat všem a přidali statickou třídu
&lt;code&gt;ActiveRecordMediator&lt;/code&gt;, který dokáže posloužit jako základ pro
Repository. Třída pak nemusí dědit z &lt;code&gt;ActiveRecordBase&lt;/code&gt;:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;[ActiveRecord]
public class User {
  [PrimaryKey] public int Id { get; set; }
  [Property] public string Name { get; set; }
  [Property] public string Email { get; set; }
  [Property] public string Login { get; set; }
  [Property] public string Password { get; set; }
}

public class UsersRepository : IRepository&amp;lt;User&amp;gt; {
  public User Load(int id) {
    return ActiveRecordMediator&amp;lt;User&amp;gt;.FindByPrimaryKey(id);
  }
  public void Save(User obj) {
    ActiveRecordMediator&amp;lt;User&amp;gt;.Save(obj);
  }
  public void Delete(User  obj) {
    ActiveRecordMediator&amp;lt;User&amp;gt;.Delete(obj);
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;To už je o něco lepší, ale stále máme v aplikačním modelu silnou
vazbu na datový model. Můžeme se posunout o level dál a zkombinovat oba
vzory tak, abychom z nich vytěžili co nejvíce. Základní myšlenkou je to,
že v aplikaci budeme mít jak datový model, tak doménový. Datový model se
bude pomocí Active Record starat o persistenci a Repository poslouží
k transformaci doménového modelu na ten datový.&lt;/p&gt;

&lt;p&gt;Něco podobného můžete najít v &lt;a
href="http://blog.wekeroad.com/mvc-storefront/mvcstore-part-10/"&gt;seriálu&lt;/a&gt;,
který píše Rob Conery, kde používá zjednodušenou Repository,
&lt;code&gt;IQueryable&lt;/code&gt; jako filtry a LINQ2SQL jako datový model. Velice
zajímavé, doporučuji ke shlédnutí.&lt;/p&gt;

&lt;p&gt;Tagy: &lt;a rel="tag"
href="http://technorati.com/tag/activerecord"&gt;ActiveRecord&lt;/a&gt;, &lt;a rel="tag"
href="http://technorati.com/tag/repository"&gt;Repository&lt;/a&gt;, &lt;a rel="tag"
href="http://technorati.com/tag/orm"&gt;ORM&lt;/a&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Dnes se podíváme na dva návrhové vzory z oblasti přístupu k datům, které používají zcela odlišnou filosofii, ale nakonec si ukážeme, že jejich kombinací, můžeme získat celkem zajímavé výsledky.

Active Record
=============

Návrhový vzor [activerecord] staví na předpokladu, že základem aplikace je databázový model a od něj se vše odvíjí. Každý řádek tabulky je reprezentován konkrétní instancí objektu. Většinou je takový objekt odvozen od bázové třídy, která implementuje potřebné rozhranní pro persistenci objektu – typicky CRUD((Create, Read, Update, Delete))  metody.

[*/data/obrazky/activerecord.png .(Diagram vzoru ActiveRecord)*]

Tento vzor se hojně využívá v různých ORM frameworcích. Je součástí dnes velmi módních frameworků [ror], [django] nebo [castle], které na něm stavějí svůj datový model a díky velice snadnému mapování dokážete napsat (vygenerovat) kostru databázové aplikace během několika málo minut.

Pro velice jednoduché aplikace může být tento vzor, díky své jednoduchosti, vhodný. Jenže porušuje několik pravidel dobrého objektového návrhu (persistence ignorance, [singleres], pevně daná bázová třída, atd.).

Repository
==========

Návrhový vzor Repository je základním kamenem doménou řízeného návrhu. Model aplikace nemá ponětí o tom, jakým způsobem je persistován. O to se stará právě Repository. Navíc díky tomu, že se o persistenci stará cizí objekt, stačí nám znát pouze jeho rozhranní a v případě potřeby ho snadno nahradit jiným.

[*/data/obrazky/repository.png .(Diagram vzoru Repository)*]

Kombinace
=========

Teď zabrousím do konkrétnějších implementací a to do ActiveRecord:[castle] z projektu Castle. Tako konkrétní implementace je postavená na běhovém prostření dotnet a jako svůj základ používá ORM nástroj [nhibernate].

Nejpřímější cesta jak s ním pracovat, je podědit třídu z bázové třídy `ActiveRecordBase` a označit ji a její vlastnosti patřičnými atributy:

/--code csharp
[ActiveRecord]
public class User : ActiveRecordBase&lt;User&gt; {
  [PrimaryKey] public int Id { get; set; }
  [Property] public string Name { get; set; }
  [Property] public string Email { get; set; }
  [Property] public string Login { get; set; }
  [Property] public string Password { get; set; }
}
\--code

A můžeme pracovat. Autoři si však byli vědomi toho, že vzor Active Record nemusí vyhovovat všem a přidali statickou třídu `ActiveRecordMediator`, který dokáže posloužit jako základ pro Repository. Třída pak nemusí dědit z `ActiveRecordBase`:

/--code csharp
[ActiveRecord]
public class User {
  [PrimaryKey] public int Id { get; set; }
  [Property] public string Name { get; set; }
  [Property] public string Email { get; set; }
  [Property] public string Login { get; set; }
  [Property] public string Password { get; set; }
}

public class UsersRepository : IRepository&lt;User&gt; {
  public User Load(int id) {
    return ActiveRecordMediator&lt;User&gt;.FindByPrimaryKey(id);
  }
  public void Save(User obj) {
    ActiveRecordMediator&lt;User&gt;.Save(obj);
  }
  public void Delete(User  obj) {
    ActiveRecordMediator&lt;User&gt;.Delete(obj);
  }
}
\--code

To už je o něco lepší, ale stále máme v aplikačním modelu silnou vazbu na datový model. Můžeme se posunout o level dál a zkombinovat oba vzory tak, abychom z nich vytěžili co nejvíce. Základní myšlenkou je to, že v aplikaci budeme mít jak datový model, tak doménový. Datový model se bude pomocí Active Record starat o persistenci a Repository poslouží k transformaci doménového modelu na ten datový.

Něco podobného můžete najít v seriálu:[conery], který píše Rob Conery, kde používá zjednodušenou Repository, `IQueryable` jako filtry a LINQ2SQL jako datový model. Velice zajímavé, doporučuji ke shlédnutí.

Tagy: [tag-activerecord], [tag-repository], [tag-orm]

[tag-activerecord]: http://technorati.com/tag/activerecord ActiveRecord .{rel:tag}
[tag-repository]: http://technorati.com/tag/repository Repository .{rel:tag}
[tag-orm]: http://technorati.com/tag/orm ORM .{rel:tag}

[activerecord]: http://www.martinfowler.com/eaaCatalog/activeRecord.html Active Record
[singleres]: http://en.wikipedia.org/wiki/Single_responsibility_principle single responsibility
[ror]: http://wiki.rubyonrails.org/rails/pages/ActiveRecord Ruby on Rails
[django]: http://www.djangoproject.com/documentation/db-api/ django
[castle]: http://www.castleproject.org/activerecord/index.html Castle
[nhibernate]: http://www.hibernate.org/343.html NHibernate
[conery]: http://blog.wekeroad.com/mvc-storefront/mvcstore-part-10/</raw>
    <author>Aleš Roubíček</author>
    <published>2008-05-21T12:38:25.493</published>
    <url>active-record-vs-repository-pattern</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>activerecord castle repository patterns</tags>
    <is-published>1</is-published>
    <edited>2008-09-13T11:26:52.517</edited>
  </article>
  <article>
    <id>272</id>
    <title>Měření uživatelů kanálů jinak a lépe</title>
    <description>Na blogu OVX píšou: Kdopak spadl do kanálu? A popisují jak měřit stahovanost RSS kanálu pomocí Google Analytics. Nápad to není špatný, ale na měření oblíbenosti vašich feedu je tu lepší služba.</description>
    <html xml:space="preserve">
&lt;p&gt;Na blogu OVX píšou: &lt;a
href="http://www.ovx.cz/cz/polibek-story.php?zprava=111&amp;amp;rubrika=2"&gt;Kdopak
spadl do kanálu?&lt;/a&gt; A popisují jak měřit stahovanost RSS kanálu pomocí
&lt;a href="http://analytics.google.com/"&gt;Google Analytics&lt;/a&gt;. Nápad to není
špatný, ale měřené výsledky jsou celkem zavádějící – měří se
každý hit na feed.&lt;/p&gt;

&lt;p&gt;Pro měření oblíbenosti vašich feedů je tu mnohem lepší služba –
&lt;a href="http://www.feedburner.com/"&gt;FeedBurner&lt;/a&gt;. Kdysi placená služba je
už nějaký ten pátek bezplatná. Co všechno tato služba nabízí?&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Mirorování vašeho feedu – snížíte si trafik a zátěž
	serveru.&lt;/li&gt;

	&lt;li&gt;Měření počtu odběratelů.&lt;/li&gt;

	&lt;li&gt;Měření prokliku z feedu na vaše stránky.&lt;/li&gt;

	&lt;li&gt;Monetizaci pomocí reklam.&lt;/li&gt;

	&lt;li&gt;Mnoho dlaších služeb, které vám usnadní a zpříjemní práci
	s vašimi feedy.&lt;/li&gt;
&lt;/ol&gt;

&lt;div class="image"&gt;&lt;img src="/data/obrazky/feedburner.png"
alt="Statistiky ve FeedBurneru" /&gt;&lt;/div&gt;

&lt;p&gt;Nevýhodou takového řešení je, že musíte změnit URL adresu feedu. Mně
konverze uživatelů na novou adresu trvala asi dva až tři měsíce. Ale zas
tolik jich nemám. Problém byl v tom, že jsem musel uživatele přimět
k tomu, aby si URL feedu změnili sami, protože jsem z technických důvodů
nemohl feed přesměrovávat na novou adresu. Ale lze docílit i hladkého
přechodu pomocí trvalého přesměrování.&lt;/p&gt;

&lt;p&gt;Tagy: &lt;a rel="tag" href="http://technorati.com/tag/rss"&gt;RSS&lt;/a&gt;, &lt;a rel="tag"
href="http://technorati.com/tag/feedburner"&gt;FeedBurner&lt;/a&gt;, &lt;a rel="tag"
href="http://technorati.com/tag/analytics"&gt;Analytics&lt;/a&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Na blogu OVX píšou: [kanal] A popisují jak měřit stahovanost RSS kanálu pomocí [analytics]. Nápad to není špatný, ale měřené výsledky jsou celkem zavádějící – měří se každý hit na feed.

Pro měření oblíbenosti vašich feedů je tu mnohem lepší služba – [feedburner]. Kdysi placená služba je už nějaký ten pátek bezplatná. Co všechno tato služba nabízí?

1.	Mirorování vašeho feedu – snížíte si trafik a zátěž serveru.
2.	Měření počtu odběratelů.
3.	Měření prokliku z feedu na vaše stránky.
4.	Monetizaci pomocí reklam.
5.	Mnoho dlaších služeb, které vám usnadní a zpříjemní práci s vašimi feedy.

[*/data/obrazky/feedburner.png .(Statistiky ve FeedBurneru)*] .[image]

Nevýhodou takového řešení je, že musíte změnit URL adresu feedu. Mně konverze uživatelů na novou adresu trvala asi dva až tři měsíce. Ale zas tolik jich nemám. Problém byl v tom, že jsem musel uživatele přimět k tomu, aby si URL feedu změnili sami, protože jsem z technických důvodů nemohl feed přesměrovávat na novou adresu. Ale lze docílit i hladkého přechodu pomocí trvalého přesměrování.

Tagy: [tag-rss], [tag-feedburner], [tag-analytics]

[tag-rss]: http://technorati.com/tag/rss RSS .{rel:tag}
[tag-feedburner]: http://technorati.com/tag/feedburner FeedBurner .{rel:tag}
[tag-analytics]: http://technorati.com/tag/analytics Analytics .{rel:tag}

[analytics]: http://analytics.google.com/ Google Analytics
[kanal]: http://www.ovx.cz/cz/polibek-story.php?zprava=111&amp;rubrika=2 Kdopak spadl do kanálu?
[feedburner]: http://www.feedburner.com/ FeedBurner
</raw>
    <author>Aleš Roubíček</author>
    <published>2008-05-22T08:10:27.480</published>
    <url>mereni-uzivatelu-kanalu-jinak-a-lepe</url>
    <category>Webdesign</category>
    <keywords>RSS Analytics FeedBurner</keywords>
    <is-published>1</is-published>
    <edited>2008-06-16T18:47:52.840</edited>
  </article>
  <article>
    <id>274</id>
    <title>Takový nenormální den v mým životě</title>
    <description>Strasti a slasti takového obyčejného májového čtvrtka.</description>
    <html xml:space="preserve">
&lt;p&gt;Uff to byl včera zase den. Nemůžu říct že bych nebyl ve středu
pozornosti, ale ne vždy je to žádoucí. Vezlo se to se mnou už od rána.
Modře blikající &lt;a
href="http://direct.motorola.com/ens/BTStereoHS_Web_ProductHome.asp"&gt;HT820&lt;/a&gt;
na uších nepatří mezi nejdecentnější poslechová zařízení, ale mám
rád volnost bez drátů a celkem kvalitní zvuk. K tomu ještě to čerstvý
číro, takže moje hlava byla obohacena o další výčnělek.&lt;/p&gt;

&lt;p&gt;Zraky spolucestujících se na mě upínaly celkem často, ale na to už jsem
zvyknut. Pak jsem přišel do práce. Už u vchodu dostal Filip pěknej
výtlem, a uklizečka prohodila něco o kokrháčovi. Tyhlety narážky
přecházim s ledovým klidem, většinou to ty lidi ještě nasere. Pak jsme
přijeli k nám do sedmičky vejdu dovnitř a slušně pozdravím. Odpovědí
mi byly jen spadlé čelisti :D&lt;/p&gt;

&lt;p&gt;Každou chvíli se pak na mne chodil někdo dívat, nebo mě zastavoval,
když jsem šel na záchod. Odpoledne už si všichni zvykli tak to bylo ok. Pak
přinesl Filip dvanáct dvanáctek, že je v &lt;a
href="http://www.atlas.cz/"&gt;Atlasu&lt;/a&gt; dnes naposled. Tak jsem to s ním
zapili. Je to smutný, ale pomalu se z nás stávaj alkoholici – tolik
rozluček a narozeninových oslav v tak krátkém období je vážně smrťák.
Na rozloučenou jsme ještě Filipa vyklepli v CoDu a večer se razilo na
grilování – což měla být seznamovací akce s novým
zaměstnavatelem.&lt;/p&gt;

&lt;p&gt;Mottem akce bylo „Cuba Libre!“ Takže hned na začátek jsem si dal
pěkně nešizený kubíčko (no chyběly citrusy a víc ledu, ale i tak
dobrý). Když už jsme měl rozpitý asi třetí, tak někdo otevřel Reservu a
prej že vypadá jak Whiska. No tomu jsem musel oponovat a vytáhl jsem
z báglu placku s Walkerem. Po krátké degustaci jsem museli konstatovat, že
chuť i vůně je dost jiná, že možná jen ta barva bude trochu
podobná.&lt;/p&gt;

&lt;p&gt;Jenže na tuhle kombinaci už jsem jednou dojel, prostě mi nedělá moc
dobře. Myslím, že jsem měl lehkou otravu. No takže jsem se krásně
v nové firmě uvedl. Pěkně jsem jim poblil terásku… Chjo. Ale zas teď
už jentak něčím nepřekvapím, to nejhorší už viděli :D Jo a díky
všem, co se o mně tak pěkně starali.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Uff to byl včera zase den. Nemůžu říct že bych nebyl ve středu pozornosti, ale ne vždy je to žádoucí. Vezlo se to se mnou už od rána. Modře blikající [HT820] na uších nepatří mezi nejdecentnější poslechová zařízení, ale mám rád volnost bez drátů a celkem kvalitní zvuk. K tomu ještě to čerstvý číro, takže moje hlava byla obohacena o další výčnělek.

Zraky spolucestujících se na mě upínaly celkem často, ale na to už jsem zvyknut. Pak jsem přišel do práce. Už u vchodu dostal Filip pěknej výtlem, a uklizečka prohodila něco o kokrháčovi. Tyhlety narážky přecházim s ledovým klidem, většinou to ty lidi ještě nasere. Pak jsme přijeli k nám do sedmičky vejdu dovnitř a slušně pozdravím. Odpovědí mi byly jen spadlé čelisti :D

Každou chvíli se pak na mne chodil někdo dívat, nebo mě zastavoval, když jsem šel na záchod. Odpoledne už si všichni zvykli tak to bylo ok. Pak přinesl Filip dvanáct dvanáctek, že je v Atlasu:[atlas] dnes naposled. Tak jsem to s ním zapili. Je to smutný, ale pomalu se z nás stávaj alkoholici - tolik rozluček a narozeninových oslav v tak krátkém období je vážně smrťák. Na rozloučenou jsme ještě Filipa vyklepli v CoDu a večer se razilo na grilování - což měla být seznamovací akce s novým zaměstnavatelem.

Mottem akce bylo "Cuba Libre!" Takže hned na začátek jsem si dal pěkně nešizený kubíčko (no chyběly citrusy a víc ledu, ale i tak dobrý). Když už jsme měl rozpitý asi třetí, tak někdo otevřel Reservu a prej že vypadá jak Whiska. No tomu jsem musel oponovat a vytáhl jsem z báglu placku s Walkerem. Po krátké degustaci jsem museli konstatovat, že chuť i vůně je dost jiná, že možná jen ta barva bude trochu podobná.

Jenže na tuhle kombinaci už jsem jednou dojel, prostě mi nedělá moc dobře. Myslím, že jsem měl lehkou otravu. No takže jsem se krásně v nové firmě uvedl. Pěkně jsem jim poblil terásku... Chjo. Ale zas teď už jentak něčím nepřekvapím, to nejhorší už viděli :D Jo a díky všem, co se o mně tak pěkně starali.

[HT820]: http://direct.motorola.com/ens/BTStereoHS_Web_ProductHome.asp HT820
[atlas]: http://www.atlas.cz/</raw>
    <author>Aleš Roubíček</author>
    <published>2008-05-23T17:41:21.943</published>
    <url>takovy-nenormalni-den-v-mym-zivote</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-05-23T17:46:15.380</edited>
  </article>
  <article>
    <id>276</id>
    <title>Chybka se vloudila</title>
    <description>V kódu, který jsem publikoval před nedávnem v článku Vyhledávání komponent v ASP.NET stránce, se vyskytla chyba. Za její odhalení děkuju Martinovi Davidovi (DaMa). Opravený kód jsem přepublikoval.</description>
    <html xml:space="preserve">
&lt;p&gt;V kódu, který jsem publikoval před nedávnem v článku &lt;a
href="/weblog/268-vyhledavani-komponent-v-asp-net-strance.aspx"&gt;Vyhledávání
komponent v ASP.NET stránce&lt;/a&gt;, se vyskytla chyba. Za její odhalení děkuju
Martinovi Davidovi (DaMa). Opravený kód jsem přepublikoval.&lt;/p&gt;

&lt;h3 id="toc-v-cem-byla-chyba"&gt;V čem byla chyba?&lt;/h3&gt;

&lt;p&gt;Mylně jsem se domníval, že všechny NamingContainery implementují
rozhraní &lt;code&gt;INamingContainer&lt;/code&gt;. Jenže je tu drobná past.
&lt;code&gt;HtmlForm&lt;/code&gt;, základní kámen WebForms, toto rozhraní neimplementuje
a přesto slouží jako bariéra v rekurzivním prohledávání. Řešením
nakonec bylo přidání do podmínky, kde kontroluju implementaci
INamingContaineru i kontrolu na &lt;code&gt;HtmlContainerControl&lt;/code&gt;. To
je vše.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">V kódu, který jsem publikoval před nedávnem v článku [clanek(268)], se vyskytla chyba. Za její odhalení děkuju Martinovi Davidovi (DaMa). Opravený kód jsem přepublikoval.

== V čem byla chyba?

Mylně jsem se domníval, že všechny NamingContainery implementují rozhraní `INamingContainer`. Jenže je tu drobná past. `HtmlForm`, základní kámen WebForms, toto rozhraní neimplementuje a přesto slouží jako bariéra v rekurzivním prohledávání. Řešením nakonec bylo přidání do podmínky, kde kontroluju implementaci INamingContaineru i kontrolu na `HtmlContainerControl`. To je vše.

[clanek(268)]: /weblog/268-vyhledavani-komponent-v-asp-net-strance.aspx Vyhledávání komponent v ASP.NET stránce</raw>
    <author>Aleš Roubíček</author>
    <published>2008-05-26T12:59:34.820</published>
    <url>chybka-se-vloudila</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-06-23T13:41:34.473</edited>
  </article>
  <article>
    <id>277</id>
    <title>Komunity na vlně, La Trine na startu</title>
    <description>Jak už napsal Misantrop, David Grudl spustil novou La Trine a hned začíná sólokaprem. Podle mě trefil na jednu z největších *** roku - samozřejmě až po koupi Atlasu ;).</description>
    <html xml:space="preserve">
&lt;p&gt;Jak už &lt;a href="http://www.misantrop.info/692934-otvirak.php"&gt;napsal
Misantrop&lt;/a&gt;, &lt;a rel="friend met" href="http://davidgrudl.com/"&gt;David Grudl&lt;/a&gt;
spustil &lt;a href="http://www.latrine.cz/"&gt;novou La Trine&lt;/a&gt; a hned začíná
sólokaprem. Podle mě trefil na jednu z &lt;a
href="http://www.latrine.cz/moc-divna-cisla-kolem-blog-cz"&gt;největších
kunďáren roku&lt;/a&gt; – samozřejmě až po koupi Atlasu ;). Zatímco všichni
&lt;a
href="http://myego.cz/item/michal-illich-prodal-karluv-most-aka-blog-cz"&gt;opěvují
Michalovy obchodní schopnosti&lt;/a&gt; a gratulují mu k prodeji firmy Nově, &lt;a
href="http://www.latrine.cz/moc-divna-cisla-kolem-blog-cz"&gt;někteří
nechápou&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Já taky nechápu. Stejně jako jsem nechápal po prodeji Atlasu. Teď už
chápu leccos. Dneska jde prostě o to, komu zůstane černej Pert, než
splaskne bublina. A podle toho jak jsou dneska vytažený ceny a hlavně za
jakýkoli komunity, bude to celkem &lt;strong&gt;brzo&lt;/strong&gt;. Takže děcka, pokud
máte nějakou komunitu, střelte ji co nejrychleji. Možná si brzo budou kluci
z líbka trhat vlasy, že to tý Nově nestřelili zrovna oni. A nebo se taky
šeredně pletu a plácám tropické šílenosti.&lt;/p&gt;

&lt;p&gt;Ale nechť každý posoudí dle svého rozumu a znalostí…
Čas ukáže.&lt;/p&gt;

&lt;h3&gt;Související&lt;/h3&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href="http://www.latrine.cz/moc-divna-cisla-kolem-blog-cz"&gt;David
	Grudl – Moc divná čísla kolem Blog.cz&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a href="http://www.misantrop.info/692934-otvirak.php"&gt;Martin Malý –
	Otevírák&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a
	href="http://myego.cz/item/michal-illich-prodal-karluv-most-aka-blog-cz"&gt;Radek
	Hulán – Michal Illich prodal Karlův most (aka Blog.cz)&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a href="http://jyxo.blog.cz/0805/cet-21-jyxo"&gt;Michal Illich – CET 21 +
	JYXO&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a
	href="http://buzzmag.cz/nova-koupila-jyxo-za-6-8-mil-eur-dalsi-info-o-drazbe-weblogy-28-05-2008/"&gt;Pavel
	Neuman – Nova koupila Jyxo za 6–8 mil. EUR + další info o dražbě
	Weblogy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Jak už "napsal Misantrop":[misantrop], [grudl] spustil "novou La Trine":[latrine] a hned začíná sólokaprem. Podle mě trefil na jednu z "největších kunďáren roku":[dgx] - samozřejmě až po koupi Atlasu ;). Zatímco všichni "opěvují Michalovy obchodní schopnosti":[hulan] a gratulují mu k prodeji firmy Nově, "někteří nechápou":[dgx].

Já taky nechápu. Stejně jako jsem nechápal po prodeji Atlasu. Teď už chápu leccos. Dneska jde prostě o to, komu zůstane černej Pert, než splaskne bublina. A podle toho jak jsou dneska vytažený ceny a hlavně za jakýkoli komunity, bude to celkem **brzo**. Takže děcka, pokud máte nějakou komunitu, střelte ji co nejrychleji. Možná si brzo budou kluci z líbka trhat vlasy, že to tý Nově nestřelili zrovna oni. A nebo se taky šeredně pletu a plácám tropické šílenosti.

Ale nechť každý posoudí dle svého rozumu a znalostí... Čas ukáže.

== Související

* [dgx]
* [misantrop]
* [hulan]
* [illich]
* [neuman]

[misantrop]: http://www.misantrop.info/692934-otvirak.php Martin Malý - Otevírák
[dgx]: http://www.latrine.cz/moc-divna-cisla-kolem-blog-cz David Grudl - Moc divná čísla kolem Blog.cz
[hulan]: http://myego.cz/item/michal-illich-prodal-karluv-most-aka-blog-cz Radek Hulán - Michal Illich prodal Karlův most (aka  Blog.cz)
[latrine]: http://www.latrine.cz/
[illich]: http://jyxo.blog.cz/0805/cet-21-jyxo Michal Illich - CET 21 + JYXO
[grudl]: http://davidgrudl.com/ David Grudl .{rel:friend met}
[neuman]: http://buzzmag.cz/nova-koupila-jyxo-za-6-8-mil-eur-dalsi-info-o-drazbe-weblogy-28-05-2008/ Pavel Neuman - Nova koupila Jyxo za 6-8 mil. EUR + další info o dražbě Weblogy</raw>
    <author>Aleš Roubíček</author>
    <published>2008-05-29T21:54:04.770</published>
    <url>komunity-na-vlne-la-trine-na-startu</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-05-29T22:40:29.613</edited>
  </article>
  <article>
    <id>278</id>
    <title>Generický kontejner a repeater</title>
    <description>V několika předchozích článcích jsem prezentoval některé ponocníky pro tvorbu serverovývh ovládacích prvků. Dnes si ukážeme jejich bratříčka - generický kontejner</description>
    <html xml:space="preserve">
&lt;p&gt;Zrovna předevčírem jsem měl v plánu napsat tenhle článek, ráno jsem
si napsal ukázkovou třídu, kterou najdete níže, a pak šel do práce.
Připravoval jsem dva celkem důležité stagingy a nakonec ještě ta Havana
Party. No, a když jsem se vrátil z nákupu, zastihl jsem přímý přenos ze
spouštění &lt;a href="http://www.latrine.cz/"&gt;La Trine&lt;/a&gt;. A bylo po článku.
Teda jen dočasně, protože i včera jsem měl nějakou snahu, tak jsem napsal
první půlku článku.&lt;/p&gt;

&lt;p&gt;Někdy před rokem jsem publikoval ukázku, jak si vytvořit vlastní kontrol
s &lt;a href="/weblog/213-layout-template.aspx"&gt;Layout Template&lt;/a&gt;. Před pár
týdny zase pomocníka na &lt;a
href="/weblog/268-vyhledavani-komponent-v-asp-net-strance.aspx"&gt;vyhledávání
komponent ve stránce i mimo jmenný kontejner&lt;/a&gt;. To jsou takoví pomocníci,
kteří mi usnadňují tvorbu serverových ovládacích prvků. A dneska si
ukážeme jejich dalšího bratříčka – &lt;strong&gt;generický
kontejner&lt;/strong&gt;.&lt;/p&gt;

&lt;h3 id="toc-kontejner"&gt;Kontejner&lt;/h3&gt;

&lt;p&gt;Kontenery se používají u šablonovaných prvků svázaných s daty.
Slouží jako držitel dat pro konkrétní instanci šablony. Jistě jste se
setkali s &lt;strong&gt;Eval&lt;/strong&gt;ováním, když jste prováděli databinding.
Problém je v tom, že s sebou přináší značnou režii spojenou
s boxingem. Výhodnější je používat plně typový kontejner. Zvýšíte
tím nejen výkon stránky, ale i zístkáte vyšší komfort v podobě
Intellisense v šabloně.&lt;/p&gt;

&lt;p&gt;Já jako základ takových kontejnerů používám generický kontejner,
který má následující rozhraní.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public interface IGenericContainer&amp;lt;T&amp;gt; : INamingContainer {
  T DataItem { get; }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Toto rozhraní pak implementuju následovně:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class GenericContainer&amp;lt;T&amp;gt; : Control, IGenericContainer&amp;lt;T&amp;gt; {
  public GenericContainer&amp;lt;T&amp;gt;(T dataItem) {
    DataItem = dataItem;
  }
  public T DataItem { get; priváte set; }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Dalším vhodným kontejnerem je prázdný kontejner:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class EmptyContainer : Control, INamingContainer {
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;S těmito kontejnery se dá pokrýt obrovské množství potřeb. Jak je
využít v praxi si ukážeme v následující čás­ti.&lt;/p&gt;

&lt;h3 id="toc-genericky-repeater"&gt;Generický repeater&lt;/h3&gt;

&lt;p&gt;Nyní vezmu kostičky naší stavebnice a postavím z nich základ pro
vypisovače silně typových dat.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Web.UI;
using System.Web.UI.WebControls;

namespace Rarous.Web.UI {
  [ParseChildren(true)]
  public abstract class GenericRepeaterBase&amp;lt;T&amp;gt; : CompositeControl, ILayoutTemplateable {

    protected bool IsBound { get; set; }

    public IEnumerable&amp;lt;T&amp;gt; DataItem { get; set; }

    public abstract ITemplate ItemTemplate { get; set; }

    public abstract ITemplate AlternatingItemTemplate { get; set; }

    [DefaultValue(typeof(ITemplate), "")]
    [PersistenceMode(PersistenceMode.InnerProperty)]
    [TemplateContainer(typeof(INamingContainer))]
    [TemplateInstance(TemplateInstance.Multiple)]
    public ITemplate SeparatorTemplate { get; set; }

    #region ILayoutTemplateable Members
    [PersistenceMode(PersistenceMode.Attribute)]
    public string LayoutContainerId { get; set; }

    [DefaultValue(typeof(ITemplate), "")]
    [PersistenceMode(PersistenceMode.InnerProperty)]
    [TemplateContainer(typeof(INamingContainer))]
    [TemplateInstance(TemplateInstance.Single)]
    public ITemplate LayoutTemplate { get; set; }
    #endregion

    #region CompositeControl Members
    protected override void CreateChildControls() {
      Control container = TemplatingHelper.CreateLayoutContainer(this, this);

      bool alternate = false;
      foreach (T item in DataItem) {
        ITemplate template = alternate ? AlternatingItemTemplate ?? ItemTemplate : ItemTemplate;
        TemplatingHelper.Instantiate(new GenericContainer&amp;lt;T&amp;gt;(item), template, container);
        TemplatingHelper.Instantiate(new EmptyContainer(), SeparatorTemplate, container);
        alternate = !alternate;
      }
    }
    public override void DataBind() {
        base.DataBind();
        IsBound = true;
    }
    protected override void OnInit(EventArgs e) {
      EnableViewState = false;
      base.OnInit(e);
    }
    protected override void OnPreRender(EventArgs e) {
      if (IsBound == false) {
        DataBind();
      }
      base.OnPreRender(e);
    }
    protected override void Render(HtmlTextWriter writer) {
      base.RenderContents(writer);
    }
    #endregion
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Na takovémto základě se dá stavět už slušná řada konkrétních
ovládacích prvků, kde už jen doplníme šablonový typ a můžeme přidat
další vlastnosti dle potřeby.&lt;/p&gt;

&lt;p&gt;V ukázce si můžete povšimnout, že jako typ kontejneru šablony uvádím
pouze rozhraní. Dělám to kvůli zpřehlednění IntelliSense. Když pak
používám výraz pro svázání s daty v šabloně, dostanu pouze vlastnosti
a metody kontejneru, které jsou definovány rozhraním, nikoli spoustu
zbytečných vlastností a metod, které sebou nese třída &lt;code&gt;Control&lt;/code&gt;
ze které musí být kontejner poděděný.&lt;/p&gt;

&lt;p&gt;Doufám, že se bude hodit a pokud najdete nějakou chybu, neváhejte a
reportujte :)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Zrovna předevčírem jsem měl v plánu napsat tenhle článek, ráno jsem si napsal ukázkovou třídu, kterou najdete níže, a pak šel do práce. Připravoval jsem dva celkem důležité stagingy a nakonec ještě ta Havana Party. No, a když jsem se vrátil z nákupu, zastihl jsem přímý přenos ze spouštění [latrine]. A bylo po článku. Teda jen dočasně, protože i včera jsem měl nějakou snahu, tak jsem napsal první půlku článku.

Někdy před rokem jsem publikoval ukázku, jak si vytvořit vlastní kontrol s [clanek(213)]. Před pár týdny zase pomocníka na "vyhledávání komponent ve stránce i mimo jmenný kontejner":[clanek(268)]. To jsou takoví pomocníci, kteří mi usnadňují tvorbu serverových ovládacích prvků. A dneska si ukážeme jejich dalšího bratříčka - **generický kontejner**.

== Kontejner

Kontenery se používají u šablonovaných prvků svázaných s daty. Slouží jako držitel dat pro konkrétní instanci šablony. Jistě jste se setkali s **Eval**ováním, když jste prováděli databinding. Problém je v tom, že s sebou přináší značnou režii spojenou s boxingem. Výhodnější je používat plně typový kontejner. Zvýšíte tím nejen výkon stránky, ale i zístkáte vyšší komfort v podobě Intellisense v šabloně.

Já jako základ takových kontejnerů používám generický kontejner, který má následující rozhraní.

/--code csharp
public interface IGenericContainer&lt;T&gt; : INamingContainer {
  T DataItem { get; }
}
\--code

Toto rozhraní pak implementuju následovně:

/--code csharp
public class GenericContainer&lt;T&gt; : Control, IGenericContainer&lt;T&gt; {
  public GenericContainer&lt;T&gt;(T dataItem) {
    DataItem = dataItem;
  }
  public T DataItem { get; priváte set; }
}
\--code

Dalším vhodným kontejnerem je prázdný kontejner:

/--code csharp
public class EmptyContainer : Control, INamingContainer {
}
\--code

S těmito kontejnery se dá pokrýt obrovské množství potřeb. Jak je využít v praxi si ukážeme v následující části.

== Generický repeater

Nyní vezmu kostičky naší stavebnice a postavím z nich základ pro vypisovače silně typových dat.


/--code csharp
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Web.UI;
using System.Web.UI.WebControls;

namespace Rarous.Web.UI {
  [ParseChildren(true)]
  public abstract class GenericRepeaterBase&lt;T&gt; : CompositeControl, ILayoutTemplateable {

    protected bool IsBound { get; set; }

    public IEnumerable&lt;T&gt; DataItem { get; set; }

    public abstract ITemplate ItemTemplate { get; set; }

    public abstract ITemplate AlternatingItemTemplate { get; set; }

    [DefaultValue(typeof(ITemplate), "")]
    [PersistenceMode(PersistenceMode.InnerProperty)]
    [TemplateContainer(typeof(INamingContainer))]
    [TemplateInstance(TemplateInstance.Multiple)]
    public ITemplate SeparatorTemplate { get; set; }

    #region ILayoutTemplateable Members
    [PersistenceMode(PersistenceMode.Attribute)]
    public string LayoutContainerId { get; set; }

    [DefaultValue(typeof(ITemplate), "")]
    [PersistenceMode(PersistenceMode.InnerProperty)]
    [TemplateContainer(typeof(INamingContainer))]
    [TemplateInstance(TemplateInstance.Single)]
    public ITemplate LayoutTemplate { get; set; }
    #endregion

    #region CompositeControl Members
    protected override void CreateChildControls() {
      Control container = TemplatingHelper.CreateLayoutContainer(this, this);

      bool alternate = false;
      foreach (T item in DataItem) {
        ITemplate template = alternate ? AlternatingItemTemplate ?? ItemTemplate : ItemTemplate;
        TemplatingHelper.Instantiate(new GenericContainer&lt;T&gt;(item), template, container);
        TemplatingHelper.Instantiate(new EmptyContainer(), SeparatorTemplate, container);
        alternate = !alternate;
      }
    }
    public override void DataBind() {
        base.DataBind();
        IsBound = true;
    }
    protected override void OnInit(EventArgs e) {
      EnableViewState = false;
      base.OnInit(e);
    }
    protected override void OnPreRender(EventArgs e) {
      if (IsBound == false) {
        DataBind();
      }
      base.OnPreRender(e);
    }
    protected override void Render(HtmlTextWriter writer) {
      base.RenderContents(writer);
    }
    #endregion
  }
}
\--code

Na takovémto základě se dá stavět už slušná řada konkrétních ovládacích prvků, kde už jen doplníme šablonový typ a můžeme přidat další vlastnosti dle potřeby.

V ukázce si můžete povšimnout, že jako typ kontejneru šablony uvádím pouze rozhraní. Dělám to kvůli zpřehlednění IntelliSense. Když pak používám výraz pro svázání s daty v šabloně, dostanu pouze vlastnosti a metody kontejneru, které jsou definovány rozhraním, nikoli spoustu zbytečných vlastností a metod, které sebou nese třída `Control` ze které musí být kontejner poděděný.

Doufám, že se bude hodit a pokud najdete nějakou chybu, neváhejte a reportujte :)


[clanek(213)]: /weblog/213-layout-template.aspx Layout Template
[clanek(268)]: /weblog/268-vyhledavani-komponent-v-asp-net-strance.aspx Vyhledávání komponent v ASP.NET stránce
[latrine]: http://www.latrine.cz/ La Trine
</raw>
    <author>Aleš Roubíček</author>
    <published>2008-05-31T11:55:54.243</published>
    <url>genericky-kontejner-a-repeater</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>genericcontainer repeater aspnet</tags>
    <is-published>1</is-published>
    <edited>2009-02-22T07:16:44.337</edited>
  </article>
  <article>
    <id>279</id>
    <title>Gryphoon 1.82 je venku</title>
    <description>Ondra uvolnil systém, který pohání tento a mnoho dalších webů včetně nějakých vylepšení.</description>
    <html xml:space="preserve">
&lt;p&gt;Kolega &lt;a href="http://www.jerrysohn.net/"&gt;Ondra&lt;/a&gt; uvolnil systém &lt;a
href="http://www.gryphoon.net/"&gt;Gryphoon&lt;/a&gt;, který pohání tento a mnoho
dalších webů včetně nějakých vylepšení. Najdete ho &lt;a
href="http://www.gryphoon.net/Download%20Gryphoon%20weblog%20edition.ashx"&gt;ke
stažení včetně návodu k nasazení&lt;/a&gt; na stránkách projektu.&lt;/p&gt;

&lt;p&gt;Je to záležitost na kterou jsem nesahal takřka 3 roky a taky je to
systém, na kterým jsem se učil. Spousta věcí je pojmenována česky,
žádný komentáře v kódu a tak. Fakt to není dobrý ke studování, ale
funguje to ;) Vím o spoustě míst, které by se daly snadno rozšířit,
vylepšit, doplnit. Ani by to nezabralo moc času, ale z pricipu se mi
nechce.&lt;/p&gt;

&lt;p&gt;Měl jsem pak napsanou velkou část verze dvě, ale nikdy jsem ji nedotáhl
do konce. Nelíbilo se mi, že jsem použil typované DataSety a nikdy jsem pro
něj nevytvořil administraci. Dvojka je tedy mrtvá. V plánu je trojka
postavená na 3.5 frameworku, ASP.NET MVC a ActiveRecord. Ale u tý jsem ve
fázi pokusů a designování architektury.&lt;/p&gt;

&lt;p&gt;Enjoy&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Kolega Ondra:[jerrysohn] uvolnil systém [gryphoon], který pohání tento a mnoho dalších webů včetně nějakých vylepšení. Najdete ho "ke stažení včetně návodu k nasazení":[install] na stránkách projektu.

Je to záležitost na kterou jsem nesahal takřka 3 roky a taky je to systém, na kterým jsem se učil. Spousta věcí je pojmenována česky, žádný komentáře v kódu a tak. Fakt to není dobrý ke studování, ale funguje to ;) Vím o spoustě míst, které by se daly snadno rozšířit, vylepšit, doplnit. Ani by to nezabralo moc času, ale z pricipu se mi nechce.

Měl jsem pak napsanou velkou část verze dvě, ale nikdy jsem ji nedotáhl do konce. Nelíbilo se mi, že jsem použil typované DataSety a nikdy jsem pro něj nevytvořil administraci. Dvojka je tedy mrtvá. V plánu je trojka postavená na 3.5 frameworku, ASP.NET MVC a ActiveRecord. Ale u tý jsem ve fázi pokusů a designování architektury.

Enjoy



[jerrysohn]: http://www.jerrysohn.net/
[gryphoon]: http://www.gryphoon.net/ Gryphoon
[install]: http://www.gryphoon.net/Download%20Gryphoon%20weblog%20edition.ashx</raw>
    <author>Aleš Roubíček</author>
    <published>2008-06-02T17:04:23.787</published>
    <url>gryphoon-1-82-je-venku</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>gryphoon</tags>
    <is-published>1</is-published>
    <edited>2008-09-13T11:22:58.043</edited>
  </article>
  <article>
    <id>280</id>
    <title>Zvyšte výkon vašeho webu</title>
    <description>Každý přenesený byte něco stojí, zkuste se zamyslet nad tím jak ušetřit. Pokusím se nadhodit několik tipů na snížení trafiku a zvýšení výkonu vaší webové aplikace/prezentace.</description>
    <html xml:space="preserve">
&lt;p&gt;Výkon webových stránek můžeme obecně zvýšit snížením počtu
dotazů na server, snížením objemu přenášených dat, optimalizacemi HTML
kódu a v neposlední řadě optimalizací výkonného kódu aplikace. První
tři pravidla lze uplatnit i na obyčejných prezentacích, proto se na ně
podíváme blížeji.&lt;/p&gt;

&lt;h3 id="toc-snizeni-poctu-dotazu-na-server"&gt;Snížení počtu dotazů na
server&lt;/h3&gt;

&lt;p&gt;Prvním krokem v optimalizaci by mělo být snížení počtu dotazů na
server. Čím víc dotazů, tím více se musí přenášet dat, tím více
musí server vynaložit prostředků na jejich obsloužení.&lt;/p&gt;

&lt;p&gt;Snažte se snížit počet souborů, které vaše stránka tahá s sebou.
Pokuste se sloučit externí skripty do jednoho souboru, stejně tak stylopisy.
Místo toho, abyste měli zvláštní stylopis pro tisk, využijte pravidla
&lt;code&gt;@media print&lt;/code&gt;. Dále omezte &lt;code&gt;@import&lt;/code&gt; pravidla na
minimum. Další spoustu dotazů mají jistě na svědomí obrázky. Využijte
chytře &lt;a href="http://www.alistapart.com/articles/sprites/"&gt;techniku
spojování obrázků&lt;/a&gt; a snižte tak počet dotazů na minimum.&lt;/p&gt;

&lt;p&gt;Dalším krokem ke snížení počtu dotazů je &lt;strong&gt;správně nastavené
kešování&lt;/strong&gt;. Většinou se setkávám s tím, že kešování není
řízeno vůbec nebo je rovnou zakázáno. To považuju za velikou chybu. Místo
zakázání kešování, zkuste nastavit cache na minutu, dvě. Nedělejte to
však pomocí meta tagů, to nemá žádný význam. Posílejte HTTP hlavičky.
Např. &lt;code&gt;Cache-Control: public, must-revalidate, proxy-revalidate,
max-age=120&lt;/code&gt; nastavuje veřejné kešování na dvě minuty a za tuto dobu
musí jak lokální, tak proxy cache stránku obnovit.&lt;/p&gt;

&lt;p&gt;Dalším účinným pomocníkem je Entity Tag – &lt;strong&gt;ETag&lt;/strong&gt;.
ETag je hash obsahu. Pokud se obsah změní, změní se i hash. Tento hash je
posílán v hlavičce klientovi a ten ho může připojit do opětovného
dotazu. Pokud se obsah na serveru nezměnil, server odpoví kódem &lt;code&gt;304 Not
Modified&lt;/code&gt;. V takovém případě je odpověď krátká a přenáší se
jen několik bajtů a klient ví, že může použít lokální verzi.&lt;/p&gt;

&lt;p&gt;Správným nastavením hlaviček &lt;code&gt;Cache-Control&lt;/code&gt; a
&lt;code&gt;ETag&lt;/code&gt; můžete svému serveru hodně odlehčit.&lt;/p&gt;

&lt;h3 id="toc-snizeni-objemu-prenasenych-dat"&gt;Snížení objemu přenášených
dat&lt;/h3&gt;

&lt;p&gt;Když už máme snížený počet dotazů – tedy zátěž serveru, ve
druhém kroku bychom se měli pokusit snížit trafic – množství
přenášených dat. Zkoušel jsem několik technik. Rád používám &lt;acronym
title="Extensible hypertext markup language"&gt;XHTML&lt;/acronym&gt; protože ho pak
můžu zpracovávat pomocí obecného XML readeru. A XHTML vyžaduje oproti
HTML o dost bajtů navíc. Proto jsem si udělal takový malý benchmark mojí
&lt;a href="/"&gt;titulní stránky&lt;/a&gt;. Rozdíl mezi HTML a XHTML verzí je cca 3 %.
Pak jsem zkusil ořezat přebytečné bílé znaky. Tam už to bylo o něco
lepší úspora 13 %. Kombinace HTML bez bílých znaků pak je na šestnácti
16%. Je to sice pěkné číslo, ale zase taková úspora to není.&lt;/p&gt;

&lt;div&gt;&lt;img src="/data/obrazky/komprese.png"
alt="graf porovnání různé komprese stránky" /&gt;&lt;/div&gt;

&lt;p&gt;Proto jsem nasadil kompresi. Ta konečně přinesla kýžený výsledek –
&lt;strong&gt;úspora 64 %&lt;/strong&gt;. Docela &lt;a
href="http://www.aspnetresources.com/tools/httpcompression.aspx"&gt;zajímavý
nástroj&lt;/a&gt;, který vám zjistí, zda kompresi používáte a kolik byste byli
schopní uspořit, najdete na stránkách &lt;a
href="http://www.aspnetresources.com"&gt;www.aspnetresources.com&lt;/a&gt;. Zkoušel jsem
pokusně české portály a kompresi používá pouze &lt;a
href="http://www.seznam.cz/"&gt;Seznam.cz&lt;/a&gt;. Přitom zcela jistě ji dříve
používal i &lt;a href="http://www.atlas.cz/"&gt;Atlas.cz&lt;/a&gt;, nechápu, proč už
není zapnutá.&lt;/p&gt;

&lt;p&gt;Jak zprovoznit kompresi na vašem serveru? Pokud máte IIS 6 a možnost
nastavit si server sám, tak detaily najdete v článku &lt;a
href="http://www.microsoft.com/technet/prodtechnol/WindowsServer2003/Library/IIS/d52ff289-94d3-4085-bc4e-24eb4f312e0e.mspx?mfr=true"&gt;Enabling
HTTP Compression (IIS 6.0)&lt;/a&gt;, v případě IIS 7 zase v článku &lt;a
href="http://blogs.iis.net/ksingla/archive/2006/06/13/changes-to-compression-in-iis7.aspx"&gt;Changes
to compression in IIS7&lt;/a&gt;. Pokud k nastavení serveru přístup nemáte,
můžete použít &lt;a
href="http://www.blowery.org/code/HttpCompressionModule.html"&gt;HttpModul pro
kompresi&lt;/a&gt;. Uživatelé Apache jistě znají &lt;a
href="http://httpd.apache.org/docs/2.0/mod/mod_deflate.html"&gt;mod_deflate&lt;/a&gt; a
&lt;a href="http://sourceforge.net/projects/mod-gzip/"&gt;mod_gzip&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Správně nastavenou kompresí ušetříte trafik. Ať už platíte vy nebo
váš poskytovatel, je nejen ekonomické ale i solidární mít kompresi
zapnutou.&lt;/p&gt;

&lt;h3 id="toc-optimalizace-kodu-stranky"&gt;Optimalizace kódu stránky&lt;/h3&gt;

&lt;p&gt;Správně napsaným kódem se dá zrychlit vykreslování stránky.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Pokud je vaše stránka well-formed a je validní, může být její
	vykreslení mnohem rychlejší.&lt;/li&gt;

	&lt;li&gt;Pokud nastavíte obrázkům rozměry, bude vykreslování stránky
	plynulejší a nebude se nepříjemně natahovat.&lt;/li&gt;

	&lt;li&gt;Pokud u dlouhých tabulek správně použijete &lt;code&gt;thead&lt;/code&gt;,
	&lt;code&gt;tfoot&lt;/code&gt; a vícero &lt;code&gt;tbody&lt;/code&gt;, taktéž docílíte
	rychlejšího zpracování stránky.&lt;/li&gt;

	&lt;li&gt;Pokud externí skripty a jiné větší objekty, na jejichž zpracování
	musí prohlížeč čekat, připojíte až na konec stránky, nebude se na ně
	zbytečně čekat na začátku nebo uprostřed. Je to třeba častý nešvar
	magazínů, kde se vám načte perex, pod ním se 20 sekund načítá reklama a
	pak najednou nablikne zbytek stránky.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Spoustu zajímavých tipů na zrychlení najdete ve vývojářské části
Yahoo v článku &lt;a
href="http://developer.yahoo.com/performance/rules.html"&gt;Best Practices for
Speeding Up Your Web Site&lt;/a&gt;. Užitečný nástroj ze stejné dílny, který
vám stránku zkontroluje přímo ve vašem prohlížeči je Add-on do &lt;a
href="http://www.getfirebug.com/"&gt;Firebug&lt;/a&gt;u s názvem &lt;a
href="http://developer.yahoo.com/yslow/"&gt;Y-Slow&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Mnoho z vás si jistě řekně, „k čemu bych měl optimalizovat, když
moje stránky navštěvuje pár lidí denně?“ Já jsem toho názoru, že
plýtvat se nemá. Doma taky určitě nemáte neustále otevřený vodovodní
kohoutek…&lt;/p&gt;

&lt;div class="hslice"&gt;
	&lt;h3 class="entry-title" id="toc-souvisejici"&gt;Související&lt;/h3&gt;

	&lt;ul class="entry-content"&gt;
		&lt;li&gt;&lt;a href="/weblog/269-hlavicka-pragma-a-jeji-misto-v-html.aspx"&gt;Hlavička
		Pragma a její místo v HTML&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a
		href="http://php.vrana.cz/skoleni-vykonnost-webovych-aplikaci.php"&gt;Školení
		Jakuba Vrány: Výkonnost webových aplikací&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a href="http://www.mnot.net/cache_docs/"&gt;Caching Tutorial for Web Authors
		&amp;amp; Webmasters&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
&lt;/div&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Výkon webových stránek můžeme obecně zvýšit snížením počtu dotazů na server, snížením objemu přenášených dat, optimalizacemi HTML kódu a v neposlední řadě optimalizací výkonného kódu aplikace. První tři pravidla lze uplatnit i na obyčejných prezentacích, proto se na ně podíváme blížeji.

Snížení počtu dotazů na server
==============================

Prvním krokem v optimalizaci by mělo být snížení počtu dotazů na server. Čím víc dotazů, tím více se musí přenášet dat, tím více musí server vynaložit prostředků na jejich obsloužení.

Snažte se snížit počet souborů, které vaše stránka tahá s sebou. Pokuste se sloučit externí skripty do jednoho souboru, stejně tak stylopisy. Místo toho, abyste měli zvláštní stylopis pro tisk, využijte pravidla `@media print`. Dále omezte `@import` pravidla na minimum. Další spoustu dotazů mají jistě na svědomí obrázky. Využijte chytře "techniku spojování obrázků":[sprite] a snižte tak počet dotazů na minimum.

Dalším krokem ke snížení počtu dotazů je **správně nastavené kešování**. Většinou se setkávám s tím, že kešování není řízeno vůbec nebo je rovnou zakázáno. To považuju za velikou chybu. Místo zakázání kešování, zkuste nastavit cache na minutu, dvě. Nedělejte to však pomocí meta tagů, to nemá žádný význam. Posílejte HTTP hlavičky. Např. `Cache-Control: public, must-revalidate, proxy-revalidate, max-age=120` nastavuje veřejné kešování na dvě minuty a za tuto dobu musí jak lokální, tak proxy cache stránku obnovit.

Dalším účinným pomocníkem je Entity Tag - **ETag**. ETag je hash obsahu. Pokud se obsah změní, změní se i hash. Tento hash je posílán v hlavičce klientovi a ten ho může připojit do opětovného dotazu. Pokud se obsah na serveru nezměnil, server odpoví kódem `304 Not Modified`. V takovém případě je odpověď krátká a přenáší se jen několik bajtů a klient ví, že může použít lokální verzi.

Správným nastavením hlaviček `Cache-Control` a `ETag` můžete svému serveru hodně odlehčit.

Snížení objemu přenášených dat
==============================

Když už máme snížený počet dotazů – tedy zátěž serveru, ve druhém kroku bychom se měli pokusit snížit trafic – množství přenášených dat. Zkoušel jsem několik technik. Rád používám XHTML((Extensible hypertext markup language)) protože ho pak můžu zpracovávat pomocí obecného XML readeru. A XHTML vyžaduje oproti HTML o dost bajtů navíc. Proto jsem si udělal takový malý benchmark mojí "titulní stránky":[/]. Rozdíl mezi HTML a XHTML verzí je cca 3 %. Pak jsem zkusil ořezat přebytečné bílé znaky. Tam už to bylo o něco lepší úspora 13 %. Kombinace HTML bez bílých znaků pak je na šestnácti 16%. Je to sice pěkné číslo, ale zase taková úspora to není.

[*/data/obrazky/komprese.png .(graf porovnání různé komprese stránky)*]

Proto jsem nasadil kompresi. Ta konečně přinesla kýžený výsledek - **úspora 64 %**. Docela "zajímavý nástroj":[compression], který vám zjistí, zda kompresi používáte a kolik byste byli schopní uspořit, najdete na stránkách www.aspnetresources.com.  Zkoušel jsem pokusně české portály a kompresi používá pouze [seznam]. Přitom zcela jistě ji dříve používal i [atlas], nechápu, proč už není zapnutá.

Jak zprovoznit kompresi na vašem serveru? Pokud máte IIS 6 a možnost nastavit si server sám, tak detaily najdete v článku [iis6], v případě IIS 7 zase v článku [iis7]. Pokud k nastavení serveru přístup nemáte, můžete použít "HttpModul pro kompresi":[aspnet]. Uživatelé Apache jistě znají [mod_deflate] a [mod_gzip].

Správně nastavenou kompresí ušetříte trafik. Ať už platíte vy nebo váš poskytovatel, je nejen ekonomické ale i solidární mít kompresi zapnutou.

Optimalizace kódu stránky
=========================

Správně napsaným kódem se dá zrychlit vykreslování stránky.
* Pokud je vaše stránka well-formed a je validní, může být její vykreslení mnohem rychlejší.
* Pokud nastavíte obrázkům rozměry, bude vykreslování stránky plynulejší a nebude se nepříjemně natahovat.
* Pokud u dlouhých tabulek správně použijete `thead`, `tfoot` a vícero `tbody`, taktéž docílíte rychlejšího zpracování stránky.
* Pokud externí skripty a jiné větší objekty, na jejichž zpracování musí prohlížeč čekat, připojíte až na konec stránky, nebude se na ně zbytečně čekat na začátku nebo uprostřed. Je to třeba častý nešvar magazínů, kde se vám načte perex, pod ním se 20 sekund načítá reklama a pak najednou nablikne zbytek stránky.

Spoustu zajímavých tipů na zrychlení najdete ve vývojářské části Yahoo v článku [rules]. Užitečný nástroj ze stejné dílny, který vám stránku zkontroluje přímo ve vašem prohlížeči je Add-on do  [firebug]u s názvem [yslow].

Mnoho z vás si jistě řekně, „k čemu bych měl optimalizovat, když moje stránky navštěvuje pár lidí denně?“ Já jsem toho názoru, že plýtvat se nemá. Doma taky určitě nemáte neustále otevřený vodovodní kohoutek…

/--div .[hslice]
Související .[entry-title]
===========
.[entry-content]
* [clanek(269)]
* [vrana]
* [tutorial]
\--div

[clanek(269)]: /weblog/269-hlavicka-pragma-a-jeji-misto-v-html.aspx Hlavička Pragma a její místo v HTML
[sprite]: http://www.alistapart.com/articles/sprites/
[compression]: http://www.aspnetresources.com/tools/httpcompression.aspx
[iis6]: http://www.microsoft.com/technet/prodtechnol/WindowsServer2003/Library/IIS/d52ff289-94d3-4085-bc4e-24eb4f312e0e.mspx?mfr=true Enabling HTTP Compression (IIS 6.0)
[iis7]: http://blogs.iis.net/ksingla/archive/2006/06/13/changes-to-compression-in-iis7.aspx Changes to compression in IIS7
[aspnet]: http://www.blowery.org/code/HttpCompressionModule.html
[mod_deflate]: http://httpd.apache.org/docs/2.0/mod/mod_deflate.html mod_deflate
[mod_gzip]: http://sourceforge.net/projects/mod-gzip/ mod_gzip

[seznam]: http://www.seznam.cz/ Seznam.cz
[atlas]: http://www.atlas.cz/ Atlas.cz

[rules]: http://developer.yahoo.com/performance/rules.html  Best Practices for Speeding Up Your Web Site
[yslow]: http://developer.yahoo.com/yslow/ Y-Slow
[firebug]: http://www.getfirebug.com/ Firebug
[vrana]: http://php.vrana.cz/skoleni-vykonnost-webovych-aplikaci.php Školení Jakuba Vrány: Výkonnost webových aplikací
[tutorial]: http://www.mnot.net/cache_docs/ Caching Tutorial for Web Authors &amp; Webmasters</raw>
    <author>Aleš Roubíček</author>
    <published>2008-06-05T14:14:50.660</published>
    <url>zvyste-vykon-vaseho-webu</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>iis7 apache http html xhtml css javascript etag cache compression firebug yslow</tags>
    <is-published>1</is-published>
    <edited>2008-09-13T11:32:25.520</edited>
  </article>
  <article>
    <id>281</id>
    <title>Firefox použitelný i ve Vistě</title>
    <description>Jak nastavit Firefox 3.0, aby skutečně zapadl do systému Windows Vista? </description>
    <html xml:space="preserve">
&lt;p&gt;Za tu dobu, co &lt;a href="/weblog/179-moje-prvni-zkusenosti-s-vistou.aspx"&gt;jsem
na Vistě&lt;/a&gt;, jsem většinu času používal pouze Internet Explorer.
Samozřejmě mám v systému Firefox, Operu i Safari. V naší branži je to
nutnost. Před několika měsíci k nim &lt;a
href="/weblog/252-v-zajeti-socialnich-siti.aspx"&gt;přibyl Flock&lt;/a&gt;, který se
tak nějak stal mým hlavním prohlížečem. Firefox 2.0 jsem nepoužíval
z několika důvodů.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Ve Vistě je fakt hnusnej, nehodí se tam.&lt;/li&gt;

	&lt;li&gt;Žere zbytečně pamět.&lt;/li&gt;

	&lt;li&gt;Neměl pro mě žádnou přidanou hodnotu oproti kompaktnímu IE7.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Ale blýská se na lepší časy. S příchodem Firefoxu 3.0 se mnohé
mění. První beta verze sice byly ještě hnusnější než dvojka, ale už
poslední bety vypadaly přívětivěji. Pak jsem objevil několik zajímavých
rozšíření, který dodají Firefoxu 3.0 konečně &lt;strong&gt;look &amp;amp; feel
Windows Vista&lt;/strong&gt;. Prvním je &lt;a href="http://jdem.cz/adp12"&gt;Glasser&lt;/a&gt;,
který dodá prostředí více skla subsystému Aero, a druhým &lt;a
href="http://jdem.cz/adp27"&gt;Hide menubar&lt;/a&gt;, který schová hlavní nabídkový
pruh – vyvolat lze stiskem klávesy &lt;code&gt;Alt&lt;/code&gt;. Konečně se nebojím
Firefox zapínat! :)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Za tu dobu, co "jsem na Vistě":[clanek(179)], jsem většinu času používal pouze Internet Explorer. Samozřejmě mám v systému Firefox, Operu i Safari. V naší branži je to nutnost. Před několika měsíci k nim "přibyl Flock":[clanek(252)], který se tak nějak stal mým hlavním prohlížečem. Firefox 2.0 jsem nepoužíval z několika důvodů.

1. Ve Vistě je fakt hnusnej, nehodí se tam.
2. Žere zbytečně pamět.
3. Neměl pro mě žádnou přidanou hodnotu oproti kompaktnímu IE7.

Ale blýská se na lepší časy. S příchodem Firefoxu 3.0 se mnohé mění. První beta verze sice byly ještě hnusnější než dvojka, ale už poslední bety vypadaly přívětivěji. Pak jsem objevil několik zajímavých rozšíření, který dodají Firefoxu 3.0 konečně **look &amp; feel Windows Vista**. Prvním je [glasser], který dodá prostředí více skla subsystému Aero, a druhým [menu], který schová hlavní nabídkový pruh – vyvolat lze stiskem klávesy `Alt`. Konečně se nebojím Firefox zapínat! :)

[clanek(179)]: /weblog/179-moje-prvni-zkusenosti-s-vistou.aspx
[clanek(252)]: /weblog/252-v-zajeti-socialnich-siti.aspx V zajetí sociálních sítí

[glasser]: http://jdem.cz/adp12 Glasser
[menu]: http://jdem.cz/adp27 Hide menubar
</raw>
    <author>Aleš Roubíček</author>
    <published>2008-06-08T19:34:54.223</published>
    <url>firefox-pouzitelny-i-ve-viste</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>firefox windows vista flock ie7 glasser</tags>
    <is-published>1</is-published>
    <edited>2008-09-13T11:20:15.680</edited>
  </article>
  <article>
    <id>282</id>
    <title>Mikroformáty v hledání Yahoo</title>
    <description>Dnes se podíváme na jedno z praktických užití mikroformátů – sémantické hledání.</description>
    <html xml:space="preserve">
&lt;p&gt;Dnes se podíváme na jedno z praktických užití &lt;a
href="http://www.microformats.org/"&gt;mikroformátů&lt;/a&gt; – sémantické
hledání. Možná jste si už položili otázku, k čemu vlastně ty
mikroformáty jsou dobré. Ok, mají přidávat nějakou sémantiku do
dokumentu, u hCard je přínos zřejmý, ale co dál? Jednou z možností jak
využít sémanticky obohacené dokumenty je bohatší hledání.&lt;/p&gt;

&lt;h3 id="toc-aktivace-modulu"&gt;Aktivace modulů&lt;/h3&gt;

&lt;p&gt;&lt;a href="http://search.yahoo.com/"&gt;Yahoo Search&lt;/a&gt; nedávno přišlo
s takzvaným uživatelsky upravitelným hledáním. Registrovaný uživatel si
může do hledání přidat sémantické moduly, které upraví interpretaci
výsledků. V základu jsou však aktivní pouze tři moduly upravující
výsledky z Flickeru, Videa a Yahoo Travel. Zbylé si uživatel musí aktivovat
sám. Jak na to?&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Přejděte na &lt;a href="http://jdem.cz/adsb5"&gt;stránku s výsledky&lt;/a&gt;.&lt;/li&gt;

	&lt;li&gt;Rozbalte nabídku &lt;em&gt;Customize&lt;/em&gt;&lt;/li&gt;

	&lt;li&gt;Vyberte &lt;em&gt;Browse Gallery&lt;/em&gt;&lt;/li&gt;

	&lt;li&gt;Zaškrtněte si třeba LinkedIn a stiskněte &lt;em&gt;Add&lt;/em&gt;&lt;/li&gt;

	&lt;li&gt;Pak tlačítko &lt;em&gt;Add&lt;/em&gt; zmáčkněte ještě jendou&lt;/li&gt;

	&lt;li&gt;A pak zmáčkněte tlačítko &lt;em&gt;Save&lt;/em&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;No nyní už můžete využívat sémanticky bohatší výsledky z LinkedIn
ve výsledcích hedání. Aktivace modulů není to, zrovna procházka
růžovým sadem, Yahoo by mělo trochu zapracovat na použitelnosti. Ale ve
výsledku to funguje a to je hlavní.&lt;/p&gt;

&lt;h3 id="toc-jak-to-vypada-v-praxi"&gt;Jak to vypadá v praxi&lt;/h3&gt;

&lt;p&gt;V základu tedy máte generické výsledky fulltextu.&lt;/p&gt;

&lt;div class="image"&gt;&lt;img src="/data/obrazky/y_generic.png"
alt="generický výsledek hledání" width="580" height="76" /&gt;&lt;/div&gt;

&lt;p&gt;Po aktivaci sémantického modulu &lt;strong&gt;LinkedIn&lt;/strong&gt;, se struktura
výsledku změní .&lt;/p&gt;

&lt;div class="image"&gt;&lt;img src="/data/obrazky/y_semantic.png"
alt="sémantický výsledek hledání" width="377" height="115" /&gt;&lt;/div&gt;

&lt;p&gt;Po aktivaci sémantického modulu &lt;strong&gt;Last.fm&lt;/strong&gt; vypadá výsledek
interpreta následovně.&lt;/p&gt;

&lt;div class="image"&gt;&lt;img src="/data/obrazky/y_music.png"
alt="sémantický výsledek hledání" width="578" height="214" /&gt;&lt;/div&gt;

&lt;p&gt;Zatím je to jedna z prvních vlaštovek, tuším, že mikroformáty
používá v hledání i &lt;a href="http://www.technorati.com/"&gt;Technorati&lt;/a&gt;,
ale každý jiným způsobem. &lt;a href="http://www.google.cz/"&gt;Google&lt;/a&gt; má
něco podobného pro Youtube a obrázky. V &lt;a
href="http://search.live.com/"&gt;Live Search&lt;/a&gt; jsem nic podobného
nepostřehl… Pro mě osobně je zajímavé sledovat vývoj na tomto poli a
jsem zvědavý, jakých implementací se dočkáme dále.&lt;/p&gt;

&lt;h3 id="toc-souvisejici"&gt;Související&lt;/h3&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href="/weblog/267-vkladani-data-do-stranky.aspx"&gt;Vkládání data do
	stránky&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a
	href="/weblog/256-mikroformaty-duvod-proc-pouzivat-xhtml.aspx"&gt;Mikroformáty –
	důvod proč používat XHTML&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Tagy: &lt;a rel="tag"
href="http://technorati.com/tag/microformats"&gt;Microformats&lt;/a&gt;, &lt;a rel="tag"
href="http://technorati.com/tag/search"&gt;Search&lt;/a&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Dnes se podíváme na jedno z praktických užití mikroformátů:[microformats] – sémantické hledání. Možná jste si už položili otázku, k čemu vlastně ty mikroformáty jsou dobré. Ok, mají přidávat nějakou sémantiku do dokumentu, u hCard je přínos zřejmý, ale co dál? Jednou z možností jak využít sémanticky obohacené dokumenty je bohatší hledání.

== Aktivace modulů

[search] nedávno přišlo s takzvaným uživatelsky upravitelným hledáním. Registrovaný uživatel si může do hledání přidat sémantické moduly, které upraví interpretaci výsledků. V základu jsou však aktivní pouze tři moduly upravující výsledky z Flickeru, Videa a Yahoo Travel.  Zbylé si uživatel musí aktivovat sám. Jak na to?

1. Přejděte na "stránku s výsledky":[result].
2. Rozbalte nabídku *Customize*
3. Vyberte *Browse Gallery*
4. Zaškrtněte si třeba LinkedIn a stiskněte *Add*
5. Pak tlačítko *Add* zmáčkněte ještě jendou
6. A pak zmáčkněte tlačítko *Save*

No nyní už můžete využívat sémanticky bohatší výsledky z LinkedIn ve výsledcích hedání. Aktivace modulů není to, zrovna procházka růžovým sadem, Yahoo by mělo trochu zapracovat na použitelnosti. Ale ve výsledku to funguje a to je hlavní.

== Jak to vypadá v praxi

V základu tedy máte generické výsledky fulltextu.

[*/data/obrazky/y_generic.png 580x76 .(generický výsledek hledání)*] .[image]

Po aktivaci sémantického modulu **LinkedIn**, se struktura výsledku změní .

[*/data/obrazky/y_semantic.png 377x115 .(sémantický výsledek hledání)*] .[image]

Po aktivaci sémantického modulu **Last.fm** vypadá výsledek interpreta následovně.

[*/data/obrazky/y_music.png 578x214 .(sémantický výsledek hledání)*] .[image]

Zatím je to jedna z prvních vlaštovek, tuším, že mikroformáty používá v hledání i [technorati], ale každý jiným způsobem. [google] má něco podobného pro Youtube a obrázky. V [live] jsem nic podobného nepostřehl… Pro mě osobně je zajímavé sledovat vývoj na tomto poli a jsem zvědavý, jakých implementací se dočkáme dále.

==Související

* [clanek(267)]
* [clanek(256)]

Tagy: [tag-microformats], [tag-search]


[clanek(267)]: /weblog/267-vkladani-data-do-stranky.aspx Vkládání data do stránky
[clanek(256)]: /weblog/256-mikroformaty-duvod-proc-pouzivat-xhtml.aspx Mikroformáty - důvod proč používat XHTML
[tag-microformats]: http://technorati.com/tag/microformats Microformats .{rel:tag}
[tag-search]: http://technorati.com/tag/search Search .{rel:tag}
[microformats]: http://www.microformats.org/ Mikrofomáty
[google]: http://www.google.cz/ Google
[live]: http://search.live.com/ Live Search
[search]: http://search.yahoo.com/ Yahoo Search
[result]: http://jdem.cz/adsb5
[technorati]: http://www.technorati.com/ Technorati
</raw>
    <author>Aleš Roubíček</author>
    <published>2008-06-10T14:26:12.010</published>
    <url>mikroformaty-v-hledani-yahoo</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>microformats yahoo search</tags>
    <is-published>1</is-published>
    <edited>2008-09-13T11:19:32.180</edited>
  </article>
  <article>
    <id>283</id>
    <title>Techorati</title>
    <description>&lt;a href="http://technorati.com/claim/2i3axcz25" rel="me"&gt;Technorati Profile&lt;/a&gt;</description>
    <html xml:space="preserve">
&lt;p&gt;&lt;a href="http://technorati.com/claim/2i3axcz25" rel="me"&gt;Technorati
Profile&lt;/a&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">&lt;a href="http://technorati.com/claim/2i3axcz25" rel="me"&gt;Technorati Profile&lt;/a&gt;</raw>
    <author>Aleš Roubíček</author>
    <published>2008-06-10T19:50:07.033</published>
    <url>techorati</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <is-published>0</is-published>
    <edited>2008-06-10T20:04:56.357</edited>
  </article>
  <article>
    <id>284</id>
    <title>Téměř nový rarouš.weblog</title>
    <description>Poslední týden jsem pilně pracoval na předělání tohoto blogu do nového kabátku. Pojďtě se podívat, jak to dopadlo.</description>
    <html xml:space="preserve">
&lt;p&gt;Poslední týden jsem trávil úpravami tohoto blogu. Měl jsem už nějaký
nástřel grafiky už několik dní před tím, dokonce rozběhaný na &lt;a
href="/weblog/"&gt;úvodní straně blogu&lt;/a&gt;. :) Jenže abych to mohl posunout
dál i do článků, musel jsem šáhnout do šablon blogu. Jenže
prezentační vrstva, byla napsaná tak nepoužitelně a každá změna
vyžadovala dost práce.&lt;/p&gt;

&lt;p&gt;Měl jsem před sebou dvě možnosti. Nechat to být a počkat až napíšu
nový systém, nebo upravit stávající. Jenže čekat sám na sebe, až něco
napíšu, to bych se taky nemusel dočkat… ;) Nakonec jsem napsal zbrusu novou
prezentační vrstvu nad &lt;a href="http://www.gryphoon.net/"&gt;starým
systémem&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Rozhodl jsem se pokračovat v započatém stylu, který jsem zvolil pro
svoji &lt;a rel="me home" href="/"&gt;homepage&lt;/a&gt;, tedy &lt;a
href="/weblog/236-mvc-unit-testy.aspx"&gt;návrhový vzor MVP&lt;/a&gt; pro prezentační
část a &lt;a
href="/weblog/271-active-record-vs-repository-pattern.aspx"&gt;Repository&lt;/a&gt; pro
datovou. Využil a trochu rozšířil některé entity modelu o další
vlastnosti a přidal některé nové. Pro výpis článků a komentářů na
stránce jsem napsal serverové prvky založené na &lt;a
href="/weblog/278-genericky-kontejner-a-repeater.aspx"&gt;Generickém
repeateru&lt;/a&gt;. Pak jsem se dostal k formuláři pro přidávání komentářů.
Aktuální WebForms implementace se mi moc nelíbila a tak jsem se rozhodl
oprášit &lt;a href="/weblog/245-nforms-pro-asp-net.aspx"&gt;NForms&lt;/a&gt; a povolat je
do služby.&lt;/p&gt;

&lt;p&gt;Musel jsem odladit několik bugů, protože tohle bylo poprvé, co jsem je
použil. :) Ale nakonec se z toho vyklubal celkem použitelný a elegantní kus
softwaru. Proč elegantní? Líbí se mi &lt;a
href="/weblog/247-validace-v-nforms-pro-asp-net.aspx"&gt;definování validačních
pravidel&lt;/a&gt; (sice zatím pouze serverových), znovupoužitelnost
kódu apod.&lt;/p&gt;

&lt;h3 id="toc-nforms-v-akci"&gt;NForms v akci&lt;/h3&gt;

&lt;p&gt;Když jsem vymýšlel, jak vlastně budu nově komentáře zpracovávat,
rozhodl jsem se pro handler, který bude obsluhovat požadavky na akce a zavolá
správnou třídu, která má požadavek zpracovat – v tomto případě
ukládač komentářů. (Tento model jsem zvolil protože, každá třída by
měla dělat pouze jednu věc, proto komentáře nezpracovává ta samá, co
prezentuje články.) Jenže teď jsem stál před problémem, že budu muset
definovat ten samý formulář na dvou místech. Naštěstí u NForms to
není třeba.&lt;/p&gt;

&lt;p&gt;Podědil jsem novou třídu &lt;code&gt;CommentForm&lt;/code&gt; z formuláře NForms.
V ní jsem nadefinoval, jaká políčka a s jakými pravidly se mají
vytvořit. Kód vypadá nějak tak:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;using System;
using System.Collections.Generic;
using System.Collections.Specialized;
using Rarous.NForms;
using Rarous.NForms.Validation;

namespace Rarous.Net.Components {
  public class CommentsForm : Form {
    public const string ArticleUrl = "comment_article_url";
    public const string ArticleId = "comment_article_id";
    public const string Validity = "comment_validity";
    public const string Text = "comment_text";
    public const string UserName = "comment_user_name";
    public const string UserEmail = "comment_user_email";
    public const string UserWeb = "comment_user_web";
    public const string UserAnswer = "comment_user_answer";
    public const string Submit = "comment_submit";

    public CommentsForm()
      :this(null) {
    }

    public CommentsForm(NameValueCollection data)
      : this(data, null) {
    }

    public CommentsForm(NameValueCollection data, List&amp;lt;string&amp;gt; messages)
      : base(data, messages) {
      CreateForm();
      BindData();
    }

    private void CreateForm() {
      AddHidden(ArticleUrl);
      AddHidden(ArticleId);
      AddHidden(Validity);

      AddTextArea(Text, "Text komentáře:", 10, 55).
        Required("Text příspěvku je povinný.");
      AddText(UserName, "Jméno:").
        Required("Jméno je povinné.");
      AddText(UserEmail, "E-mail:").
        SetEmptyValue("@");
      AddText(UserWeb, "Web:").
        SetEmptyValue("http://");

      AddText(UserAnswer, "Odpověď je pivo:").
        AddRule("Zadejte pivo.", s =&amp;gt; String.Compare("pivo", s, true) == 0);

      AddSubmit(Submit, "Přidat komentář");
    }
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Tento formulář pak použivám ve View i handleru. V handleru se
vytváří s daty poslanými přes POST, která se pak validují a dále
zpracovávají. Líbí se mi, že data se předávají jako
&lt;code&gt;NameValueCollection&lt;/code&gt;, díky tomu se dá bez problému načítat z
&lt;code&gt;Request.Forms&lt;/code&gt;, &lt;code&gt;Request.QueryString&lt;/code&gt;, nebo z kolekce
&lt;code&gt;Cookies.Values&lt;/code&gt;. Těmi můžu data předvyplňovat, nebo je nechat
validovat a tak. V budoucnu by mohlo přibýt i inteligentní vytváření
objektů…&lt;/p&gt;

&lt;h3 id="toc-dalsi-featury"&gt;Další featury&lt;/h3&gt;

&lt;ol&gt;
	&lt;li&gt;U komentářů jsem oprášil Gravatary, které jsem tu už kdysi míval.
	Použil jsem &lt;a
	href="http://dotnetkicks.googlecode.com/svn/trunk/DotNetKicks/Incremental.Kick/Web/Controls/User/Gravatar.cs"&gt;implementaci
	z dotnetKicks&lt;/a&gt;, kde se používá lokální cachování.&lt;/li&gt;

	&lt;li&gt;Bezpečnostní otázka se vyplňuje JavaScriptem, takže už vás nebude
	otravovat.&lt;/li&gt;

	&lt;li&gt;Po letech jsem přidal stránkování v článcích. Jak na hlavní
	stránce blogu, tak v rubrikách.&lt;/li&gt;

	&lt;li&gt;Zvýrazňovač syntaxe teď funguje jen napůl, protože už přestal
	stačit mým potřebám. Čekám na uvolnění zvýrazňavoče z Codeplexu,
	který by měl být o dost lepší.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Jsou to takové drobnosti, ale mám z nich radost, protože jsem je dlouho
dobu odbýval.&lt;/p&gt;

&lt;h3 id="toc-zaverem"&gt;Závěrem&lt;/h3&gt;

&lt;p&gt;Ještě mi zbývá pár věcí dopsat, aktualizovat odkazy v článcích na
nové URL, ale už jsou to spíš drobnosti (doufám). Ještě bych chtěl
závěrem poděkovat &lt;a rel="friend met"
href="http://www.latrine.cz/"&gt;Davidovi&lt;/a&gt; a &lt;a
href="http://blog.filosof.biz/"&gt;Honzovi&lt;/a&gt;, protože u nich jsem se dost
inspiroval. Taky děkuju &lt;a rel="friend co-worker met"
href="http://www.exik.com/"&gt;Exíkovi&lt;/a&gt; za hodnotné připomínky, &lt;a
rel="friend met" href="http://www.jerrysohn.net/"&gt;Jerrymu&lt;/a&gt; za hosting a
naší zahradě za příjemné pracovní prostředí atd.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Poslední týden jsem trávil úpravami tohoto blogu. Měl jsem už nějaký nástřel grafiky už několik dní před tím, dokonce rozběhaný na "úvodní straně blogu":[weblog]. :) Jenže abych to mohl posunout dál i do článků, musel jsem šáhnout do šablon blogu. Jenže prezentační vrstva, byla napsaná tak nepoužitelně a každá změna vyžadovala dost práce.

Měl jsem před sebou dvě možnosti. Nechat to být a počkat až napíšu nový systém, nebo upravit stávající. Jenže čekat sám na sebe, až něco napíšu, to bych se taky nemusel dočkat… ;) Nakonec jsem napsal zbrusu novou prezentační vrstvu nad "starým systémem":[gryphoon].

Rozhodl jsem se pokračovat v započatém stylu, který jsem zvolil pro svoji homepage:[rarous], tedy "návrhový vzor MVP":[clanek(236)] pro prezentační část a Repository:[clanek(271)] pro datovou. Využil a trochu rozšířil některé entity modelu o další vlastnosti a přidal některé nové. Pro výpis článků a komentářů na stránce jsem napsal serverové prvky založené na "Generickém repeateru":[clanek(278)]. Pak jsem se dostal k formuláři pro přidávání komentářů. Aktuální WebForms implementace se mi moc nelíbila a tak jsem se rozhodl oprášit NForms:[clanek(245)] a povolat je do služby.

Musel jsem odladit několik bugů, protože tohle bylo poprvé, co jsem je použil. :) Ale nakonec se z toho vyklubal celkem použitelný a elegantní kus softwaru. Proč elegantní? Líbí se mi "definování validačních pravidel":[clanek(247)] (sice zatím pouze serverových), znovupoužitelnost kódu apod.

== NForms v akci

Když jsem vymýšlel, jak vlastně budu nově komentáře zpracovávat, rozhodl jsem se pro handler, který bude obsluhovat požadavky na akce a zavolá správnou třídu, která má požadavek zpracovat – v tomto případě ukládač komentářů. (Tento model jsem zvolil protože, každá třída by měla dělat pouze jednu věc, proto komentáře nezpracovává ta samá, co prezentuje články.) Jenže teď jsem stál před problémem, že budu muset definovat ten samý formulář na dvou místech. Naštěstí u NForms to není třeba.

Podědil jsem novou třídu `CommentForm` z formuláře NForms. V ní jsem nadefinoval, jaká políčka a s jakými pravidly se mají vytvořit. Kód vypadá nějak tak:

/--code csharp
using System;
using System.Collections.Generic;
using System.Collections.Specialized;
using Rarous.NForms;
using Rarous.NForms.Validation;

namespace Rarous.Net.Components {
  public class CommentsForm : Form {
    public const string ArticleUrl = "comment_article_url";
    public const string ArticleId = "comment_article_id";
    public const string Validity = "comment_validity";
    public const string Text = "comment_text";
    public const string UserName = "comment_user_name";
    public const string UserEmail = "comment_user_email";
    public const string UserWeb = "comment_user_web";
    public const string UserAnswer = "comment_user_answer";
    public const string Submit = "comment_submit";

    public CommentsForm()
      :this(null) {
    }

    public CommentsForm(NameValueCollection data)
      : this(data, null) {
    }

    public CommentsForm(NameValueCollection data, List&lt;string&gt; messages)
      : base(data, messages) {
      CreateForm();
      BindData();
    }

    private void CreateForm() {
      AddHidden(ArticleUrl);
      AddHidden(ArticleId);
      AddHidden(Validity);

      AddTextArea(Text, "Text komentáře:", 10, 55).
        Required("Text příspěvku je povinný.");
      AddText(UserName, "Jméno:").
        Required("Jméno je povinné.");
      AddText(UserEmail, "E-mail:").
        SetEmptyValue("@");
      AddText(UserWeb, "Web:").
        SetEmptyValue("http://");

      AddText(UserAnswer, "Odpověď je pivo:").
        AddRule("Zadejte pivo.", s =&gt; String.Compare("pivo", s, true) == 0);

      AddSubmit(Submit, "Přidat komentář");
    }
  }
}
\--code

Tento formulář pak použivám ve View i handleru. V handleru se vytváří s daty poslanými přes POST, která se pak validují a dále zpracovávají. Líbí se mi, že data se předávají jako `NameValueCollection`, díky tomu se dá bez problému načítat z `Request.Forms`, `Request.QueryString`, nebo z kolekce `Cookies.Values`. Těmi můžu data předvyplňovat, nebo je nechat validovat a tak. V budoucnu by mohlo přibýt i inteligentní vytváření objektů…

== Další featury

1. U komentářů jsem oprášil Gravatary, které jsem tu už kdysi míval. Použil jsem "implementaci z dotnetKicks":[gravatar], kde se používá lokální cachování.
2. Bezpečnostní otázka se vyplňuje JavaScriptem, takže už vás nebude otravovat.
3. Po letech jsem přidal stránkování v článcích. Jak na hlavní stránce blogu, tak v rubrikách.
4. Zvýrazňovač syntaxe teď funguje jen napůl, protože už přestal stačit mým potřebám. Čekám na uvolnění zvýrazňavoče z Codeplexu, který by měl být o dost lepší.

Jsou to takové drobnosti, ale mám z nich radost, protože jsem je dlouho dobu odbýval.

== Závěrem

Ještě mi zbývá pár věcí dopsat, aktualizovat odkazy v článcích na nové URL, ale už jsou to spíš drobnosti (doufám). Ještě bych chtěl závěrem poděkovat Davidovi:[latrine] a Honzovi:[filosof], protože u nich jsem se dost inspiroval. Taky děkuju Exíkovi:[exik] za hodnotné připomínky, Jerrymu:[jerrysohn] za hosting a naší zahradě za příjemné pracovní prostředí atd.

[rarous]: / .{rel:me home}
[weblog]: /weblog/
[latrine]: http://www.latrine.cz/ .{rel:friend met}
[filosof]: http://blog.filosof.biz/
[exik]: http://www.exik.com/ .{rel:friend co-worker met}
[jerrysohn]: http://www.jerrysohn.net/ .{rel:friend met}
[gryphoon]: http://www.gryphoon.net/
[gravatar]: http://dotnetkicks.googlecode.com/svn/trunk/DotNetKicks/Incremental.Kick/Web/Controls/User/Gravatar.cs
[clanek(271)]: /weblog/271-active-record-vs-repository-pattern.aspx
[clanek(278)]: /weblog/278-genericky-kontejner-a-repeater.aspx
[clanek(247)]: /weblog/247-validace-v-nforms-pro-asp-net.aspx
[clanek(245)]: /weblog/245-nforms-pro-asp-net.aspx
[clanek(236)]: /weblog/236-mvc-unit-testy.aspx</raw>
    <author>Aleš Roubíček</author>
    <published>2008-06-23T10:42:53.163</published>
    <url>temer-novy-rarous-weblog</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>gryphoon mvp repository nforms gravatar</tags>
    <is-published>1</is-published>
    <edited>2008-09-13T11:17:20.960</edited>
  </article>
  <article>
    <id>285</id>
    <title>Alessio Busta - Seven</title>
    <description>Nějaký minimal techno na začátek léta. Ačkoli už je staršího daty výroby :)</description>
    <html xml:space="preserve">
&lt;div class="haudio"&gt;
	&lt;ol&gt;
		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Dubfire&lt;/span&gt;  – &lt;span
		class="title"&gt;Emissions&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Steve Angello&lt;/span&gt;  – &lt;span
		class="title"&gt;Trix&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Delete&lt;/span&gt;  – &lt;span
		class="title"&gt;Flight Schedule&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Gui Borato&lt;/span&gt;  – &lt;span
		class="title"&gt;The Rivington&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Lutzenkirchen&lt;/span&gt;  – &lt;span
		class="title"&gt;Kobalt&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Solaris Heights&lt;/span&gt;  – &lt;span
		class="title"&gt;No Trance&lt;/span&gt; (Popof Remix)&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;System 7&lt;/span&gt;  – &lt;span
		class="title"&gt;Space Bird&lt;/span&gt; (Dubfire Remix)&lt;/li&gt;
	&lt;/ol&gt;

	&lt;p&gt;Ke stažení &lt;span class="category"&gt;dj set&lt;/span&gt; &lt;a rel="enclosure"
	href="http://rarousmusic.com/mp3/alessio_busta_-_seven-rm.mp3"&gt;&lt;span
	class="contributor"&gt;Alessio Busta&lt;/span&gt; – &lt;span
	class="title"&gt;Seven&lt;/span&gt;&lt;/a&gt; (MP3 128 kbps; 36,4 MiB)&lt;/p&gt;
&lt;/div&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">/--div .[haudio]
1. "Dubfire .[contributor]"  - "Emissions .[title]"  .[item]
2. "Steve Angello .[contributor]"  - "Trix .[title]"  .[item]
3. "Delete .[contributor]"  - "Flight Schedule .[title]"  .[item]
4. "Gui Borato .[contributor]"  - "The Rivington .[title]"  .[item]
5. "Lutzenkirchen .[contributor]"  - "Kobalt .[title]"  .[item]
6. "Solaris Heights .[contributor]"  - "No Trance .[title]"  (Popof Remix) .[item]
7. "System 7 .[contributor]"  - "Space Bird .[title]"  (Dubfire Remix) .[item]

Ke stažení "dj set .[category]" [download] (MP3 128 kbps; 36,4 MiB)
\--div

[download]: http://rarousmusic.com/mp3/alessio_busta_-_seven-rm.mp3 "Alessio Busta .[contributor]" - "Seven .[title]" .{rel:enclosure}</raw>
    <author>alessio busta</author>
    <published>2008-06-23T14:24:55.203</published>
    <url>alessio-busta-seven</url>
    <category>Muzika</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-06-24T09:20:42.390</edited>
  </article>
  <article>
    <id>286</id>
    <title>Zapisujeme mikroformáty pomocí Texy!</title>
    <description>Mým oblíbeným značkovacím jazykem je Texy! Léta jsme na ní zvyklý, ostatně používám ji i tady na blogu. Mikroformáty jsou téma, které mě zajímá v poslední době. Pojďme si přiblížit jejich užití v Texy!</description>
    <html xml:space="preserve">
&lt;p&gt;Mým oblíbeným značkovacím jazykem je &lt;a href="http://texy.info/"
title="The best text  → HTML converter and formatter"&gt;Texy!&lt;/a&gt; Léta jsme na
ní zvyklý, ostatně používám ji i tady na blogu. Mikroformáty jsou téma,
které mě zajímá v poslední době. Pojďme si přiblížit jejich užití
v Texy!&lt;/p&gt;

&lt;p&gt;O tom, co jsou mikrofomáty se třeba dočtete na &lt;a
href="http://www.microformats.cz/"&gt;Microformats.cz&lt;/a&gt;. Pokud se vám to nechce
dohledávat, tak vězte, že jde o kusy (X)&lt;acronym
title="Hypertext Markup Language"&gt;HTML&lt;/acronym&gt; kódu, které mají vyšší
sémantiku. Začněme tedy s jednoduchými ukázkami.&lt;/p&gt;

&lt;h3 id="toc-rel-design-pattern"&gt;rel-design-pattern&lt;/h3&gt;

&lt;p&gt;Jedním z nejjednodušších vzorů je užití atributu &lt;code&gt;rel&lt;/code&gt;
u odkazů. Tento atribut se používá k označení vztahu k odkazovanému
dokumentu. Odkazy se dají v Texy zapsat několika způsoby, já s oblibou
využívám reference, které vypisuju na konci dokumentu. Pro mne je to pak
mnohem přehlednější, mít všechny odkazy na jednom místě.&lt;/p&gt;

&lt;pre
class="texy"&gt;&lt;code&gt;[rarous]: http://rarous.net/#kontakt Aleš Roubíček .{rel:me}
[david]: http://davidgrudl.com/ David Grudl .{rel:friend met}
[tag microformats]: http://technorati.com/tag/microformats Microformats .{rel:tag}
[clanek(282)]: /weblog/282-mikroformaty-v-hledani-yahoo.aspx Mikroformáty v hledání Yahoo .{rel:bookmark}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;V předchozí ukázce jsem použil &lt;a
href="http://microformats.org/wiki/rel-design-pattern"&gt;vzor rel&lt;/a&gt; při
definici mikroformátů &lt;a href="http://gmpg.org/xfn"&gt;&lt;acronym
title="XHTML Friends Network"&gt;XFN&lt;/acronym&gt;&lt;/a&gt;, &lt;a
href="http://microformats.org/wiki/rel-tag"&gt;rel-tag&lt;/a&gt; a permalink
z HTML4.&lt;/p&gt;

&lt;h3 id="toc-vizitky-hcard"&gt;vizitky hCard&lt;/h3&gt;

&lt;p&gt;O něco pokročilejším mikroformátem je &lt;a
href="http://microformats.org/wiki/hcard"&gt;hCard&lt;/a&gt;.&lt;/p&gt;

&lt;pre
class="texy"&gt;&lt;code&gt;/--div .[vcard]
==Aleš Roubíček .[fn]
vývojář webových aplikací .[job]

Web:
  - [rarous]
E-mail:
  - [email]
Telefon:
  - +420737461283 .[tel]
\--div

[rarous]: http://rarous.net/ .[url]{rel:me}
[email]: ales@roubicek.name .[email]&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Takto nějak může být v Texy zapsaná vizitka – kontaktní informace.
Je to zkrácená verze, toho co mám &lt;a rel="me"
href="/#kontakt"&gt;v kontaktu&lt;/a&gt; na titulce.&lt;/p&gt;

&lt;h3 id="toc-tracklisty-haudio"&gt;tracklisty hAudio&lt;/h3&gt;

&lt;p&gt;Dalším mikroformátem, který se může hodit je &lt;a
href="http://microformats.org/wiki/haudio"&gt;hAudio&lt;/a&gt;, sloužící k popisu
hudebních děl.&lt;/p&gt;

&lt;pre
class="texy"&gt;&lt;code&gt;/--div .[haudio]
1. "Dubfire .[contributor]"  - "Emissions .[title]"  .[item]
2. "Steve Angello .[contributor]"  - "Trix .[title]"  .[item]
3. "Delete .[contributor]"  - "Flight Schedule .[title]"  .[item]
4. "Gui Borato .[contributor]"  - "The Rivington .[title]"  .[item]
5. "Lutzenkirchen .[contributor]"  - "Kobalt .[title]"  .[item]
6. "Solaris Heights .[contributor]"  - "No Trance .[title]"  (Popof Remix) .[item]
7. "System 7 .[contributor]"  - "Space Bird .[title]"  (Dubfire Remix) .[item]

Ke stažení "dj set .[category]" [download] (MP3 128 kbps; 36,4 MiB)
\--div

[download]: http://rarousmusic.com/mp3/alessio_busta_-_seven-rm.mp3 "Alessio Busta .[contributor]" - "Seven .[title]" .{rel:enclosure}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Tohle je například živá ukázka ze včerejšího &lt;a rel="bookmark"
href="/weblog/285-alessio-busta-seven.aspx"&gt;vydání setu Seven&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id="toc-zaver"&gt;Závěr&lt;/h3&gt;

&lt;p&gt;Doufám, že jsem předvedl pár praktických ukázek užití mikroformátů
v Texy! Nejsem si jistý, zda lze syntaxí Texy pokrýt všechny možné nuance
mikroformátu, ale ona k tomu ani není přímo určena. Každopádně mnohé
lze užívat bez problémů. Zajímavým cvičením dnes pro mne bylo, jak
v Texy zapisovat Texy :)&lt;/p&gt;

&lt;div class="hslice" id="related"&gt;
	&lt;h3 class="entry-title" id="toc-souvisejici"&gt;Související&lt;/h3&gt;

	&lt;ul class="entry-content"&gt;
		&lt;li&gt;&lt;a rel="bookmark"
		href="/weblog/282-mikroformaty-v-hledani-yahoo.aspx"&gt;Mikroformáty v hledání
		Yahoo&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a rel="bookmark"
		href="/weblog/267-vkladani-data-do-stranky.aspx"&gt;Vkládání data do
		stránky&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a rel="bookmark"
		href="/weblog/256-mikroformaty-duvod-proc-pouzivat-xhtml.aspx"&gt;Mikroformáty –
		důvod proč používat XHTML&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a href="http://www.microformats.cz/"&gt;Microformats.cz&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
&lt;/div&gt;

&lt;p&gt;Tagy: &lt;a rel="tag"
href="http://technorati.com/tag/microformats"&gt;Microformats&lt;/a&gt;, &lt;a rel="tag"
href="http://technorati.com/tag/texy"&gt;Texy!&lt;/a&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Mým oblíbeným značkovacím jazykem je [texy] Léta jsme na ní zvyklý, ostatně používám ji i tady na blogu. Mikroformáty jsou téma, které mě zajímá v poslední době. Pojďme si přiblížit jejich užití v Texy!

O tom, co jsou mikrofomáty se třeba dočtete na [microformats-cz]. Pokud se vám to nechce dohledávat, tak vězte, že jde o kusy (X)HTML((Hypertext Markup Language)) kódu, které mají vyšší sémantiku. Začněme tedy s jednoduchými ukázkami.

==rel-design-pattern
Jedním z nejjednodušších vzorů je užití atributu `rel` u odkazů. Tento atribut se používá k označení vztahu k odkazovanému dokumentu. Odkazy se dají v Texy zapsat několika způsoby, já s oblibou využívám reference, které vypisuju na konci dokumentu. Pro mne je to pak mnohem přehlednější, mít všechny odkazy na jednom místě.

/--code texy
 [rarous]: http://rarous.net/#kontakt Aleš Roubíček .{rel:me}
 [david]: http://davidgrudl.com/ David Grudl .{rel:friend met}
 [tag microformats]: http://technorati.com/tag/microformats Microformats .{rel:tag}
 [clanek(282)]: /weblog/282-mikroformaty-v-hledani-yahoo.aspx Mikroformáty v hledání Yahoo .{rel:bookmark}
\--code

V předchozí ukázce jsem použil "vzor rel":[rel-pattern] při definici mikroformátů [xfn], [rel-tag] a permalink z HTML4.

==vizitky hCard
O něco pokročilejším mikroformátem je [hCard].

/--code texy
  /--div .[vcard]
==Aleš Roubíček .[fn]
vývojář webových aplikací .[job]

Web:
    - [rarous]
E-mail:
    - [email]
Telefon:
    - +420737461283 .[tel]
  \--div

 [rarous]: http://rarous.net/ .[url]{rel:me}
 [email]: ales@roubicek.name .[email]
\--code

Takto nějak může být v Texy zapsaná vizitka - kontaktní informace. Je to zkrácená verze, toho co mám "v kontaktu":[kontakt] na titulce.

==tracklisty hAudio
Dalším mikroformátem, který se může hodit je [hAudio], sloužící k popisu hudebních děl.

/--code texy
  /--div .[haudio]
1. "Dubfire .[contributor]"  - "Emissions .[title]"  .[item]
2. "Steve Angello .[contributor]"  - "Trix .[title]"  .[item]
3. "Delete .[contributor]"  - "Flight Schedule .[title]"  .[item]
4. "Gui Borato .[contributor]"  - "The Rivington .[title]"  .[item]
5. "Lutzenkirchen .[contributor]"  - "Kobalt .[title]"  .[item]
6. "Solaris Heights .[contributor]"  - "No Trance .[title]"  (Popof Remix) .[item]
7. "System 7 .[contributor]"  - "Space Bird .[title]"  (Dubfire Remix) .[item]

Ke stažení "dj set .[category]" [download] (MP3 128 kbps; 36,4 MiB)
  \--div

 [download]: http://rarousmusic.com/mp3/alessio_busta_-_seven-rm.mp3 "Alessio Busta .[contributor]" - "Seven .[title]" .{rel:enclosure}
\--code

Tohle je například živá ukázka ze včerejšího "vydání setu Seven":[clanek(285)].

==Závěr
Doufám, že jsem předvedl pár praktických ukázek užití mikroformátů v Texy! Nejsem si jistý, zda lze syntaxí Texy pokrýt všechny možné nuance mikroformátu, ale ona k tomu ani není přímo určena. Každopádně mnohé lze užívat bez problémů. Zajímavým cvičením dnes pro mne bylo, jak v Texy zapisovat Texy :)

/--div .[hslice #related]
== Související .[entry-title]
.[entry-content]
* [clanek(282)]
* [clanek(267)]
* [clanek(256)]
* [microformats-cz]
\--div

Tagy: [tag microformats], [tag texy]


[tag microformats]: http://technorati.com/tag/microformats Microformats .{rel:tag}
[tag texy]: http://technorati.com/tag/texy Texy! .{rel:tag}
[kontakt]: /#kontakt .{rel:me}
[microformats-cz]: http://www.microformats.cz/ Microformats.cz
[reference]: http://texy.info/cs/syntax-podrobne#toc-reference
[xfn]: http://gmpg.org/xfn XFN((XHTML Friends Network))
[rel-tag]: http://microformats.org/wiki/rel-tag rel-tag
[rel-pattern]: http://microformats.org/wiki/rel-design-pattern
[hCard]: http://microformats.org/wiki/hcard hCard
[hAudio]: http://microformats.org/wiki/haudio hAudio
[clanek(285)]: /weblog/285-alessio-busta-seven.aspx Alessio Busta - Seven .{rel:bookmark}
[clanek(282)]: /weblog/282-mikroformaty-v-hledani-yahoo.aspx Mikroformáty v hledání Yahoo .{rel:bookmark}
[clanek(267)]: /weblog/267-vkladani-data-do-stranky.aspx Vkládání data do stránky .{rel:bookmark}
[clanek(256)]: /weblog/256-mikroformaty-duvod-proc-pouzivat-xhtml.aspx Mikroformáty - důvod proč používat XHTML .{rel:bookmark}</raw>
    <author>Aleš Roubíček</author>
    <published>2008-06-24T08:49:21.033</published>
    <url>zapisujeme-mikroformaty-pomoci-texy</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>microformats texy xfn rel-tag hcard haudio</tags>
    <is-published>1</is-published>
    <edited>2008-09-13T11:15:39.257</edited>
  </article>
  <article>
    <id>287</id>
    <title>Připravte se na výřezy</title>
    <description>Včera jsme se podívali na mikroformáty v Texy! Dnes si představíme novinku, kterou přináší Internet Explorer ve verzi 8. Tou novinkou jsou WebSlices – webové výřezy.</description>
    <html xml:space="preserve">
&lt;p&gt;Včera jsme se podívali na mikroformáty v Texy! Dnes si představíme
novinku, kterou přináší Internet Explorer ve verzi 8. Tou novinkou jsou
WebSlices – webové výřezy.&lt;/p&gt;

&lt;h3 id="toc-prakticke-vyuziti"&gt;Praktické využítí&lt;/h3&gt;

&lt;p&gt;Výřezy umožňují, aby uživatel mohl sledovat změny části webové
stránky. Podobně jako u &lt;a
href="http://cyber.law.harvard.edu/rss/rss.html"&gt;&lt;acronym
title="Really Simple Sindycation"&gt;RSS&lt;/acronym&gt;&lt;/a&gt; nebo &lt;a
href="http://tools.ietf.org/html/rfc4287"&gt;Atom&lt;/a&gt; jde o syndikaci obsahu malé
části webové stránky. Prakticky to může vypadat třeba následovně.&lt;/p&gt;

&lt;p&gt;U svých článků často přidávám odkazy na související články.
Jenže je všechny nezadám při publikaci článku, ale spíš postupně
přidávám a třeba když narazím na nějaký pěkný článek k tématu, tak
ho přidám. Jenže to už spousta lidí má dočteno a třeba se už nevrátí,
nedozví se, že přibyly zajímavé odkazy na dané téma. S &lt;a
href="http://msdn.microsoft.com/en-us/library/cc304073(VS.85).aspx"&gt;WebSlice&lt;/a&gt;,
můžu označit tento kousek článku k odběru a pokud má čitatel zájem,
přidá si ho. Potom když přidám nějaký zajímavý odkaz, čtenář o tom
bude vědět.&lt;/p&gt;

&lt;p&gt;Jiný příklad, který mě napadá. Stránky nějakého hudebního festivalu
obsahují informace o ceně a množství volných vstupenek. Tyto informace se
v čase mění – čím je fesťák blíž, tím cena roste a počet
vstupenek klesá. Na takovou informaci je celkem zbytečné vytvářet RSS feed.
Stačí ji prostě označit jako výřez. Já třeba ještě nejsem rozhodnutý,
jestli půjdu, nebo chci vědět, kolik aktuálně vstupenka stojí a kolik jich
zbývá, aby se mnou mohli jít i kamarádi. Tak se přihlásím k odběru
takové informace.&lt;/p&gt;

&lt;p&gt;Uplatnění vidím i jinde.&lt;/p&gt;

&lt;h3 id="toc-technicke-zpracovani"&gt;Technické zpracování&lt;/h3&gt;

&lt;p&gt;Výřezy jsou části stránky označené třídou &lt;code&gt;hslice&lt;/code&gt; a
&lt;strong&gt;nějakým id&lt;/strong&gt; a obsahující elementy s třídou
&lt;code&gt;entry-title&lt;/code&gt; a &lt;code&gt;entry-content&lt;/code&gt; z mikroformátu &lt;a
href="http://microformats.org/wiki/hatom"&gt;hAtom&lt;/a&gt;. Živý příklad ze &lt;a
rel="bookmark"
href="/weblog/286-zapisujeme-mikroformaty-pomoci-texy.aspx"&gt;včerejšího
článku&lt;/a&gt; je lepší než tisíc slov:&lt;/p&gt;

&lt;pre
class="texy"&gt;&lt;code&gt;/--div .[#related hslice]
== Související .[entry-title]
.[entry-content]
* [clanek(282)]
* [clanek(267)]
* [clanek(256)]
* [microformats-cz]
\--div&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Když uživatel najede nad tento kus článku, objeví se tlačítko pro
subskripci:&lt;/p&gt;

&lt;div class="image"&gt;&lt;img src="/data/obrazky/webslice.png"
alt="zvýrazněný výřez stránky" /&gt;&lt;/div&gt;

&lt;p&gt;Po jeho odsouhlasení se stránka přidá do oblíbených a do feedů. Po
rozkliknutí se objeví náhledové okno s aktuálním výřezem:&lt;/p&gt;

&lt;div class="image"&gt;&lt;img src="/data/obrazky/webslice2.png"
alt="náhled výřezu stránky" /&gt;&lt;/div&gt;

&lt;h3 id="toc-dalsi-moznosti"&gt;Další možnosti&lt;/h3&gt;

&lt;p&gt;U výřezů funguje automatické nalezení podobně jako u RSS a Atom
feedů, vlastně jsou ve stejné nabídce, ale jsou odlišeny fialovou ikonkou
výřezu. Automaticky se vybere první nalezený výřez. Pokud ale chcete
nabídnout k přihlášení jako první jiný výřez, lze to ovlivnit
vložením &lt;code&gt;meta&lt;/code&gt; tagu do hlavičky:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;link rel="default-slice" type="application/x-hatom" href="#related" /&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Mění se pouze obsah atributu &lt;code&gt;href&lt;/code&gt; v němž je cesta
k výřezu. Jak jsem již říkal, ten musí být označen atributem
&lt;code&gt;id&lt;/code&gt; tudíž je přes jeho hodnotu odkazovatelný.&lt;/p&gt;

&lt;p&gt;Dále je možné omezit platnost výřezu pomocí &lt;a
href="/weblog/267-vkladani-data-do-stranky.aspx"&gt;date-patternu&lt;/a&gt; s třídou
&lt;code&gt;endtime&lt;/code&gt; nebo periodu aktualizace za pomocí třídy
&lt;code&gt;ttl&lt;/code&gt;:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;p&amp;gt;Úryvek se aktualizuje jednou za &amp;lt;span class="ttl"&amp;gt;60&amp;lt;/span&amp;gt; minut.&amp;lt;/p&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Lze i definovat vzhled výřezu a pracovat s nimi na úrovni JS API, ale to
už je mimo rámec tohoto článku.&lt;/p&gt;

&lt;h3 id="toc-format-hatom"&gt;Formát hAtom&lt;/h3&gt;

&lt;p&gt;Jak jsem již psal výše, výřezy jsou z části postavené na
mikroformátu &lt;a href="http://microformats.org/wiki/hatom"&gt;hAtom&lt;/a&gt;. Ten
slouží k definování něčeho jako Atom feed ve stránce. Dají se jím
celkem trefně popsat blogové zápisky, protože obsahuje téměř všechny
třídy, které se můžou k popisu blogového zápisku hodit. Proto když
budete dělat novou šablonu pro svůj blog, zkuste se u tohoto mikroformátu
inspirovat.&lt;/p&gt;

&lt;div class="hslice" id="related"&gt;
	&lt;h3 class="entry-title" id="toc-souvisejici"&gt;Související&lt;/h3&gt;

	&lt;ul class="entry-content"&gt;
		&lt;li&gt;&lt;a rel="bookmark"
		href="/weblog/286-zapisujeme-mikroformaty-pomoci-texy.aspx"&gt;Zapisujeme
		mikroformáty pomocí Texy!&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a href="/weblog/267-vkladani-data-do-stranky.aspx"&gt;Vkládání data do
		stránky&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a rel="bookmark"
		href="http://www1.mraveniste.org/weblog/2005/03/09-kotvy.html"&gt;Jan Bien:
		Namísto kotvy úryvek&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a
		href="http://met.blog.root.cz/2008/06/25/bbc-nasadilo-a-opet-odstranilo-mikroformaty/"&gt;Martin
		Hassman: BBC nasadilo a opět odstranilo mikroformáty&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a
		href="http://msdn.microsoft.com/en-us/library/cc304073(VS.85).aspx"&gt;Specifikace
		WebSlice na MSDN&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a
		href="http://msdn.microsoft.com/en-us/library/cc196992(VS.85).aspx"&gt;Další
		informace o WebSlice na MSDN&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a href="http://microformats.org/wiki/hatom"&gt;Mikroformát hAtom&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
&lt;/div&gt;

&lt;p&gt;Tagy: &lt;a rel="tag"
href="http://technorati.com/tag/microformats"&gt;Microformats&lt;/a&gt;, &lt;a rel="tag"
href="http://technorati.com/tag/webslice"&gt;WebSlice&lt;/a&gt;, &lt;a rel="tag"
href="http://technorati.com/tag/ie8"&gt;IE8&lt;/a&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Včera jsme se podívali na mikroformáty v Texy! Dnes si představíme novinku, kterou přináší Internet Explorer ve verzi 8. Tou novinkou jsou WebSlices – webové výřezy.

==Praktické využítí

Výřezy umožňují, aby uživatel mohl sledovat změny části webové stránky. Podobně jako u [rss] nebo [atom] jde o syndikaci obsahu malé části webové stránky. Prakticky to může vypadat třeba následovně.

U svých článků často přidávám odkazy na související články. Jenže je všechny nezadám při publikaci článku, ale spíš postupně přidávám a třeba když narazím na nějaký pěkný článek k tématu, tak ho přidám. Jenže to už spousta lidí má dočteno a třeba se už nevrátí, nedozví se, že přibyly zajímavé odkazy na dané téma. S WebSlice:[webslice], můžu označit tento kousek článku k odběru a pokud má čitatel zájem, přidá si ho. Potom když přidám nějaký zajímavý odkaz, čtenář o tom bude vědět.

Jiný příklad, který mě napadá. Stránky nějakého hudebního festivalu obsahují informace o ceně a množství volných vstupenek. Tyto informace se v čase mění – čím je fesťák blíž, tím cena roste a počet vstupenek klesá. Na takovou informaci je celkem zbytečné vytvářet RSS feed. Stačí ji prostě označit jako výřez. Já třeba ještě nejsem rozhodnutý, jestli půjdu, nebo chci vědět, kolik aktuálně vstupenka stojí a kolik jich zbývá, aby se mnou mohli jít i kamarádi. Tak se přihlásím k odběru takové informace.

Uplatnění vidím i jinde.

==Technické zpracování

Výřezy jsou části stránky označené třídou `hslice` a **nějakým id** a obsahující elementy s třídou `entry-title` a `entry-content` z mikroformátu hAtom:[hatom]. Živý příklad ze "včerejšího článku":[clanek(286)] je lepší než tisíc slov:

/--code texy
  /--div .[#related hslice]
== Související .[entry-title]
.[entry-content]
* [clanek(282)]
* [clanek(267)]
* [clanek(256)]
* [microformats-cz]
  \--div
\--code

Když uživatel najede nad tento kus článku, objeví se tlačítko pro subskripci:

[*/data/obrazky/webslice.png .(zvýrazněný výřez stránky)*] .[image]

Po jeho odsouhlasení se stránka přidá do oblíbených a do feedů. Po rozkliknutí se objeví náhledové okno s aktuálním výřezem:

[*/data/obrazky/webslice2.png .(náhled výřezu stránky)*] .[image]

==Další možnosti

U výřezů funguje automatické nalezení podobně jako u RSS a Atom feedů, vlastně jsou ve stejné nabídce, ale jsou odlišeny fialovou ikonkou výřezu. Automaticky se vybere první nalezený výřez. Pokud ale chcete nabídnout k přihlášení jako první jiný výřez, lze to ovlivnit vložením `meta` tagu do hlavičky:

/--code xml
&lt;link rel="default-slice" type="application/x-hatom" href="#related" /&gt;
\--code

Mění se pouze obsah atributu `href` v němž je cesta k výřezu. Jak jsem již říkal, ten musí být označen atributem `id` tudíž je přes jeho hodnotu odkazovatelný.

Dále je možné omezit platnost výřezu pomocí date-patternu:[clanek(267)] s třídou `endtime` nebo periodu aktualizace za pomocí třídy `ttl`:

/--code xml
&lt;p&gt;Úryvek se aktualizuje jednou za &lt;span class="ttl"&gt;60&lt;/span&gt; minut.&lt;/p&gt;
\--code

Lze i definovat vzhled výřezu a pracovat s nimi na úrovni JS API, ale to už je mimo rámec tohoto článku.

==Formát hAtom

Jak jsem již psal výše, výřezy jsou z části postavené na mikroformátu hAtom:[hatom]. Ten slouží k definování něčeho jako Atom feed ve stránce. Dají se jím celkem trefně popsat blogové zápisky, protože obsahuje téměř všechny třídy, které se můžou k popisu blogového zápisku hodit. Proto když budete dělat novou šablonu pro svůj blog, zkuste se u tohoto mikroformátu inspirovat.

/--div .[#related hslice]
==Související .[entry-title]
.[entry-content]
* [clanek(286)]
* [clanek(267)]
* [mraveniste]
* [met]
* [webslice]
* [webslice2]
* [hatom]
\--div
Tagy: [tag microformats], [tag webslice], [tag ie8]

[tag microformats]: http://technorati.com/tag/microformats Microformats .{rel:tag}
[tag webslice]: http://technorati.com/tag/webslice WebSlice .{rel:tag}
[tag ie8]: http://technorati.com/tag/ie8 IE8 .{rel:tag}

[rss]: http://cyber.law.harvard.edu/rss/rss.html RSS((Really Simple Sindycation))
[Atom]: http://tools.ietf.org/html/rfc4287 Atom
[webslice]: http://msdn.microsoft.com/en-us/library/cc304073(VS.85).aspx Specifikace WebSlice na MSDN
[webslice2]: http://msdn.microsoft.com/en-us/library/cc196992(VS.85).aspx Další informace o WebSlice na MSDN
[hatom]: http://microformats.org/wiki/hatom Mikroformát hAtom
[mraveniste]: http://www1.mraveniste.org/weblog/2005/03/09-kotvy.html Jan Bien: Namísto kotvy úryvek .{rel:bookmark}
[met]: http://met.blog.root.cz/2008/06/25/bbc-nasadilo-a-opet-odstranilo-mikroformaty/ Martin Hassman: BBC nasadilo a opět odstranilo mikroformáty
[clanek(286)]: /weblog/286-zapisujeme-mikroformaty-pomoci-texy.aspx Zapisujeme mikroformáty pomocí Texy! .{rel:bookmark}
[clanek(267)]: /weblog/267-vkladani-data-do-stranky.aspx Vkládání data do stránky</raw>
    <author>Aleš Roubíček</author>
    <published>2008-06-25T15:00:46.097</published>
    <url>pripravte-se-na-vyrezy</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>webslices ie8 microformats texy</tags>
    <is-published>1</is-published>
    <edited>2008-09-13T11:14:28.460</edited>
  </article>
  <article>
    <id>288</id>
    <title>Konec dobrý, všechno dobré!</title>
    <description>Je tomu téměř 28 měsíců, co jsem nastoupil do Atlasu. Atlas byl mé první zaměstnání, nastupoval jsem do něj přímo za školy. Tímto chci Pájovi a Renému poděkovat za důvěru a šanci, kterou mi dali.</description>
    <html xml:space="preserve">
&lt;p&gt;Je tomu téměř 28 měsíců, co jsem nastoupil do Atlasu. Tuto událost
jsem oznámil tady na blogu spotem &lt;a href="/weblog/115-rarous-v-atlasu.aspx"
title="Rarouš v Atlasu"&gt;Rarouš v Atlasu&lt;/a&gt;. Atlas byl mé první
zaměstnání, nastupoval jsem do něj přímo za školy. Tímto chci Pájovi a
Renému poděkovat za důvěru a šanci, kterou mi dali.&lt;/p&gt;

&lt;p&gt;Za ty více než dva roky jsem poznal spoustu skvělých lidí, kteří byli
více než kolegy z práce. Atlas byl něco jako rodina. Ne vždy to bylo
růžové, ale takový je život. V průběhu svého působení jsem
vystřídal několik produktů. Začínal jsem odblešováním &lt;a
href="http://pokec.atlas.cz/"&gt;Pokecu&lt;/a&gt;. V tomto období se mě Honza rozhodl
přidat mezi zdroje &lt;a href="http://www.w3blogy.cz/"&gt;W3Blogy.cz&lt;/a&gt;,
podotýkám, že proti mé vůli :D. Dalším úkolem bylo napsat importovací
rozhraní pro Atlasí redakci. Následovala neslavná úprava &lt;a
href="http://profil.atlas.cz/"&gt;Registrace&lt;/a&gt;, dovolená na Krétě, první &lt;a
href="/weblog/193-team-building.aspx"&gt;Teambuilding&lt;/a&gt; a hektická příprava
Atlas Checku.&lt;/p&gt;

&lt;h3 id="toc-atlas-opus"&gt;Atlas.Opus&lt;/h3&gt;

&lt;p&gt;V té době (listopad 2006) se už vymýšlel koncept Opusu, já jsem
vždycky přisedával poblíž a poslouchal, o co jde. Nakonec jsem se dostal
do týmu interních systémů a katalogu, ve kterém jsem byl dosud. Opus mělo
být řešení, které nahradí několik interních systémů, které už byly
těžko udržovatelné a málo kdo do nich viděl. V podstatě to
&lt;del&gt;byla&lt;/del&gt; &lt;ins&gt;je&lt;/ins&gt; stromová atributová databáze
s definovatelnými typy vč. dědičnosti a tzv. rozhraní. Velice zajímavý
projekt, na kterém jsem získal spoustu zkušeností.&lt;/p&gt;

&lt;p&gt;Mým hlavním úkolem bylo vytvořit nad Opusem katalogy. Prvním projektem
byla &lt;a href="http://firmy.atlas.cz/registrace/"&gt;registrace do Atlasu Firem&lt;/a&gt;,
tak trošku marketingově uspěchaná věc, která díky špatným rozhodnutím
ztratila svůj efekt. Ta se spouštěla, tuším, někdy v březnu
2007. V červenci se pak pustili „malé katalogy“ &lt;a
href="http://obchody.atlas.cz/"&gt;Obchody&lt;/a&gt; a &lt;a
href="http://sex.atlas.cz/"&gt;Sex&lt;/a&gt;. V září se spouštěla první verze &lt;a
href="http://katalog.atlas.cz/"&gt;velkého katalogu&lt;/a&gt;, která ještě z části
tahala data ze staré databáze (placené zápisy) a z části z nové
(bezplatné). Dalším krokem v migraci, bylo napsat administrační rozhraní
pro obchodníky, aby mohli v Opusu prodávat a zbavili jsme se tak
Firmátoru.&lt;/p&gt;

&lt;p&gt;Ke konci roku jsme měli připravené rozhraní pro testování a v březnu
jsme migrovali poslední placené zápisy do nového systému. V plánu byl
další rozvoj, částečné přebírání některé funkcionality SalesModulu,
který měl být nahrazen CRM řešením, a další zajímavé služby. Ale pak
přišlo spojeno.cz…&lt;/p&gt;

&lt;h3 id="toc-odpojeni-cz"&gt;Odpojeni.cz&lt;/h3&gt;

&lt;p&gt;Nastala doba chaosu, různých jednání a tak. Postupem času se ukazovalo,
že v takovéto firmě už dál pracovat nechci. Podobného názoru jsem nebyl
sám a tak vzniklo &lt;a href="http://www.odpojeni.cz/"&gt;Odpojeni.cz&lt;/a&gt;. Spoustu
odborných komentářů k této události si jistě dokážete dohledat na
Lupě a Živě sami. :) Je až k nevíře, jak se nám to všechno pěkně
podařilo na těch woknech naklikat. :)&lt;/p&gt;

&lt;p&gt;Pomalu jsem se tedy proklikal k závěru. Co napsat? Za posledních pár
měsíců se ze mě stal téměř alkoholik, profesionální hráč Call of
Duty, filtr Centráckého spamu (ty lidi si na mejlech fakt ujížděj),
sabotér, rebelant a já nevím co ještě – jo vlastně, jo měl jsem
i víc času blogovat… Určitě to všechno byly zkušenosti k nezaplacení
a já už se těším na ty nové, v příštím zaměstnání, kam nastupuju
v úterý společně s většinou Atlasího vývoje a slečnou Veronikou. :P
Držte mi palce.&lt;/p&gt;

&lt;p&gt;Ich komme!&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Je tomu téměř 28 měsíců, co jsem nastoupil do Atlasu. Tuto událost jsem oznámil tady na blogu spotem [clanek(115)]. Atlas byl mé první zaměstnání, nastupoval jsem do něj přímo za školy. Tímto chci Pájovi a Renému poděkovat za důvěru a šanci, kterou mi dali.

Za ty více než dva roky jsem poznal spoustu skvělých lidí, kteří byli více než kolegy z práce. Atlas byl něco jako rodina. Ne vždy to bylo růžové, ale takový je život. V průběhu svého působení jsem vystřídal několik produktů. Začínal jsem odblešováním Pokecu:[pokec]. V tomto období se mě Honza rozhodl přidat mezi zdroje [weblogy], podotýkám, že proti mé vůli :D.  Dalším úkolem bylo napsat importovací rozhraní pro Atlasí redakci. Následovala neslavná úprava Registrace:[profil], dovolená na Krétě, první [clanek(193)] a hektická příprava Atlas Checku.

==Atlas.Opus
V té době (listopad 2006) se už vymýšlel koncept Opusu, já jsem vždycky přisedával poblíž a poslouchal, o co jde. Nakonec jsem se dostal do týmu interních systémů a katalogu, ve kterém jsem byl dosud. Opus mělo být řešení, které nahradí několik interních systémů, které už byly těžko udržovatelné a málo kdo do nich viděl. V podstatě to --byla-- ++je++ stromová atributová databáze s definovatelnými typy vč. dědičnosti a tzv. rozhraní. Velice zajímavý projekt, na kterém jsem získal spoustu zkušeností.

Mým hlavním úkolem bylo vytvořit nad Opusem katalogy. Prvním projektem byla "registrace do Atlasu Firem":[registrace], tak trošku marketingově uspěchaná věc, která díky špatným rozhodnutím ztratila svůj efekt. Ta se spouštěla, tuším, někdy v březnu 2007. V červenci se pak pustili „malé katalogy“ [obchody] a [sex]. V září se spouštěla první verze "velkého katalogu":[katalog], která ještě z části tahala data ze staré databáze (placené zápisy) a z části z nové (bezplatné). Dalším krokem v migraci, bylo napsat administrační rozhraní pro obchodníky, aby mohli v Opusu prodávat a zbavili jsme se tak Firmátoru.

Ke konci roku jsme měli připravené rozhraní pro testování a v březnu jsme migrovali poslední placené zápisy do nového systému. V plánu byl další rozvoj, částečné přebírání některé funkcionality SalesModulu, který měl být nahrazen CRM řešením, a další zajímavé služby. Ale pak přišlo spojeno.cz…

==Odpojeni.cz
Nastala doba chaosu, různých jednání a tak. Postupem času se ukazovalo, že v takovéto firmě už dál pracovat nechci. Podobného názoru jsem nebyl sám a tak vzniklo [odpojeni]. Spoustu odborných komentářů k této události si jistě dokážete dohledat na Lupě a Živě sami. :) Je až k nevíře, jak se nám to všechno pěkně podařilo na těch woknech naklikat. :)

Pomalu jsem se tedy proklikal k závěru. Co napsat? Za posledních pár měsíců se ze mě stal téměř alkoholik, profesionální hráč Call of Duty, filtr Centráckého spamu (ty lidi si na mejlech fakt ujížděj), sabotér, rebelant a já nevím co ještě – jo vlastně, jo měl jsem i víc času blogovat… Určitě to všechno byly zkušenosti k nezaplacení a já už se těším na ty nové, v příštím zaměstnání, kam nastupuju v úterý společně s většinou Atlasího vývoje a slečnou Veronikou. :P Držte mi palce.

Ich komme!

[pokec]: http://pokec.atlas.cz/
[profil]: http://profil.atlas.cz/
[weblogy]: http://www.w3blogy.cz/ W3Blogy.cz
[registrace]: http://firmy.atlas.cz/registrace/
[katalog]: http://katalog.atlas.cz/
[obchody]: http://obchody.atlas.cz/ Obchody
[sex]: http://sex.atlas.cz/ Sex
[odpojeni]: http://www.odpojeni.cz/ Odpojeni.cz

[clanek(115)]: /weblog/115-rarous-v-atlasu.aspx Rarouš v Atlasu .(Rarouš v Atlasu)
[clanek(193)]: /weblog/193-team-building.aspx Teambuilding
</raw>
    <author>Aleš Roubíček</author>
    <published>2008-06-27T11:13:06.557</published>
    <url>konec-dobry-vsechno-dobre</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <tags>atlas opus odpojeni twareg</tags>
    <is-published>1</is-published>
    <edited>2008-09-13T11:13:22.943</edited>
  </article>
  <article>
    <id>289</id>
    <title>Důvěryhodná síťová cesta</title>
    <description>Jak nastavit síťovou cestu, jako důvěryhodnou pro spouštění .net assembly.</description>
    <html xml:space="preserve">
&lt;p&gt;Společné knihovny v našich projektech linkujeme z jednoho síťového
místa. Při spouštění testů z Visuál Studia se v tomto případě může
objevit chybová hláška, že knihovna není v důvěryhodném umístění a
testy se nepodaří spustit.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Microsoft.VisualStudio.TestTools.TestManagement.ExecutionException: Test Run deployment issue: The location of the file or directory ‘\\server\path\library.dll’ is not trusted.&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Existuje na to celkem snadné řešení, ale je poměrně těžko
dohledatelné… Je potřeba toto umístění přidat mezi důvěryhodná
uložiště assembly .net Frameworku. Nejsnažší cesta je nastavit CAS Policy
asi přes příkazovou řádku:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;cd %SystemRoot%\Microsoft.NET\Framework\v2.0.50727
caspol -m -ag 1.2 -url \\Server\path\* FullTrust&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Snad se bude hodit.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Společné knihovny v našich projektech linkujeme z jednoho síťového místa. Při spouštění testů z Visuál Studia se v tomto případě může objevit chybová hláška, že knihovna není v důvěryhodném umístění a testy se nepodaří spustit.

/--code
Microsoft.VisualStudio.TestTools.TestManagement.ExecutionException: Test Run deployment issue: The location of the file or directory ‘\\server\path\library.dll’ is not trusted.
\--code

Existuje na to celkem snadné řešení, ale je poměrně těžko dohledatelné... Je potřeba toto umístění přidat mezi důvěryhodná uložiště assembly .net Frameworku. Nejsnažší cesta je nastavit CAS Policy asi přes příkazovou řádku:

/--code
cd %SystemRoot%\Microsoft.NET\Framework\v2.0.50727
caspol -m -ag 1.2 -url \\Server\path\* FullTrust
\--code

Snad se bude hodit.
</raw>
    <author>Aleš Roubíček</author>
    <published>2008-07-23T14:00:57.243</published>
    <url>duveryhodna-sitova-cesta</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-07-23T22:30:53.137</edited>
  </article>
  <article>
    <id>290</id>
    <title>Testování HttpContextu</title>
    <description>Jak otestovat věci, které volají HttpContext.Current aniž bychom spouštělí nějaký HttpRuntime?</description>
    <html xml:space="preserve">
&lt;p&gt;Píšu nějaké podpůrné třídy pro naše nové projekty a zrovna jsem
u utilitek pro webové aplikace. Teď jsem se dostal k jedné třídě, která
volá &lt;code&gt;HttpContext.Current&lt;/code&gt; ve statických metodách. Chci na to
napsat testy, jenže jak mám podstrčit HttpContext?&lt;/p&gt;

&lt;p&gt;Řešení je nakonec jednodušší než jsem čekal…&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public static void CreateContext() {
  CallContext.HostContext = new HttpContext(
    new HttpRequest("default.aspx", "http://rarous.net/", "test1=test"),
    new HttpResponse(new StringWriter())
  );
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Stačí zavolat tuto metodu, kterou se do threadu nastaví podvržený
kontext a můžete směle testovat. :)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Píšu nějaké podpůrné třídy pro naše nové projekty a zrovna jsem u utilitek pro webové aplikace. Teď jsem se dostal k jedné třídě, která volá `HttpContext.Current` ve statických metodách. Chci na to napsat testy, jenže jak mám podstrčit HttpContext?

Řešení je nakonec jednodušší než jsem čekal...

/--code csharp
public static void CreateContext() {
  CallContext.HostContext = new HttpContext(
    new HttpRequest("default.aspx", "http://rarous.net/", "test1=test"),
    new HttpResponse(new StringWriter())
  );
}
\--code

Stačí zavolat tuto metodu, kterou se do threadu nastaví podvržený kontext a můžete směle testovat. :)</raw>
    <author>Aleš Roubíček</author>
    <published>2008-07-25T13:56:07.123</published>
    <url>testovani-httpcontextu</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>aspnet unittesting</tags>
    <is-published>1</is-published>
    <edited>2008-09-13T11:12:03.240</edited>
  </article>
  <article>
    <id>291</id>
    <title>NForms na Codeplexu</title>
    <description>Vydal jsem první veřejnou verzi zdrojových kódů formulářového pomocníka NForms pro ASP.NET. Najdete ji na Codeplexu.</description>
    <html xml:space="preserve">
&lt;p&gt;Na Codeplexu se objevil nový opensource projekt a není to nic menšího
než &lt;a href="http://www.codeplex.com/nforms"&gt;NForms&lt;/a&gt;. Zatím jste se o nich
mohli jen dočíst u mě na blogu a prakticky vyzkoušet taktéž tady –
přidávání komentářů frčí na NForms. Nyní však máte jedinečnou
možnost stáhnout si zdrojáky, poučit se z nich, &lt;a
href="http://www.codeplex.com/nforms/WorkItem/List.aspx"&gt;nahlásit chyby&lt;/a&gt;
nebo &lt;a href="http://www.codeplex.com/nforms/Thread/List.aspx"&gt;diskutovat&lt;/a&gt;
náměty na vylepšení, zkompilovat, spustit testy a konečně nasadit a
používat ve vlastních projektech.&lt;/p&gt;

&lt;p&gt;No není to skvělé?&lt;/p&gt;

&lt;h3 id="toc-k-cemu-je-to-dobre"&gt;K čemu je to dobré?&lt;/h3&gt;

&lt;p&gt;NForm jsem napsal jako programátorské cvičení. Líbila se mi &lt;a
href="http://davidgrudl.com/"&gt;Davidova&lt;/a&gt; myšlenka, chtěl jsem napsat něco
v C# 3.0… Jenže je to taky docela užitečná věc. Daj se pomocí toho
snadno vytvářet znovupoužitelné formuláře nezávislé na infrastruktuře.
Můžete je používat jak v klasickém &lt;a href="http://asp.net/"&gt;ASP.NET&lt;/a&gt;
modelu (můžete použít více než jeden formulář na stránce), tak v &lt;a
href="http://asp.net/mvc"&gt;MVC&lt;/a&gt; nebo &lt;a
href="http://www.codeplex.com/websf/Release/ProjectReleases.aspx?ReleaseId=8812"&gt;MVP&lt;/a&gt;
modelu.&lt;/p&gt;

&lt;h3 id="toc-dalsi-vyvoj"&gt;Další vývoj&lt;/h3&gt;

&lt;p&gt;Aktuálně připravuju podrobnější &lt;a
href="http://www.codeplex.com/nforms"&gt;dokumentaci na wiki&lt;/a&gt;, ale pro začátek
jistě bude stačit pár mých spotíků tady na blogu, příklady užití
najdete v Unit Testech, popřípadě další moudra najdete v nedokonalých
XML komentářích v samotném kódu.&lt;/p&gt;

&lt;p&gt;Při psaní wiki jsem už našel nějaké možnosti pro vylepšení, tak až
bude připraveno, hodím je zase na Codeplex. Stay tuned…&lt;/p&gt;

&lt;p&gt;Časem bych chtěl přidat podporu validace na straně klienta. Zatím se
generují jen některé třídy, na které lze napojit vlastní implementace
v JavaScriptu, ale není to nic pro složitější validaci…&lt;/p&gt;

&lt;h3 id="toc-credits"&gt;Credits&lt;/h3&gt;

&lt;p&gt;Musím &lt;a
href="http://www.latrine.cz/vyzva-udelejme-davidkovi-radost"&gt;poděkovat
Davidovi&lt;/a&gt; za inspiraci, NForms jsou značně obšlehnuté od &lt;a
href="http://nettephp.com/"&gt;Nette::Forms&lt;/a&gt; (dříve známé jako NForms),
trochu inspirace jsem pobral i u &lt;a
href="http://www.djangoproject.com/documentation/forms/"&gt;New Forms
z djanga&lt;/a&gt;, některé zajímavé nápady, jak využít novinky C# 3.0 pro
změnu z &lt;a href="http://asp.net/mvc"&gt;ASP.NET MVC&lt;/a&gt;. Takže díky!&lt;/p&gt;

&lt;div class="hslice" id="related"&gt;
	&lt;h3 class="entry-title" id="toc-souvisejici"&gt;Související&lt;/h3&gt;

	&lt;ul class="entry-content"&gt;
		&lt;li&gt;&lt;a rel="bookmark" href="/weblog/245-nforms-pro-asp-net.aspx"&gt;NForms pro
		ASP.NET&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a rel="bookmark"
		href="/weblog/247-validace-v-nforms-pro-asp-net.aspx"&gt;Validace v NForms pro
		ASP.NET&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a rel="bookmark"
		href="/weblog/284-temer-novy-rarous-weblog.aspx#toc-nforms-v-akci"&gt;NForms
		v akci&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a href="http://nettephp.com/"&gt;PHP framework Nette&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a href="http://www.djangoproject.com/documentation/forms/"&gt;django New
		Forms&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
&lt;/div&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Na Codeplexu se objevil nový opensource projekt a není to nic menšího než [nforms]. Zatím jste se o nich mohli jen dočíst u mě na blogu a prakticky vyzkoušet taktéž tady – přidávání komentářů frčí na NForms. Nyní však máte jedinečnou možnost stáhnout si zdrojáky, poučit se z nich, "nahlásit chyby":[issue] nebo "diskutovat":[discussion] náměty na vylepšení, zkompilovat, spustit testy a konečně nasadit a používat ve vlastních projektech.

No není to skvělé?

== K čemu je to dobré?

NForm jsem napsal jako programátorské cvičení. Líbila se mi Davidova:[dgx] myšlenka, chtěl jsem napsat něco v C# 3.0… Jenže je to taky docela užitečná věc. Daj se pomocí toho snadno vytvářet znovupoužitelné formuláře nezávislé na infrastruktuře. Můžete je používat jak v klasickém [aspnet] modelu (můžete použít více než jeden formulář na stránce), tak v MVC:[aspnetmvc] nebo MVP:[mvp] modelu.

== Další vývoj

Aktuálně připravuju podrobnější "dokumentaci na wiki":[nforms], ale pro začátek jistě bude stačit pár mých spotíků tady na blogu, příklady užití najdete v Unit Testech, popřípadě další moudra najdete v nedokonalých XML komentářích v samotném kódu.

Při psaní wiki jsem už našel nějaké možnosti pro vylepšení, tak až bude připraveno, hodím je zase na Codeplex. Stay tuned…

Časem bych chtěl přidat podporu validace na straně klienta. Zatím se generují jen některé třídy, na které lze napojit vlastní implementace v JavaScriptu, ale není to nic pro složitější validaci…

== Credits

Musím "poděkovat Davidovi":[davidek] za inspiraci, NForms jsou značně obšlehnuté od "Nette::Forms":[nette] (dříve známé jako NForms), trochu inspirace jsem pobral i u "New Forms z djanga":[django], některé zajímavé nápady, jak využít novinky C# 3.0 pro změnu z [aspnetmvc]. Takže díky!

/--div .[#related hslice]
==Související .[entry-title]
.[entry-content]
* [clanek(245)]
* [clanek(247)]
* [clanek(284)]
* [nette]
* [django]
\--div

[clanek(245)]: /weblog/245-nforms-pro-asp-net.aspx NForms pro ASP.NET .{rel:bookmark}
[clanek(247)]: /weblog/247-validace-v-nforms-pro-asp-net.aspx Validace v NForms pro ASP.NET .{rel:bookmark}
[clanek(284)]: /weblog/284-temer-novy-rarous-weblog.aspx#toc-nforms-v-akci NForms v akci .{rel:bookmark}
[nette]: http://nettephp.com/ PHP framework Nette
[django]: http://www.djangoproject.com/documentation/forms/ django New Forms
[nforms]: http://www.codeplex.com/nforms NForms
[issue]: http://www.codeplex.com/nforms/WorkItem/List.aspx NForms Issue Tracker
[discussion]: http://www.codeplex.com/nforms/Thread/List.aspx
[aspnet]: http://asp.net/ ASP.NET
[aspnetmvc]: http://asp.net/mvc  ASP.NET MVC
[mvp]: http://www.codeplex.com/websf/Release/ProjectReleases.aspx?ReleaseId=8812
[dgx]: http://davidgrudl.com/
[davidek]: http://www.latrine.cz/vyzva-udelejme-davidkovi-radost</raw>
    <author>Aleš Roubíček</author>
    <published>2008-08-16T13:59:02.903</published>
    <url>nforms-na-codeplexu</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>codeplex nforms</tags>
    <is-published>1</is-published>
    <edited>2008-09-13T11:11:31.113</edited>
  </article>
  <article>
    <id>292</id>
    <title>Alessio Busta - Face To My Face</title>
    <description>Set ke stažení.</description>
    <html xml:space="preserve">
&lt;div class="haudio"&gt;
	&lt;ol&gt;
		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Dirty South&lt;/span&gt; &amp;amp; &lt;span
		class="contributor"&gt;Axwell&lt;/span&gt; – &lt;span class="title"&gt;Open Your
		Heart&lt;/span&gt; (Original Mix)&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Ne-Yo&lt;/span&gt; – &lt;span
		class="title"&gt;Closer&lt;/span&gt; (Stonebridge Club Remix)&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Ryan Murgatroyd&lt;/span&gt; feat. &lt;span
		class="contributor"&gt;Tasha Baxte&lt;/span&gt; – &lt;span class="title"&gt;Moving On&lt;/span&gt;
		(Ian Carey Remix)&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Roger Sanchez&lt;/span&gt; &amp;amp; &lt;span
		class="contributor"&gt;Traslantic Soul&lt;/span&gt; – &lt;span class="title"&gt;Release Yo'
		Self&lt;/span&gt; (D.O.N.S &amp;amp; DNB Remix)&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Adele&lt;/span&gt; – &lt;span
		class="title"&gt;Hometown Glory&lt;/span&gt; (Axwell Remix)&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Antoine Clamaran&lt;/span&gt; feat. &lt;span
		class="contributor"&gt;Lulu Hughes&lt;/span&gt; – &lt;span class="title"&gt;Give Some
		Love&lt;/span&gt; (Richard Earnshaw Classic House Remix)&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Jon Fitz&lt;/span&gt; &amp;amp; &lt;span
		class="contributor"&gt;Mike Anthony&lt;/span&gt; – &lt;span class="title"&gt;Hesitate&lt;/span&gt;
		(Stonebridge Mix)&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;TV Rock&lt;/span&gt; feat. &lt;span
		class="contributor"&gt;Rudy&lt;/span&gt; – &lt;span class="title"&gt;Been A Long
		Time&lt;/span&gt; (Original Mix)&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Axwell&lt;/span&gt; &amp;amp; &lt;span
		class="contributor"&gt;Bob Sinclar&lt;/span&gt; feat. &lt;span class="contributor"&gt;Ron
		Carroll&lt;/span&gt; – &lt;span class="title"&gt;W.W.W.&lt;/span&gt; (Original Mix)&lt;/li&gt;
	&lt;/ol&gt;

	&lt;p&gt;Ke stažení &lt;span class="category"&gt;dj set&lt;/span&gt; &lt;a rel="enclosure"
	href="http://rarousmusic.com/mp3/alessio_busta_-_face_to_my_face-rm.mp3"&gt;&lt;span
	class="contributor"&gt;Alessio Busta&lt;/span&gt; – &lt;span class="title"&gt;Face To My
	Face&lt;/span&gt;&lt;/a&gt; (MP3 128 kbps; 44,5 MiB)&lt;/p&gt;
&lt;/div&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">/--div .[haudio]
1. "Dirty South .[contributor]" &amp; "Axwell .[contributor]" - "Open Your Heart .[title]" (Original Mix) .[item]
2. "Ne-Yo .[contributor]" - "Closer .[title]" (Stonebridge Club Remix) .[item]
3. "Ryan Murgatroyd .[contributor]" feat. "Tasha Baxte .[contributor]" - "Moving On .[title]" (Ian Carey Remix) .[item]
4. "Roger Sanchez .[contributor]" &amp; "Traslantic Soul .[contributor]" - "Release Yo' Self .[title]" (D.O.N.S &amp; DNB Remix) .[item]
5. "Adele .[contributor]" - "Hometown Glory .[title]" (Axwell Remix) .[item]
6. "Antoine Clamaran .[contributor]" feat. "Lulu Hughes .[contributor]" - "Give Some Love .[title]" (Richard Earnshaw Classic House Remix) .[item]
7. "Jon Fitz .[contributor]" &amp; "Mike Anthony .[contributor]" - "Hesitate .[title]" (Stonebridge Mix) .[item]
8. "TV Rock .[contributor]" feat. "Rudy .[contributor]" - "Been A Long Time .[title]" (Original Mix) .[item]
9. "Axwell .[contributor]" &amp; "Bob Sinclar .[contributor]" feat. "Ron Carroll .[contributor]" - "W.W.W. .[title]" (Original Mix) .[item]

Ke stažení "dj set .[category]" [download] (MP3 128 kbps; 44,5 MiB)
\--div

[download]: http://rarousmusic.com/mp3/alessio_busta_-_face_to_my_face-rm.mp3 "Alessio Busta .[contributor]" - "Face To My Face .[title]" .{rel:enclosure}
</raw>
    <author>alessio busta</author>
    <published>2008-08-20T23:00:41.543</published>
    <url>alessio-busta-face-to-my-face</url>
    <category>Muzika</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-08-21T07:38:04.530</edited>
  </article>
  <article>
    <id>293</id>
    <title>Binsor – síla konfigurace</title>
    <description>Pojďme si přiblížit možnosti konfigurační DSL pro Windsor kontejner v jazyce Boo.</description>
    <html xml:space="preserve">
&lt;p&gt;Pokud se dostanete do stádia, kdy potřebujete takovou architekturu, kde je
potřeba používat plug-iny třetí strany, kde je potřeba snadno vyměnit
komponentu za jinou, přichází ke slovu nějaký druh konfigurace.&lt;/p&gt;

&lt;p&gt;Velice často se můžeme setkat s konfigurací komponent v XML. Ať už je
to &lt;a href="http://msdn.microsoft.com/en-us/library/ms972319.aspx"&gt;Provider
pattern&lt;/a&gt; známý z ASP.NET, či vlastní konfigurační sekce, nebo
konfigurace Windsor kontejneru, pořád tu máme XML. Jeho ohromnou výhodou je,
že se dají systémové komponenty snadno překonfigurovat bez nutnosti celý
systém překompilovat. Stačí pouhý restart aplikace. Navíc nástrojů na
editaci a validaci XML máme nepočítaně, takže změnu konfigurace zvládne
téměř každý.&lt;/p&gt;

&lt;p&gt;Velkou nevýhodou XML, je jeho omezené výrazivo. Špatně se v něm píše
&lt;code&gt;foreach&lt;/code&gt; nebo &lt;code&gt;if&lt;/code&gt;. Prostě na složitější konstrukce
je potřeba programovací jazyk. A nebo skriptovací!&lt;/p&gt;

&lt;h3 id="toc-boo-na-scenu"&gt;Boo na scénu&lt;/h3&gt;

&lt;p&gt;&lt;a href="http://boo.codehaus.org/"&gt;Boo&lt;/a&gt; je staticky typovaný objektový
jazyk nad &lt;a
href="http://en.wikipedia.org/wiki/Common_Language_Infrastructure"&gt;&lt;acronym
title="Common Language Infrastructure"&gt;CLI&lt;/acronym&gt;&lt;/a&gt; (dot net) inspirovaný
syntaxí &lt;a href="http://www.python.org/"&gt;Pythonu&lt;/a&gt;. Jeho hlavní silou je
metaprogramování. Na úrovni kompilátoru se snadno dají psát makra.
Takových maker lze využít k tvorbě přehledných &lt;a
href="http://en.wikipedia.org/wiki/Domain_Specific_Language"&gt;&lt;acronym
title="Domain Specific Language"&gt;DSL&lt;/acronym&gt;&lt;/a&gt; a jednou z takových je
i Binsor.&lt;/p&gt;

&lt;h3 id="toc-windsor-boo-binsor"&gt;Windsor + Boo = Binsor&lt;/h3&gt;

&lt;p&gt;&lt;a href="http://www.castleproject.org/container/index.html"&gt;Windsor&lt;/a&gt; je &lt;a
href="http://martinfowler.com/articles/injection.html"&gt;&lt;acronym
title="Inversion of Control"&gt;IoC&lt;/acronym&gt; kontejner&lt;/a&gt; na platformě dot net a
je součástí &lt;a href="http://www.castleproject.org/"&gt;opensource projektu
Castle&lt;/a&gt;. Windsor má v základu dvě možnosti jak konfigurovat
komponenty.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Programově na úrovni mikrokernelu.&lt;/li&gt;

	&lt;li&gt;XML konfigurací.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;XML konfigurace je nejčastěji užívanou možností, kvůli výše
popsaným výhodám. V trunku se nedávnou objevila i konfigurace pomocí DSL
na principu fluent interface přímo v C#. Taková konfigurace je velice
pěkná, ale je tu pořád nutnost při každé změně znova celý projekt
kompilovat. Proto je tu &lt;a
href="http://www.ayende.com/Blog/category/451.aspx"&gt;Binsor&lt;/a&gt;, který si bere
sílu programovacího jazyka, efektnost XML konfigurace a navíc jednoduchost a
přímočarost syntaxe.&lt;/p&gt;

&lt;h3 id="toc-konfigurace-komponent"&gt;Konfigurace komponent&lt;/h3&gt;

&lt;p&gt;Nejčastější aktivitou s Binsorem nejspíš bude registrace
komponent. :)&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-boo"&gt;component 'my_component', IServiceContract, ServiceImplementation:
    # nastavime parametr konstruktoru
    constructorParameter = 10
    # nastavime vlastnost sluzby
    SomeProperty = "Hello Word!"&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Kód je v celku jednoduchý. Na prvním řádku začínamé klíčovým
slovem &lt;code&gt;component&lt;/code&gt;, které říká, že registrujeme komponentu.
Prvním parametrem je název komponenty, přes který se na ní můžeme
odkazovat. Druhý parametr je rozhranní služby a třetí je konkrétní
implementace, která bude při rozpoznání kontejnerem vrácena, např.
&lt;code&gt;IoC.Container.Resolve&amp;lt;IServiceContract&amp;gt;()&lt;/code&gt;. Za dvojtečkou
pokračuje výčet nastavovaných vlastností a parametrů. Můžeme takto
nastavovat i speciální vlastnost ovlivňující životnost objektu.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-boo"&gt;component HttpRequest:
    lifestyle Singleton&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Všimněte si, že se ani nemusí při registraci uvádět referenční
název nebo abstraktní typ. Může se klidně rovnou registrovat typ
konkrétní, který se bude v tomto případě chovat jako singleton. Takovéto
ukázky jsou fešné, ale nic, co bychom nezvládli pomocí XML. Pojďme
trochu dál.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-boo"&gt;for type in AllTypesBased of Controller("MyApplication.Web"):
    component type&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Tento kód zaregistruje všechny controllery (třídy, které jsou potomky
třídy &lt;code&gt;Controller&lt;/code&gt;) z assembly &lt;code&gt;MyApplication.Web&lt;/code&gt;.
Krom generické metody &lt;code&gt;AllTypesBased&lt;/code&gt;, je tu ještě generická
metoda &lt;code&gt;AllTypesWithAttribute&lt;/code&gt; a negenerická &lt;code&gt;AllTypes&lt;/code&gt;.
Všechny mají jako parametr název assembly, jejíž typy procházejí.&lt;/p&gt;

&lt;h3 id="toc-facility"&gt;Facility&lt;/h3&gt;

&lt;p&gt;Neméně důležitou součástí konfigurace jsou facility, které dodávají
kontejneru nové možnosti a zapouzdřují větší sady komponent do logických
jednotek. Pro ukázku konfigurace ActiveRecord komponent pomocí Binsoru:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-boo"&gt;facility ActiveRecordFacility:
    configuration:
        @isWeb = true, isDebug = true
        assemblies = [ Assembly.Load("MyApplication.Entities") ]
        config(keyvalues, item: add):
            show_sql = true
            command_timeout = 5000
            cache.foo.use_query_cache = false
            dialect = 'NHibernate.Dialect.MsSql2005Dialect'
            connection.provider = 'NHibernate.Connection.DriverConnectionProvider'
            connection.driver_class = 'NHibernate.Driver.SqlClientDriver'
            connection.connection_string = 'connectionString1'&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id="toc-shrnuti"&gt;Shrnutí&lt;/h3&gt;

&lt;p&gt;Osobně se mi možnosti konfigurace přes Binsor velice líbí, ale je celkem
možné, že ne každému to může vyhovovat. Pokud ale používáte Windsor a
přijde vám XML konfigurace nepřehledná, je toto možná cesta, jak z toho
ven. Pokud chcete nějaké lepší příklady, doporučuju si stáhnout SVN
repository
&lt;code&gt;https://rhino-tools.svn.sourceforge.net/svnroot/rhino-tools/trunk/rhino-commons&lt;/code&gt;
a projít si testy. Jako editor se mi osvědčil &lt;a
href="http://sharpdevelop.net/OpenSource/SD/"&gt;SharpDevelop&lt;/a&gt;, který má
podporu pro Boo přímo v základu, nebo doinstalovat &lt;a
href="http://www.codeplex.com/BooLangStudio"&gt;BooLang Studio&lt;/a&gt; do Visual
Studia.&lt;/p&gt;

&lt;p&gt;Tagy: &lt;a rel="tag" href="http://technorati.com/tag/ioc"&gt;IoC&lt;/a&gt;, &lt;a rel="tag"
href="http://technorati.com/tag/windsor"&gt;Windsor&lt;/a&gt;, &lt;a rel="tag"
href="http://technorati.com/tag/binsor"&gt;Binsor&lt;/a&gt;, &lt;a rel="tag"
href="http://technorati.com/tag/boo"&gt;Boo&lt;/a&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Pokud se dostanete do stádia, kdy potřebujete takovou architekturu, kde je potřeba používat plug-iny třetí strany, kde je potřeba snadno vyměnit komponentu za jinou, přichází ke slovu nějaký druh konfigurace.

Velice často se můžeme setkat s konfigurací komponent v XML. Ať už je to [provider] známý z ASP.NET, či vlastní konfigurační sekce, nebo konfigurace Windsor kontejneru, pořád tu máme XML. Jeho ohromnou výhodou je, že se dají systémové komponenty snadno překonfigurovat bez nutnosti celý systém překompilovat. Stačí pouhý restart aplikace. Navíc nástrojů na editaci a validaci XML máme nepočítaně, takže změnu konfigurace zvládne téměř každý.

Velkou nevýhodou XML, je jeho omezené výrazivo. Špatně se v něm píše `foreach` nebo `if`. Prostě na složitější konstrukce je potřeba programovací jazyk. A nebo skriptovací!

==Boo na scénu

[boo] je staticky typovaný objektový jazyk nad [cli] (dot net) inspirovaný syntaxí Pythonu:[python]. Jeho hlavní silou je metaprogramování. Na úrovni kompilátoru se snadno dají psát makra. Takových maker lze využít k tvorbě přehledných [dsl] a  jednou z takových je i Binsor.

== Windsor + Boo = Binsor

[windsor] je "IoC((Inversion of Control)) kontejner":[injection] na platformě dot net a je součástí "opensource projektu Castle":[castle]. Windsor má v základu dvě možnosti jak konfigurovat komponenty.

1.	Programově na úrovni mikrokernelu.
2.	XML konfigurací.

XML konfigurace je nejčastěji užívanou možností, kvůli výše popsaným výhodám. V trunku se nedávnou objevila i konfigurace pomocí DSL na principu fluent interface přímo v C#. Taková konfigurace je velice pěkná, ale je tu pořád nutnost při každé změně znova celý projekt kompilovat. Proto je tu [binsor], který si bere sílu programovacího jazyka, efektnost XML konfigurace a navíc jednoduchost a přímočarost syntaxe.

== Konfigurace komponent

Nejčastější aktivitou s Binsorem nejspíš bude registrace komponent. :)

/--code boo
component 'my_component', IServiceContract, ServiceImplementation:
    # nastavime parametr konstruktoru
    constructorParameter = 10
    # nastavime vlastnost sluzby
    SomeProperty = "Hello Word!"
\--code

Kód je v celku jednoduchý. Na prvním řádku začínamé klíčovým slovem `component`, které říká, že registrujeme komponentu. Prvním parametrem je název komponenty, přes který se na ní můžeme odkazovat. Druhý parametr je rozhranní služby a třetí je konkrétní implementace, která bude při rozpoznání kontejnerem vrácena, např. `IoC.Container.Resolve&lt;IServiceContract&gt;()`. Za dvojtečkou pokračuje výčet nastavovaných vlastností a parametrů. Můžeme takto nastavovat i speciální vlastnost ovlivňující životnost objektu.

/--code boo
component HttpRequest:
    lifestyle Singleton
\--code

Všimněte si, že se ani nemusí při registraci uvádět referenční název nebo abstraktní typ. Může se klidně rovnou registrovat typ konkrétní, který se bude v tomto případě chovat jako singleton. Takovéto ukázky jsou fešné, ale nic, co bychom nezvládli pomocí XML. Pojďme trochu dál.

/--code boo
for type in AllTypesBased of Controller("MyApplication.Web"):
    component type
\--code

Tento kód zaregistruje všechny controllery (třídy, které jsou potomky třídy `Controller`)  z assembly `MyApplication.Web`.  Krom generické metody `AllTypesBased`, je tu ještě generická metoda `AllTypesWithAttribute` a negenerická `AllTypes`. Všechny mají jako parametr název assembly, jejíž typy procházejí.

== Facility

Neméně důležitou součástí konfigurace jsou facility, které dodávají kontejneru nové možnosti a zapouzdřují větší sady komponent do logických jednotek. Pro ukázku konfigurace ActiveRecord komponent pomocí Binsoru:

/--code boo
facility ActiveRecordFacility:
    configuration:
        @isWeb = true, isDebug = true
        assemblies = [ Assembly.Load("MyApplication.Entities") ]
        config(keyvalues, item: add):
            show_sql = true
            command_timeout = 5000
            cache.foo.use_query_cache = false
            dialect = 'NHibernate.Dialect.MsSql2005Dialect'
            connection.provider = 'NHibernate.Connection.DriverConnectionProvider'
            connection.driver_class = 'NHibernate.Driver.SqlClientDriver'
            connection.connection_string = 'connectionString1'
\--code

== Shrnutí

Osobně se mi možnosti konfigurace přes Binsor velice líbí, ale je celkem možné, že ne každému to může vyhovovat. Pokud ale používáte Windsor a přijde vám XML konfigurace nepřehledná, je toto možná cesta, jak z toho ven. Pokud chcete nějaké lepší příklady, doporučuju si stáhnout SVN repository `https://rhino-tools.svn.sourceforge.net/svnroot/rhino-tools/trunk/rhino-commons` a projít si testy. Jako editor se mi osvědčil [sharpdevelop], který má podporu pro Boo přímo v základu, nebo doinstalovat [boostudio] do Visual Studia.

Tagy: [tag-ioc], [tag-windsor], [tag-binsor], [tag-boo]

[tag-ioc]: http://technorati.com/tag/ioc IoC .{rel:tag}
[tag-windsor]: http://technorati.com/tag/windsor Windsor .{rel:tag}
[tag-binsor]: http://technorati.com/tag/binsor Binsor .{rel:tag}
[tag-boo]: http://technorati.com/tag/boo Boo .{rel:tag}

[boo]: http://boo.codehaus.org/ Boo
[windsor]: http://www.castleproject.org/container/index.html Windsor
[binsor]: http://www.ayende.com/Blog/category/451.aspx Binsor
[castle]: http://www.castleproject.org/ Castle Project
[python]: http://www.python.org/ Pyhton
[dsl]: http://en.wikipedia.org/wiki/Domain_Specific_Language DSL((Domain Specific Language))
[cli]: http://en.wikipedia.org/wiki/Common_Language_Infrastructure CLI((Common Language Infrastructure))
[provider]: http://msdn.microsoft.com/en-us/library/ms972319.aspx Provider pattern
[injection]: http://martinfowler.com/articles/injection.html Dependency injection
[sharpdevelop]: http://sharpdevelop.net/OpenSource/SD/ SharpDevelop
[boostudio]: http://www.codeplex.com/BooLangStudio BooLang Studio</raw>
    <author>Aleš Roubíček</author>
    <published>2008-08-25T15:18:09.473</published>
    <url>binsor-sila-konfigurace</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>ioc windsor castle binsor dsl boo activerecord</tags>
    <is-published>1</is-published>
    <edited>2008-09-14T10:33:43.943</edited>
  </article>
  <article>
    <id>294</id>
    <title>Závidí nám vimaři a emacsové build na dvě kliknutí?</title>
    <description>Často se v diskusích/flamech o vývoji v Atlasu dočítám, že jsme blbý klikači, co se neobejdou bez wizárdů a podobných věcí. Jak je to tedy?</description>
    <html xml:space="preserve">
&lt;p&gt;Často se v diskusích/flamech o vývoji v Atlasu dočítám, že jsme
byli blbý klikači, co se neobejdou bez wizárdů a podobných věcí. Jak je
to tedy?&lt;/p&gt;

&lt;p&gt;Pravdou je, že jsem velice poholdný až líný a nemám rád zbytečnej
oser s příkazovou řádkou. Ne že bych jí nepoužíval, hodně úkolů se
dá rychle zvládnout právě z ní, ale přece jen kompilace z Visual Studia
na dvě kliknutí nebo spouštění build scriptu z příkazovky je dost
o něčem jiném.&lt;/p&gt;

&lt;p&gt;Nejen že na dvě kliknutí provedu build ale provedou se mi unit testy nebo
vzdálený předtestovaný build a případě úspěchu i commit do repository.
Upřímně písmenkáři, kdo z vás to má?&lt;/p&gt;

&lt;p&gt;PS. Vím, že jde buildit i na jedno kliknutí nebo přes klávesovou
zkratku, ale já mám rád kontextovou nabídku ;)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Často se v diskusích/flamech o vývoji v Atlasu dočítám, že jsme byli blbý klikači, co se neobejdou bez wizárdů a podobných věcí. Jak je to tedy?

Pravdou je, že jsem velice poholdný až líný a nemám rád zbytečnej oser s příkazovou řádkou. Ne že bych jí nepoužíval, hodně úkolů se dá rychle zvládnout právě z ní, ale přece jen kompilace z Visual Studia na dvě kliknutí nebo spouštění build scriptu z příkazovky je dost o něčem jiném.

Nejen že na dvě kliknutí provedu build ale provedou se mi unit testy nebo vzdálený předtestovaný build a případě úspěchu i commit do repository. Upřímně písmenkáři, kdo z vás to má?

PS. Vím, že jde buildit i na jedno kliknutí nebo přes klávesovou zkratku, ale já mám rád kontextovou nabídku ;)</raw>
    <author>Aleš Roubíček</author>
    <published>2008-08-30T10:58:29.407</published>
    <url>zavidi-nam-vimari-a-emacsove-build-na-dve-kliknuti</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <is-published>1</is-published>
    <edited>2008-08-30T10:59:13.717</edited>
  </article>
  <article>
    <id>295</id>
    <title>Povídání o ASP.NET na WebExpu</title>
    <description>Na konferenci WebExpo budu společně s Borkem Bernardem přednášet o trendech v ASP.NET se spostou zajímavých ukázek. V tomto článku můžete obsah přednášky ovlivnit...</description>
    <html xml:space="preserve">
&lt;p&gt;Je to už pár měsíců, co mě oslovil &lt;a href="http://dvanula.cz/"&gt;Vašek
Stoupa&lt;/a&gt;, zda bych nechtěl přednášet na &lt;a
href="http://webexpo.cz/"&gt;WebExpu&lt;/a&gt; o &lt;a href="http://asp.net/mvc/"&gt;ASP.NET
MVC&lt;/a&gt;. &lt;a href="http://webexpo.cz/prednaska/asp-net/"
title="Přednáška o ASP.NET na WebExpo 2008"&gt;&lt;img
src="http://webexpo.cz/media/images/badge_webexpo150.gif" class="right"
alt="WebExpo 2008" /&gt;&lt;/a&gt; Zprvu jsem váhal, protože nemám žádné
prezentační zkušenosti a tak jsem to chtěl celé hodit na &lt;a
rel="friend met" href="http://www.borber.com/"&gt;Borka&lt;/a&gt;. Jenže pak jsem si
vzpomněl na skvělé přednášky z MIXu, kde nebyl pouze jeden
přednášející, ale tandem.&lt;/p&gt;

&lt;p&gt;Slovo dalo slovo, Vašek i Borek souhlasili a my jsme zapsaní v programu
konference. :) Protože ASP.NET MVC ještě není ve stabilní formě API (ta by
měla být více méně stabilní v betafázi, která se blíží), domluvili
jsme se na tom, že probereme více věcí.&lt;/p&gt;

&lt;p&gt;Doufám, že se Borek nebude zlobit, když prozradím naši předběžnou
osnovu. Můžete se k ní vyjádřit v komentářích a my ji můžete
případně vylepšit. :)&lt;/p&gt;

&lt;h3 id="toc-osnova"&gt;Osnova&lt;/h3&gt;

&lt;ol&gt;
	&lt;li&gt;WebForms – povídání o tom, kde je vhodné použít klasické WebForms
	a novinkách ve verzi 3.5&lt;/li&gt;

	&lt;li&gt;AJAX – povíme si, jak je integrována podpora AJAXu v ASP.NET&lt;/li&gt;

	&lt;li&gt;ADO.NET Data Service – bližší seznámení s REST službami
	postavenými nad ADO.NET a ukázka ve spojení s AJAXem&lt;/li&gt;

	&lt;li&gt;Dynamic Data – povídání a ukázka dynamicky vytvářených
	administračních rozhraní ze schématu databáze.&lt;/li&gt;

	&lt;li&gt;MVC – povídání a ukázka MVC frameworku, jak se liší od WebForms a
	možná i spojení s Dynamic Data, to jak zbyde čas.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Pokud vás tato témata zajímají, &lt;a
href="http://webexpo.cz/registrace/#navstevnici"&gt;přijďte se na nás
podívat&lt;/a&gt;, pokud nezajímají, přijďte se podívat na koktajícího
rarouše… ;) Každopádně tam bude spousta jiných zajímavých přednášek,
třeba &lt;a rel="friend met" href="http://davidgrudl.com/"&gt;Davidův&lt;/a&gt; evergreen
o &lt;a href="http://nettephp.com/"&gt;Nette Frameworku&lt;/a&gt;.&lt;/p&gt;

&lt;div class="hslice" id="related"&gt;
	&lt;h3 class="entry-title" id="toc-souvisejici"&gt;Související&lt;/h3&gt;

	&lt;ul class="entry-content"&gt;
		&lt;li&gt;&lt;a href="http://webexpo.cz/prednaska/asp-net/"
		title="Přednáška o ASP.NET na WebExpo 2008"&gt;WebExpo – ASP.NET 3.5 /
		futures&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a href="http://webexpo.cz/registrace/#navstevnici"&gt;WebExpo – registrace
		na konferenci&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a href="http://www.borber.com/blog/webexpo-2008"&gt;Borek Bernard – WebExpo
		2008&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a href="http://www.sindelka.cz/cz/webexpo-2008/"&gt;Pavel Šindelka –
		WebExpo 2008&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a
		href="http://www.misantrop.info/721398-webexpo-2008-a-web-2-0-expo-2008.php"&gt;Webexpo
		2008 a Web 2.0 Expo 2008&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a
		href="http://www.sweb.cz/pichlik/archive/2008_10_05_archive.html#3982970343313795758"&gt;Prezentace
		Spring Framework – Enterprise Java s lidskou tváří&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
&lt;/div&gt;

&lt;p&gt;Tagy: &lt;a rel="tag" href="http://technorati.com/tag/webexpo"&gt;WebExpo&lt;/a&gt;, &lt;a
rel="tag" href="http://technorati.com/tag/aspnet"&gt;Asp.Net&lt;/a&gt;, &lt;a rel="tag"
href="http://technorati.com/tag/aspnetmvc"&gt;ASP.NET MVC&lt;/a&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Je to už pár měsíců, co mě oslovil "Vašek Stoupa":[dvanula], zda bych nechtěl přednášet na WebExpu:[webexpo] o [mvc]. [*http://webexpo.cz/media/images/badge_webexpo150.gif  .(WebExpo 2008)[right] *]:[prednaska] Zprvu jsem váhal, protože nemám žádné prezentační zkušenosti a tak jsem to chtěl celé hodit na Borka:[borber]. Jenže pak jsem si vzpomněl na skvělé přednášky z MIXu, kde nebyl pouze jeden přednášející, ale tandem.

Slovo dalo slovo, Vašek i  Borek souhlasili a my jsme zapsaní v programu konference. :) Protože ASP.NET MVC ještě není ve stabilní formě API (ta by měla být více méně stabilní v betafázi, která se blíží), domluvili jsme se na tom, že probereme více věcí.

Doufám, že se Borek nebude zlobit, když prozradím naši předběžnou osnovu. Můžete se k ní vyjádřit v komentářích a my ji můžete případně vylepšit. :)

Osnova
======

1. WebForms – povídání o tom, kde je vhodné použít klasické WebForms a  novinkách  ve verzi 3.5
2. AJAX – povíme  si, jak je integrována podpora AJAXu v ASP.NET
3. ADO.NET Data Service – bližší seznámení s REST službami postavenými nad ADO.NET a ukázka ve spojení s AJAXem
4. Dynamic Data – povídání a ukázka dynamicky vytvářených administračních rozhraní ze schématu databáze.
5. MVC – povídání a ukázka MVC frameworku, jak se liší od WebForms a možná i spojení s Dynamic Data, to jak zbyde čas.

Pokud vás tato témata zajímají, "přijďte se na nás podívat":[registrace], pokud nezajímají, přijďte se podívat na koktajícího rarouše… ;) Každopádně tam bude spousta jiných zajímavých přednášek, třeba Davidův:[dg] evergreen o "Nette Frameworku":[nette].

/--div .[#related hslice]
Související .[entry-title]
===========
.[entry-content]
* [prednaska]
* [registrace]
* [borber-webexpo]
* [sindelka-webexpo]
* [misantrop-webexpo]
* [dagi]
\--div

Tagy: [tag-webexpo], [tag-aspnet], [tag-aspnetmvc]

[tag-webexpo]: http://technorati.com/tag/webexpo WebExpo .{rel:tag}
[tag-aspnet]: http://technorati.com/tag/aspnet Asp.Net .{rel:tag}
[tag-aspnetmvc]: http://technorati.com/tag/aspnetmvc ASP.NET MVC .{rel:tag}

[webexpo]: http://webexpo.cz/ WebExpo
[dvanula]: http://dvanula.cz/
[borber]: http://www.borber.com/ .{rel:friend met}
[borber-webexpo]: http://www.borber.com/blog/webexpo-2008 Borek Bernard - WebExpo 2008
[dg]: http://davidgrudl.com/ .{rel:friend met}
[registrace]: http://webexpo.cz/registrace/#navstevnici  WebExpo - registrace na konferenci
[mvc]: http://asp.net/mvc/ ASP.NET MVC
[nette]: http://nettephp.com/
[prednaska]: http://webexpo.cz/prednaska/asp-net/ WebExpo - ASP.NET 3.5 / futures .(Přednáška o ASP.NET na WebExpo 2008)
[sindelka-webexpo]: http://www.sindelka.cz/cz/webexpo-2008/ Pavel Šindelka - WebExpo 2008
[misantrop-webexpo]: http://www.misantrop.info/721398-webexpo-2008-a-web-2-0-expo-2008.php Webexpo 2008 a Web 2.0 Expo 2008
[dagi]: http://www.sweb.cz/pichlik/archive/2008_10_05_archive.html#3982970343313795758 Prezentace Spring Framework - Enterprise Java s lidskou tváří
</raw>
    <author>Aleš Roubíček</author>
    <published>2008-09-04T19:38:39.807</published>
    <url>povidani-o-asp-net-na-webexpu</url>
    <category>Webdesign</category>
    <keywords>webexpo asp.net mvc</keywords>
    <tags>aspnet mvc ajax dataservices dynamicdata webexpo</tags>
    <is-published>1</is-published>
    <edited>2008-10-10T12:34:05.443</edited>
  </article>
  <article>
    <id>296</id>
    <title>URL Routing v ASP.NET – část první</title>
    <description>Důležitou novinkou v ASP.NET 3.5 SP1 je URL Routing, který je základním kamenem nejen MVC frameworku. Jak funguje a jak ho využít ve WebForms?  </description>
    <html xml:space="preserve">
&lt;p&gt;První vlašťovkou z hnízda MVC frameworku, která se objevila
v produkční verzi .net frameworku, je knihovna
&lt;code&gt;System.Web.Routing&lt;/code&gt;. Objevila se s příchodem SP1 verze 3.5 a to
proto, že jí využívají ASP.NET Dynamic Data, které jsou taktéž novinkou
service packu. No a protože routing je důležitou součástí ASP.NET MVC a
jeho výhod lze využít i v klasickém ASP.NET, pojďme se na něj podívat
trochu blíž.&lt;/p&gt;

&lt;h3 id="toc-jak-to-funguje"&gt;Jak to funguje&lt;/h3&gt;

&lt;p&gt;Základem routingu je &lt;code&gt;HttpModul&lt;/code&gt;, který vezme URL adresu
požadavku a snaží se ho napárovat na některou z rout, které se
registrují při startu aplikace. Pokud najde, získá z adresy požadované
parametry a předá zpracování patřičnému &lt;em&gt;RouteHandleru&lt;/em&gt;, který
má za úkol vytvořit &lt;code&gt;HttpHandler&lt;/code&gt; a předat mu získaná data.
V případě MVC se vytvoří &lt;code&gt;MvcHttpHandler&lt;/code&gt; a data se
přidávají kontextu, v klasickém ASP.NET je to jen na vás.&lt;/p&gt;

&lt;p&gt;Routovací handler pro WebForms může vypadat třeba následovně:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class WebFormRouteHandler&amp;lt;T&amp;gt; : IRouteHandler where T : IHttpHandler, new() {
  public string VirtualPath { get; set; }

  public WebFormRouteHandler(string virtualPath) {
    VirtualPath = virtualPath;
  }
  public IHttpHandler GetHttpHandler( RequestContext requestContext ) {
    foreach (var value in requestContext.RouteData.Values) {
      requestContext.HttpContext.Items[value.Key] = value.Value;
    }

    return (VirtualPath != null)
      ? (IHttpHandler)BuildManager.CreateInstanceFromVirtualPath(VirtualPath, typeof(T))
      : new T();
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Routovací handler projde kolekci dat získaných z aktuální URL
požadavku, nacpe je do kontextu a nakonec vytvoří a vrátí
&lt;code&gt;IHttpHandler&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id="toc-routovaci-tabulky"&gt;Routovací tabulky&lt;/h3&gt;

&lt;p&gt;Pro naše aplikace je asi nejdůležitější nadefinovat routovací tabulky.
Definice tabulky se vytváří při startu aplikace, tudíž využijeme
události &lt;code&gt;Application_Start&lt;/code&gt; v Global.asax nebo vlastním
HttpModulu.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class MvcApplication : System.Web.HttpApplication {
  public static void RegisterRoutes(RouteCollection routes) {
    routes.IgnoreRoute("{resource}.axd/{*pathInfo}");
    routes.MapRoute(
        "Default",                                              // Route name
        "{controller}/{action}/{id}",                           // URL with parameters
        new { controller = "Home", action = "Index", id = "" }  // Parameter defaults
    );
  }
  protected void Application_Start() {
    RegisterRoutes(RouteTable.Routes);
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Ukázka tvorby routovací tabulky při startu webové aplikace. Metoda
&lt;code&gt;MapRoute&lt;/code&gt; je extension metodou z MVC frameworku, která za nás
vytvoří &lt;code&gt;MvcHttpHandler&lt;/code&gt;, který bude požadavek zpracovávat.
Získané parametry z routy jsou: název řadiče, který přebere řízení,
jeho akce, která požadavek zpracuje a dále pak parametr id.&lt;/p&gt;

&lt;p&gt;U WebForms by routovací tabulka např. pro můj blog mohla vypadat
následovně:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class Global : System.Web.HttpApplication {
  public static void RegisterRoutes(RouteCollection routes) {
    var routeHandler = new WebFormRouteHandler&amp;lt;Page&amp;gt;("~/Weblog/Article.aspx");
    var route = new Route("weblog/{id}-{url}.aspx", routeHandler) {
      Constraints = new RouteValueDictionary {
       {"id", "\d{1-3}"}
     }
    };
    routes.Add(route);
  }
  protected void Application_Start(object sender, EventArgs e) {
    RegisterRoutes(RouteTable.Routes);
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Zaregistroval jsem do tabulky routu, která bere URL ve tvaru
&lt;code&gt;weblog/{id}-{url}.aspx&lt;/code&gt; a ověřuje se, že &lt;code&gt;id&lt;/code&gt; je jedno
až tříciferné číslo.&lt;/p&gt;

&lt;h3 id="toc-shrnuti"&gt;Shrnutí&lt;/h3&gt;

&lt;blockquote cite=" http://www.youtube.com/watch?v=cZtC6LLimF4"&gt;
	&lt;p&gt;„Pane Aloisi, když dovolíte, já bych si to v závěru celé
	shrnul.“&lt;/p&gt;

	&lt;p&gt;„Tak, jestli vám to udělá dobře, tak si to celý schrntě.“&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Tak tedy, tento spotík se snažil nastínit jak funguje routing v ASP.NET,
jak si zaregistrovat routy a jak z nich získávat data. Mohlo by se zdát, že
to je vše čeho jsme schopní dosáhnout, ale není tomu tak. Routing je
v ASP.NET dvoucestný, ale cestu zpět si ukážeme zas někdy příště…
Třeba na &lt;a rel="bookmark"
href="/weblog/295-povidani-o-asp-net-na-webexpu.aspx"&gt;WebExpu&lt;/a&gt;!&lt;/p&gt;

&lt;div class="hslice" id="related"&gt;
	&lt;h3 class="entry-title" id="toc-souvisejici"&gt;Související&lt;/h3&gt;

	&lt;ul class="entry-content"&gt;
		&lt;li&gt;&lt;a
		href="http://haacked.com/archive/2008/03/11/using-routing-with-webforms.aspx"&gt;Phil
		Haack – Using Routing with WebForms&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a
		href="http://chriscavanagh.wordpress.com/2008/04/25/systemwebrouting-with-webforms-sample/"&gt;Chris
		Cavanagh – System.Web.Routing with WebForms sample&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a rel="bookmark"
		href="/weblog/295-povidani-o-asp-net-na-webexpu.aspx"&gt;Povídání o ASP.NET na
		WebExpu&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a rel="bookmark" href="/weblog/220-jak-funguje-monorail.aspx"&gt;Jak funuje
		MonoRail&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
&lt;/div&gt;

&lt;p&gt;Tagy: &lt;a rel="tag" href="http://technorati.com/tag/aspnet"&gt;ASP.NET&lt;/a&gt;, &lt;a
rel="tag" href="http://technorati.com/tag/aspnetmvc"&gt;ASP.NET MVC&lt;/a&gt;, &lt;a
rel="tag" href="http://technorati.com/tag/Routing"&gt;Routing&lt;/a&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">První vlašťovkou z hnízda MVC frameworku, která se objevila v produkční verzi .net frameworku, je knihovna `System.Web.Routing`. Objevila se s příchodem SP1 verze 3.5 a to proto, že jí využívají ASP.NET Dynamic Data, které jsou taktéž novinkou service packu. No a protože routing je důležitou součástí ASP.NET MVC a jeho výhod lze využít i v klasickém ASP.NET, pojďme se na něj podívat trochu blíž.

Jak to funguje
==============

Základem routingu je `HttpModul`, který vezme URL adresu požadavku a snaží se ho napárovat na některou z rout, které se registrují při startu aplikace. Pokud najde, získá z adresy požadované parametry a předá zpracování patřičnému *RouteHandleru*, který má za úkol vytvořit `HttpHandler` a předat mu získaná data. V případě MVC se vytvoří  `MvcHttpHandler` a data se přidávají kontextu, v klasickém ASP.NET je to jen na vás.

Routovací handler pro WebForms může vypadat třeba následovně:

/--code csharp
public class WebFormRouteHandler&lt;T&gt; : IRouteHandler where T : IHttpHandler, new() {
  public string VirtualPath { get; set; }

  public WebFormRouteHandler(string virtualPath) {
    VirtualPath = virtualPath;
  }
  public IHttpHandler GetHttpHandler( RequestContext requestContext ) {
    foreach (var value in requestContext.RouteData.Values) {
      requestContext.HttpContext.Items[value.Key] = value.Value;
    }

    return (VirtualPath != null)
      ? (IHttpHandler)BuildManager.CreateInstanceFromVirtualPath(VirtualPath, typeof(T))
      : new T();
  }
}
\--code

Routovací handler projde kolekci dat získaných z aktuální URL požadavku, nacpe je do kontextu a nakonec vytvoří a vrátí `IHttpHandler`.

Routovací tabulky
=================

Pro naše aplikace je asi nejdůležitější nadefinovat routovací tabulky. Definice tabulky se vytváří při startu aplikace, tudíž využijeme události `Application_Start` v Global.asax nebo vlastním HttpModulu.

/--code csharp
public class MvcApplication : System.Web.HttpApplication {
  public static void RegisterRoutes(RouteCollection routes) {
    routes.IgnoreRoute("{resource}.axd/{*pathInfo}");
    routes.MapRoute(
        "Default",                                              // Route name
        "{controller}/{action}/{id}",                           // URL with parameters
        new { controller = "Home", action = "Index", id = "" }  // Parameter defaults
    );
  }
  protected void Application_Start() {
    RegisterRoutes(RouteTable.Routes);
  }
}
\--code

Ukázka tvorby routovací tabulky při startu webové aplikace. Metoda `MapRoute` je extension metodou z MVC frameworku, která za nás vytvoří `MvcHttpHandler`, který bude požadavek zpracovávat. Získané parametry z routy jsou: název řadiče, který přebere řízení, jeho akce, která požadavek zpracuje a dále pak parametr id.

U WebForms by routovací tabulka např. pro můj blog mohla vypadat následovně:

/--code csharp
public class Global : System.Web.HttpApplication {
  public static void RegisterRoutes(RouteCollection routes) {
    var routeHandler = new WebFormRouteHandler&lt;Page&gt;("~/Weblog/Article.aspx");
    var route = new Route("weblog/{id}-{url}.aspx", routeHandler) {
      Constraints = new RouteValueDictionary {
       {"id", "\d{1-3}"}
     }
    };
    routes.Add(route);
  }
  protected void Application_Start(object sender, EventArgs e) {
    RegisterRoutes(RouteTable.Routes);
  }
}
\--code

Zaregistroval jsem do tabulky routu, která bere URL ve tvaru `weblog/{id}-{url}.aspx` a ověřuje se, že `id` je jedno až tříciferné číslo.

Shrnutí
=======

&gt; "Pane Aloisi, když dovolíte, já bych si to v závěru celé shrnul."
&gt;
&gt; "Tak, jestli vám to udělá dobře, tak si to celý schrntě."
&gt;: http://www.youtube.com/watch?v=cZtC6LLimF4

Tak tedy, tento spotík se snažil nastínit jak funguje routing v ASP.NET, jak si zaregistrovat routy a jak z nich získávat data. Mohlo by se zdát, že to je vše čeho jsme schopní dosáhnout, ale není tomu tak. Routing je v ASP.NET dvoucestný, ale cestu zpět si ukážeme zas někdy příště… Třeba na WebExpu:[clanek(295)]!

/--div .[#related hslice]
Související .[entry-title]
========
.[entry-content]
* [haacked]
* [cavanagh]
* [clanek(295)]
* [clanek(220)]
\--div

Tagy: [tag-aspnet], [tag-aspnetmvc], [tag-routing]

[tag-aspnet]: http://technorati.com/tag/aspnet ASP.NET .{rel:tag}
[tag-aspnetmvc]: http://technorati.com/tag/aspnetmvc ASP.NET MVC .{rel:tag}
[tag-routing]: http://technorati.com/tag/Routing Routing .{rel:tag}

[haacked]: http://haacked.com/archive/2008/03/11/using-routing-with-webforms.aspx Phil Haack - Using Routing with WebForms
[cavanagh]: http://chriscavanagh.wordpress.com/2008/04/25/systemwebrouting-with-webforms-sample/ Chris Cavanagh – System.Web.Routing with WebForms sample
[clanek(295)]: /weblog/295-povidani-o-asp-net-na-webexpu.aspx Povídání o ASP.NET na WebExpu .{rel:bookmark}
[clanek(220)]: /weblog/220-jak-funguje-monorail.aspx Jak funuje MonoRail .{rel:bookmark}</raw>
    <author>Aleš Roubíček</author>
    <published>2008-09-07T10:56:59.537</published>
    <url>url-routing-v-asp-net-cast-prvni</url>
    <category>Webdesign</category>
    <keywords>asp.net mvc routing</keywords>
    <tags>aspnet mvc routing webexpo</tags>
    <is-published>1</is-published>
    <edited>2008-09-13T11:07:56.237</edited>
  </article>
  <article>
    <id>297</id>
    <title>Reference na objekty v ADO.NET Data Services</title>
    <description>Pokud se rozhodnete pro vaše AJAXové aplikace požívat RESTové služby ADO.NET Data Services, jistě se dostanete do situace, kdy máte komplexní typ a potřebujete vytvořit novou entitu s odkazem na již existující objekt.</description>
    <html xml:space="preserve">
&lt;p&gt;Pokud se rozhodnete pro vaše AJAXové aplikace požívat RESTové služby
ADO.NET Data Services, jistě se dostanete do situace, kdy máte komplexní typ
a potřebujete vytvořit novou entitu s odkazem na již existující
objekt.&lt;/p&gt;

&lt;p&gt;Řešení tohoto problému jsem hledal dost dlouho, nakonec bylo celkem
jednoduché.&lt;/p&gt;

&lt;h3 id="toc-problem"&gt;Problém&lt;/h3&gt;

&lt;p&gt;AJAXově vytvářím entitu, která má vlastnost &lt;code&gt;User&lt;/code&gt;, což je
reference na uživatele, který danou entitu vytvořil –
kterému patří.&lt;/p&gt;

&lt;h3 id="toc-cesta-k-reseni"&gt;Cesta k řešení&lt;/h3&gt;

&lt;p&gt;Nejprve jsem zkoušel využít něco podobného, jako je u entit, které
jsou vráceny pomocí metody GET. Tedy odkaz na jinou entitu je vyjádřen
pomocí vlastnosi &lt;code&gt;__deffered&lt;/code&gt; a ta má atribut &lt;code&gt;uri&lt;/code&gt;,
který odkazuje na již existující entitu pomocí jejího &lt;acronym
title="Unified Resource Locator"&gt;URL&lt;/acronym&gt;. Bohužel, to nefungovalo,
protože &lt;code&gt;__deffered&lt;/code&gt; je metodou POST ignorováno. Kód vypadal asi
následujícně:&lt;/p&gt;

&lt;pre &gt;&lt;code class="language-javascript"&gt;User: { __deffered: { uri: "/Users(13)" } }&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Pak jsem tedy zkusil druhý zoufalý krok. Zkusil jsem použít atribut ID,
který je vlastně jediný důležitý pro správné persistování do
databáze. Kód následující:&lt;/p&gt;

&lt;pre &gt;&lt;code class="language-javascript"&gt;User: { Id: 13 }&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Jenže ani to není správná cesta, navíc si tak můžete Usera
poškodit.&lt;/p&gt;

&lt;h3 id="toc-konecne-reseni"&gt;Konečné řešení&lt;/h3&gt;

&lt;p&gt;Konečné funkční řešení se od toho původního pokusu skoro neliší,
ano byl jsem hodně blízko a vzal to oklikou a až důkladné čtení
dokumentace mi otevřelo oči. Vlastnost &lt;code&gt;__metadata&lt;/code&gt; byla aktuálně
tou správkou, která se měla použít! Takže správný kód
vypadá takto:&lt;/p&gt;

&lt;pre &gt;&lt;code class="language-javascript"&gt;User: { __metadata: { uri: "/Users(13)" } }&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id="toc-zaver"&gt;Závěr&lt;/h3&gt;

&lt;p&gt;Já vím, není to žádná super extra informace, ale já k jejímu
získání spotřeboval celkem dost času. Možná to někomu ušetří starosti
a hledání… Pokud vás zajímají &lt;a
href="http://msdn.microsoft.com/en-us/data/bb931106.aspx"&gt;ADO.NET Data
Services&lt;/a&gt; – což je velice zajímavá technologie – můžete se
přijít podívat na &lt;a rel="bookmark"
href="/weblog/295-povidani-o-asp-net-na-webexpu.aspx"&gt;naši přednášku
o ASP.NET&lt;/a&gt;, kde o nich bude utroušeno několik slov a předvedena pěkná
ukázka ve spojení s AJAXem a k databázi budeme přistupovat přes &lt;a
href="http://www.hibernate.org/343.html"&gt;NHibernate&lt;/a&gt; místo Entity
Frameworku.&lt;/p&gt;

&lt;div class="hslice" id="related"&gt;
	&lt;h3 class="entry-title" id="toc-souvisejici"&gt;Související&lt;/h3&gt;

	&lt;ul class="entry-content"&gt;
		&lt;li&gt;&lt;a rel="bookmark"
		href="/weblog/295-povidani-o-asp-net-na-webexpu.aspx"&gt;Povídání o ASP.NET na
		WebExpu&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a
		href="http://www.vyvojar.cz/Series/8-ado-net-data-services.aspx"&gt;Vývojář.cz –
		Seriál o ADO.NET Data Services&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
&lt;/div&gt;

&lt;p&gt;Tagy: &lt;a rel="tag"
href="http://technorati.com/tag/dataservices"&gt;DataServices&lt;/a&gt;, &lt;a rel="tag"
href="http://technorati.com/tag/ajax"&gt;AJAX&lt;/a&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Pokud se rozhodnete pro vaše AJAXové aplikace požívat RESTové služby ADO.NET Data Services, jistě se dostanete do situace, kdy máte komplexní typ a potřebujete vytvořit novou entitu s odkazem na již existující objekt.

Řešení tohoto problému jsem hledal dost dlouho, nakonec bylo celkem jednoduché.

Problém
=======

AJAXově vytvářím entitu, která má vlastnost `User`, což je reference na uživatele, který danou entitu vytvořil – kterému patří.

Cesta k řešení
==============

Nejprve jsem zkoušel využít něco podobného, jako je u entit, které jsou vráceny pomocí metody GET. Tedy odkaz na jinou entitu je vyjádřen pomocí vlastnosi `__deffered` a ta má atribut `uri`, který odkazuje na již existující entitu pomocí jejího URL((Unified Resource Locator)). Bohužel, to nefungovalo, protože `__deffered` je metodou POST ignorováno. Kód vypadal asi následujícně:

/--code javascript
User: { __deffered: { uri: "/Users(13)" } }
\--code

Pak jsem tedy zkusil druhý zoufalý krok. Zkusil jsem použít atribut ID, který je vlastně jediný důležitý pro správné persistování do databáze. Kód následující:

/--code javascript
User: { Id: 13 }
\--code

Jenže ani to není správná cesta, navíc si tak můžete Usera poškodit.

Konečné řešení
===============

Konečné funkční řešení se od toho původního pokusu skoro neliší, ano byl jsem hodně blízko a vzal to oklikou a až důkladné čtení dokumentace mi otevřelo oči. Vlastnost `__metadata` byla aktuálně tou správkou, která se měla použít! Takže správný kód vypadá takto:

/--code javascript
User: { __metadata: { uri: "/Users(13)" } }
\--code

Závěr
=====

Já vím, není to žádná super extra informace, ale já k jejímu získání spotřeboval celkem dost času. Možná to někomu ušetří starosti a hledání… Pokud vás zajímají [dataservices] - což je velice zajímavá technologie – můžete se přijít podívat na "naši přednášku o ASP.NET":[prednaska], kde o nich bude utroušeno několik slov a předvedena pěkná ukázka ve spojení s AJAXem a k databázi budeme přistupovat přes [nhibernate] místo Entity Frameworku.

/--div .[#related hslice]
Související .[entry-title]
=========
.[entry-content]
* [prednaska]
* [vyvojar-serial]
\--div
Tagy: [tag-dataservices], [tag-ajax]

[tag-dataservices]: http://technorati.com/tag/dataservices DataServices .{rel:tag}
[tag-ajax]: http://technorati.com/tag/ajax AJAX .{rel:tag}

[prednaska]: /weblog/295-povidani-o-asp-net-na-webexpu.aspx Povídání o ASP.NET na WebExpu .{rel:bookmark}
[dataservices]: http://msdn.microsoft.com/en-us/data/bb931106.aspx  ADO.NET Data Services
[nhibernate]: http://www.hibernate.org/343.html NHibernate
[vyvojar-serial]: http://www.vyvojar.cz/Series/8-ado-net-data-services.aspx Vývojář.cz - Seriál o ADO.NET Data Services</raw>
    <author>Aleš Roubíček</author>
    <published>2008-09-10T06:44:15.543</published>
    <url>reference-na-objekty-v-ado-net-data-services</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>ajax rest dataservices webexpo</tags>
    <is-published>1</is-published>
    <edited>2008-09-14T10:30:38.520</edited>
  </article>
  <article>
    <id>299</id>
    <title>Stáhněte si Texy.net a NForms přes SVN</title>
    <description>Na Codeplexu zprovoznili serverovo variantu SVN bridge. Nyní si můžete stáhnout Texy.net, NForms nebo třeba ASP.NET MVC pohodlně přes SVN nástroje.</description>
    <html xml:space="preserve">
&lt;p&gt;Projekty, které se rozhodnu vypustit ven, většinou hostuju na &lt;a
href="http://www.codeplex.com/"&gt;CodePlexu&lt;/a&gt;. Jeho UI mi přijde mnohem
rychlejší než konkurenční &lt;a
href="http://www.sourceforge.net/"&gt;SourceForge&lt;/a&gt; a přehlednější než &lt;a
href="http://code.google.com/"&gt;Google Code&lt;/a&gt;. Nevadí mi, že za tímto
hostingem stojí velký zlý Microsoft, naopak to vítám. Tento projekt byl
jedním z prvních krůčků na podporu OpenSource ze strany Microsoftu a
navíc je místem, kde samotný Microsoft uveřejňuje spoustu zajímavých
projektů. Například &lt;a href="http://www.codeplex.com/aspnet"&gt;budoucí části
ASP.NET&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Ale zpět k tématu. Tento hosting je postaven na &lt;a
href="http://msdn.microsoft.com/en-us/tfs2008/default.aspx"&gt;Team Foundation
Serveru&lt;/a&gt; (TFS), který je centrem pro týmovou práci, verzovacím systémem
a v neposlední řadě i systémem pro vedení požadavků a úkolů. Tím se
odlišuje od konkurence, která většinou používá tradiční SVN, což je po
léta de-facto standard pro verzování OpenSource projektů. Komunita dlouho
volala po tom, že chtějí SVN i CodePlexu. V MS nakonec udělali
kompromis.&lt;/p&gt;

&lt;h3 id="toc-svn-bridge"&gt;SVN Bridge&lt;/h3&gt;

&lt;p&gt;&lt;a href="http://www.codeplex.com/SvnBridge"&gt;SVN Bridge&lt;/a&gt; byl první krok.
Je to taková malá utilitka, kterou si spustíte na vašem počítači a ona
překládá vaše SVN požadavky do řeči, které rozumí TFS. Můžete s ní
pak používat oblíbené nástroje jako &lt;a
href="http://tortoisesvn.tigris.org/"&gt;TortoiseSVN&lt;/a&gt; nebo &lt;a
href="http://www.visualsvn.com/"&gt;VisualSVN&lt;/a&gt;. Ale pořád je tu nutnost
donahrát si utilitu a ani URL repository ve tvaru
&lt;code&gt;http://localhost:8081/&amp;lt;tfs.server.name&amp;gt;/&amp;lt;projectname&amp;gt;&lt;/code&gt;
nejsou nějak úchvatná.&lt;/p&gt;

&lt;p&gt;Tento měsíc však došlo k zásadní změně. Na Codeplexu byl nasazen
serverový SVN bridge, takže už nemusím pouštět lokální verzi, ale rovnou
můžu pro snadný přístup přes SVN nástroje používat adresy
následující:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;pro &lt;a href="http://www.codeplex.com/nforms"&gt;NForms&lt;/a&gt;
	&lt;code&gt;https://nforms.svn.codeplex.com/svn&lt;/code&gt;&lt;/li&gt;

	&lt;li&gt;pro &lt;a href="http://www.codeplex.com/texynet"&gt;Texy.net&lt;/a&gt;
	&lt;code&gt;https://texynet.svn.codeplex.com/svn&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;No a vy také ;)&lt;/p&gt;

&lt;div class="hslice" id="related"&gt;
	&lt;h3 class="entry-title" id="toc-souvisejici"&gt;Související&lt;/h3&gt;

	&lt;ul class="entry-content"&gt;
		&lt;li&gt;&lt;a href="https://svnbridge.svn.codeplex.com/svn"&gt;Subversion Support Comes to
		CodePlex… Sorta’&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a rel="bookmark" href="/weblog/209-texy-net-na-codeplexu.aspx"&gt;Texy.net na
		Codeplexu&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a rel="bookmark" href="/weblog/225-budoucnost-texy-net.aspx"&gt;Budoucnost
		Texy.net&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a rel="bookmark" href="/weblog/291-nforms-na-codeplexu.aspx"&gt;NForms na
		Codeplexu&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a
		href="http://blogs.msdn.com/codeplex/archive/2008/09/14/codeplex-launches-support-for-tortoisesvn.aspx"&gt;CodePlex
		launches support for TortoiseSVN&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
&lt;/div&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Projekty, které se rozhodnu vypustit ven, většinou hostuju na CodePlexu:[codeplex]. Jeho UI mi přijde mnohem rychlejší než konkurenční [sourceforge] a přehlednější než [google-code]. Nevadí mi, že za tímto hostingem stojí velký zlý Microsoft, naopak to vítám. Tento projekt byl jedním z prvních krůčků na podporu OpenSource ze strany Microsoftu a navíc je místem, kde samotný Microsoft uveřejňuje spoustu zajímavých projektů. Například "budoucí části ASP.NET":[codeplex-aspnet].

Ale zpět k tématu. Tento hosting je postaven na "Team Foundation Serveru":[tfs] (TFS), který je centrem pro týmovou práci, verzovacím systémem a v neposlední řadě i systémem pro vedení požadavků a úkolů. Tím se odlišuje od konkurence, která většinou používá tradiční SVN, což je po léta de-facto standard pro verzování OpenSource projektů. Komunita dlouho volala po tom, že chtějí SVN i CodePlexu. V MS nakonec udělali kompromis.

SVN Bridge
==========

[svnbridge] byl první krok. Je to taková malá utilitka, kterou si spustíte na vašem počítači a ona překládá vaše SVN požadavky do řeči, které rozumí TFS. Můžete s ní pak používat oblíbené nástroje jako [tortoisesvn] nebo [visualsvn]. Ale pořád je tu nutnost donahrát si utilitu a ani URL repository  ve tvaru `http://localhost:8081/&lt;tfs.server.name&gt;/&lt;projectname&gt;` nejsou nějak úchvatná.

Tento měsíc však došlo k zásadní změně. Na Codeplexu byl nasazen serverový SVN bridge, takže už nemusím pouštět lokální verzi, ale rovnou můžu pro snadný přístup přes SVN nástroje používat adresy následující:

1. pro [nforms] `https://nforms.svn.codeplex.com/svn`
2. pro [texynet] `https://texynet.svn.codeplex.com/svn`

No a vy také ;)

/--div .[#related hslice]
Související .[entry-title]
========
.[entry-content]
* [harman]
* [clanek(209)]
* [clanek(225)]
* [clanek(291)]
* [codeplex-blog]
\--div

[codeplex]: http://www.codeplex.com/ Codeplex
[sourceforge]: http://www.sourceforge.net/ SourceForge
[google-code]: http://code.google.com/ Google Code
[codeplex-aspnet]: http://www.codeplex.com/aspnet ASP.NET na Codeplexu
[svnbridge]: http://www.codeplex.com/SvnBridge SVN Bridge
[tortoisesvn]: http://tortoisesvn.tigris.org/ TortoiseSVN
[visualsvn]: http://www.visualsvn.com/ VisualSVN
[tfs]: http://msdn.microsoft.com/en-us/tfs2008/default.aspx  Team Foundation Server
[nforms]: http://www.codeplex.com/nforms NForms
[texynet]: http://www.codeplex.com/texynet Texy.net
[clanek(291)]: /weblog/291-nforms-na-codeplexu.aspx NForms na Codeplexu .{rel:bookmark}
[clanek(209)]: /weblog/209-texy-net-na-codeplexu.aspx Texy.net na Codeplexu .{rel:bookmark}
[clanek(225)]: /weblog/225-budoucnost-texy-net.aspx Budoucnost Texy.net .{rel:bookmark}
[harman]: https://svnbridge.svn.codeplex.com/svn Subversion Support Comes to CodePlex… Sorta’
[codeplex-blog]: http://blogs.msdn.com/codeplex/archive/2008/09/14/codeplex-launches-support-for-tortoisesvn.aspx CodePlex launches support for TortoiseSVN</raw>
    <author>Aleš Roubíček</author>
    <published>2008-09-13T16:02:58.277</published>
    <url>stahnete-si-texy-net-a-nforms-pres-svn</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>codeplex nforms texynet aspnet snv opensource vcs</tags>
    <is-published>1</is-published>
    <edited>2008-09-21T18:32:53.113</edited>
  </article>
  <article>
    <id>300</id>
    <title>Vývojová infrastruktura</title>
    <description>Proč je dobré mít základní vývojovou infrastrukturu? Jakou jsme ji měli v Atlasu a jakou ji máme teď? A jakou ji máte vy?</description>
    <html xml:space="preserve">
&lt;p&gt;Na začátku vývoje každého produktu bychom si měli připravit vhodnou
infrastrukturu. Základem je verzovací systém – pokud pracujete sám, je
značnou výhodou, v teamu nezbytností. Další důležitou součásti je
systém pro vedení úkolů a bugů. Dále je vhodná wiki a taky nějaký
buildserver.&lt;/p&gt;

&lt;h3 id="toc-proc-je-to-tak-dulezite"&gt;Proč je to tak důležité?&lt;/h3&gt;

&lt;p&gt;Verzovací systém je vhodný na jakýkoli projekt, nemusí to nutně být
ani projekt softwarový – my ho třeba s Borkem používáme na přípravu
&lt;a href="/weblog/295-povidani-o-asp-net-na-webexpu.aspx"&gt;přednášky&lt;/a&gt;. Je to
ochrana před ztrátou dat, občas pomůže se podívat do historie, dnešní
systémy umějí mergovat změny z více zdrojů a jsou snadno zařaditelné do
automatizovaného procesu.&lt;/p&gt;

&lt;p&gt;Úkolník je dobrý z mnoha důvodů, vidíte, co máte dělat, jakou to má
prioritu, kolik už máte hotovo. Slouží i jako váš výkaz, že se jen
neflákáte. ;)&lt;/p&gt;

&lt;p&gt;Build server je už jen třešničkou na dortu, která za vás dělá
rutinu – špinavou a nudnou práci.&lt;/p&gt;

&lt;h3 id="toc-jak-to-bylo-v-atlase"&gt;Jak to bylo v Atlase&lt;/h3&gt;

&lt;p&gt;Když jsem nastupoval do vývoje Atlas.cz, fungoval tam jen Visual
SourceSafe, stagovalo se přes FTP. Vše bylo dost závislé na správném
připravení verze do produkčního prostředí, to připravoval člověk a
snadno mohlo dojít k chybě. :) Za nějaký čas jsme se rozhodovali jak to
celé zautomatizovat a usnadnit. Nakonec jsme přešli na PureCM, Atlas.Build a
Atlas.Autowebsite.&lt;/p&gt;

&lt;p&gt;&lt;a href="http://www.purecm.com/"&gt;PureCM&lt;/a&gt; je verzovací systém
s integrovaným úkolníkem a s možností skriptování v pythonu a
dotnetím API. Má systém repository, které mají streamy a ty lze vzájemně
mergovat v rámci hierarchie. Také k nim lze dopsat tzv. Custom action. Ta
u nás nebyla nic jiného než spoušť události. Služba Atlas.Build tuto
událost zachytila, provedla checkout, pročistila projekt a podle jednoduchého
build skriptu (zjednodušený NAnt) připravila verzi buďto na &lt;em&gt;dev&lt;/em&gt;
servery nebo na &lt;em&gt;staging&lt;/em&gt;, kterou pak nahrála na příslušný server
pod danou verzí (názvem streamu).&lt;/p&gt;

&lt;p&gt;Vývojář pak zadal do prohlížeče adresu, třeba
&lt;code&gt;http://katalog.3.6.0.dev2.atlas.cz&lt;/code&gt;, kde na něj čekal Autowebsite,
který se zeptal jakou verzi frameworku použít a pak v IIS metabázi založil
nový web.&lt;/p&gt;

&lt;p&gt;Bylo za tím spousta magie a bylo celkem jednoduché a efektní a taky
ušité na míru našim potřebám.&lt;/p&gt;

&lt;h3 id="toc-jak-to-mame-v-twaregu"&gt;Jak to máme v Twaregu&lt;/h3&gt;

&lt;p&gt;Když jsme přišli do &lt;a href="http://www.twareg.com/"&gt;Twaregu&lt;/a&gt;, bylo
opět potřeba připravit infrastrukturu. Po týdnu zkoušení a rozhodování
jsme nakonec zvolili kombinaci Subversion (SVN), Trac, TeamCity.&lt;/p&gt;

&lt;p&gt;&lt;a href="http://subversion.tigris.org/"&gt;SVN&lt;/a&gt; je celkem osvědčený
verzovací sytém, je zdarma a multiplatformní, existuje pro něj dostatek
nástrojů, včetně integrace do Visual Studia a je podporován všemi
testovanými buildservery.&lt;/p&gt;

&lt;p&gt;&lt;a href="http://trac.edgewall.org/"&gt;Trac&lt;/a&gt; je wiki a systém pro vedení
úkolů s pěkným webovým prohlížečem repository. S SVN je spjat
pupeční šňůrou a dá se dobře automatizovat tvorba nových projektů.
Navíc je to OpenSource a je zdarma.&lt;/p&gt;

&lt;p&gt;&lt;a href="http://www.jetbrains.com/teamcity/"&gt;TeamCity&lt;/a&gt; je skvělý
buildserver podporující Javu i dotnet (nejen tyto), umí se připojit do SVN
a zvládá i vzdálené předtestované commity, což je killer feature. Pokud
se dokážete smířit s omezením na 3 build agenty, 20 uživatelů a
20 konfigurací, pak je zdarma. Má pěknou integraci do Visual Studia a má
API pro rozšiřování.&lt;/p&gt;

&lt;p&gt;První měsíc v Twaregu jsem (nejen) připravoval infrastrukturu. Napsal
jsem službu, která zakládá nové repository, připraví do nich základní
adresářovou strukturu a založí projekt v tracku. Automatizované
zakládání pro TeamCity zatím není a ještě nevím, jestli je potřeba.
Jednotlivé konfigurace je lepší projít ručně a nastavit dle požadavků
daného projektu. Na projektu většinou máme dvě konfigurace, jednu, která
je pro vzdálený předtestovaný commit do vývojového branche a druhou,
která se spouští při commitu do trunku. Provede se kompletní build, spustí
se testy, pokud je vše &lt;strong&gt;ok&lt;/strong&gt;, vytvoří se dokumentace a nahraje
na intranet, provede se deploy knihoven do společného úložiště a vytvoří
se weby, pokud nějaké v projektu jsou.&lt;/p&gt;

&lt;p&gt;Co se všechno má udělat je řízeno &lt;a
href="http://msdn.microsoft.com/en-us/library/0k6kkbsd.aspx"&gt;MSBuild&lt;/a&gt;
skriptem, pro který jsem připravil několik tasků. Upravil jsem &lt;a
href="http://www.codeplex.com/xunit"&gt;xUnit.net&lt;/a&gt; task, aby se posílaly
zprávy do TeamCity a přibalily výsledky testů do sumáře o buildu.&lt;/p&gt;

&lt;p&gt;Je fakt, že tady máme build skripty mnohem ukecanější něž v Atlasu,
ale jsou mnohem flexibilnější – vzhledem k heterogennímu prostředí je
to potřeba.&lt;/p&gt;

&lt;h3 id="toc-zaver"&gt;Závěr&lt;/h3&gt;

&lt;p&gt;Investujete-li na začátku nějaký čas na vybudování infrastruktury,
jistě se vám to vrátí později v podobě nevytrhaných vlasů a
neokousaných nehtů, když někdo někomu omylem přemázne celodenní práci
nebo vydeployuje nefunkční verzi. Nemít verzovací systém je vyložený
hazard, nemít úkolník je přinejmenším nepohodlné a bez build serveru se
dá žít…&lt;/p&gt;

&lt;p&gt;A jakou infrastrukturu/sys­tém používáte vy?&lt;/p&gt;

&lt;div class="hslice" id="related"&gt;
	&lt;h3 class="entry-title" id="toc-souvisejici"&gt;Související&lt;/h3&gt;

	&lt;ul class="entry-content"&gt;
		&lt;li&gt;&lt;a rel="bookmark"
		href="/weblog/299-stahnete-si-texy-net-a-nforms-pres-svn.aspx"&gt;Stáhněte si
		Texy.net a NForms přes SVN&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a rel="bookmark" href="/weblog/194-prednaska-o-msbuild.aspx"&gt;Přednáška
		o MSBuild&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a rel="bookmark" href="/weblog/174-par-tipu-pro-vyvojare.aspx"&gt;Pár tipů
		pro vývojáře&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
&lt;/div&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Na začátku vývoje každého produktu bychom si měli připravit vhodnou infrastrukturu. Základem je verzovací systém – pokud pracujete sám, je značnou výhodou, v teamu nezbytností. Další důležitou součásti je systém pro vedení úkolů a bugů. Dále je vhodná wiki a taky nějaký buildserver.

Proč je to tak důležité?
========================

Verzovací systém je vhodný na jakýkoli projekt, nemusí to nutně být ani projekt softwarový – my ho třeba s Borkem používáme na přípravu přednášky:[prednaska]. Je to ochrana před ztrátou dat, občas pomůže se podívat do historie, dnešní systémy umějí mergovat změny z více zdrojů a jsou snadno zařaditelné do automatizovaného procesu.

Úkolník je dobrý z mnoha důvodů, vidíte, co máte dělat, jakou to má prioritu, kolik už máte hotovo. Slouží i jako váš výkaz, že se jen neflákáte. ;)

Build server je už jen třešničkou na dortu, která za vás dělá rutinu - špinavou a nudnou práci.

Jak to bylo v Atlase
====================

Když jsem nastupoval do vývoje Atlas.cz, fungoval tam jen Visual SourceSafe, stagovalo se přes FTP. Vše bylo dost závislé na správném připravení verze do produkčního prostředí, to připravoval člověk a snadno mohlo dojít k chybě. :) Za nějaký čas jsme se rozhodovali jak to celé zautomatizovat a usnadnit. Nakonec jsme přešli na PureCM, Atlas.Build a Atlas.Autowebsite.

[purecm] je verzovací systém s integrovaným úkolníkem a s možností skriptování v pythonu a dotnetím API. Má systém repository, které mají streamy a ty lze vzájemně mergovat v rámci hierarchie. Také k nim lze dopsat tzv. Custom action. Ta u nás nebyla nic jiného než spoušť události. Služba Atlas.Build tuto událost zachytila, provedla checkout, pročistila projekt a podle jednoduchého build skriptu (zjednodušený NAnt) připravila verzi buďto na *dev* servery nebo na *staging*, kterou pak nahrála na příslušný server pod danou verzí (názvem streamu).

Vývojář pak zadal do prohlížeče adresu, třeba `http://katalog.3.6.0.dev2.atlas.cz`, kde na něj čekal Autowebsite, který se zeptal jakou verzi frameworku použít a pak v IIS metabázi založil nový web.

Bylo za tím spousta magie a bylo celkem jednoduché a efektní a taky ušité na míru našim potřebám.

Jak to máme v Twaregu
=====================

Když jsme přišli do Twaregu:[twareg], bylo opět potřeba připravit infrastrukturu. Po týdnu zkoušení a rozhodování jsme nakonec zvolili kombinaci Subversion (SVN), Trac, TeamCity.

[svn] je celkem osvědčený verzovací sytém, je zdarma a multiplatformní, existuje pro něj dostatek nástrojů, včetně integrace do Visual Studia a je podporován všemi testovanými buildservery.

[trac] je wiki a systém pro vedení úkolů s pěkným webovým prohlížečem repository. S SVN je spjat pupeční šňůrou a dá se dobře automatizovat tvorba nových projektů. Navíc je to OpenSource a je zdarma.

[teamcity] je skvělý buildserver podporující Javu i dotnet (nejen tyto), umí se připojit do SVN a zvládá i vzdálené předtestované commity, což je killer feature. Pokud se dokážete smířit s omezením na 3 build agenty, 20 uživatelů a 20 konfigurací, pak je zdarma. Má pěknou integraci do Visual Studia a má API pro rozšiřování.

První měsíc v Twaregu jsem (nejen) připravoval infrastrukturu. Napsal jsem službu, která zakládá nové repository, připraví do nich základní adresářovou strukturu a založí projekt v tracku. Automatizované zakládání pro TeamCity zatím není a ještě nevím, jestli je potřeba. Jednotlivé konfigurace je lepší projít ručně a nastavit dle požadavků daného projektu. Na projektu většinou máme dvě konfigurace, jednu, která je pro vzdálený předtestovaný commit do vývojového branche a druhou, která se spouští při commitu do trunku. Provede se kompletní build, spustí se testy, pokud je vše **ok**, vytvoří se dokumentace a nahraje na intranet, provede se deploy knihoven do společného úložiště a vytvoří se weby, pokud nějaké v projektu jsou.

Co se všechno má udělat je řízeno [msbuild] skriptem, pro který jsem připravil několik tasků. Upravil jsem [xunit] task, aby se posílaly zprávy do TeamCity a přibalily výsledky testů do sumáře o buildu.

Je fakt, že tady máme build skripty mnohem ukecanější něž v Atlasu, ale jsou mnohem flexibilnější - vzhledem k heterogennímu prostředí je to potřeba.

Závěr
=====

Investujete-li na začátku nějaký čas na vybudování infrastruktury, jistě se vám to vrátí později v podobě nevytrhaných vlasů a neokousaných nehtů, když někdo někomu omylem přemázne celodenní práci nebo vydeployuje nefunkční verzi. Nemít verzovací systém je vyložený hazard, nemít úkolník je přinejmenším nepohodlné a bez build serveru se dá žít…

A jakou infrastrukturu/systém používáte vy?

/--div .[#related hslice]
Související .[entry-title]
===========
.[entry-content]
* [clanek(299)]
* [clanek(194)]
* [clanek(174)]
\--div

[svn]: http://subversion.tigris.org/ SVN
[trac]: http://trac.edgewall.org/ Trac
[teamcity]: http://www.jetbrains.com/teamcity/ TeamCity
[xunit]: http://www.codeplex.com/xunit xUnit.net
[msbuild]: http://msdn.microsoft.com/en-us/library/0k6kkbsd.aspx MSBuild
[purecm]: http://www.purecm.com/ PureCM
[prednaska]: /weblog/295-povidani-o-asp-net-na-webexpu.aspx

[clanek(299)]: /weblog/299-stahnete-si-texy-net-a-nforms-pres-svn.aspx Stáhněte si Texy.net a NForms přes SVN .{rel:bookmark}
[clanek(194)]: /weblog/194-prednaska-o-msbuild.aspx Přednáška o MSBuild .{rel:bookmark}
[clanek(174)]: /weblog/174-par-tipu-pro-vyvojare.aspx Pár tipů pro vývojáře .{rel:bookmark}

[twareg]: http://www.twareg.com/ Twareg</raw>
    <author>Aleš Roubíček</author>
    <published>2008-09-14T09:40:54.550</published>
    <url>vyvojova-infrastruktura</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>teamcity xunit atlas purecm twareg svn trac msbuild vcs</tags>
    <is-published>1</is-published>
    <edited>2009-03-01T10:59:54.173</edited>
  </article>
  <article>
    <id>301</id>
    <title>Stack Overflow - sociální studnice znalostí pro vývojáře</title>
    <description>Tento týden byla spuštěna do veřejného beta provozu nová studnice znalostí pro vývojáře s romantickým názvem Stack Overflow.</description>
    <html xml:space="preserve">
&lt;p&gt;Tento týden byla spuštěna do veřejného beta provozu nová studnice
znalostí pro vývojáře s romantickým názvem &lt;a
href="http://www.stackoverflow.com/"&gt;Stack Overflow&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Tento web se veze na sociální vlně. Je to kombinace FAQ, Wiki a Diggu.
Umožňuje hlasování o relevantnosti odpovědí, tagování, gravatary,
komentáře, prostě všechny tydlety cool 2.0 věci. Zatímto zajímavám
počinem pro vývojáře stojí dvě docela známé a uznávané osobnosti
v blogosféře a to &lt;a href="http://www.codinghorror.com/"&gt;Jeff Atwood&lt;/a&gt;
(Coding Horror) a &lt;a href="http://www.joelonsoftware.com/"&gt;Joel Spolsky&lt;/a&gt;
(Joel on Software).&lt;/p&gt;

&lt;p&gt;Tak honem šup šup se na něco zeptat nebo odpovědět, úspěch této
aplikace závisí pouze na dostatečně relevantích přispěvatelích.&lt;/p&gt;

&lt;p&gt;PS. technická poznámka, celé je to postaveno pomocí &lt;a
href="/weblog/tag/mvc.aspx"&gt;ASP.NET MVC&lt;/a&gt; frameworku.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Tento týden byla spuštěna do veřejného beta provozu nová studnice znalostí pro vývojáře s romantickým názvem [stackoverflow].

Tento web se veze na sociální vlně. Je to kombinace FAQ, Wiki a Diggu. Umožňuje hlasování o relevantnosti odpovědí, tagování, gravatary, komentáře, prostě všechny tydlety cool 2.0 věci. Zatímto zajímavám počinem pro vývojáře stojí dvě docela známé a uznávané osobnosti v blogosféře a to [codinghorror] (Coding Horror) a [joel] (Joel on Software).

Tak honem šup šup se na něco zeptat nebo odpovědět, úspěch této aplikace závisí pouze na dostatečně relevantích přispěvatelích.

PS. technická poznámka, celé je to postaveno pomocí [mvc] frameworku.

[stackoverflow]: http://www.stackoverflow.com/ Stack Overflow
[codinghorror]: http://www.codinghorror.com/ Jeff Atwood
[joel]: http://www.joelonsoftware.com/ Joel Spolsky
[mvc]: /weblog/tag/mvc.aspx ASP.NET MVC</raw>
    <author>Aleš Roubíček</author>
    <published>2008-09-19T17:29:09.140</published>
    <url>stack-overflow-socialni-studnice-znalosti-pro-vyvojare</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>aspnet mvc web20</tags>
    <is-published>1</is-published>
    <edited>2008-09-25T08:08:32.160</edited>
  </article>
  <article>
    <id>303</id>
    <title>Picasa Gallery</title>
    <description>Komponenta pro snadné vytváření galerií z XML exportu programu Picasa.</description>
    <html xml:space="preserve">
&lt;p&gt;Komponenta pro snadné vytváření galerií z XML exportu programu Picasa.
Funguj tak, že vygenerujete XML verzi galerie v programu &lt;a
href="http://picasa.google.com/"&gt;Picasa&lt;/a&gt; a nahrajete ji na server do
určitého adresáře. Komponenta tento adresář hlídá a načítá
jednotlivé galerie. Výsledný výstup lze snadno měnit pomocí šablon nebo
lze využít už předpřipravené velice jednoduché šablony.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Komponenta pro snadné vytváření galerií z XML exportu programu Picasa. Funguj tak, že vygenerujete XML verzi galerie v programu [picasa] a nahrajete ji na server do určitého adresáře. Komponenta tento adresář hlídá a načítá jednotlivé galerie. Výsledný výstup lze snadno měnit pomocí šablon nebo lze využít už předpřipravené velice jednoduché šablony.

[picasa]: http://picasa.google.com/ Picasa</raw>
    <author>Aleš Roubíček</author>
    <published>2008-09-28T15:43:53.140</published>
    <url>picasa-gallery</url>
    <category>Projekty</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2008-09-28T15:43:53.153</edited>
  </article>
  <article>
    <id>304</id>
    <title>Gryphoon</title>
    <description>Redakční systém postavený na Texy!</description>
    <html xml:space="preserve">
&lt;div&gt;&lt;a href="http://codeplex.com/gryphoon/"&gt;&lt;img
src="/img/projects/gryphoon.png" class="preview" alt="Gryphoon" width="210"
height="60" /&gt;&lt;/a&gt;&lt;/div&gt;

&lt;p&gt;Systém na správu blogů a obsahových webů postavený na platformě &lt;a
href="http://asp.net/"&gt;ASP.NET&lt;/a&gt;. Podporuje více autorů, texty stránek se
zadávají pomocí &lt;a href="http://texy.info/"&gt;Texy!&lt;/a&gt; Je základem několika
webů, některé jsou tady v referencích, některé ani neznám…&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;SVN repository: &lt;code&gt;https://gryphoon.svn.codeplex.com/svn/&lt;/code&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a href="http://codeplex.com/gryphoon/"&gt;Stránky projektu Gryphoon&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a href="/weblog/tag/gryphoon.aspx"&gt;Články o projektu Gryphoon na
	blogu&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">[*/img/projects/gryphoon.png 210x60 .(Gryphoon)[preview]*]:[gryphoon-codeplex]

Systém na správu blogů a obsahových webů postavený na platformě [aspnet]. Podporuje více autorů, texty stránek se zadávají pomocí [texy] Je základem několika webů, některé jsou tady v referencích, některé ani neznám…

* SVN repository: `https://gryphoon.svn.codeplex.com/svn/`
* "Stránky projektu Gryphoon":[gryphoon-codeplex]
* "Články o projektu Gryphoon na blogu":[gryphoon-blog]

[aspnet]: http://asp.net/ ASP.NET
[texy]: http://texy.info/ Texy!
[gryphoon-codeplex]: http://codeplex.com/gryphoon/ Gryphoon
[gryphoon-blog]: /weblog/tag/gryphoon.aspx Gryphoon</raw>
    <author>Aleš Roubíček</author>
    <published>2008-09-28T15:45:40.360</published>
    <url>gryphoon</url>
    <category>Projekty</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2008-09-28T18:11:57.650</edited>
  </article>
  <article>
    <id>305</id>
    <title>NForms</title>
    <description>Framework na tvorbu a validaci webových formulářů.</description>
    <html xml:space="preserve">
&lt;div&gt;&lt;a href="http://codeplex.com/nforms/"&gt;&lt;img src="/img/projects/nforms.png"
class="preview" alt="NForms" width="140" height="60" /&gt;&lt;/a&gt;&lt;/div&gt;

&lt;p&gt;NForms je malý jednoduchý framework na tvorbu a zpracování webových
formulářů na platformě &lt;a href="http://asp.net/"&gt;ASP.NET&lt;/a&gt; nezávisející
na infrastruktuře WebForms a tudíž je vhodný na tvorbu znovupoužitelných
formulářů pro různé aplikační scénáře (Classic, &lt;a
href="/weblog/tag/mvp.aspx"&gt;MVP&lt;/a&gt;, &lt;a
href="/weblog/tag/mvc.aspx"&gt;MVC&lt;/a&gt;).&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;SVN Repository: &lt;code&gt;https://nforms.svn.codeplex.com/svn/&lt;/code&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a href="http://codeplex.com/nforms/"&gt;Stránky projektu NForms&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a href="/weblog/tag/nforms.aspx"&gt;Články o projektu NForms na
	blogu&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">[*/img/projects/nforms.png 140x60 .(NForms)[preview]*]:[nforms-codeplex]

NForms je malý jednoduchý framework na tvorbu a zpracování webových formulářů na platformě [aspnet] nezávisející na infrastruktuře WebForms a tudíž je vhodný na tvorbu znovupoužitelných formulářů pro různé aplikační scénáře (Classic, [mvp], [mvc]).

* SVN Repository: `https://nforms.svn.codeplex.com/svn/`
* "Stránky projektu NForms":[nforms-codeplex]
* "Články o projektu NForms na blogu":[nforms-blog]

[aspnet]: http://asp.net/ ASP.NET
[mvc]: /weblog/tag/mvc.aspx MVC
[mvp]: /weblog/tag/mvp.aspx MVP
[nforms-codeplex]: http://codeplex.com/nforms/ NForms
[nforms-blog]: /weblog/tag/nforms.aspx NForms
</raw>
    <author>Aleš Roubíček</author>
    <published>2008-09-28T15:50:44.350</published>
    <url>nforms</url>
    <category>Projekty</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2008-09-28T18:10:59.010</edited>
  </article>
  <article>
    <id>306</id>
    <title>Texy.net</title>
    <description>Nástroj na převod textu do formy, která je vhodná pro prezentaci na webu.</description>
    <html xml:space="preserve">
&lt;div&gt;&lt;a href="http://codeplex.com/texynet/"&gt;&lt;img src="/img/projects/texynet.png"
class="preview" alt="Texy.net" width="120" height="60" /&gt;&lt;/a&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href="http://texy.info/"&gt;Texy!&lt;/a&gt; je nástroj na převod textu psaného
jako na stroji do podoby, která je vhodná pro zobrazování na internetu
(webu).&lt;/p&gt;

&lt;p&gt;Texy.net je konfigurační rozhraní pro snadnou konzumaci XML-RPC Texy!
z prostředí Microsoft.net. Umožňuje i konzumaci jiných rozhraní, jako
třeba &lt;acronym title="Simple Object Access Protocol"&gt;SOAP&lt;/acronym&gt; nebo Texy!
zkompilovanou ve &lt;a href="http://php-compiler.net/"&gt;Phalangeru&lt;/a&gt;.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;SVN repository: &lt;code&gt;https://texynet.svn.codeplex.com/svn/&lt;/code&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a href="http://codeplex.com/texynet/"&gt;Stránky projektu Texy.net&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a href="/weblog/tag/texynet.aspx"&gt;Články o projektu Texy.net na
	blogu&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">[*/img/projects/texynet.png 120x60 .(Texy.net)[preview]*]:[texynet-codeplex]

[texy] je nástroj na převod textu psaného jako na stroji do podoby, která je vhodná pro zobrazování na internetu (webu).

Texy.net je konfigurační rozhraní pro snadnou konzumaci XML-RPC Texy! z prostředí Microsoft.net. Umožňuje i konzumaci jiných rozhraní, jako třeba SOAP((Simple Object Access Protocol)) nebo Texy! zkompilovanou ve Phalangeru:[phalanger].

* SVN repository: `https://texynet.svn.codeplex.com/svn/`
* "Stránky projektu Texy.net":[texynet-codeplex]
* "Články o projektu Texy.net na blogu":[texynet-blog]

[texy]: http://texy.info/ Texy!
[phalanger]: http://php-compiler.net/ Pahlanger
[texy-blog]: /weblog/tag/texy.aspx Texy!
[texynet-blog]: /weblog/tag/texynet.aspx Texy.net
[texynet-codeplex]: http://codeplex.com/texynet/ Texy.net


</raw>
    <author>Aleš Roubíček</author>
    <published>2008-09-28T16:02:41.107</published>
    <url>texy-net</url>
    <category>Projekty</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2008-09-28T19:42:30.067</edited>
  </article>
  <article>
    <id>307</id>
    <title>Starší a zmizelé</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Dříve jsem udělal ještě asi desítku webů, které už buďto nejsou
aktuální, nebo neexistují vůbec. Namátkou stránky mikroregionů
Podještědí a Podralsko, webový magazín k3, stránky pěveckého sboru
Canzonetta, stránky osady Druzcov…&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Dříve jsem udělal ještě asi desítku webů, které už buďto nejsou aktuální, nebo neexistují vůbec. Namátkou stránky mikroregionů Podještědí a Podralsko, webový magazín k3, stránky pěveckého sboru Canzonetta, stránky osady Druzcov…
</raw>
    <author>Aleš Roubíček</author>
    <published>2008-09-28T16:26:11.540</published>
    <url>starsi-a-zmizele</url>
    <category>Reference</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2008-09-28T16:26:11.553</edited>
  </article>
  <article>
    <id>308</id>
    <title>Sklad a Správa revizí</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Aplikace na vedení skladu elektro materiálu a pro správu revizí strojů
pro firmu Benteler Automotive. Postaveno na platformě ASP.NET 1.1.&lt;/p&gt;

&lt;p&gt;Realizace: srpen 2004, únor 2005&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Aplikace na vedení skladu elektro materiálu a pro správu revizí strojů pro firmu Benteler Automotive. Postaveno na platformě ASP.NET 1.1.

Realizace: srpen 2004, únor 2005
</raw>
    <author>Aleš Roubíček</author>
    <published>2008-09-28T16:27:15.993</published>
    <url>sklad-a-sprava-revizi</url>
    <category>Reference</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2008-09-28T16:27:15.990</edited>
  </article>
  <article>
    <id>309</id>
    <title>Honesta WebApplication</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Systém na vedení rozhodčích řízení a exekucí. Ve spolupráci
s Ondrou Peřinou postaveno na platformě ASP.NET 1.1.&lt;/p&gt;

&lt;p&gt;Realizace: červen – srpen 2004&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Systém na vedení rozhodčích řízení a exekucí. Ve spolupráci s Ondrou Peřinou postaveno na platformě ASP.NET 1.1.

Realizace: červen – srpen 2004
</raw>
    <author>Aleš Roubíček</author>
    <published>2008-09-28T16:27:45.073</published>
    <url>honesta-webapplication</url>
    <category>Reference</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2008-09-28T18:51:23.740</edited>
  </article>
  <article>
    <id>310</id>
    <title>Inkasní družstvo</title>
    <description></description>
    <html xml:space="preserve">
&lt;div&gt;&lt;a href="http://www.inkasni.cz/"&gt;&lt;img src="/img/reference/inkasni.jpg"
class="preview" alt="Inkasní družstvo" width="400" height="130" /&gt;&lt;/a&gt;&lt;/div&gt;

&lt;p&gt;Kompletní tvorba webové prezentace Inkasního družstva.&lt;/p&gt;

&lt;p&gt;Realizace: leden 2005&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">[*/img/reference/inkasni.jpg 400x130 .(Inkasní družstvo)[preview]*]:[inkasni]

Kompletní tvorba webové prezentace Inkasního družstva.

Realizace: leden 2005

[inkasni]: http://www.inkasni.cz/
</raw>
    <author>Aleš Roubíček</author>
    <published>2008-09-28T16:28:57.980</published>
    <url>inkasni-druzstvo</url>
    <category>Reference</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2008-09-28T18:14:44.123</edited>
  </article>
  <article>
    <id>311</id>
    <title>PB software</title>
    <description></description>
    <html xml:space="preserve">
&lt;div&gt;&lt;a href="http://www.pbsoftware.cz/"&gt;&lt;img src="/img/reference/pbs.jpg"
class="preview" alt="PB software" width="400" height="130" /&gt;&lt;/a&gt;&lt;/div&gt;

&lt;p&gt;Tvorba grafického návrhu a nakódování šablony stránek firmy PB
software a tvorba aplikace Projektor.&lt;/p&gt;

&lt;p&gt;Realizace: květen 2005&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">[*/img/reference/pbs.jpg 400x130 .(PB software)[preview]*]:[pbsoftware]

Tvorba grafického návrhu a nakódování šablony stránek firmy PB software a tvorba aplikace Projektor.

Realizace: květen 2005

[pbsoftware]: http://www.pbsoftware.cz/
</raw>
    <author>Aleš Roubíček</author>
    <published>2008-09-28T16:31:04.090</published>
    <url>pb-software</url>
    <category>Reference</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2008-09-28T18:14:35.263</edited>
  </article>
  <article>
    <id>312</id>
    <title>Gigi D’Agostino CZFP</title>
    <description></description>
    <html xml:space="preserve">
&lt;div&gt;&lt;a href="http://ggdag.euweb.cz/"&gt;&lt;img src="/img/reference/ggdag.jpg"
class="preview" alt="Gigi D’Agostino czech fan pages" width="400" height="130"
/&gt;&lt;/a&gt;&lt;/div&gt;

&lt;p&gt;Kompletní tvorba fanouškovských stránek italského DJ a producenta Gigiho
D’Agostina. Redakční systém Textpattern a Picasa Gallery.&lt;/p&gt;

&lt;p&gt;Realizace: únor – květen 2005&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">[*/img/reference/ggdag.jpg 400x130 .(Gigi D’Agostino czech fan pages)[preview]*]:[ggdag]

Kompletní tvorba fanouškovských stránek italského DJ a producenta Gigiho D’Agostina. Redakční systém Textpattern a Picasa Gallery.

Realizace: únor - květen 2005

[ggdag]: http://ggdag.euweb.cz/
</raw>
    <author>Aleš Roubíček</author>
    <published>2008-09-28T16:32:29.687</published>
    <url>gigi-d’agostino-czech-fan-pages</url>
    <category>Reference</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2008-09-28T18:50:08.287</edited>
  </article>
  <article>
    <id>313</id>
    <title>MikeMaly.net</title>
    <description></description>
    <html xml:space="preserve">
&lt;div&gt;&lt;a href="http://mikemaly.net/"&gt;&lt;img src="/img/reference/mike.jpg"
class="preview" alt="MikeMaly.net" width="400" height="130" /&gt;&lt;/a&gt;&lt;/div&gt;

&lt;p&gt;Kompletní tvorba stránek kamaráda Michala Malého. Redakční systém
Gryphoon a Picasa Gallery.&lt;/p&gt;

&lt;p&gt;Realizace: listopad 2005&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">[*/img/reference/mike.jpg 400x130 .(MikeMaly.net)[preview]*]:[mike]

Kompletní tvorba stránek kamaráda Michala Malého. Redakční systém Gryphoon a Picasa Gallery.

Realizace: listopad 2005

[mike]: http://mikemaly.net/
</raw>
    <author>Aleš Roubíček</author>
    <published>2008-09-28T16:33:17.467</published>
    <url>mikemaly-net</url>
    <category>Reference</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2008-09-28T18:14:10.810</edited>
  </article>
  <article>
    <id>314</id>
    <title>Osečná.info</title>
    <description></description>
    <html xml:space="preserve">
&lt;div&gt;&lt;a href="http://www.osecna.info/"&gt;&lt;img src="/img/reference/osecna.jpg"
class="preview" alt="Osečná.info" width="400" height="130" /&gt;&lt;/a&gt;&lt;/div&gt;

&lt;p&gt;Kompletní tvorba stránek města Osečná. Stránky splňují požadavky na
přístupnost. Redakční systém Gryphoon a Picasa Gallery.&lt;/p&gt;

&lt;p&gt;Realizace: únor 2006&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">[*/img/reference/osecna.jpg 400x130 .(Osečná.info)[preview]*]:[osecna]

Kompletní tvorba stránek města Osečná. Stránky splňují požadavky na přístupnost. Redakční systém Gryphoon a Picasa Gallery.

Realizace: únor 2006

[osecna]: http://www.osecna.info/</raw>
    <author>Aleš Roubíček</author>
    <published>2008-09-28T16:34:15.267</published>
    <url>osecna-info</url>
    <category>Reference</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2008-09-28T18:14:03.280</edited>
  </article>
  <article>
    <id>315</id>
    <title>Písky-sutě.cz</title>
    <description></description>
    <html xml:space="preserve">
&lt;div&gt;&lt;a href="http://www.pisky-sute.cz/"&gt;&lt;img src="/img/reference/pisky.jpg"
class="preview" alt="Písky-sutě.cz" width="400" height="130" /&gt;&lt;/a&gt;&lt;/div&gt;

&lt;p&gt;Kompletní tvorba stránek firmy Milan Gonda, která se zabývá svozem a
likvidací stavebního odpadu v Praze.&lt;/p&gt;

&lt;p&gt;Realizace: únor 2007&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">[*/img/reference/pisky.jpg 400x130 .(Písky-sutě.cz)[preview]*]:[pisky]

Kompletní tvorba stránek firmy Milan Gonda, která se zabývá svozem a likvidací stavebního odpadu v Praze.

Realizace: únor 2007

[pisky]: http://www.pisky-sute.cz/</raw>
    <author>Aleš Roubíček</author>
    <published>2008-09-28T16:36:57.347</published>
    <url>pisky-sute-cz</url>
    <category>Reference</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2008-09-28T18:13:54.717</edited>
  </article>
  <article>
    <id>316</id>
    <title>Obchody.Atlas.cz</title>
    <description></description>
    <html xml:space="preserve">
&lt;div&gt;&lt;a href="http://obchody.atlas.cz/"&gt;&lt;img src="/img/reference/obchody.jpg"
class="preview" alt="Obchody.Atlas.cz" width="400" height="130" /&gt;&lt;/a&gt;&lt;/div&gt;

&lt;p&gt;Vertikální katalog internetových obchodů, jedna z prvních aplikací
postavená na novém katalogovém frameworku.&lt;/p&gt;

&lt;p&gt;Realizace: červen 2007&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">[*/img/reference/obchody.jpg 400x130 .(Obchody.Atlas.cz)[preview]*]:[obchody]

Vertikální katalog internetových obchodů, jedna z prvních aplikací postavená na novém katalogovém frameworku.

Realizace: červen 2007

[obchody]: http://obchody.atlas.cz/</raw>
    <author>Aleš Roubíček</author>
    <published>2008-09-28T16:37:50.283</published>
    <url>obchody-atlas-cz</url>
    <category>Reference</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2008-09-28T18:13:43.433</edited>
  </article>
  <article>
    <id>317</id>
    <title>Atlas firem</title>
    <description></description>
    <html xml:space="preserve">
&lt;div&gt;&lt;a href="http://katalog.atlas.cz/"&gt;&lt;img src="/img/reference/katalog.jpg"
class="preview" alt="Atlas firem" width="400" height="130" /&gt;&lt;/a&gt;&lt;/div&gt;

&lt;p&gt;Velký katalog portálu Atlas.cz byl dlouhodobým projektem spojeným
s novým katalogovým řešením, administrací odkazů, registrací firem,
prodejní aplikací a komponentovým frameworkem na snadnou tvorbu listingových
webů. Součástí realizace bylo i propojení se službou AMapy.cz. Autorem
grafického návrhu je Pavel Trnka.&lt;/p&gt;

&lt;p&gt;Realizace: leden 2007 – červen 2008&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">[*/img/reference/katalog.jpg 400x130 .(Atlas firem)[preview]*]:[katalog]

Velký katalog portálu Atlas.cz byl dlouhodobým projektem spojeným s novým katalogovým řešením, administrací odkazů, registrací firem, prodejní aplikací a komponentovým frameworkem na snadnou tvorbu listingových webů. Součástí realizace bylo i propojení se službou AMapy.cz. Autorem grafického návrhu je Pavel Trnka.

Realizace: leden 2007 – červen 2008

[katalog]: http://katalog.atlas.cz/</raw>
    <author>Aleš Roubíček</author>
    <published>2008-09-28T16:40:27.970</published>
    <url>atlas-firem</url>
    <category>Reference</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2008-09-28T18:13:34.607</edited>
  </article>
  <article>
    <id>318</id>
    <title>Vánoční speciál</title>
    <description></description>
    <html xml:space="preserve">
&lt;div&gt;&lt;img src="/img/reference/vanoce.jpg" class="preview"
alt="Vánoční speciál" width="400" height="130" /&gt;&lt;/div&gt;

&lt;p&gt;Součástí Vánočního speciálu byl katalog tipů na dárky pro členy
rodiny, na jehož realizaci jsem se podílel. Autorem grafického návrhu je Jan
Boruta.&lt;/p&gt;

&lt;p&gt;Realizace: říjen 2007&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">[*/img/reference/vanoce.jpg 400x130 .(Vánoční speciál)[preview]*]

Součástí Vánočního speciálu byl katalog tipů na dárky pro členy rodiny, na jehož realizaci jsem se podílel. Autorem grafického návrhu je Jan Boruta.

Realizace: říjen 2007
</raw>
    <author>Aleš Roubíček</author>
    <published>2008-09-28T16:41:47.410</published>
    <url>vanocni-special</url>
    <category>Reference</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2008-09-28T18:13:25.763</edited>
  </article>
  <article>
    <id>319</id>
    <title>Valentýnský speciál</title>
    <description></description>
    <html xml:space="preserve">
&lt;div&gt;&lt;img src="/img/reference/valentyn.jpg" class="preview"
alt="Valentýnský speciál" width="400" height="130" /&gt;&lt;/div&gt;

&lt;p&gt;Součástí Valentýnského speciálu byl katalog tipů na dárky pro
partnery, na jehož realizaci jsem se podílel. Autorem grafického návrhu je
Jan Boruta.&lt;/p&gt;

&lt;p&gt;Realizace: únor 2008&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">[*/img/reference/valentyn.jpg 400x130 .(Valentýnský speciál)[preview]*]

Součástí Valentýnského speciálu byl katalog tipů na dárky pro partnery, na jehož realizaci jsem se podílel. Autorem grafického návrhu je Jan Boruta.

Realizace: únor 2008</raw>
    <author>Aleš Roubíček</author>
    <published>2008-09-28T16:42:31.080</published>
    <url>valentynsky-special</url>
    <category>Reference</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2008-09-28T18:13:16.013</edited>
  </article>
  <article>
    <id>320</id>
    <title>Špunt.cz</title>
    <description></description>
    <html xml:space="preserve">
&lt;div&gt;&lt;a href="http://www.spunt.cz/"&gt;&lt;img src="/img/reference/spunt.jpg"
class="preview" alt="Špunt.cz" width="400" height="130" /&gt;&lt;/a&gt;&lt;/div&gt;

&lt;p&gt;Jedním z mých posledních projektů v portálu Atlas.cz byl magazín pro
rodiče Špunt. Součástí byl vertikální katalog firem a katalog letních
táborů, na jejichž realizaci jsem se podílel. Autorem grafického návrhu je
Pavel Trnka, službu kompletoval Lukáš Mačí.&lt;/p&gt;

&lt;p&gt;Realizace: srpen 2007, únor 2008&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">[*/img/reference/spunt.jpg 400x130 .(Špunt.cz)[preview]*]:[spunt]

Jedním z mých posledních projektů v portálu Atlas.cz byl magazín pro rodiče Špunt. Součástí byl vertikální katalog firem a katalog letních táborů, na jejichž realizaci jsem se podílel. Autorem grafického návrhu je Pavel Trnka, službu kompletoval Lukáš Mačí.

Realizace: srpen 2007, únor 2008

[spunt]: http://www.spunt.cz/</raw>
    <author>Aleš Roubíček</author>
    <published>2008-09-28T16:44:24.803</published>
    <url>spunt-cz</url>
    <category>Reference</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2008-09-28T18:13:07.043</edited>
  </article>
  <article>
    <id>321</id>
    <title>rarouš.net</title>
    <description></description>
    <html xml:space="preserve">
&lt;div&gt;&lt;a href="http://rarous.net/"&gt;&lt;img src="/img/reference/rarous.jpg"
class="preview" alt="rarouš.net" width="400" height="130" /&gt;&lt;/a&gt;&lt;/div&gt;

&lt;p&gt;Nová sociální verze mojí homepage. Jednotlivé boxy jsou agregovány
z různých webových služeb. Implementace mikroformátů.&lt;/p&gt;

&lt;p&gt;Realizace: únor 2008&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">[*/img/reference/rarous.jpg 400x130 .(rarouš.net)[preview]*]:[rarous]

Nová sociální verze mojí homepage. Jednotlivé boxy jsou agregovány z různých webových služeb. Implementace mikroformátů.

Realizace: únor 2008

[rarous]: http://rarous.net/</raw>
    <author>Aleš Roubíček</author>
    <published>2008-09-28T16:45:12.960</published>
    <url>rarous-net</url>
    <category>Reference</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2008-09-28T18:12:58.387</edited>
  </article>
  <article>
    <id>322</id>
    <title>rarouš.weblog</title>
    <description></description>
    <html xml:space="preserve">
&lt;div&gt;&lt;a href="http://rarous.net/weblog/"&gt;&lt;img src="/img/reference/weblog.jpg"
class="preview" alt="rarouš.weblog" width="400" height="130" /&gt;&lt;/a&gt;&lt;/div&gt;

&lt;p&gt;Nová verze mého blogu, tentokráte trochu v grunge style, s implementací
mikroformátů a odlehčení kódu od WebForms. Redakční systém Gryphoon.&lt;/p&gt;

&lt;p&gt;Realizace: červen 2008&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">[*/img/reference/weblog.jpg 400x130 .(rarouš.weblog)[preview]*]:[rarous.weblog]

Nová verze mého blogu, tentokráte trochu v grunge style, s implementací mikroformátů a odlehčení kódu od WebForms. Redakční systém Gryphoon.

Realizace: červen 2008

[rarous.weblog]: http://rarous.net/weblog/</raw>
    <author>Aleš Roubíček</author>
    <published>2008-09-28T16:46:32.180</published>
    <url>rarous-weblog</url>
    <category>Reference</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2008-09-28T18:12:48.857</edited>
  </article>
  <article>
    <id>323</id>
    <title>Exik.com</title>
    <description></description>
    <html xml:space="preserve">
&lt;div&gt;&lt;a href="http://exik.com/"&gt;&lt;img src="/img/reference/exik.jpg"
class="preview" alt="Exik.com" width="400" height="130" /&gt;&lt;/a&gt;&lt;/div&gt;

&lt;p&gt;Nakódování šablony portfolia grafika Pavla Trnky.&lt;/p&gt;

&lt;p&gt;Realizace: červenec 2008&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">[*/img/reference/exik.jpg 400x130 .(Exik.com)[preview]*]:[exik]

Nakódování šablony portfolia grafika Pavla Trnky.

Realizace: červenec 2008

[exik]: http://exik.com/
</raw>
    <author>Aleš Roubíček</author>
    <published>2008-09-28T16:47:12.320</published>
    <url>exik-com</url>
    <category>Reference</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2008-09-28T18:12:36.027</edited>
  </article>
  <article>
    <id>324</id>
    <title>twareg.intranet</title>
    <description></description>
    <html xml:space="preserve">
&lt;div&gt;&lt;img src="/img/reference/twareg.intranet.jpg" class="preview"
alt="twareg.intranet" width="400" height="130" /&gt;&lt;/div&gt;

&lt;p&gt;Jedním z prvních projektů, na kterém jsem v Twaregu dělal, je intranet
postavený na ASP.NET MVC. Autorem grafického návrhu je Jan Boruta.&lt;/p&gt;

&lt;p&gt;Realizace: září 2008&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">[*/img/reference/twareg.intranet.jpg 400x130 .(twareg.intranet)[preview]*]

Jedním z prvních projektů, na kterém jsem v Twaregu dělal, je intranet postavený na ASP.NET MVC. Autorem grafického návrhu je Jan Boruta.

Realizace: září 2008
</raw>
    <author>Aleš Roubíček</author>
    <published>2008-09-28T16:48:20.460</published>
    <url>twareg-intranet</url>
    <category>Reference</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2008-09-28T18:12:19.920</edited>
  </article>
  <article>
    <id>325</id>
    <title>What's Up?</title>
    <description>Možná si říkáte, tady to umřelo, nic se neděje. Možná máte pravdu.</description>
    <html xml:space="preserve">
&lt;p&gt;Možná si říkáte, tady to umřelo, nic se neděje. Možná máte pravdu.
Je to tím, že poslední dobou toho mám docela dost. Krom příprav na
sobotní &lt;a href="http://webexpo.cz/prednaska/asp-net/"&gt;přednášku&lt;/a&gt;, jsem
se musel věnovat shánění a následnému stěhování a nyní už
i zařizování, což mě docela vytěžuje. :) Navíc v novém bytě ještě
nemám zaveden internet, tak jsem téměř mužem v off-linu.&lt;/p&gt;

&lt;p&gt;K příležitosti &lt;a href="http://www.webexpo.cz/"&gt;WebExpa&lt;/a&gt; jsem si
vytvořil &lt;a
href="http://www.google.com/calendar/embed?src=thtd3v3ci017a69t1ba0p5p8vc&amp;#64;group.calendar.google.com&amp;amp;ctz=Europe/Prague"&gt;kalendář&lt;/a&gt;,
kde bych se chtěl nejspíš pohybovat, uvidíme, jak to nakonec dopadne.&lt;/p&gt;

&lt;p&gt;No a když už se to tak blíží, tak Microsoft nezapoměl vydat &lt;a
href="http://www.microsoft.com/downloads/details.aspx?familyid=a24d1e00-cd35-4f66-baa0-2362bdde0766&amp;amp;displaylang=en&amp;amp;tm"&gt;beta
verzi ASP.NET MVC&lt;/a&gt; o němž chceme s Borkem povídat. Neni to jediný
release před konferencí, například vyšel i &lt;a
href="http://www.microsoft.com/silverlight"&gt;Silverlight 2&lt;/a&gt; o němž bude po
nás povídat Štěpán Bechynský.&lt;/p&gt;

&lt;p&gt;Vzhledem k tomu, že změny mezi Preview 5 a Beta verzí nejsou nikterak
veliké (stačí pár drobných úprav, aby vše opět běželo jak má, budeme
na přednášce tedy ukazovat už Betu. Já už jsem převedl moji ukázkovou
aplikaci. Ta bude aplikace našeho tuaregského intranetu, takže žádná
ukázková spatlanina, ale aplikace z reálného života. Dobré je, že na ní
můžu ukázat jak ASP.NET MVC, tak ADO.NET Data Service, které v projektu
také používám.&lt;/p&gt;

&lt;p&gt;Tak pokud budete na WebExpu, tak mě nezapomeňte přijít pozdravit ;)&lt;/p&gt;

&lt;div class="hslice" id="related"&gt;
	&lt;h3 class="entry-title" id="toc-souvisejici"&gt;Související&lt;/h3&gt;

	&lt;ul class="entry-content"&gt;
		&lt;li&gt;[clanek(295)]&lt;/li&gt;

		&lt;li&gt;&lt;a
		href="http://haacked.com/archive/2008/10/16/aspnetmvc-beta-release.aspx"&gt;Phil
		Haack: ASP.NET MVC Beta Released!&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a
		href="http://weblogs.asp.net/scottgu/archive/2008/10/16/asp-net-mvc-beta-released.aspx"&gt;Scott
		Guthrie: ASP.NET MVC Beta Released&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
&lt;/div&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Možná si říkáte, tady to umřelo, nic se neděje. Možná máte pravdu. Je to tím, že poslední dobou toho mám docela dost. Krom příprav na sobotní přednášku:[prednaska], jsem se musel věnovat shánění a následnému stěhování a nyní už i zařizování, což mě docela vytěžuje. :) Navíc v novém bytě ještě nemám zaveden internet, tak jsem téměř mužem v off-linu.

K příležitosti WebExpa:[webexpo] jsem si vytvořil kalendář:[kalendar], kde bych se chtěl nejspíš pohybovat, uvidíme, jak to nakonec dopadne.

No a když už se to tak blíží, tak Microsoft nezapoměl vydat "beta verzi ASP.NET MVC":[beta] o němž chceme s Borkem povídat. Neni to jediný release před konferencí, například vyšel i [silverlight] o němž bude po nás povídat Štěpán Bechynský.

Vzhledem k tomu, že změny mezi Preview 5 a Beta verzí nejsou nikterak veliké (stačí pár drobných úprav, aby vše opět běželo jak má, budeme na přednášce tedy ukazovat už Betu. Já už jsem převedl moji ukázkovou aplikaci. Ta bude aplikace našeho tuaregského intranetu, takže žádná ukázková spatlanina, ale aplikace z reálného života. Dobré je, že na ní můžu ukázat jak ASP.NET MVC, tak ADO.NET Data Service, které v projektu také používám.

Tak pokud budete na WebExpu, tak mě nezapomeňte přijít pozdravit ;)

/--div .[hslice #related]
Související .[entry-title]
===========
.[entry-content]
* [clanek(295)]
* [haacked]
* [scottgu]
\--

[clanek(295]: http://rarous.net/clanek/295-povidani-o-asp-net-na-webexpu.aspx Povídání o ASP.NET na WebExpu
[prednaska]: http://webexpo.cz/prednaska/asp-net/
[webexpo]: http://www.webexpo.cz/
[kalendar]: http://www.google.com/calendar/embed?src=thtd3v3ci017a69t1ba0p5p8vc@group.calendar.google.com&amp;ctz=Europe/Prague
[beta]: http://www.microsoft.com/downloads/details.aspx?familyid=a24d1e00-cd35-4f66-baa0-2362bdde0766&amp;displaylang=en&amp;tm
[silverlight]: http://www.microsoft.com/silverlight Silverlight 2
[haacked]: http://haacked.com/archive/2008/10/16/aspnetmvc-beta-release.aspx Phil Haack: ASP.NET MVC Beta Released!
[scottgu]: http://weblogs.asp.net/scottgu/archive/2008/10/16/asp-net-mvc-beta-released.aspx Scott Guthrie: ASP.NET MVC Beta Released</raw>
    <author>Aleš Roubíček</author>
    <published>2008-10-16T15:38:37.717</published>
    <url>whats-up</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>webexpo aspnet mvc dataservices silverlight</tags>
    <is-published>1</is-published>
    <edited>2008-10-17T09:16:21.550</edited>
  </article>
  <article>
    <id>326</id>
    <title>Slajdy a ukázky z WebExpa</title>
    <description>Konečně jsem se dostal k tomu abych nahrál slajdy z naší přednášky na web.</description>
    <html xml:space="preserve">
&lt;p&gt;Konečně jsem se dostal k tomu abych nahrál slajdy z naší přednášky
na web.&lt;/p&gt;
&lt;!--[if !IE]&gt; --&gt;
 			&lt;object type="application/x-shockwave-flash"
data="http://www.authorstream.com/player.swf?p=99567_633604576063437500"
width="520" height="434"&gt;
 			&lt;!-- &lt;![endif]--&gt;
 			&lt;!--[if IE]&gt;
			&lt;object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
			  codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"
			  width="520" height="434"&gt;
			  &lt;param name="movie" value="http://www.authorstream.com/player.swf?p=99567_633604576063437500" /&gt;
			&lt;!--&gt;&lt;!--dgx--&gt;
&lt;param name="loop" value="true" /&gt;

&lt;param name="menu" value="false" /&gt;

&lt;param name="allowfullscreen" value="true" /&gt;

&lt;param name="flashvars" value="" /&gt;
 			&lt;/object&gt;
 			&lt;!-- &lt;![endif]--&gt;
&lt;p&gt;Tady tedy jsou:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a
	onclick="t._trackPageview('/files/webexpo/webexpo-aspnet-3.5-futures.ppsx.zip')"
	href="/files/webexpo/webexpo-aspnet-3.5-futures.ppsx.zip"&gt;slajdy pro
	PowerPoint&lt;/a&gt; (1,00 MiB, PPSX)&lt;/li&gt;

	&lt;li&gt;&lt;a
	onclick="t._trackPageview('/files/webexpo/webexpo-aspnet-3.5-futures.pdf')"
	href="/data/soubory/webexpo-aspnet-3.5-futures.pdf"&gt;slajdy pro Adobe Reader&lt;/a&gt;
	(2,49 MiB, PDF)&lt;/li&gt;

	&lt;li&gt;&lt;a
	onclick="t._trackPageview('/files/webexpo/webexpo-aspnet-3.5-futures.zip')"
	href="/files/webexpo/webexpo-aspnet-3.5-futures.zip"&gt;ukázky&lt;/a&gt; (19,44 MiB,
	ZIP)&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Konečně jsem se dostal k tomu abych nahrál slajdy z naší přednášky na web.

{{flash: http://www.authorstream.com/player.swf?p=99567_633604576063437500, 520, 434 }}

Tady tedy jsou:
* [slajdy] (1,00 MiB, PPSX)
* [pdf] (2,49 MiB, PDF)
* [ukazky] (19,44 MiB, ZIP)

[slajdy]: /files/webexpo/webexpo-aspnet-3.5-futures.ppsx.zip slajdy pro PowerPoint .{onclick:t._trackPageview('/files/webexpo/webexpo-aspnet-3.5-futures.ppsx.zip')}

[pdf]: /data/soubory/webexpo-aspnet-3.5-futures.pdf slajdy pro Adobe Reader .{onclick:t._trackPageview('/files/webexpo/webexpo-aspnet-3.5-futures.pdf')}

[ukazky]: /files/webexpo/webexpo-aspnet-3.5-futures.zip ukázky .{onclick:t._trackPageview('/files/webexpo/webexpo-aspnet-3.5-futures.zip')}</raw>
    <author>Aleš Roubíček</author>
    <published>2008-10-19T12:58:14.843</published>
    <url>slajdy-a-ukazky-z-webexpa</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>webexpo aspnet mvc</tags>
    <is-published>1</is-published>
    <edited>2008-10-25T08:50:12.103</edited>
  </article>
  <article>
    <id>327</id>
    <title>WebExpo za námi</title>
    <description>Tento víkend jsem strávil na největší oborové konferenci o webu u nás – na WebExpu 2008.</description>
    <html xml:space="preserve">
&lt;p&gt;Tento víkend jsem strávil na největší oborové konferenci o webu
u nás – na WebExpu 2008. Byla to konference, kde jste mohli potkat lid
nejrůznějších povolání – od marketingu přes management až ke
kodérům, programátorům a vývojářům. A samozřejmě jste nemohli minout
bandičku elitářských blogerů, které jistě znáte z Weblogy.cz.&lt;/p&gt;

&lt;p&gt;Organizačně se mi konference líbila a poskytla mi i spoustu zajímavých
témat k poslechu, někdy až tolik, že jsem začal přemýšlet o tom, jak
využít mé rozdvojené osobnosti k tomu, abych pokryl více přednášek
najednou. Nakonec tato metoda nezafungovala, takže jsem raději zaplul
do šenku…&lt;/p&gt;

&lt;p&gt;Nakonec jsem si odnesl spoustu zajímavých poznatků:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Radek Hulán je v pohodě a líbí se mi jeho pohled na web vs. Microsoft a
	&lt;strong&gt;jeho hlas&lt;/strong&gt;&lt;/li&gt;

	&lt;li&gt;Arthur Dent spal s Davídkem a velkým &lt;strong&gt;plyšovým
	psem&lt;/strong&gt;&lt;/li&gt;

	&lt;li&gt;Ruby je &lt;strong&gt;opravdu skvělé&lt;/strong&gt;&lt;/li&gt;

	&lt;li&gt;rarouš je děsnej &lt;strong&gt;kořala&lt;/strong&gt; a přednášení mu
	fakt nejde&lt;/li&gt;

	&lt;li&gt;Davídek se ztratil&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Díky Vaškovi za skvělou konferenci a snad se brzy sejdeme na nějaké
další ;)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Tento víkend jsem strávil na největší oborové konferenci o webu u nás – na WebExpu 2008. Byla to konference, kde jste mohli potkat lid nejrůznějších povolání - od marketingu přes management až ke kodérům, programátorům a vývojářům. A samozřejmě jste nemohli minout bandičku elitářských blogerů, které jistě znáte z Weblogy.cz.

Organizačně se mi konference líbila a poskytla mi i spoustu zajímavých témat k poslechu, někdy až tolik, že jsem začal přemýšlet o tom, jak využít mé rozdvojené osobnosti k tomu, abych pokryl více přednášek najednou. Nakonec tato metoda nezafungovala, takže jsem raději zaplul do šenku…

Nakonec jsem si odnesl spoustu zajímavých poznatků:

* Radek Hulán je v pohodě a líbí se mi jeho pohled na web vs. Microsoft a **jeho hlas**
* Arthur Dent spal s Davídkem a velkým **plyšovým psem**
* Ruby je **opravdu skvělé**
* rarouš je děsnej **kořala** a přednášení mu fakt nejde
* Davídek se ztratil

Díky Vaškovi za skvělou konferenci a snad se brzy sejdeme na nějaké další ;)

</raw>
    <author>Aleš Roubíček</author>
    <published>2008-10-20T13:08:12.420</published>
    <url>webexpo-za-nami</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>webexpo</tags>
    <is-published>1</is-published>
    <edited>2008-10-20T13:08:12.433</edited>
  </article>
  <article>
    <id>328</id>
    <title>K WebExpu ještě jednou a pořádně</title>
    <description>Už je to týden, co nám skončila přednáška o ASP.NET 3.5 / futures na konferenci WebExpo 2008. Rád bych se k této konferenci ještě ohlédl.</description>
    <html xml:space="preserve">
&lt;p&gt;Už je to týden, co nám skončila &lt;a
href="http://webexpo.cz/prednaska/asp-net/"&gt;přednáška o ASP.NET 3.5 /
futures&lt;/a&gt; na konferenci &lt;a href="http://www.webexpo.cz/"&gt;WebExpo 2008&lt;/a&gt;.
Rád bych se k této konferenci ještě ohlédl.&lt;/p&gt;

&lt;h3 id="toc-moje-prezentace"&gt;Moje prezentace&lt;/h3&gt;

&lt;p&gt;Když mě začátkem léta oslovil &lt;a rel="friend met"
href="http://www.dvanula.cz/"&gt;Vašek Stoupa&lt;/a&gt;, jestli nechci přednášet
o &lt;strong&gt;ASP.NET MVC&lt;/strong&gt; na WebExpu, měl jsem zprvu strach. Nikdy jsem
veřejně nepřednášel a z malých slideshow, které jsem dělal pro kolegy
nebo ve škole, jsem si byl jistý, že mé prezentační schopnosti nejsou
skoro žádné. Ale pak jsem si řekl, že zkusit bych to mohl, přinejmenším
je to dobrá zkušenost a raději jsem požádal &lt;a rel="friend met"
href="http://www.borber.com/"&gt;Borka&lt;/a&gt;, aby se ke mně přidal. Proč? Protože
už jsem ho viděl přednášet na WebCampu a bylo to dobré.&lt;/p&gt;

&lt;p&gt;Takže jsme se domluvili, že přednáška bude mít trochu širší záběr
než jen ASP.NET MVC, které v té době bylo pouze v ukázkových verzích.
V průběhu září jsme vymysleli &lt;a
href="/weblog/295-povidani-o-asp-net-na-webexpu.aspx"&gt;nějakou osnovu&lt;/a&gt;, Borek
založil SVN repository a začali jsme připravovat prezentaci.&lt;/p&gt;

&lt;p&gt;Nejprve jsem udělal ukázku na využití &lt;a
href="http://msdn.microsoft.com/en-us/data/bb931106.aspx"&gt;ADO.NET Data
Services&lt;/a&gt; ve spolupráci s &lt;a href="http://asp.net/ajax/"&gt;ASP.NET AJAX&lt;/a&gt;
(tu najdete přibalenou). Krom toho, že ukazuje základy konzumace RESTových
Data Services, tak je i hezkou ukázkou toho, jak takové služby stavět nejen
nad &lt;a href="http://msdn.microsoft.com/en-us/library/bb399572.aspx"&gt;Entity
Frameworkem&lt;/a&gt;, ale i nad &lt;a
href="http://www.castleproject.org/activerecord/index.html"&gt;ActiveRecord&lt;/a&gt;/&lt;a
href="http://www.hibernate.org/343.html"&gt;NHi­bernate&lt;/a&gt;. No, ukázka není
úplně dokončená, protože jsem se jí přestal věnovat a už jsem nenašel
chuť jí dokončit, ale základní koncepce je snad pochopitelná – snažil
jsem se vše okomentovat.&lt;/p&gt;

&lt;p&gt;Osobně nemám rád psaní zbytečného kódu. Nejsem zastáncem zbytečných
ukázkových aplikací, testovacích utilitek a tak. Takže už jsem žádné
další ukázkové aplikace nepsal a rozhodl se další možnosti ASP.NET
ukázat na již hotových aplikacích, se kterými mám něco společného.&lt;/p&gt;

&lt;p&gt;Základní koncept komponent a Master pages jsem se tedy rozhodl ukázat –
ať nechodíme daleko – na šabloně &lt;a href="/weblog/"&gt;tohoto blogu&lt;/a&gt;.
O něco pokročilejší komponentový framework jsem pak ukazoval na šabloně
&lt;a href="http://obchody.atlas.cz/"&gt;obchody.atlas.cz&lt;/a&gt;. Tahle jedna šablona je
v podstatě celý web. Bez knihovny je sice mrtvá a ještě chyběj pravidla
URL rewritingu, ale jinak je tam vše. Tyhle dvě ukázky najdete taktéž
přibalené.&lt;/p&gt;

&lt;p&gt;Poslední mou ukázkou byla aplikace, kterou jsem psal kvůli potřebě
naučit se &lt;a href="http://asp.net/mvc/"&gt;ASP.NET MVC&lt;/a&gt; a &lt;a
href="http://msdn.microsoft.com/en-us/data/bb931106.aspx"&gt;ADO.NET Data
Services&lt;/a&gt; prakticky ještě před konferencí a zároveň abychom se
v práci zbavili nutnosti zapisovat si příchody někam na papír (formulář)
a pak na konci měsíce počítat, kolik kdo dostane stravenek :). Tak vznikla
&lt;em&gt;docházka&lt;/em&gt; a taky &lt;em&gt;rozcestník projektů&lt;/em&gt; a tím pádem základ
&lt;strong&gt;Twareg.Intranet&lt;/strong&gt;. Shodou okolností to možná bude i naše
první komerčně prodávaná aplikace. Hezký osud bokovky…&lt;/p&gt;

&lt;p&gt;Takže na tomto webu jsem se pokusil ukázat, jak se dělá routing, jak je
ten systém modulární. Jak deklarativně pomocí atributů nastavit autorizaci
k akcím a jak akce snadno přejmenovat. Na víc už moc nezbýval čas. Tahle
ukázka přibalená není. Namísto ní najdete Borkovy REST služby postavené
nad ASP.NET MVC, které jsme bohužel nestihli ukázat.&lt;/p&gt;

&lt;p&gt;Co se týče mého vystoupení, tak moc spokojený nejsem, vůbec se to
nedostalo ani na spodní hranici mých představ o dobré přednášce –
naštěstí tam byl Borek, aby to zachránil.&lt;/p&gt;
&lt;!--[if !IE]&gt; --&gt;
 			&lt;object type="application/x-shockwave-flash"
data="http://www.authorstream.com/player.swf?p=99567_633604576063437500"
width="520" height="434"&gt;
 			&lt;!-- &lt;![endif]--&gt;
 			&lt;!--[if IE]&gt;
			&lt;object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
			  codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"
			  width="520" height="434"&gt;
			  &lt;param name="movie" value="http://www.authorstream.com/player.swf?p=99567_633604576063437500" /&gt;
			&lt;!--&gt;&lt;!--dgx--&gt;
&lt;param name="loop" value="true" /&gt;

&lt;param name="menu" value="false" /&gt;

&lt;param name="allowfullscreen" value="true" /&gt;

&lt;param name="flashvars" value="" /&gt;
 			&lt;/object&gt;
 			&lt;!-- &lt;![endif]--&gt;
&lt;p&gt;&lt;a href="http://www.authorstream.com/"&gt;Author Stream&lt;/a&gt; ty slajdy trochu
rozsypal, ale lepší než nic. Jinak pokud si chcete slajdy nebo ukázky
stáhnout, pokračujte na &lt;a
href="/weblog/326-slajdy-a-ukazky-z-webexpa.aspx"&gt;Slajdy a ukázky
z WebExpa&lt;/a&gt;. Pokud vás toto téma zajímá určitě najdete spoustu
zajímavých &lt;a href="http://www.codeplex.com/aspnet"&gt;futures bits na
Codeplexu&lt;/a&gt;. Některá témata z přednášky bych rád rozebral podrobněji
tady na blogu, ale až někdy jindy.&lt;/p&gt;

&lt;h3 id="toc-shlednute-prezentace"&gt;Shlédnuté prezentace&lt;/h3&gt;

&lt;p&gt;Na WebExpu jsem naštěstí nebyl jen jako pokus o přednášejícího, ale
i jako divák. Oproti původnímu plánu jsem nakonec navštívil trochu jiné
přednášky. Jako opravdu výbornou můžu označit &lt;a
href="http://webexpo.cz/prednaska/adobe-flex-adobe-air/"&gt;přednášku Juraje
Michálka o Flexu&lt;/a&gt;. Hodně dobrá byla nejspíš i &lt;a
href="http://webexpo.cz/prednaska/efektivni-vyvoj-webovych-aplikaci-v-ruby-on-rails/"&gt;Karmiho
přednáška o Ruby on Rails&lt;/a&gt;, ale zastihl jsem jen asi posledních 25 min.
&lt;a
href="http://webexpo.cz/prednaska/vyvoj-webovych-aplikaci-v-php-a-nette-framework/"&gt;Přednáška
o Nette&lt;/a&gt; z úst &lt;a rel="friend met"
href="http://davidgrudl.com/"&gt;nejzasvěcenějšího&lt;/a&gt; byla zábavná,
nicméně s plánovaným &lt;a href="http://www.skoleniphp.cz/"&gt;školením PHP
frameworky&lt;/a&gt; na paměti značně zredukovaná.&lt;/p&gt;

&lt;p&gt;Mezi pro mě obsahově hodnotné a pořád dobře odprezentované bych
ještě rád zařadil &lt;a
href="http://webexpo.cz/prednaska/spring-framework/"&gt;Dagiho přednášku
o Springu&lt;/a&gt;, &lt;a
href="http://webexpo.cz/prednaska/architektura-aplikaci-v-seznamu/"&gt;přednášku
Vlastimila Pečínky o architektuře v Seznamu&lt;/a&gt; a &lt;a
href="http://webexpo.cz/prednaska/sproutcore/"&gt;přednášku o SproutCore od
Antonína Hildebranda&lt;/a&gt;. Sice jsem nedostal odpověď na otázku, jestli to
funguje i bez JavaScriptu, ale i tak přednášku hodnotím jako přínosnou a
můžu rubistům tiše závidět ;).&lt;/p&gt;

&lt;h3 id="toc-socialni-vlivy"&gt;Sociální vlivy&lt;/h3&gt;

&lt;p&gt;Na tuhle akci jsem nejvíc těšil hlavně kvůli lidem. Já moc na tydlety
akce nechodím, ale jednou za čas se potkat s lidmi, které často čtu, není
špatné. Rád jsem osobně potkal i některé nové tváře, které jsem dosud
nečetl a třeba to napravím…&lt;/p&gt;

&lt;h3 id="toc-na-zaver"&gt;Na závěr&lt;/h3&gt;

&lt;p&gt;Na závěr patří především &lt;em&gt;velíké díky&lt;/em&gt; &lt;a rel="friend met"
href="http://www.dvanula.cz/"&gt;Vaškovi&lt;/a&gt;, za velikou zkušenost, za
zorganizování téhle veliké party se spostou zajímavých osobností a se
širokým záběrem témat. Je dobré když se člověk může podívat na to
jak to dělaj jinde a něčemu se třaba přiučit nebo prodiskutovat své
pohledy na věc. Ono táhnout konferenci až do první hodiny ranní není
žádná sranda. Respekt!&lt;/p&gt;

&lt;p&gt;Jo a málem bych zapomněl, na LinkedIn jsem vytvořil k této konferenci
skupinu, takže pokud jste se ještě do ní nepřidali, neváhejte a &lt;a
href="http://www.linkedin.com/groups?gid=1077997&amp;amp;trk=hb_side_g"&gt;udělejte
to&lt;/a&gt; ještě teď. A pokud vás zajímají slajdy ostatních nebo chcte
nasdílet své, využijte &lt;a
href="http://www.slideshare.net/event/webexpo-2008-praha"&gt;eventu na slide
share&lt;/a&gt;.&lt;/p&gt;

&lt;div class="hslice" id="related"&gt;
	&lt;h3 class="entry-title" id="toc-souvisejici"&gt;Související&lt;/h3&gt;

	&lt;ul class="entry-content"&gt;
		&lt;li&gt;&lt;a href="/weblog/295-povidani-o-asp-net-na-webexpu.aspx"&gt;Povídání
		o ASP.NET na WebExpu&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a href="/weblog/326-slajdy-a-ukazky-z-webexpa.aspx"&gt;Slajdy a ukázky
		z WebExpa&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a href="/weblog/327-webexpo-za-nami.aspx"&gt;WebExpo za námi&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a href="http://www.misantrop.info/732022-webexpo-2008.php"&gt;Martin Malý:
		WebExpo 2008&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a href="http://www.sindelka.cz/cz/ohlednuti-webexpo/"&gt;Pavel Šindelka:
		Ohlédnutí za konferencí WebExpo&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a href="http://myego.cz/item/webexpo-ohlednuti-za-konferenci"&gt;Radek Hulán:
		WebExpo – ohlédnutí za konferencí&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a href="http://jankorbel.cz/2008/10/20/par-poznamek-k-webexpu/"&gt;Jan Korbel:
		Pár poznámek k WebExpu&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a href="http://zdrojak.root.cz/clanky/jake-bylo-webexpo-2008/"&gt;Martin
		Hassman: Jaké bylo WebExpo 2008&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a href="http://nikdo.cz/blog/webexpo-2008-den-prvni"&gt;Radek Matěj: WebExpo
		2008 – den první&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a href="http://nikdo.cz/blog/webexpo-2008-den-druhy"&gt;Radek Matěj: WebExpo
		2008 – den druhý&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
&lt;/div&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Už je to týden, co nám skončila "přednáška o ASP.NET 3.5 / futures":[prednaska] na konferenci "WebExpo 2008":[webexpo]. Rád bych se k této konferenci ještě ohlédl.

Moje prezentace
===============

Když mě začátkem léta oslovil [vasek], jestli nechci přednášet o **ASP.NET MVC** na WebExpu, měl jsem zprvu strach. Nikdy jsem veřejně nepřednášel a z malých slideshow, které jsem dělal pro kolegy nebo ve škole, jsem si byl jistý, že mé prezentační schopnosti nejsou skoro žádné. Ale pak jsem si řekl, že zkusit bych to mohl, přinejmenším je to dobrá zkušenost a raději jsem požádal Borka:[borek], aby se ke mně přidal. Proč? Protože už jsem ho viděl přednášet na WebCampu a bylo to dobré.

Takže jsme se domluvili, že přednáška bude mít trochu širší záběr než jen ASP.NET MVC, které v té době bylo pouze v ukázkových verzích. V průběhu září jsme vymysleli "nějakou osnovu":[clanek(295)], Borek založil SVN repository a začali jsme připravovat prezentaci.

Nejprve jsem udělal ukázku na využití [dataservices] ve spolupráci s [ajax] (tu najdete přibalenou). Krom toho, že ukazuje základy konzumace RESTových Data Services, tak je i hezkou ukázkou toho, jak takové služby stavět nejen nad "Entity Frameworkem":[entityframework], ale i nad [activerecord]/[nhibernate]. No, ukázka není úplně dokončená, protože jsem se jí přestal věnovat a už jsem nenašel chuť jí dokončit, ale základní koncepce je snad pochopitelná – snažil jsem se vše okomentovat.

Osobně nemám rád psaní zbytečného kódu. Nejsem zastáncem zbytečných ukázkových aplikací, testovacích utilitek a tak. Takže už jsem žádné další ukázkové aplikace nepsal a rozhodl se další možnosti ASP.NET ukázat na již hotových aplikacích, se kterými mám něco společného.

Základní koncept komponent a Master pages jsem se tedy rozhodl ukázat – ať nechodíme daleko – na šabloně "tohoto blogu":[weblog]. O něco pokročilejší komponentový framework jsem pak ukazoval na šabloně [obchody]. Tahle jedna šablona je v podstatě celý web. Bez knihovny je sice mrtvá a ještě chyběj pravidla URL rewritingu, ale jinak je tam vše. Tyhle dvě ukázky najdete taktéž přibalené.

Poslední mou ukázkou byla aplikace, kterou jsem psal kvůli potřebě naučit se [mvc] a [dataservices] prakticky ještě před konferencí a zároveň abychom se v práci zbavili nutnosti zapisovat si příchody někam na papír (formulář) a pak na konci měsíce počítat, kolik kdo dostane stravenek :). Tak vznikla *docházka* a taky *rozcestník projektů* a tím pádem základ **Twareg.Intranet**. Shodou okolností to možná bude i naše první komerčně prodávaná aplikace. Hezký osud bokovky…

Takže na tomto webu jsem se pokusil ukázat, jak se dělá routing, jak je ten systém modulární. Jak deklarativně pomocí atributů nastavit autorizaci k akcím a jak akce snadno přejmenovat. Na víc už moc nezbýval čas. Tahle ukázka přibalená není. Namísto ní najdete Borkovy REST služby postavené nad ASP.NET MVC, které jsme bohužel nestihli ukázat.

Co se týče mého vystoupení, tak moc spokojený nejsem, vůbec se to nedostalo ani na spodní hranici mých představ o dobré přednášce – naštěstí tam byl Borek, aby to zachránil.

{{flash: http://www.authorstream.com/player.swf?p=99567_633604576063437500, 520, 434}}

[AuthorStream] ty slajdy trochu rozsypal, ale lepší než nic. Jinak pokud si chcete slajdy nebo ukázky stáhnout, pokračujte na [clanek(326)]. Pokud vás toto téma zajímá určitě najdete spoustu zajímavých "futures bits na Codeplexu":[codeplex-aspnet]. Některá témata z přednášky bych rád rozebral podrobněji tady na blogu, ale až někdy jindy.

Shlédnuté prezentace
====================

Na WebExpu jsem naštěstí nebyl jen jako pokus o přednášejícího, ale i jako divák. Oproti původnímu plánu jsem nakonec navštívil trochu jiné přednášky. Jako opravdu výbornou můžu označit "přednášku Juraje Michálka o Flexu":[webexpo-flex]. Hodně dobrá byla nejspíš i "Karmiho přednáška o Ruby on Rails":[webexpo-rails], ale zastihl jsem jen asi posledních 25 min. "Přednáška o Nette":[webexpo-nette] z úst nejzasvěcenějšího:[davidek] byla zábavná, nicméně s plánovaným "školením PHP frameworky":[skoleni] na paměti značně zredukovaná.

Mezi pro mě obsahově hodnotné a pořád dobře odprezentované bych ještě rád zařadil "Dagiho přednášku o Springu":[webexpo-spring], "přednášku Vlastimila Pečínky o architektuře v Seznamu":[webexpo-seznam] a "přednášku o SproutCore od Antonína Hildebranda":[webexpo-sprout]. Sice jsem nedostal odpověď na otázku, jestli to funguje i bez JavaScriptu, ale i tak přednášku hodnotím jako přínosnou a můžu rubistům tiše závidět ;).

Sociální vlivy
==============

Na tuhle akci jsem nejvíc těšil hlavně kvůli lidem. Já moc na tydlety akce nechodím, ale jednou za čas se potkat s lidmi, které často čtu, není špatné. Rád jsem osobně potkal i některé nové tváře, které jsem dosud nečetl a třeba to napravím…

Na závěr
========

Na závěr patří především *velíké díky* Vaškovi:[vasek], za velikou zkušenost, za zorganizování téhle veliké party se spostou zajímavých osobností a se širokým záběrem témat. Je dobré když se člověk může podívat na to jak to dělaj jinde a něčemu se třaba přiučit nebo prodiskutovat své pohledy na věc. Ono táhnout konferenci až do první hodiny ranní není žádná sranda. Respekt!

Jo a málem bych zapomněl, na LinkedIn jsem vytvořil k této konferenci skupinu, takže pokud jste se ještě do ní nepřidali, neváhejte a "udělejte to":[linkedin-webexpo] ještě teď. A pokud vás zajímají slajdy ostatních nebo chcte nasdílet své, využijte "eventu na slide share":[slideshare].

/--div .[hslice #related]
Související .[entry-title]
============
.[entry-content]
* [clanek(295)]
* [clanek(326)]
* [clanek(327)]
* [misantrop-webexpo]
* [sindelka-webexpo]
* [hulan-webexpo]
* [korbel-webexpo]
* [hassman-webexpo]
* [nikdo-webexpo1]
* [nikdo-webexpo2]
\--div

[clanek(327)]: /weblog/327-webexpo-za-nami.aspx WebExpo za námi
[clanek(326)]: /weblog/326-slajdy-a-ukazky-z-webexpa.aspx Slajdy a ukázky z WebExpa
[clanek(295)]: /weblog/295-povidani-o-asp-net-na-webexpu.aspx Povídání o ASP.NET na WebExpu

[webexpo]: http://www.webexpo.cz/ WebExpo
[webexpo-flex]: http://webexpo.cz/prednaska/adobe-flex-adobe-air/
[webexpo-rails]: http://webexpo.cz/prednaska/efektivni-vyvoj-webovych-aplikaci-v-ruby-on-rails/
[webexpo-nette]: http://webexpo.cz/prednaska/vyvoj-webovych-aplikaci-v-php-a-nette-framework/
[webexpo-spring]: http://webexpo.cz/prednaska/spring-framework/
[webexpo-seznam]: http://webexpo.cz/prednaska/architektura-aplikaci-v-seznamu/
[webexpo-sprout]: http://webexpo.cz/prednaska/sproutcore/
[prednaska]: http://webexpo.cz/prednaska/asp-net/
[skoleni]: http://www.skoleniphp.cz/
[codeplex-aspnet]: http://www.codeplex.com/aspnet
[borek]: http://www.borber.com/ Borek Bernard .{rel: friend met}
[davidek]: http://davidgrudl.com/ David Grudl .{rel: friend met}
[vasek]: http://www.dvanula.cz/ Vašek Stoupa .{rel: friend met}
[obchody]: http://obchody.atlas.cz/ obchody.atlas.cz
[weblog]: /weblog/
[mvc]: http://asp.net/mvc/ ASP.NET MVC
[ajax]: http://asp.net/ajax/ ASP.NET AJAX
[dataservices]: http://msdn.microsoft.com/en-us/data/bb931106.aspx ADO.NET Data Services
[nhibernate]: http://www.hibernate.org/343.html NHibernate
[activerecord]: http://www.castleproject.org/activerecord/index.html ActiveRecord
[entityframework]: http://msdn.microsoft.com/en-us/library/bb399572.aspx Entity Framework
[AuthorStream]: http://www.authorstream.com/ Author Stream
[misantrop-webexpo]: http://www.misantrop.info/732022-webexpo-2008.php Martin Malý: WebExpo 2008
[sindelka-webexpo]: http://www.sindelka.cz/cz/ohlednuti-webexpo/ Pavel Šindelka: Ohlédnutí za konferencí WebExpo
[hulan-webexpo]: http://myego.cz/item/webexpo-ohlednuti-za-konferenci Radek Hulán: WebExpo - ohlédnutí za konferencí
[korbel-webexpo]: http://jankorbel.cz/2008/10/20/par-poznamek-k-webexpu/ Jan Korbel: Pár poznámek k WebExpu
[hassman-webexpo]: http://zdrojak.root.cz/clanky/jake-bylo-webexpo-2008/ Martin Hassman: Jaké bylo WebExpo 2008
[linkedin-webexpo]: http://www.linkedin.com/groups?gid=1077997&amp;trk=hb_side_g
[slideshare]: http://www.slideshare.net/event/webexpo-2008-praha
[nikdo-webexpo1]: http://nikdo.cz/blog/webexpo-2008-den-prvni Radek Matěj: WebExpo 2008 - den první
[nikdo-webexpo2]: http://nikdo.cz/blog/webexpo-2008-den-druhy Radek Matěj: WebExpo 2008 - den druhý</raw>
    <author>Aleš Roubíček</author>
    <published>2008-10-25T16:19:27.570</published>
    <url>k-webexpu-jeste-jednou-a-poradne</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>webexpo aspnet mvc nhibernate activerecord nette spring ajax twareg</tags>
    <is-published>1</is-published>
    <edited>2009-01-02T14:40:54.487</edited>
  </article>
  <article>
    <id>329</id>
    <title>REST aplikace pomocí ASP.NET MVC</title>
    <description>Jednou z důležitých novinek v beta verzi ASP.NET MVC je bezesporu možnost přetěžování akcí a ve spolupráci s filtry na typ požadavku můžeme přejít na REST full přístup k architektuře webové aplikace. Jak na to?</description>
    <html xml:space="preserve">
&lt;p&gt;Jednou z důležitých novinek v beta verzi ASP.NET MVC je bezesporu
možnost přetěžování akcí a ve spolupráci s filtry na typ požadavku
můžeme přejít na REST přístup k architektuře webové aplikace.&lt;/p&gt;

&lt;p&gt;Ačkoli si mnoho lidí myslí, že když píšou v ASP.NET MVC, mají rovnou
&lt;acronym title="Representational state transfer"&gt;REST&lt;/acronym&gt; out of the box,
není tomu tak. V plném RESTu se totiž nedostávají do URL slovesa (akce),
nýbrž pouze předměty. Typický scénář &lt;acronym
title="Create Read Update Delete"&gt;CRUD&lt;/acronym&gt; operací může vypadat
následovně:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;POST /Customers/Create/
GET /Customers/Detail/1
POST /Customers/Update/1
GET /Customers/Delete/1&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Takovéto akce snadno pokryjeme s výchozí routou
&lt;code&gt;/{controller}/{action}/{id}&lt;/code&gt; a řadič
&lt;code&gt;CustomersController&lt;/code&gt; může vypadat nějak tak:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class CustomersController : Controller {
  public ActionResult Create(Customer customer) {
    // TODO: create customer
  }

  public ActionResult Detail(int id) {
    // TODO: find customer by id
  }

  public ActionResult Update(int id, Customer customer) {
    // TODO: update customer
  }

  public ActionResult Delete(int id) {
    // TODO: delete customer
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Jenže POSTování a GETování je jen slabou podmnožinou povolených
operací na HTTP protokolu. Správný REST přístup pro CRUD operace by měl
vypadat následovně:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;POST /Customers
GET /Customers/1
PUT /Customers/1
DELETE /Customers/1&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id="toc-co-je-pro-to-treba-udelat"&gt;Co je pro to třeba udělat?&lt;/h3&gt;

&lt;p&gt;Začneme od routy. Přidáme novou routu pro
&lt;code&gt;CustomersController&lt;/code&gt;:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;routes.MapRoute(
  "REST Customers",
  "Customers/{id}",
  new { controller = "Customers", action = "Rest", id = "" }
);&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;A původní kód obohatíme o pár atributů:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class CustomersController : Controller {

  [ActionName("Rest")]
  [HttpPost]
  public ActionResult Create(Customer customer) {
    // TODO: save Customer to database
    return new HttpStatusCodeResult((int)HttpStatusCode.OK);
  }

  [ActionName("Rest")]
  [HttpGet]
  public ActionResult Detail(int id) {
    // TODO: load Customer from database
    return View("Detail");
  }

  [ActionName("Rest")]
  [HttpGet]
  public ActionResult Index() {
    // TODO: load Customers from database
    return View("Index");
  }

  [ActionName("Rest")]
  [HttpPut]
  public ActionResult Update(int id, Customer customer) {
    // TODO: update Customer in database
    return new HttpStatusCodeResult((int)HttpStatusCode.OK);
  }

  [ActionName("Rest")]
  [HttpDelete]
  public ActionResult Delete(int id) {
    // TODO: delete Customer from database
   return new HttpStatusCodeResult((int)HttpStatusCode.OK);
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;A máme REST :)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Jednou z důležitých novinek v beta verzi ASP.NET MVC je bezesporu možnost přetěžování akcí a ve spolupráci s filtry na typ požadavku můžeme přejít na REST přístup k architektuře webové aplikace.

Ačkoli si mnoho lidí myslí, že když píšou v ASP.NET MVC, mají rovnou REST((Representational state transfer)) out of the box, není tomu tak. V plném RESTu se totiž nedostávají do URL slovesa (akce), nýbrž pouze předměty. Typický scénář CRUD((Create Read Update Delete)) operací může vypadat následovně:

/--code
POST /Customers/Create/
GET /Customers/Detail/1
POST /Customers/Update/1
GET /Customers/Delete/1
\--code

Takovéto akce snadno pokryjeme s výchozí routou `/{controller}/{action}/{id}` a řadič `CustomersController` může vypadat nějak tak:

/--code csharp
public class CustomersController : Controller {
  public ActionResult Create(Customer customer) {
    // TODO: create customer
  }

  public ActionResult Detail(int id) {
    // TODO: find customer by id
  }

  public ActionResult Update(int id, Customer customer) {
    // TODO: update customer
  }

  public ActionResult Delete(int id) {
    // TODO: delete customer
  }
}
\--code

Jenže POSTování a GETování je jen slabou podmnožinou povolených operací na HTTP protokolu. Správný REST přístup pro CRUD operace by měl vypadat následovně:

/--code
POST /Customers
GET /Customers/1
PUT /Customers/1
DELETE /Customers/1
\--code

Co je pro to třeba udělat?
====================

Začneme od routy. Přidáme novou routu pro `CustomersController`:

/--code csharp
routes.MapRoute(
  "REST Customers",
  "Customers/{id}",
  new { controller = "Customers", action = "Rest", id = "" }
);
\--code

A původní kód obohatíme o pár atributů:

/--code csharp
public class CustomersController : Controller {

  [ActionName("Rest")]
  [HttpPost]
  public ActionResult Create(Customer customer) {
    // TODO: save Customer to database
    return new HttpStatusCodeResult((int)HttpStatusCode.OK);
  }

  [ActionName("Rest")]
  [HttpGet]

  public ActionResult Detail(int id) {
    // TODO: load Customer from database
    return View("Detail");
  }

  [ActionName("Rest")]
  [HttpGet]
  public ActionResult Index() {
    // TODO: load Customers from database
    return View("Index");
  }

  [ActionName("Rest")]
  [HttpPut]
  public ActionResult Update(int id, Customer customer) {
    // TODO: update Customer in database
    return new HttpStatusCodeResult((int)HttpStatusCode.OK);
  }

  [ActionName("Rest")]
  [HttpDelete]
  public ActionResult Delete(int id) {
    // TODO: delete Customer from database
   return new HttpStatusCodeResult((int)HttpStatusCode.OK);
  }
}
\--code

A máme REST :)

</raw>
    <author>Aleš Roubíček</author>
    <published>2008-10-26T11:20:59.783</published>
    <url>rest-aplikace-pomoci-asp-net-mvc</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>aspnet mvc rest</tags>
    <is-published>1</is-published>
    <edited>2010-08-30T15:00:50.877</edited>
  </article>
  <article>
    <id>330</id>
    <title>Komponenty a nástroje od DevExpress zdarma</title>
    <description>Firma Developer Express uvolnila sadu vizuálních koponent jak pro WinForms, tak pro WebForms a aby toho nebylo málo, tak i Xpress verzi skvělého CodeRush.</description>
    <html xml:space="preserve">
&lt;p&gt;Firma DevExpress je známá vývojem vizuálních komponent – v poslední
době zejména pro dotnet, ale dříve také např. pro VCL nebo Delphi. Další
jejich aktivitou jsou nástroje pro zvýšení produktivity práce CodeRush a
Refactor! Pro, což jsou plug-iny do Visual Studia. No a nedávno došlo
k uvolnění bezplatné sady komponent a express verze nástrojů.&lt;/p&gt;

&lt;h3 id="toc-vizualni-komponenty-pro-asp-net"&gt;Vizuální komponenty pro
ASP.NET&lt;/h3&gt;

&lt;p&gt;&lt;a
href="http://www.devexpress.com/Products/Free/WebRegistration60/"&gt;Balíček
bezplatných komponent&lt;/a&gt; obsahuje 21 kusů, jako tag cloud, menu,
stránkovač, záložky, rss čtečku nebo callback panel. Určitě jsou mnohé
z nich užitečné. :) Integrují se do toolboxu VS 2005 i 2008. &lt;a
href="http://www.devexpress.com/Products/Free/WebRegistration60/"&gt;Stáh­nout&lt;/a&gt;
si je můžete zdarma po vyplnění registrace (jméno a e-mailová adresa).&lt;/p&gt;

&lt;h3 id="toc-nastroje-pro-zvyseni-produktivity"&gt;Nástroje pro zvýšení
produktivity&lt;/h3&gt;

&lt;p&gt;Pokud jste viděli videa o VS 2010, možná jste si všimli, že bude
podporovat spoustu pěkných code snippets, příkazy pro generování kódu
přes smart tagy apod. Tohle a mnohem víc umí už léta CodeRush.
A DevExpress nyní přišli Xpress verzí, která přináší zdarma vybrané
funkce zdarma. Je to třeba:&lt;/p&gt;

&lt;dl&gt;
	&lt;dt&gt;inteligentní vkládání ze schránky&lt;/dt&gt;

	&lt;dd&gt;když napíšete sadu fieldů a zkopírujete ji a pak vložíte do
	konstruktru, automaticky se vytvoří inicializace těchto fieldů,&lt;/dd&gt;

	&lt;dt&gt;navigace po referencích&lt;/dt&gt;

	&lt;dd&gt;kurzorem najedete do názvu proměnné a pomocí klávesy &lt;code&gt;TAB&lt;/code&gt;
	přeskakujete po všech jejích výskytech,&lt;/dd&gt;

	&lt;dt&gt;generování kódu&lt;/dt&gt;

	&lt;dd&gt;to se hodí při TDD stylu práce, kdy napíšete test pro neexistující
	třídy a metody a necháte si je přes smart tag vygenerovat,&lt;/dd&gt;

	&lt;dt&gt;inteligentní selekce&lt;/dt&gt;

	&lt;dd&gt;numerickou klávesou &lt;code&gt;+&lt;/code&gt; se označí nejbližší logická
	jednotka, a opakovaným stiskem třeba celý řádek, potom blok a tak dále,
	hodí se to třeba při psaní LINQ dotazů, které pak třeba chcete vložit do
	závorky a zavolat třeba metodu &lt;code&gt;Take&lt;/code&gt; nebo &lt;code&gt;ToList&lt;/code&gt;.
	Zmáčknete třikrát &lt;code&gt;+&lt;/code&gt; a pak &lt;code&gt;(&lt;/code&gt; a celý LINQ dotaz je
	ozávorkovaný.&lt;/dd&gt;
&lt;/dl&gt;

&lt;p&gt;Krom výše zmiňované funkcionality CodeRush jsou přibaleny i některé
skvělé refaktoringy z Refactor! Pro. Z těch zajímavějších vyberu třeba
konverzi delegáta na lambda výraz, vytvoření lokální proměnné
z označeného kusu kódu, komprimace na samo implementující property,
převod ternárního operátoru na &lt;code&gt;if&lt;/code&gt; a zase zpátky, přesun typu
do samostatného souboru a další užitečné refactoringy.&lt;/p&gt;

&lt;h3 id="toc-zaver"&gt;Závěr&lt;/h3&gt;

&lt;p&gt;Osobně jsem spokojeným vlastníkem plné verze &lt;a
href="http://devexpress.com/Products/Visual_Studio_Add-in/Coding_Assistance/"&gt;CodeRush
a Refactor!&lt;/a&gt; Pro a používám spoustu dalších vychytávek, které
v bezplatné verzi nejsou, ale i tak může být velice zajímavá, protože
spousta věcí je velice návykových, a když je to zadarmo…&lt;/p&gt;

&lt;p&gt;No prostě doporučuju minimálně alespoň vyzkoušet.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Poznamka: Vzhledem k licenční politice Microsoftu, nefunguje CodeRush
Xpress v Express edicích Visual Studia. Pro jejich použití potřebujete
alespoň Standard verzi.&lt;/em&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Firma DevExpress je známá vývojem vizuálních komponent – v poslední době zejména pro dotnet, ale dříve také např. pro VCL nebo Delphi. Další jejich aktivitou jsou nástroje pro zvýšení produktivity práce CodeRush a Refactor! Pro, což jsou plug-iny do Visual Studia. No a nedávno došlo k uvolnění bezplatné sady komponent a express verze nástrojů.

Vizuální komponenty pro ASP.NET
===============================

"Balíček bezplatných komponent":[komponenty] obsahuje 21 kusů, jako tag cloud, menu, stránkovač, záložky, rss čtečku nebo callback panel. Určitě jsou mnohé z nich užitečné. :) Integrují se do toolboxu VS 2005 i 2008. Stáhnout:[komponenty] si je můžete zdarma po vyplnění registrace (jméno a e-mailová adresa).

Nástroje pro zvýšení produktivity
=================================

Pokud jste viděli videa o VS 2010, možná jste si všimli, že bude podporovat spoustu pěkných code snippets, příkazy pro generování kódu přes smart tagy apod. Tohle a mnohem víc umí už léta CodeRush. A DevExpress nyní přišli Xpress verzí, která přináší zdarma vybrané funkce zdarma. Je to třeba:

inteligentní vkládání ze schránky:
 * když napíšete sadu fieldů a zkopírujete ji a pak vložíte do konstruktru, automaticky se vytvoří inicializace těchto fieldů,
navigace po referencích:
 * kurzorem najedete do názvu proměnné a pomocí klávesy `TAB` přeskakujete po všech jejích výskytech,
generování kódu:
 * to se hodí při TDD stylu práce, kdy napíšete test pro neexistující třídy a metody a necháte si je přes smart tag vygenerovat,
inteligentní selekce:
 * numerickou klávesou `+` se označí nejbližší logická jednotka, a opakovaným stiskem třeba celý řádek, potom blok a tak dále, hodí se to třeba při psaní LINQ dotazů, které pak třeba chcete vložit do závorky a zavolat třeba metodu `Take` nebo `ToList`. Zmáčknete třikrát `+` a pak `(` a celý LINQ dotaz je ozávorkovaný.

Krom výše zmiňované funkcionality CodeRush jsou přibaleny i některé skvělé refaktoringy z Refactor! Pro. Z těch zajímavějších vyberu třeba konverzi delegáta na lambda výraz, vytvoření lokální proměnné z označeného kusu kódu, komprimace na samo implementující  property, převod ternárního operátoru na `if` a zase zpátky, přesun typu do samostatného souboru a další užitečné refactoringy.

Závěr
=====

Osobně jsem spokojeným vlastníkem plné verze "CodeRush a Refactor!":[coderush] Pro a používám spoustu dalších vychytávek, které v bezplatné verzi nejsou, ale i tak může být velice zajímavá, protože spousta věcí je velice návykových, a když je to zadarmo…

No prostě doporučuju minimálně alespoň vyzkoušet.

*Poznamka: Vzhledem k licenční politice Microsoftu, nefunguje CodeRush Xpress v Express edicích Visual Studia. Pro jejich použití potřebujete alespoň Standard verzi.*

[komponenty]: http://www.devexpress.com/Products/Free/WebRegistration60/
[nastroje]: http://www.devexpress.com/Products/Visual_Studio_Add-in/CodeRushX/
[coderush]: http://devexpress.com/Products/Visual_Studio_Add-in/Coding_Assistance/
</raw>
    <author>Aleš Roubíček</author>
    <published>2008-11-16T18:53:16.813</published>
    <url>komponenty-a-nastroje-od-devexpress-zdarma</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>coderush refactor vs2008</tags>
    <is-published>1</is-published>
    <edited>2008-11-17T07:24:35.773</edited>
  </article>
  <article>
    <id>331</id>
    <title>Proč jsou statické helpery zlo?</title>
    <description>Minulý týden psal Arthur spotík o takovém tom víkendovém programování, ve kterém šlo hlavně o to, že přešel na Vistu, vytvořil si gadget pro přehrávání ČRo a taky editor hosts souboru. Napsal ho v C# a zmínil se o tom, že použil techniku, se kterou nejsem</description>
    <html xml:space="preserve">
&lt;p&gt;Minulý týden psal Arthur spotík o takovém tom &lt;a
href="http://www.misantrop.info/742263-programatorsky-vikend.php"&gt;víkendovém
programování&lt;/a&gt;, ve kterém šlo hlavně o to, že přešel na Vistu,
vytvořil si gadget pro přehrávání ČRo a taky editor &lt;code&gt;hosts&lt;/code&gt;
souboru. Napsal ho v C# a zmínil se o tom, že použil techniku, se kterou
nejsem s to…&lt;/p&gt;

&lt;p&gt;Zkrátka podědil si generickou &lt;code&gt;Dictionary&amp;lt;TKey, TValue&amp;gt;&lt;/code&gt; a
rozšířil ji o serializaci. Dictionary není serializovatelná. Je to dáno
jak její generickou povahou (constraints pro atributy neexistují), tak tím,
že sídlí v knihovně, která nesmí mít závislost na jiné, která
serializaci zajišťuje.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class SerializableDictionary&amp;lt;TKey, TValue&amp;gt;
  : Dictionary&amp;lt;TKey, TValue&amp;gt;, ISerializable {
  // ...
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;To byla moje chvíle, vyčmuchal jsem zde codesmell (zbytečné dědění,
které by šlo vyřešit kompozicí). &lt;a
href="http://www.misantrop.info/742263-programatorsky-vikend.php#cmt_4"&gt;Neomaleně
jsem vstoupil do diskuse&lt;/a&gt; chválící gadget a sprostě Arthura pohanil.
Omlouvám se za to. Mým úmyslem bylo ho postrčit o kus dál, možná
rozšířit obzory. Prostě sprostá rada, která by mi v začátcích se C#
pomohla nebloudit labyrintem macatých tříd se spoustou dovedností a košatou
hierarchií předků a potomků.&lt;/p&gt;

&lt;h3 id="toc-alternativni-reseni"&gt;Alternativní řešení&lt;/h3&gt;

&lt;p&gt;V diskusi, kterou jsem tímto vyvolal, padlo i to, že jde o porušení &lt;a
href="http://www.borber.com/blog/zapouzdreni-vs-single-responsibility-principle"&gt;Single
Responsibility Principle&lt;/a&gt;, které už rozebral Borek. Arthur tedy nabídl,
alternativní řešení, jak se s problémem vypořádat:&lt;/p&gt;

&lt;blockquote&gt;
	&lt;p&gt;Samozřejmě jsem si mohl napsat i kašpárkovskou třídu, co má dvě
	&lt;strong&gt;statické metody&lt;/strong&gt; (Serializuj a Deserializuj) a veřejný
	parametr „Dictionary“… šlo by to vyřešit mnoha způsoby, lišícími se
	co do pracnosti, elegance a efektivity, a já se rozhodl nedělat „composition
	blackbox“, ale podědit třídu – především proto, že bych musel
	zpřístupňovat spoustu veřejných metod od původní generiky, nebo
	deklarovat vložený objekt jako veřejný.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public static class DictionarySerializer&amp;lt;TKey, TValue&amp;gt; {
  public static byte[] Serialize(Dictionary&amp;lt;TKey, TValue&amp;gt; dictionary) {
    // ...
  }
  public static Dictionary&amp;lt;TKey, TValue&amp;gt; Deserialize(byte[] data) {
    // ...
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Přejdu teď &lt;em&gt;composition blackbox&lt;/em&gt; – vrátím se snad k němu
někdy jindy, ale zastavím se u statických metod. Myslím si totiž, že to
je další cesta do pekel… :)&lt;/p&gt;

&lt;h3 id="toc-staticky-vs-instancne"&gt;Staticky vs. Instančně&lt;/h3&gt;

&lt;p&gt;Na toto téma se vedlo jedno z vláken té jinak pěkné diskuse
o šikovném gadgetu. (Platíte koncesionářské poplatky?) Osobně zastávám
názor, že je lepší se statickým helperům vyhýbat. Jednak ze zkušenosti a
druhak z některých signálů a pouček správného OO návrhu.&lt;/p&gt;

&lt;p&gt;V objektových jazycích odvozených od C jsme si zvykli používat třídy.
Třída je předpis, podle kterého se vyrábějí objekty. Objekty jsou
přenašeči dat nebo službami. Mohou být tedy obdařeny rozhraním, přes
které s ním komunikují jiné objekty. Jenže ve světě Céčkových
jazyků, můžeme mít tzv. statické členy. Statický člen existuje jen
jednou, po celou dobu života aplikace.&lt;/p&gt;

&lt;p&gt;Jenže, co je to &lt;strong&gt;život aplikace&lt;/strong&gt;? Nevím jak je to přesně
v PHP, ale myslím, že tam je to cca jeden požadavek. Statické proměnné tu
slouží jako šikovná náhrada globálních proměnných a statické metody
dovolují volat akce bez nudného vytváření instance třídy. To je jistě
super. Ve světě dotnetu je to však mnohem složitější. V ASP.NET žije
aplikace dokud ji někdo nevypne, tj. neresetuje aplikační pool, nezmění
konfiguraci nebo neaktualizuje binárky. Takže u statického členu nikdy
netušíte, jak dlouho bude žít.&lt;/p&gt;

&lt;p&gt;Dalším problémem je &lt;strong&gt;konkurence&lt;/strong&gt;. V PHP se aplikace
spouští při každém požadavku a po jeho skončení opět vyhnije a to vše
se děje v rámci jednoho vlákna. V ASP.NET žije aplikace mnoho požadavků,
které jsou zpracovány samostatnými vlákny. Vzhledem k tomu, že statické
členy jsou v aplikaci jen jednou a to pro více vláken, musíte najednou
začít řešit konkurenční přístup, k těmto členům.&lt;/p&gt;

&lt;p&gt;Další z problémů statických členů je ten, že &lt;strong&gt;třída není
objekt&lt;/strong&gt;, tudíž by se s členy třídy nemělo počítat
v objektovém návrhu. :) Statické metody ani vlastnosti &lt;strong&gt;nelze popsat
rozhraním&lt;/strong&gt;, při jejich užití vzniká &lt;strong&gt;úzká vazba&lt;/strong&gt;.
Takovéto členy se také krásně vyhýbají dědičnosti. Nelze je přepsat
tradičními postupy.&lt;/p&gt;

&lt;p&gt;Takhle bych ve zkratce shrnul hlavní nevýhody statického přístupu.
Platí jen pro určité případy. Nemusíte se s nimi nutně setkat a pro
váš konkrétní případ mohou být i výhodné. Pokud však navrhujete API,
které má být znovupoužitelné (hlavní výhoda OOP), nikdy nevíte,
v jakém prostředí poběží. A když už píšeme objektově, tak proč
rovnou nepsat tak, aby naše třídy znovupoužitel­né byly?&lt;/p&gt;

&lt;h3 id="toc-jak-tedy-s-temi-helpery"&gt;Jak tedy s těmi helpery?&lt;/h3&gt;

&lt;p&gt;Jak říká Michal Bláha, „statický helpery jsou výbornej syntax
sugar.“ Jasně, proč ne? Ve skriptech může být statický helper jasným
přínosem. Je ale třeba myslet na některá pravidla.&lt;/p&gt;

&lt;p&gt;Základním pravidlem, pokud chci vytvořit statický helper, je vytvořit
instanční implementaci. Dobrou ukázkou tohoto přístupu je například
&lt;code&gt;System.IO.File&lt;/code&gt;, který je statickou fasádou nad
&lt;code&gt;System.IO.FileInfo&lt;/code&gt;. Podobně funguje např. i metoda
&lt;code&gt;Rarous.TexyNet.Texy.Process&lt;/code&gt;, která slouží k rychlému převodu
textu do HTML, ale je tu i silné instanční API, které tato
metoda volá.&lt;/p&gt;

&lt;h3 id="toc-zaver"&gt;Závěr&lt;/h3&gt;

&lt;p&gt;Statické helpery jsou zlo, když jsou primárním návrhem a taky jediným.
Pokud dosahujete kompozice objektů pomocí dependency injection, jsou pro vás
statické helpery nedosažitelné (bez napsání instančního wraperu). Když
píšete unit testy, nemůžete snadno statický helper nahradit. Pokud máte
statické vlastnosti, musíte myslet na konkurenční přístup a životnost
zdrojů, které takto zapouzdřujete.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public interface IDictionarySerializer&amp;lt;TKey, TValue, TData&amp;gt; {
  TData Serialize(IDictionary&amp;lt;TKey, TValue&amp;gt; dictionary);
  IDictionary&amp;lt;TKey, TValue&amp;gt; Deserialize(TData data);
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Přece jen existuje více cest k cíli a je možné, že se někde šeredně
pletu. Jaký je váš pohled na věc?&lt;/p&gt;

&lt;div class="hslice" id="related"&gt;
	&lt;h3 class="entry-title" id="toc-souvisejici"&gt;Související&lt;/h3&gt;

	&lt;ul class="entry-content"&gt;
		&lt;li&gt;&lt;a href="http://www.misantrop.info/742263-programatorsky-vikend.php"&gt;Martin
		Malý: Programátorský víkend&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a
		href="http://www.borber.com/blog/zapouzdreni-vs-single-responsibility-principle"&gt;Borek
		Bernard: Zapouzdření vs. Single Responsibility Principle&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
&lt;/div&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Minulý týden psal Arthur spotík o takovém tom "víkendovém programování":[vikendove-programovani], ve kterém šlo hlavně o to, že přešel na Vistu, vytvořil si gadget pro přehrávání ČRo a taky editor `hosts` souboru. Napsal ho v C# a zmínil se o tom, že použil techniku, se kterou nejsem s to…

Zkrátka podědil si generickou `Dictionary&lt;TKey, TValue&gt;` a rozšířil ji o serializaci. Dictionary není serializovatelná. Je to dáno jak její generickou povahou (constraints pro atributy neexistují), tak tím, že sídlí v knihovně, která nesmí mít závislost na jiné, která serializaci zajišťuje.

/--code csharp
public class SerializableDictionary&lt;TKey, TValue&gt;
  : Dictionary&lt;TKey, TValue&gt;, ISerializable {
  // ...
}
\--code

To byla moje chvíle, vyčmuchal jsem zde codesmell (zbytečné dědění, které by šlo vyřešit kompozicí). "Neomaleně jsem vstoupil do diskuse":[komentar] chválící gadget a sprostě Arthura pohanil. Omlouvám se za to. Mým úmyslem bylo ho postrčit o kus dál, možná rozšířit obzory. Prostě sprostá rada, která by mi v začátcích se C# pomohla nebloudit labyrintem macatých tříd se spoustou dovedností a košatou hierarchií předků a potomků.

Alternativní řešení
===================

V diskusi, kterou jsem tímto vyvolal, padlo i to, že jde o porušení [srp], které už rozebral Borek. Arthur tedy nabídl, alternativní řešení, jak se s problémem vypořádat:

&gt; Samozřejmě jsem si mohl napsat i kašpárkovskou třídu, co má dvě **statické metody** (Serializuj a Deserializuj) a veřejný parametr "Dictionary"... šlo by to vyřešit mnoha způsoby, lišícími se co do pracnosti, elegance a efektivity, a já se rozhodl nedělat "composition blackbox", ale podědit třídu - především proto, že bych musel zpřístupňovat spoustu veřejných metod od původní generiky, nebo deklarovat vložený objekt jako veřejný.

/--code csharp
public static class DictionarySerializer&lt;TKey, TValue&gt; {
  public static byte[] Serialize(Dictionary&lt;TKey, TValue&gt; dictionary) {
    // ...
  }
  public static Dictionary&lt;TKey, TValue&gt; Deserialize(byte[] data) {
    // ...
  }
}
\--code

Přejdu teď *composition blackbox* - vrátím se snad k němu někdy jindy, ale zastavím se u statických metod. Myslím si totiž, že to je další cesta do pekel… :)

Staticky vs. Instančně
======================

Na toto téma se vedlo jedno z vláken té jinak pěkné diskuse o šikovném gadgetu. (Platíte koncesionářské poplatky?) Osobně zastávám názor, že je lepší se statickým helperům vyhýbat. Jednak ze zkušenosti a druhak z některých signálů a pouček správného OO návrhu.

V objektových jazycích odvozených od C jsme si zvykli používat třídy. Třída je předpis, podle kterého se vyrábějí objekty. Objekty jsou přenašeči dat nebo službami. Mohou být tedy obdařeny rozhraním, přes které s ním komunikují jiné objekty. Jenže ve světě Céčkových jazyků, můžeme mít tzv. statické členy. Statický člen existuje jen jednou, po celou dobu života aplikace.

Jenže, co je to **život aplikace**? Nevím jak je to přesně v PHP, ale myslím, že tam je to cca jeden požadavek. Statické proměnné tu slouží jako šikovná náhrada globálních proměnných a statické metody dovolují volat akce bez nudného vytváření instance třídy. To je jistě super. Ve světě dotnetu je to však mnohem složitější. V ASP.NET žije aplikace dokud ji někdo nevypne, tj. neresetuje aplikační pool, nezmění konfiguraci nebo neaktualizuje binárky. Takže u statického členu nikdy netušíte, jak dlouho bude žít.

Dalším problémem je **konkurence**. V PHP se aplikace spouští při každém požadavku a po jeho skončení opět vyhnije a to vše se děje v rámci jednoho vlákna. V ASP.NET žije aplikace mnoho požadavků, které jsou zpracovány samostatnými vlákny. Vzhledem k tomu, že statické členy jsou v aplikaci jen jednou a to pro více vláken, musíte najednou začít řešit konkurenční přístup, k těmto členům.

Další z problémů statických členů je ten, že **třída není objekt**, tudíž by se s členy třídy nemělo počítat v objektovém návrhu. :) Statické metody ani vlastnosti **nelze popsat rozhraním**, při jejich užití vzniká **úzká vazba**. Takovéto členy se také krásně vyhýbají dědičnosti. Nelze je přepsat tradičními postupy.

Takhle bych ve zkratce shrnul hlavní nevýhody statického přístupu. Platí jen pro určité případy. Nemusíte se s nimi nutně setkat a pro váš konkrétní případ mohou být i výhodné. Pokud však navrhujete API, které má být znovupoužitelné (hlavní výhoda OOP), nikdy nevíte, v jakém prostředí poběží. A když už píšeme objektově, tak proč rovnou nepsat tak, aby naše třídy znovupoužitelné byly?

Jak tedy s těmi helpery?
========================

Jak říká Michal Bláha, „statický helpery jsou výbornej syntax sugar.“ Jasně, proč ne? Ve skriptech může být statický helper jasným přínosem. Je ale třeba myslet na některá pravidla.

Základním pravidlem, pokud chci vytvořit statický helper, je vytvořit instanční implementaci. Dobrou ukázkou tohoto přístupu je například `System.IO.File`, který je statickou fasádou nad `System.IO.FileInfo`. Podobně funguje např. i metoda `Rarous.TexyNet.Texy.Process`, která slouží k rychlému převodu textu do HTML, ale je tu i silné instanční API, které tato metoda volá.

Závěr
=====

Statické helpery jsou zlo, když jsou primárním návrhem a taky jediným. Pokud dosahujete kompozice objektů pomocí dependency injection, jsou pro vás statické helpery nedosažitelné (bez napsání instančního wraperu). Když píšete unit testy, nemůžete snadno statický helper nahradit. Pokud máte statické vlastnosti, musíte myslet na konkurenční přístup a životnost zdrojů, které takto zapouzdřujete.

/--code csharp
public interface IDictionarySerializer&lt;TKey, TValue, TData&gt; {
  TData Serialize(IDictionary&lt;TKey, TValue&gt; dictionary);
  IDictionary&lt;TKey, TValue&gt; Deserialize(TData data);
}
\--code

Přece jen existuje více cest k cíli a je možné, že se někde šeredně pletu. Jaký je váš pohled na věc?

/--div .[#related hslice]
Související .[entry-title]
===========
.[entry-content]
* "Martin Malý: Programátorský víkend":[vikendove-programovani]
* "Borek Bernard: Zapouzdření vs. Single Responsibility Principle":[srp]
\--div

[srp]: http://www.borber.com/blog/zapouzdreni-vs-single-responsibility-principle Single Responsibility Principle
[vikendove-programovani]: http://www.misantrop.info/742263-programatorsky-vikend.php Programátorský víkend
[komentar]: http://www.misantrop.info/742263-programatorsky-vikend.php#cmt_4
</raw>
    <author>Aleš Roubíček</author>
    <published>2008-11-22T10:53:52.983</published>
    <url>proc-jsou-staticke-helpery-zlo</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>csharp oop static ioc</tags>
    <is-published>1</is-published>
    <edited>2008-12-07T16:53:32.163</edited>
  </article>
  <article>
    <id>332</id>
    <title>Inversion of Control v ASP.NET MVC</title>
    <description>Dneska si ukážeme, jak využít modularity ASP.NET MVC k tomu, abychom mohli snadno integrovat IoC kontejner. Ten pak bude sloužit k tvorbě controllerů a injekci jejich závislostí (dependecy injection). </description>
    <html xml:space="preserve">
&lt;p&gt;Dneska si ukážeme, jak využít modularity ASP.NET &lt;acronym
title="Model View Controller"&gt;MVC&lt;/acronym&gt; k tomu, abychom mohli snadno
integrovat &lt;acronym title="Inversion of Control"&gt;IoC&lt;/acronym&gt; kontejner. Ten
pak bude sloužit k tvorbě controllerů a injekci jejich závislostí
(dependecy injection). Jako kontejner použijeme Castle Windsor a konfigurační
&lt;acronym title="Domain Specific Language"&gt;DSL&lt;/acronym&gt; v jazyce &lt;a
href="http://boo.codehaus.org/"&gt;Boo&lt;/a&gt; – Binsor.&lt;/p&gt;

&lt;p&gt;&lt;a href="http://asp.net/mvc"&gt;ASP.NET MVC&lt;/a&gt; je framework, který si za cíl
bere jasné rozdělení odpovědností, modularitu, snadnou rozšiřitelnost a
snadnou testovatelnost aplikací nad ním postavených. Což jsou
nejpalčivější neduhy „klasického ASP.NET.“&lt;/p&gt;

&lt;h3 id="toc-inversion-of-control-a-dependency-injection"&gt;Inversion of Control a
Dependency Injection&lt;/h3&gt;

&lt;p&gt;&lt;a href="http://martinfowler.com/articles/injection.html"&gt;Inversion of
Control&lt;/a&gt; (IoC) je tak trochu jiný pohled na programování. Když píšete
aplikaci, nepíšete ji jako program, ale jako sadu komponent, kterým
„vdechnete život“ pomocí konfiguračního skriptu. Každá komponenta má
v systému svoji úlohu, a pokud nám přestane její funkcionalita vyhovovat,
lze ji velice snadno nahradit zásahem na jednom místě. Aby to bylo opravdu
tak snadné, musí nahrazovaná komponenta splňovat určitý kontrakt –
implementovat rozhranní.&lt;/p&gt;

&lt;p&gt;Přes tato rozhranní mezi sebou jednotlivé komponenty komunikují,
využívají deklarované služby, posílají si data. Jenže, jak mají
vědět, kterou komponentu mají za daným rozhranním hledat. Ony to vědět
nemusejí, tedy, vlastně by vůbec neměly.&lt;/p&gt;

&lt;p&gt;Tak potom kdo? IoC kontejner!&lt;/p&gt;

&lt;p&gt;Kontejner je mozkem aplikace. Je to ten jediný, který ví, které
komponenty splňují určité kontrakty. Jak se to doví? Při startu kontejner
nacpeme komponentami a on nám je později na vyžádání vrací. Dokonce jde
tak daleko, že pokud si vyžádáme komponentu, vrátí nám ji včetně všech
jejích závislostí a závislosti závislostí. :) Dostanete kompletní graf
objektů, které jsou pro danou chvíli potřeba k vykonání dané činnosti a
jsou v kontejneru zaregistrované.&lt;/p&gt;

&lt;p&gt;Kontejner se tedy stará o &lt;strong&gt;dependency injection&lt;/strong&gt;. Ale není
to jediná služba, kterou nám dokáže poskytnout. Jeho další schopností je
&lt;strong&gt;řídit životnost&lt;/strong&gt; komponent. Už nikdy více nemusíte psát
singletony! Pokud potřebujete singleton, řeknete kontejneru a on se o to
postará.&lt;/p&gt;

&lt;h3 id="toc-castle-windsor"&gt;Castle Windsor&lt;/h3&gt;

&lt;p&gt;&lt;a href="http://www.castleproject.org/container/index.html"&gt;Windsor&lt;/a&gt; je
jedním z takových kontejnerů určený pro dotnet. Jistě najdete spoustu
alternativních jako &lt;a href="http://www.springframework.net/"&gt;Spring.Net&lt;/a&gt;,
&lt;a href="http://structuremap.sourceforge.net/"&gt;StructureMap&lt;/a&gt;, &lt;a
href="http://www.codeplex.com/unity"&gt;Unity&lt;/a&gt; nebo &lt;a
href="http://ninject.org/"&gt;Ninject&lt;/a&gt;. Každý z nich má své výhody, jiné
postupy, ale i omezení. Windsor jsem si vybral z několika důvodů:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Je součástí opensource projektu Castle,&lt;/li&gt;

	&lt;li&gt;tudíž má celkem velkou komunitu uživatelů i vývojářů&lt;/li&gt;

	&lt;li&gt;a navíc dokáže s dalšími projekty z Castle spolupracovat.&lt;/li&gt;

	&lt;li&gt;Má širokou škálu způsobů konfigurace: programově, programově přes
	fluent interface, &lt;acronym title="Extensible Markup Language"&gt;XML&lt;/acronym&gt; a
	hlavně pomocí Binsor.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Na toto téma jsem měl menší vnitrofiremní prezentaci. Slajdy z ní si
může také prohlédnout.&lt;/p&gt;
&lt;!--[if !IE]&gt; --&gt;
 			&lt;object type="application/x-shockwave-flash"
data="http://static.slideshare.net/swf/ssplayer2.swf?doc=sexy-infrastruktura-1224961364748731-9&amp;amp;stripped_title"
width="520" height="434"&gt;
 			&lt;!-- &lt;![endif]--&gt;
 			&lt;!--[if IE]&gt;
			&lt;object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
			  codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"
			  width="520" height="434"&gt;
			  &lt;param name="movie" value="http://static.slideshare.net/swf/ssplayer2.swf?doc=sexy-infrastruktura-1224961364748731-9&amp;amp;stripped_title" /&gt;
			&lt;!--&gt;&lt;!--dgx--&gt;
&lt;param name="loop" value="true" /&gt;

&lt;param name="menu" value="false" /&gt;

&lt;param name="allowfullscreen" value="true" /&gt;

&lt;param name="flashvars" value="" /&gt;
 			&lt;/object&gt;
 			&lt;!-- &lt;![endif]--&gt;
&lt;p&gt;O Binsoru je ve slajdech také zmínka a jednou &lt;a rel="bookmark"
title="Binsor síla konfigurace"
href="/weblog/293-binsor-sila-konfigurace.aspx"&gt;už jsem o něm psal&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id="toc-integrace-s-asp-net-mvc"&gt;Integrace s ASP.NET MVC&lt;/h3&gt;

&lt;p&gt;A konečně se dostávám k tomu, o čem tento spot vlastně je. Jak
integrovat Windsor kontejner do naší webové aplikace?&lt;/p&gt;

&lt;p&gt;Předpokládám, že máte ASP.NET MVC projekt již ve svém studiu. Pak je
nutné mít binárky Windsoru. Pravděpodobně budou stačit ty z &lt;a
href="http://switch.dl.sourceforge.net/sourceforge/castleproject/CastleProject-1.0-RC3.msi"&gt;RC3&lt;/a&gt;.
Osobně používám aktuální verzi z &lt;a
href="http://svn.castleproject.org:8080/svn/castle/trunk/"&gt;trunku&lt;/a&gt;. Přidejte
si reference na knihovny &lt;code&gt;Castle.Core&lt;/code&gt;,
&lt;code&gt;Castle.DynamicProxy&lt;/code&gt;, &lt;code&gt;Castle.MicroKernel&lt;/code&gt; a
&lt;code&gt;Castle.Windsor&lt;/code&gt;. Pak si budeme muset vytvořit novou továrnu na
výrobu controllerů. Vlastně nemusíme, již je součástí &lt;a
href="http://www.codeplex.com/MVCContrib"&gt;MVC Contrib&lt;/a&gt;, jen jsem jí trochu
zjednodušil.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;using System;
using System.Web.Mvc;
using System.Web.Routing;
using Castle.Windsor;

namespace BlogSpots.Infrastructure {
  public class WindsorControllerFactory : IControllerFactory {

    private IWindsorContainer _container;

    public WindsorControllerFactory(IWindsorContainer container) {
      if (container == null) {
        throw new ArgumentNullException("container");
      }
      _container = container;
    }

    public virtual IController CreateController(RequestContext context, string controllerName) {
      controllerName = controllerName.ToLower() + "controller";
      return (IController)_container.Resolve(controllerName);
    }

    public virtual void ReleaseController(IController controller) {
      var disposable = controller as IDisposable;
      if (disposable != null) {
        disposable.Dispose();
      }

      _container.Release(controller);
    }
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Tato továrna bude fungovat pro Windsor. Ještě ale chci přidat podporu pro
Binsor, který je součástí &lt;a
href="https://rhino-tools.svn.sourceforge.net/svnroot/rhino-tools/trunk/rhino-commons/"&gt;Rhino.Commons&lt;/a&gt;.
K těm se dostanete přes &lt;acronym title="Subversion"&gt;SVN&lt;/acronym&gt; a spolu
s nimi dostanete i aktuální verzi Windsoru. Do projektu si ještě přidáme
reference na &lt;code&gt;Rhino.Commons&lt;/code&gt; a &lt;code&gt;Rhino.Commons.Binsor&lt;/code&gt;. Pak
si ještě vytvoříme &lt;a rel="bookmark"
title="Proč jsou statické helpery zlo?"
href="/weblog/331-proc-jsou-staticke-helpery-zlo.aspx"&gt;statický helper&lt;/a&gt; pro
práci s kontejnerem.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;using System;
using System.Web.Mvc;
using Castle.Windsor;
using Rhino.Commons;

namespace BlogSpots.Infrastructure {
  public static class IoC {
    private static readonly IWindsorContainer _container;

    static IoC() {
      _container = new RhinoContainer("windsor.boo");
    }

    public static IWindsorContainer Container {
      get {
        return _container;
      }
    }
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Tím jsme si nainicializovali kontejner s konfigurací v souboru
&lt;code&gt;windsor.boo&lt;/code&gt;. Tak, a teď už nám zbývá jen zaregistrovat
továrnu pro naši aplikaci a napsat konfigurační skript.&lt;/p&gt;

&lt;p&gt;V &lt;code&gt;Global.asax&lt;/code&gt; zaregistrujeme továrnu na controllery
následovně:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;protected void Application_Start() {
  ControllerBuilder.Current.SetControllerFactory(new WindsorControllerFactory(IoC.Container));
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Do &lt;code&gt;web.config&lt;/code&gt; přidáme registraci modulu, který nám umožní
nastavit životnost objektu na jeden request:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;system.webServer&amp;gt;
  &amp;lt;modules&amp;gt;
    &amp;lt;add name="PerRequestLifestyle"
      type="Castle.MicroKernel.Lifestyle.PerWebRequestLifestyleModule, Castle.MicroKernel" /&amp;gt;
  &amp;lt;/modules&amp;gt;
&amp;lt;/system.webServer&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;em&gt;Tato registrace je pouze pro &lt;acronym
title="Internet Information Services"&gt;IIS&lt;/acronym&gt; 7 integrated mode, je
nutné ji ještě přidat do &lt;code&gt;system.web\httpModules&lt;/code&gt;, aby vám
fungovala i na DevServeru.&lt;/em&gt;&lt;/p&gt;

&lt;h3 id="toc-boo-na-scenu"&gt;Boo na scénu&lt;/h3&gt;

&lt;p&gt;Tímto máme za sebou vše důležité, pro napsání konfiguračního
skriptu a spuštění aplikace. Pokud chcete přidat do VisualStudia podporu pro
Boo, ve kterém jsou Binsor konfigurační skripty psané, doporučuju stáhnout
si a doinstalovat &lt;a href="http://www.codeplex.com/boolangstudio"&gt;BooLang
Studio&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Pojďme tedy k vytvoření konfiguračního souboru! V rootu aplikace si
vytvořte soubor &lt;code&gt;Windsor.boo&lt;/code&gt; a nastavíme mu vlastnost &lt;code&gt;Build
Action&lt;/code&gt; na &lt;strong&gt;Content&lt;/strong&gt;, aby se nám pěkně kopíroval při
publikování projektu. Do konfiguráku zadejte následující řádky:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-boo"&gt;import System.Web.Mvc from System.Web.Mvc

for controller in AllTypesBased of Controller("&amp;lt;nazev assembly MVC projektu&amp;gt;"):
  component controller.Name.ToLower(), controller:
    lifestyle PerWebRequest&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Takto jsme do kontejneru zaregistrovali všechny controllery v našem MVC
projektu. Postupně můžeme registrovat další komponenty a budovat naší
aplikaci, ale o tom zas někdy jindy. Tedy snad…&lt;/p&gt;

&lt;div class="hslice" id="related"&gt;
	&lt;h3 class="entry-title" id="toc-souvisejici"&gt;Související&lt;/h3&gt;

	&lt;ul class="entry-content"&gt;
		&lt;li&gt;&lt;a rel="bookmark" title="Binsor síla konfigurace"
		href="/weblog/293-binsor-sila-konfigurace.aspx"&gt;Binsor síla
		konfigurace&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a rel="bookmark" title="Model binders v ASP.NET MVC"
		href="/weblog/336-model-binders-v-asp-net-mvc.aspx"&gt;Model binders v ASP.NET
		MVC&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a rel="bookmark" title="DSL pro konfiguraci URL Routingu v ASP.NET MVC"
		href="/weblog/338-dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc.aspx"&gt;DSL pro
		konfiguraci URL Routingu v ASP.NET MVC&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a href="http://martinfowler.com/articles/injection.html"&gt;Martin Fowler:
		Inversion of Control&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a href="http://boo.codehaus.org/"&gt;Jazyk Boo&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
&lt;/div&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Dneska si ukážeme, jak využít modularity ASP.NET MVC((Model View Controller)) k tomu, abychom mohli snadno integrovat IoC((Inversion of Control)) kontejner. Ten pak bude sloužit k tvorbě controllerů a injekci jejich závislostí (dependecy injection). Jako kontejner použijeme Castle Windsor a konfigurační DSL((Domain Specific Language)) v jazyce Boo:[boo] – Binsor.

[aspnetmvc] je framework, který si za cíl bere jasné rozdělení odpovědností, modularitu, snadnou rozšiřitelnost a snadnou testovatelnost aplikací nad ním postavených. Což jsou nejpalčivější neduhy „klasického ASP.NET.“

Inversion of Control a Dependency Injection
===========================================

"Inversion of Control":[ioc] (IoC) je tak trochu jiný pohled na programování. Když píšete aplikaci, nepíšete ji jako program, ale jako sadu komponent, kterým „vdechnete život“ pomocí konfiguračního skriptu. Každá komponenta má v systému svoji úlohu, a pokud nám přestane její funkcionalita vyhovovat, lze ji velice snadno nahradit zásahem na jednom místě. Aby to bylo opravdu tak snadné, musí nahrazovaná komponenta splňovat určitý kontrakt – implementovat rozhranní.

Přes tato rozhranní mezi sebou jednotlivé komponenty komunikují, využívají deklarované služby, posílají si data. Jenže, jak mají vědět, kterou komponentu mají za daným rozhranním hledat. Ony to vědět nemusejí, tedy, vlastně by vůbec neměly.

Tak potom kdo? IoC kontejner!

Kontejner je mozkem aplikace. Je to ten jediný, který ví, které komponenty splňují určité kontrakty. Jak se to doví? Při startu kontejner nacpeme komponentami a on nám je později na vyžádání vrací. Dokonce jde tak daleko, že pokud si vyžádáme komponentu, vrátí nám ji včetně všech jejích závislostí a závislosti závislostí. :) Dostanete kompletní graf objektů, které jsou pro danou chvíli potřeba k vykonání dané činnosti a jsou v kontejneru zaregistrované.

Kontejner se tedy stará o **dependency injection**. Ale není to jediná služba, kterou nám dokáže poskytnout. Jeho další schopností je **řídit životnost** komponent. Už nikdy více nemusíte psát singletony! Pokud potřebujete singleton, řeknete kontejneru a on se o to postará.

Castle Windsor
==============

[windsor] je jedním z takových kontejnerů určený pro dotnet. Jistě najdete spoustu alternativních jako [spring], [structuremap], [unity] nebo [ninject]. Každý z nich má své výhody, jiné postupy, ale i omezení. Windsor jsem si vybral z několika důvodů:

1. Je součástí opensource projektu Castle,
2. tudíž má celkem velkou komunitu uživatelů i vývojářů
3. a navíc dokáže s dalšími projekty z Castle spolupracovat.
4. Má širokou škálu způsobů konfigurace: programově, programově přes fluent interface, XML((Extensible Markup Language)) a hlavně pomocí Binsor.

Na toto téma jsem měl menší vnitrofiremní prezentaci. Slajdy z ní si může také prohlédnout.

{{ flash: http://static.slideshare.net/swf/ssplayer2.swf?doc=sexy-infrastruktura-1224961364748731-9&amp;stripped_title, 520, 434 }}

O Binsoru je ve slajdech také zmínka a jednou "už jsem o něm psal":[clanek(293)].

Integrace s ASP.NET MVC
=======================

A konečně se dostávám k tomu, o čem tento spot vlastně je. Jak integrovat Windsor kontejner do naší webové aplikace?

Předpokládám, že máte ASP.NET MVC projekt již ve svém studiu. Pak je nutné mít binárky Windsoru. Pravděpodobně budou stačit ty z RC3:[castle-rc3]. Osobně používám aktuální verzi z trunku:[castle-trunk]. Přidejte si reference na knihovny `Castle.Core`, `Castle.DynamicProxy`, `Castle.MicroKernel` a `Castle.Windsor`. Pak si budeme muset vytvořit novou továrnu na výrobu controllerů. Vlastně nemusíme, již je součástí [mvccontrib], jen jsem jí trochu zjednodušil.

/--code csharp
using System;
using System.Web.Mvc;
using System.Web.Routing;
using Castle.Windsor;

namespace BlogSpots.Infrastructure {
  public class WindsorControllerFactory : IControllerFactory {

    private IWindsorContainer _container;

    public WindsorControllerFactory(IWindsorContainer container) {
      if (container == null) {
        throw new ArgumentNullException("container");
      }
      _container = container;
    }

    public virtual IController CreateController(RequestContext context, string controllerName) {
      controllerName = controllerName.ToLower() + "controller";
      return (IController)_container.Resolve(controllerName);
    }

    public virtual void ReleaseController(IController controller) {
      var disposable = controller as IDisposable;
      if (disposable != null) {
        disposable.Dispose();
      }

      _container.Release(controller);
    }
  }
}
\--code

Tato továrna bude fungovat pro Windsor. Ještě ale chci přidat podporu pro Binsor, který je součástí "Rhino.Commons":[rhino-trunk]. K těm se dostanete přes SVN((Subversion)) a spolu s nimi dostanete i aktuální verzi Windsoru. Do projektu si ještě přidáme reference na `Rhino.Commons` a `Rhino.Commons.Binsor`. Pak si ještě vytvoříme "statický helper":[clanek(331)] pro práci s kontejnerem.

/--code csharp
using System;
using System.Web.Mvc;

using Castle.Windsor;
using Rhino.Commons;

namespace BlogSpots.Infrastructure {
  public static class IoC {
    private static readonly IWindsorContainer _container;

    static IoC() {
      _container = new RhinoContainer("windsor.boo");
    }

    public static IWindsorContainer Container {
      get {
        return _container;
      }
    }
  }
}

\--code

Tím jsme si nainicializovali kontejner s konfigurací v souboru `windsor.boo`. Tak, a teď už nám zbývá jen zaregistrovat továrnu pro naši aplikaci a napsat konfigurační skript.

V `Global.asax` zaregistrujeme továrnu na controllery následovně:

/--code csharp
protected void Application_Start() {
  ControllerBuilder.Current.SetControllerFactory(new WindsorControllerFactory(IoC.Container));
}
\--code

Do `web.config` přidáme registraci modulu, který nám umožní nastavit životnost objektu na jeden request:

/--code xml
&lt;system.webServer&gt;
  &lt;modules&gt;
    &lt;add name="PerRequestLifestyle"
      type="Castle.MicroKernel.Lifestyle.PerWebRequestLifestyleModule, Castle.MicroKernel" /&gt;
  &lt;/modules&gt;
&lt;/system.webServer&gt;
\--code

*Tato registrace je pouze pro IIS((Internet Information Services)) 7 integrated mode, je nutné ji ještě přidat do `system.web\httpModules`, aby vám fungovala i na DevServeru.*

Boo na scénu
============

Tímto máme za sebou vše důležité, pro napsání konfiguračního skriptu a spuštění aplikace. Pokud chcete přidat do VisualStudia podporu pro Boo, ve kterém jsou Binsor konfigurační skripty psané, doporučuju stáhnout si a doinstalovat [boolangstudio].

Pojďme tedy k vytvoření konfiguračního souboru! V rootu aplikace si vytvořte soubor `Windsor.boo` a nastavíme mu vlastnost `Build Action` na **Content**, aby se nám pěkně kopíroval při publikování projektu. Do konfiguráku zadejte následující řádky:

/--code boo
import System.Web.Mvc from System.Web.Mvc

for controller in AllTypesBased of Controller("&lt;nazev assembly MVC projektu&gt;"):
  component controller.Name.ToLower(), controller:
    lifestyle PerWebRequest
\--code

Takto jsme do kontejneru zaregistrovali všechny controllery v našem MVC projektu. Postupně můžeme registrovat další komponenty a budovat naší aplikaci, ale o tom zas někdy jindy. Tedy snad…

/--div .[#related hslice]
Související .[entry-title]
===========
.[entry-content]
* [clanek(293)]
* [clanek(336)]
* [clanek(338)]
* [ioc]
* [boo]
\--div

[clanek(293)]: /weblog/293-binsor-sila-konfigurace.aspx Binsor síla konfigurace .(Binsor síla konfigurace){rel:bookmark}
[clanek(331)]: /weblog/331-proc-jsou-staticke-helpery-zlo.aspx Proč jsou statické helpery zlo? .(Proč jsou statické helpery zlo?){rel:bookmark}
[clanek(336)]: /weblog/336-model-binders-v-asp-net-mvc.aspx Model binders v ASP.NET MVC .(Model binders v ASP.NET MVC){rel:bookmark}
[clanek(338)]: /weblog/338-dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc.aspx DSL pro konfiguraci URL Routingu v ASP.NET MVC .(DSL pro konfiguraci URL Routingu v ASP.NET MVC){rel:bookmark}

[aspnetmvc]: http://asp.net/mvc ASP.NET MVC
[boolangstudio]: http://www.codeplex.com/boolangstudio BooLang Studio
[boo]: http://boo.codehaus.org/ Jazyk Boo
[castle-rc3]: http://switch.dl.sourceforge.net/sourceforge/castleproject/CastleProject-1.0-RC3.msi
[castle-trunk]: http://svn.castleproject.org:8080/svn/castle/trunk/
[rhino-trunk]: https://rhino-tools.svn.sourceforge.net/svnroot/rhino-tools/trunk/rhino-commons/
[ioc]: http://martinfowler.com/articles/injection.html Martin Fowler: Inversion of Control
[windsor]: http://www.castleproject.org/container/index.html Windsor
[spring]: http://www.springframework.net/ Spring.Net
[structuremap]: http://structuremap.sourceforge.net/ StructureMap
[unity]: http://www.codeplex.com/unity Unity
[ninject]: http://ninject.org/ Ninject
[mvccontrib]: http://www.codeplex.com/MVCContrib MVC Contrib
</raw>
    <author>Aleš Roubíček</author>
    <published>2008-11-24T10:30:02.140</published>
    <url>inversion-of-control-v-asp-net-mvc</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>mvc ioc windsor castle binsor boo</tags>
    <is-published>1</is-published>
    <edited>2009-01-04T08:55:40.277</edited>
  </article>
  <article>
    <id>333</id>
    <title>Trenčanské párky s fazolí po mexicku</title>
    <description>Prefabrikované potraviny mají tu výhodu, že jsou velice rychle hotové a většinou jsou i stravitelné. Když už jste donuceni něco takového jíst, proč si to trochu nezpestřit? Dnes přináším krátký návod na lehký upgrade.</description>
    <html xml:space="preserve">
&lt;p&gt;Vaření konzerv Trenčanské párky s fazolí patřilo ke koloritu mých
studentských let. Sice už jsou dávno pryč, ale proč některé vzpomínky
neoživit? :)&lt;/p&gt;

&lt;p&gt;Prefabrikované potraviny mají tu výhodu, že jsou velice rychle hotové a
většinou jsou i stravitelné. Když už jste donuceni něco takového jíst,
proč si to trochu nezpestřit? Dnes přináším krátký návod na lehký
upgrade.&lt;/p&gt;

&lt;p&gt;Nakrájíme anglickou slaninu (nebo uzený vepřový bok) na větší kousky
a osmahneme na pánvičce. Přidáme nahrubo nasekanou cibulku a necháme
zesklovatět. Do připraveného základu vmícháme obsah konzervy. Necháme
ohřát na mírném plameni, aby se fazolky nepřipekly. Ostrost dodáme
špetkou Jolokii (pozor hodně opatrně), nebo kajenským pepřem. Řádně
rozmícháme. Na závěr vmícháme na kostičky nakrájený balkánský sýr a
necháme lehce zatavit. Servírujeme do hlubokého talíře s čerstvým
pečivem. Jídlo je možno dozdobit na kolečka nakrájenou červenou cibulí a
čerstvou petrželkou.&lt;/p&gt;

&lt;p&gt;Dobrou chuť.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Vaření konzerv Trenčanské párky s fazolí patřilo ke koloritu mých studentských let. Sice už jsou dávno pryč, ale proč některé vzpomínky neoživit? :)

Prefabrikované potraviny mají tu výhodu, že jsou velice rychle hotové a většinou jsou i stravitelné. Když už jste donuceni něco takového jíst, proč si to trochu nezpestřit? Dnes přináším krátký návod na lehký upgrade.

Nakrájíme anglickou slaninu (nebo uzený vepřový bok) na větší kousky a osmahneme na pánvičce. Přidáme nahrubo nasekanou cibulku a necháme zesklovatět. Do připraveného základu vmícháme obsah konzervy. Necháme ohřát na mírném plameni, aby se fazolky nepřipekly. Ostrost dodáme špetkou Jolokii (pozor hodně opatrně), nebo kajenským pepřem. Řádně rozmícháme. Na závěr vmícháme na kostičky nakrájený balkánský sýr a necháme lehce zatavit. Servírujeme do hlubokého talíře s čerstvým pečivem. Jídlo je možno dozdobit na kolečka nakrájenou červenou cibulí a čerstvou petrželkou.

Dobrou chuť.
</raw>
    <author>Aleš Roubíček</author>
    <published>2008-11-29T15:01:47.663</published>
    <url>trencanske-parky-s-fazoli-po-mexicku</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <tags>vaření</tags>
    <is-published>1</is-published>
    <edited>2008-11-29T15:02:21.177</edited>
  </article>
  <article>
    <id>334</id>
    <title>Odpojte se k nám!</title>
    <description>Sháníme posily do našeho týmu. Pokud znáš dobře dotnet nebo Javu a chceš se učit novým věcem, tak čti dál.</description>
    <html xml:space="preserve">
&lt;p&gt;Sháníme posily do našeho týmu. Pokud znáš dobře dotnet nebo Javu a
chceš se učit novým věcem, tak čti dál.&lt;/p&gt;

&lt;h3 id="toc-predstaveni"&gt;Představení&lt;/h3&gt;

&lt;p&gt;Jsme &lt;a href="http://www.twareg.com/"&gt;Twareg&lt;/a&gt; (čteme tuareg, ale někdy
i tvarek), firma zabývající se vývojem webových aplikací, které jsou
výkonné, dostupné a škálovatelné. K tomu primárně užíváme platformu
&lt;a href="http://www.microsoft.com/net/"&gt;Microsoft .NET&lt;/a&gt; (C#, ASP.NET).
Používáme nejmodernější technologie (např. &lt;a
href="/weblog/tag/mvc.aspx"&gt;ASP.NET MVC&lt;/a&gt;, Dynamic Data, &lt;acronym
title="Windows Communication Foundation"&gt;WCF&lt;/acronym&gt;, „Velocity“) a
snažíme se o moderní postupy při vývoji našeho software. Všichni máme
zkušenosti z portálu &lt;a href="http://www.atlas.cz/"&gt;Atlas.cz&lt;/a&gt; a jsme
ochotní se o ně podělit. Když řeknu, že jsme dynamický tým, asi bych
lhal. Představte si dynamický tým a svou představu vynásobte
deseti. :)&lt;/p&gt;

&lt;p&gt;Naše kancelář je vybavena různobarevnými pěnovými míčky, a když
vás někdo naštve, můžete si po něm hodit. Dostáváme stravenky a chodíme
je společně projíst někam na Anděla. Věhlasný je také náš rituál
vaření, který jsme si přinesli z Atlasu.&lt;/p&gt;

&lt;p&gt;Pokud hledáte naše webové stránky, &lt;del&gt;tak vězte, že jsme si žádné
ještě nestihli udělat, ale máme to v plánu.&lt;/del&gt; &lt;ins&gt;najdete je na
adrese &lt;a href="http://www.twareg.com/"&gt;www.twareg.com&lt;/a&gt;.&lt;/ins&gt; Pokud vás
zajímá naše zázemí, tak vězte, že jsme spřátelenou společností &lt;a
href="http://www.ataxo.cz/"&gt;Ataxa&lt;/a&gt; a sídlíme ve stejné budově.&lt;/p&gt;

&lt;h3 id="toc-na-cem-delame"&gt;Na čem děláme&lt;/h3&gt;

&lt;p&gt;Našim hlavním produktem je codename „Hyas“. Je to reklamní systém,
který si klade za cíl poučit se z chyb konkurenčních systémů, zachovat
si jejich výhody a přinést něco nového. Být prostě lepší. Jak prosté.
Nyní máme téměř připravené jádro systému, které půjde brzo do
testování. Potřebujeme ale další lidi, kteří by nám pomohli nad ním
napsat veřejné API (SOAP, REST), administrační/u­živatelské rozhranní a
další potřebné komponenty. Pokud vás toto zajímá, neváhejte mě &lt;a
rel="me" href="/#kontakt"&gt;kontaktovat&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;Pokud byste raději dělali na webech, je tady ta možnost také. Děláme na
Web 2.0 projektech založených na znovupoužitelných komponentách (a tím
rozhodně nemyslím jen server controly). Aktuálně děláme katalog nightlife
podniků se silnou integrací sociálních prvků. A ve frontě čekaj další
neméně zajímavé. Pokud se na nich chcete podílet, &lt;a rel="me"
href="/#kontakt"&gt;ozvěte se mi&lt;/a&gt;!&lt;/p&gt;

&lt;h3 id="toc-koho-hledame"&gt;Koho hledáme&lt;/h3&gt;

&lt;p&gt;Předně schopné vývojáře. Takové, co mají chuť se učit novým věcem
a chtějí se o své poznatky dělit. :) Takové, co mají týmového ducha,
kterým nevadí zůstat občas v práci dýl a zahrát si třeba Wiičko nebo
jít společně do kina, na bowling nebo jenom na jedno.&lt;/p&gt;

&lt;div class="hslice" id="related"&gt;
	&lt;h3 class="entry-title" id="toc-souvisejici"&gt;Související&lt;/h3&gt;

	&lt;ul class="entry-content"&gt;
		&lt;li&gt;&lt;a href="/weblog/288-konec-dobry-vsechno-dobre.aspx"&gt;Konec dobrý, všechno
		dobré!&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a href="/weblog/300-vyvojova-infrastruktura.aspx"&gt;Vývojová
		infrastruktura&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
&lt;/div&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Sháníme posily do našeho týmu. Pokud znáš dobře dotnet nebo Javu a chceš se učit novým věcem, tak čti dál.

Představení
===========

Jsme [twareg] (čteme tuareg, ale někdy i tvarek), firma zabývající se vývojem webových aplikací, které jsou výkonné, dostupné a škálovatelné. K tomu primárně užíváme platformu [dotnet] (C#, ASP.NET). Používáme nejmodernější technologie (např. "ASP.NET MVC":[tag mvc], Dynamic Data, WCF((Windows Communication Foundation)), „Velocity“) a snažíme se o moderní postupy při vývoji našeho software. Všichni máme zkušenosti z portálu [atlas] a jsme ochotní se o ně podělit. Když řeknu, že jsme dynamický tým, asi bych lhal. Představte si dynamický tým a svou představu vynásobte deseti. :)

Naše kancelář je vybavena různobarevnými pěnovými míčky, a když vás někdo naštve, můžete si po něm hodit. Dostáváme stravenky a chodíme je společně projíst někam na Anděla. Věhlasný je také náš rituál vaření, který jsme si přinesli z Atlasu.

Pokud hledáte naše webové stránky, --tak vězte, že jsme si žádné ještě nestihli udělat, ale máme to v plánu.-- ++najdete je na adrese "www.twareg.com":[twareg].++ Pokud vás zajímá naše zázemí, tak vězte, že jsme spřátelenou společností Ataxa:[ataxo] a sídlíme ve stejné budově.

Na čem děláme
=============

Našim hlavním produktem je codename "Hyas". Je to reklamní systém, který si klade za cíl poučit se z chyb konkurenčních systémů, zachovat si jejich výhody a přinést něco nového. Být prostě lepší. Jak prosté. Nyní máme téměř připravené jádro systému, které půjde brzo do testování. Potřebujeme ale další lidi, kteří by nám pomohli nad ním napsat veřejné API (SOAP, REST), administrační/uživatelské rozhranní a další potřebné komponenty. Pokud vás toto zajímá, neváhejte mě kontaktovat:[kontakt]!

Pokud byste raději dělali na webech, je tady ta možnost také. Děláme na Web 2.0 projektech založených na znovupoužitelných komponentách (a tím rozhodně nemyslím jen server controly). Aktuálně děláme katalog nightlife podniků se silnou integrací sociálních prvků. A ve frontě čekaj další neméně zajímavé. Pokud se na nich chcete podílet, "ozvěte se mi":[kontakt]!

Koho hledáme
============

Předně schopné vývojáře. Takové, co mají chuť se učit novým věcem a chtějí se o své poznatky dělit. :) Takové, co mají týmového ducha, kterým nevadí zůstat občas v práci dýl a zahrát si třeba Wiičko nebo jít společně do kina, na bowling nebo jenom na jedno.

/--div .[#related hslice]
Související .[entry-title]
===========
.[entry-content]
* [clanek(288)]
* [clanek(300)]
\--div

[clanek(288)]: /weblog/288-konec-dobry-vsechno-dobre.aspx Konec dobrý, všechno dobré!
[clanek(300)]: /weblog/300-vyvojova-infrastruktura.aspx Vývojová infrastruktura

[tag mvc]: /weblog/tag/mvc.aspx

[kontakt]: /#kontakt .{rel:me}

[twareg]: http://www.twareg.com/ Twareg
[atlas]: http://www.atlas.cz/ Atlas.cz
[ataxo]: http://www.ataxo.cz/ Ataxo
[dotnet]: http://www.microsoft.com/net/ Microsoft .NET</raw>
    <author>Aleš Roubíček</author>
    <published>2008-12-02T08:29:53.647</published>
    <url>odpojte-se-k-nam</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>twareg aspnet csharp mvc wcf velocity</tags>
    <is-published>1</is-published>
    <edited>2009-03-01T10:54:18.763</edited>
  </article>
  <article>
    <id>335</id>
    <title>Lehký facelift</title>
    <description>Dnes jsem trochu faceliftoval tyhle strány.</description>
    <html xml:space="preserve">
&lt;p&gt;Dnes jsem zapracoval něktreté drobné změny designu, které jsem už
delší dobu připravoval. Hlavním cílem změny byla patička webu, protože
na ní jsem se při původním návrhu moc nesoustředil.&lt;/p&gt;

&lt;p&gt;Nyní by měla být trochu uspořádanější. Styl jsem tak trochu opajcnul
ze slajdů PDC 2008. Homepage taky doznala lehké přeurovnání do mřížky.
Další změnou jsou fonty. V boxu s agregací blogu, by měl být styl více
podobný tomu, co je na blogu. Trochu se změnil i hledací formulář, který
teď kopíruje aktuální styl Live Search, který je pro zdejší hledání
použit.&lt;/p&gt;

&lt;p&gt;Změny to jsou jen kosmetické, ale i tak zabraly dost času. Každopádně
to není ještě vše. Na blogu brzo přibude patičkový box pro agregaci.
Další EVO by pak měla mít jeden stylopis pro celý web. Že by dárek
k pátým narozeninám?&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Dnes jsem zapracoval něktreté drobné změny designu, které jsem už delší dobu připravoval. Hlavním cílem změny byla patička webu, protože na ní jsem se při původním návrhu moc nesoustředil.

Nyní by měla být trochu uspořádanější. Styl jsem tak trochu opajcnul ze slajdů PDC 2008. Homepage taky doznala lehké přeurovnání do mřížky. Další změnou jsou fonty. V boxu s agregací blogu, by měl být styl více podobný tomu, co je na blogu. Trochu se změnil i hledací formulář, který teď kopíruje aktuální styl Live Search, který je pro zdejší hledání použit.

Změny to jsou jen kosmetické, ale i tak zabraly dost času. Každopádně to není ještě vše. Na blogu brzo přibude patičkový box pro agregaci. Další EVO by pak měla mít jeden stylopis pro celý web. Že by dárek k pátým narozeninám?</raw>
    <author>Aleš Roubíček</author>
    <published>2008-12-07T17:04:54.673</published>
    <url>lehky-facelift</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>design css</tags>
    <is-published>1</is-published>
    <edited>2008-12-07T17:05:26.297</edited>
  </article>
  <article>
    <id>336</id>
    <title>Model binders v ASP.NET MVC</title>
    <description>Jednou z pěkných vlastností ASP.NET MVC je, že data která posíláte akci, můžete v kódu získávat přes silně typové parametry metody (akce). Pokud dostatečně dodržujete dané konvence, můžete takto získat i třeba komplexní typy.</description>
    <html xml:space="preserve">
&lt;p&gt;Jednou z pěkných vlastností ASP.NET MVC je, že data která posíláte
akci, můžete v kódu získávat přes silně typové parametry metody (akce).
Pokud dostatečně dodržujete dané konvence, můžete takto získat i třeba
komplexní typy.&lt;/p&gt;

&lt;p&gt;To je zařízeno něčím, co se jmenuje &lt;strong&gt;model binders&lt;/strong&gt;.
Základem je &lt;code&gt;DefaultModelBinder&lt;/code&gt;, který implementuje rozhranní
&lt;code&gt;IModelBinder&lt;/code&gt;. Dále pak atributy &lt;code&gt;BindAttribute&lt;/code&gt; a jeho
bratříček k psaní vlastních atributů
&lt;code&gt;CustomModelBinderAttribute&lt;/code&gt; a v neposlední řadě metody řadiče
&lt;code&gt;UpdateModel&lt;/code&gt; a &lt;code&gt;TryUpdateModel&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;O tom jak používat &lt;code&gt;DefaultModelBinder&lt;/code&gt;, si můžete &lt;a
href="http://weblogs.asp.net/scottgu/archive/2008/10/16/asp-net-mvc-beta-released.aspx#four"&gt;přečíst
třeba u ScottaGu&lt;/a&gt;. Já bych se spíš chtěl zaměřit na možnosti
rozšíření, které nám infrastruktura model binders přináší.&lt;/p&gt;

&lt;p&gt;Velkou slabinou konvenčního &lt;code&gt;DefaultModelBinder&lt;/code&gt;u je, že ve
view musíte dodržovat jmenné konvence vašeho modelu. Sice to může
přinést spoustu benefitů, ale i problémů.&lt;/p&gt;

&lt;h3 id="toc-moznosti"&gt;Možnosti&lt;/h3&gt;

&lt;p&gt;Možností, jak bindery používat, je mnoho. Můžete si třeba &lt;a
href="http://www.aboutcode.net/2008/12/08/Model+Binders+For+HttpCookie+And+AppSetting.aspx"&gt;bindovat
z AppSettings nebo z třeba z cookie&lt;/a&gt;. I to je pomocí model binders
možné. Pojďme se ale podívat na to, jak bindovat váš model na data
odeslaná z view s odlišnou jmennou konvencí…&lt;/p&gt;

&lt;h3 id="toc-zaklady"&gt;Základy&lt;/h3&gt;

&lt;p&gt;Vlastní bindery můžeme vytvořit tak, že implementuje rozhraní
&lt;code&gt;IModelBinder&lt;/code&gt;. Hotovou implementaci pak musíme zaregistrovat při
startu aplikace. Pro ukázku si uděláme velice jednoduchý příklad
načítání adresy z &lt;code&gt;FormsCollection&lt;/code&gt;. Mějme datovou třídu
adresa:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class Address {
    public string Street { get; set; }
    public string StreetNumber { get; set; }
    public string Town { get; set; }
    public string PostalCode { get; set; }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;K ní si vytvoříme model binder:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class AddressBinder : IModelBinder {
  public ModelBinderResult BindModel(ModelBindingContext bindingContext) {
    var address = new Address {
      Street = bindingContext.HttpContext.Request["address_street"].Trim(),
      StreetNumber = bindingContext.HttpContext.Request["address_street_number"].Trim(),
      PostalCode = bindingContext.HttpContext.Request["address_postal_code"].Trim(),
      Town = bindingContext.HttpContext.Request["address_town"].Trim(),
    };

    return new ModelBinderResult(address);
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Který nakonec zaregistrujeme v &lt;code&gt;Global.asax&lt;/code&gt;:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;protected void Application_Start() {
  ModelBinders.Binders[typeof(Address)] = new AddressBinder();
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Když teď akci předáme parametr typu &lt;code&gt;Address&lt;/code&gt;, bude
automaticky vázán pomocí &lt;code&gt;AddressBinder&lt;/code&gt;u. Stejně tak,
použijeme-li metodu &lt;code&gt;UpdateModel&lt;/code&gt;. V některých scénářích
zjistíte, že výše uvedený binder, není úplně skvělý, ba co víc, že
je v podstatě dost k ničemu. Navíc taky přijdete na to, že když váš
model bude trochu bohatší, tak se váš &lt;code&gt;Global.asax&lt;/code&gt; pěkně
natáhne, navíc pokud budou mít vaše bindery závislosti na jiných
službách, začne v tom být pěkný bordel…&lt;/p&gt;

&lt;h3 id="toc-binsor-na-scenu"&gt;Binsor na scénu&lt;/h3&gt;

&lt;p&gt;Minule jsme si ukázali, &lt;a rel="bookmark"
title="Inversion of Control v ASP.NET MVC"
href="/weblog/332-inversion-of-control-v-asp-net-mvc.aspx"&gt;jak propojit ASP.NET
MVC s IoC kontejnerem&lt;/a&gt; a dnes ho využijeme a trochu si ulehčíme práci…
Jak jsem již psal, všechny model bindery implementují rozhranní
&lt;code&gt;IModelBinder&lt;/code&gt; a toho můžeme využít pro jejich registraci do
kontejneru, přidáním následujících řádků do souboru
&lt;code&gt;Windsor.boo&lt;/code&gt;:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-boo"&gt;for binder in AllTypesBased of IModelBinder("&amp;lt;nazev assembly s Model Bindery&amp;gt;"):
  component binder.Name.ToLower(), IModelBinder, binder&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Máme je zaregistrované v kontejneru, ale potřeby psát něco do
&lt;code&gt;Global.asax&lt;/code&gt; jsme se nezbavili. To je pravda, ale vzápětí to
napravíme. Budeme ještě potřebovat generickou bázovou třídu. Proč
gerenerickou? No, je v tom takovej fígl – ten prozradím až za chvíli. :)
Teď k věci:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public abstract class ModelBinderBase&amp;lt;T&amp;gt; : IModelBinder {
  public Type ModelType {
    get { return typeof(T); }
  }
  public abstract ModelBinderResult BindModel(ModelBindingContext bindingContext);
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;V podstatě jsme rozšířili rozhraní &lt;code&gt;IModelBinder&lt;/code&gt; o znalost
typu datového objektu se kterým pracuje. Proč? Vzpomeňte si na registraci
binderu, kde je klíčem ve slovníku binderů typ datového objektu. Ano, to
je on!&lt;/p&gt;

&lt;p&gt;Jěště trochu poupravíme náš &lt;code&gt;AddressBinder&lt;/code&gt;:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class AddressBinder : ModelBinderBase&amp;lt;Address&amp;gt; {
  public override ModelBinderResult BindModel(ModelBindingContext bindingContext) {
    var address = new Address {
      Street = bindingContext.HttpContext.Request["address_street"].Trim(),
      StreetNumber = bindingContext.HttpContext.Request["address_street_number"].Trim(),
      PostalCode = bindingContext.HttpContext.Request["address_postal_code"].Trim(),
      Town = bindingContext.HttpContext.Request["address_town"].Trim(),
    };

    return new ModelBinderResult(address);
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Pořád tu zůstává ta nepěkná závislost na &lt;code&gt;HttpRequestu&lt;/code&gt;,
je snadno řešitelná, ale našemu příkladu nevadí a vypořádáme se s ní
někdy jindy… Takže vraťme se zase k &lt;code&gt;Windsor.boo&lt;/code&gt; a na jeho
konec přidejme následující řádky:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-boo"&gt;for modelBinder as duck in IoC.Container.ResolveAll of IModelBinder():
  ModelBinders.Binders[modelBinder.ModelType] = modelBinder&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Upozorňuji, že tyto řádky &lt;strong&gt;musí být až na konci&lt;/strong&gt;
souboru. Musí se volat, až po tom, co se zaregistrují všechny komponenty,
protože tady si vyzvedáváme již hotové bindery z kontejneru a registrujeme
je do ASP.NET MVC.&lt;/p&gt;

&lt;p&gt;Možná jste si povšimli formulky &lt;code&gt;as duck&lt;/code&gt;. &lt;a
href="http://boo.codehaus.org/"&gt;Boo&lt;/a&gt; je staticky typovaný jazyk, stejně
jako C#, jen využívá implicitního typování. V tomto případě nám
generická metoda &lt;code&gt;ResolveAll&lt;/code&gt; vrací hotové instance, které
implementují rozhranní &lt;code&gt;IModelBinder&lt;/code&gt; a taky mají tento silný
typ. A toto rozhraní neví nic o tom s jakým typem modelu je svázáno.&lt;/p&gt;

&lt;p&gt;Naštěstí Boo podporuje &lt;a
href="http://en.wikipedia.org/wiki/Duck_typing"&gt;duck typing&lt;/a&gt;, což nám
přidává tak trochu dynamičnost – pozdní vazbu. Já vím, že všechny
moje bindery dědí z bázové třídy, která má vlastnost
&lt;code&gt;ModelType&lt;/code&gt; a s použítím &lt;code&gt;as duck&lt;/code&gt; jí můžu zavolat.
Tohle je vlastnost, kterou bude C# umět až ve verzi 4.0, do té doby je
v něm toto velice těžko řešitelné (osobně jsem se o to ani nepokoušel,
ale nejspíš nějak přes reflexi by to jít mělo).&lt;/p&gt;

&lt;p&gt;Tím jsme se zbavili nutnosti registrovat každý model binder zvlášť.&lt;/p&gt;

&lt;div class="hslice" id="related"&gt;
	&lt;h3 class="entry-title" id="toc-souvisejici"&gt;Související&lt;/h3&gt;

	&lt;ul class="entry-content"&gt;
		&lt;li&gt;&lt;a rel="bookmark" title="Inversion of Control v ASP.NET MVC"
		href="/weblog/332-inversion-of-control-v-asp-net-mvc.aspx"&gt;Inversion of Control
		v ASP.NET MVC&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a
		href="http://weblogs.asp.net/scottgu/archive/2008/10/16/asp-net-mvc-beta-released.aspx#four"&gt;Refactored
		Model Binder Infrastructure&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a
		href="http://www.aboutcode.net/2008/12/08/Model+Binders+For+HttpCookie+And+AppSetting.aspx"&gt;Model
		Binders for HttpCookie and AppSetting&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a href="http://en.wikipedia.org/wiki/Duck_typing"&gt;Duck typing&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a href="http://boo.codehaus.org/"&gt;Jazyk Boo&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
&lt;/div&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Jednou z pěkných vlastností ASP.NET MVC je, že data která posíláte akci, můžete v kódu získávat přes silně typové parametry metody (akce). Pokud dostatečně dodržujete dané konvence, můžete takto získat i třeba komplexní typy.

To je zařízeno něčím, co se jmenuje **model binders**. Základem je `DefaultModelBinder`, který implementuje rozhranní `IModelBinder`. Dále pak atributy `BindAttribute` a jeho bratříček k psaní vlastních atributů `CustomModelBinderAttribute` a v neposlední řadě metody řadiče `UpdateModel` a `TryUpdateModel`.

O tom jak používat `DefaultModelBinder`, si můžete "přečíst třeba u ScottaGu":[scottgu]. Já bych se spíš chtěl zaměřit na možnosti rozšíření, které nám infrastruktura model binders přináší.

Velkou slabinou konvenčního `DefaultModelBinder`u je, že ve view musíte dodržovat jmenné konvence vašeho modelu. Sice to může přinést spoustu benefitů, ale i problémů.

Možnosti
========

Možností, jak bindery používat, je mnoho. Můžete si třeba "bindovat z AppSettings nebo z třeba z cookie":[aboutcode]. I to je pomocí model binders možné. Pojďme se ale podívat na to, jak bindovat váš model na data odeslaná z view s odlišnou jmennou konvencí…

Základy
=======

Vlastní bindery můžeme vytvořit tak, že implementuje rozhraní `IModelBinder`. Hotovou implementaci pak musíme zaregistrovat při startu aplikace. Pro ukázku si uděláme velice jednoduchý příklad načítání adresy z `FormsCollection`. Mějme datovou třídu adresa:

/--code csharp
public class Address {
    public string Street { get; set; }
    public string StreetNumber { get; set; }
    public string Town { get; set; }
    public string PostalCode { get; set; }
}
\--code

K ní si vytvoříme model binder:

/--code csharp
public class AddressBinder : IModelBinder {
  public ModelBinderResult BindModel(ModelBindingContext bindingContext) {
    var address = new Address {
      Street = bindingContext.HttpContext.Request["address_street"].Trim(),
      StreetNumber = bindingContext.HttpContext.Request["address_street_number"].Trim(),
      PostalCode = bindingContext.HttpContext.Request["address_postal_code"].Trim(),
      Town = bindingContext.HttpContext.Request["address_town"].Trim(),
    };

    return new ModelBinderResult(address);
  }
}
\--code

Který nakonec zaregistrujeme v `Global.asax`:

/--code csharp
protected void Application_Start() {
  ModelBinders.Binders[typeof(Address)] = new AddressBinder();
}
\--code

Když teď akci předáme parametr typu `Address`, bude automaticky vázán pomocí `AddressBinder`u. Stejně tak, použijeme-li metodu `UpdateModel`. V některých scénářích zjistíte, že výše uvedený binder, není úplně skvělý, ba co víc, že je v podstatě dost k ničemu. Navíc taky přijdete na to, že když váš model bude trochu bohatší, tak se váš `Global.asax` pěkně natáhne, navíc pokud budou mít vaše bindery závislosti na jiných službách, začne v tom být pěkný bordel…

Binsor  na scénu
================

Minule jsme si ukázali, "jak propojit ASP.NET MVC s IoC kontejnerem":[clanek(332)] a dnes ho využijeme a trochu si ulehčíme práci… Jak jsem již psal, všechny model bindery implementují rozhranní `IModelBinder` a toho můžeme využít pro jejich registraci do kontejneru, přidáním následujících řádků do souboru `Windsor.boo`:

/--code boo
for binder in AllTypesBased of IModelBinder("&lt;nazev assembly s Model Bindery&gt;"):
  component binder.Name.ToLower(), IModelBinder, binder
\--code

Máme je zaregistrované v kontejneru, ale potřeby psát něco do `Global.asax` jsme se nezbavili. To je pravda, ale vzápětí to napravíme. Budeme ještě potřebovat generickou bázovou třídu. Proč gerenerickou? No, je v tom takovej fígl - ten prozradím až za chvíli. :) Teď k věci:

/--code csharp
public abstract class ModelBinderBase&lt;T&gt; : IModelBinder {
  public Type ModelType {
    get { return typeof(T); }
  }
  public abstract ModelBinderResult BindModel(ModelBindingContext bindingContext);
}
\--code

V podstatě jsme rozšířili rozhraní `IModelBinder` o znalost typu datového objektu se kterým pracuje. Proč? Vzpomeňte si na registraci binderu, kde je klíčem ve slovníku binderů typ datového objektu. Ano, to je on!

Jěště trochu poupravíme náš `AddressBinder`:

/--code csharp
public class AddressBinder : ModelBinderBase&lt;Address&gt; {
  public override ModelBinderResult BindModel(ModelBindingContext bindingContext) {
    var address = new Address {
      Street = bindingContext.HttpContext.Request["address_street"].Trim(),
      StreetNumber = bindingContext.HttpContext.Request["address_street_number"].Trim(),
      PostalCode = bindingContext.HttpContext.Request["address_postal_code"].Trim(),
      Town = bindingContext.HttpContext.Request["address_town"].Trim(),
    };

    return new ModelBinderResult(address);
  }
}
\--code

Pořád tu zůstává ta nepěkná závislost na `HttpRequestu`, je snadno řešitelná, ale našemu příkladu nevadí a vypořádáme se s ní někdy jindy… Takže vraťme se zase k `Windsor.boo` a na jeho konec přidejme následující řádky:

/--code boo
for modelBinder as duck in IoC.Container.ResolveAll of IModelBinder():
  ModelBinders.Binders[modelBinder.ModelType] = modelBinder
\--code

Upozorňuji, že tyto řádky **musí být až na konci** souboru. Musí se volat, až po tom, co se zaregistrují všechny komponenty, protože tady si vyzvedáváme již hotové bindery z kontejneru a registrujeme je do ASP.NET MVC.

Možná jste si povšimli formulky `as duck`. Boo:[boo] je staticky typovaný jazyk, stejně jako C#, jen využívá implicitního typování. V tomto případě nám generická metoda `ResolveAll` vrací hotové instance, které implementují rozhranní `IModelBinder` a taky mají tento silný typ. A toto rozhraní neví nic o tom s jakým typem modelu je svázáno.

Naštěstí Boo podporuje "duck typing":[ducktype], což nám přidává tak trochu dynamičnost – pozdní vazbu. Já vím, že všechny moje bindery dědí z bázové třídy, která má vlastnost `ModelType` a s použítím `as duck` jí můžu zavolat. Tohle je vlastnost, kterou bude C# umět až ve verzi 4.0, do té doby je v něm toto velice těžko řešitelné (osobně jsem se o to ani nepokoušel, ale nejspíš nějak přes reflexi by to jít mělo).

Tím jsme se zbavili nutnosti registrovat každý model binder zvlášť.

/--div .[hslice #related]
Související .[entry-title]
===========
.[entry-content]
* [clanek(332)]
* [scottgu]
* [aboutcode]
* [ducktype]
* [boo]
\--div


[clanek(332)]: /weblog/332-inversion-of-control-v-asp-net-mvc.aspx Inversion of Control v ASP.NET MVC .(Inversion of Control v ASP.NET MVC){rel:bookmark}

[scottgu]: http://weblogs.asp.net/scottgu/archive/2008/10/16/asp-net-mvc-beta-released.aspx#four Refactored Model Binder Infrastructure
[aboutcode]: http://www.aboutcode.net/2008/12/08/Model+Binders+For+HttpCookie+And+AppSetting.aspx Model Binders for HttpCookie and AppSetting
[ducktype]: http://en.wikipedia.org/wiki/Duck_typing Duck typing
[boo]: http://boo.codehaus.org/ Jazyk Boo
</raw>
    <author>Aleš Roubíček</author>
    <published>2008-12-13T20:15:00.427</published>
    <url>model-binders-v-asp-net-mvc</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>aspnet mvc boo binsor windsor ioc imodelbinder</tags>
    <is-published>1</is-published>
    <edited>2008-12-18T07:08:43.490</edited>
  </article>
  <article>
    <id>337</id>
    <title>Užívejte Vánoce</title>
    <description>Užívejte Vánoce dle svých představ, třeba v kruhu svých blízkých, na kterých vám záleží, nebo o samotě. :)</description>
    <html xml:space="preserve">
&lt;p&gt;Užívejte Vánoce dle svých představ, třeba v kruhu svých blízkých,
na kterých vám záleží, nebo o samotě. :)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Užívejte Vánoce dle svých představ, třeba v kruhu svých blízkých, na kterých vám záleží, nebo o samotě. :)</raw>
    <author>Aleš Roubíček</author>
    <published>2008-12-24T13:52:14.137</published>
    <url>uzivejte-vanoce</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2008-12-24T13:52:14.150</edited>
  </article>
  <article>
    <id>338</id>
    <title>DSL pro konfiguraci URL Routingu v ASP.NET MVC</title>
    <description>Binsor je skvělou konfigurační DSL pro Windsor IoC kontejner. Proč nevyužít možností, které nám využití jazyka Boo přináší a nerozšířit si Binsor o pár dalších pravidel pro konfiguraci routingu v ASP.NET MVC?</description>
    <html xml:space="preserve">
&lt;p&gt;Binsor je skvělou &lt;a rel="bookmark"
title="Inversion of Control v ASP.NET MVC"
href="/weblog/332-inversion-of-control-v-asp-net-mvc.aspx"&gt;konfigurační DSL
pro Windsor IoC&lt;/a&gt; kontejner. Proč nevyužít možností, které nám
využití jazyka &lt;a href="http://boo.codehaus.org/"&gt;Boo&lt;/a&gt; přináší a
nerozšířit si Binsor o pár dalších pravidel pro konfiguraci &lt;a
rel="bookmark" title="URL Routing v ASP.NET MVC"
href="/weblog/296-url-routing-v-asp-net-cast-prvni.aspx"&gt;routingu v ASP.NET
MVC&lt;/a&gt;?&lt;/p&gt;

&lt;h3 id="toc-routing-v-asp-net-mvc"&gt;Routing v ASP.NET MVC&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;System.Web.Routing&lt;/code&gt; je jedním ze základních kamenů ASP.NET
MVC. Přijímá parametry z URL a posílá je &lt;code&gt;MvcRouteHandler&lt;/code&gt;u,
který vybere controller a jeho akci, která má požadavek zpracovat. Routing
je na MVC nezávislý a využívá se třeba i v ASP.NET Dynamic Data.&lt;/p&gt;

&lt;p&gt;Pokud chceme routing nakonfigurovat, máme několik možností, jak toho
dosáhnout. Tou první je využít standardní API:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public void Application_Start() {
  RouteTable.Routes.Add(
    new Route("{resource}.axd/{*pathInfo}", new StopRoutingHandler())
  );

  RouteTable.Routes.Add("default",
    new Route("{controller}/{action}/{id}", new MvcRouteHandler()) {
      Defaults = new RouteValueDictionary(new {
        controller = "Home",
        action = "Index"
      })
    }
  );
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Jak jistě vidíte, psát takto routovací pravidla je celkem na dlouho. Kód
obsahuje zbytečně mnoho šumu a můžete snadno něco opomenout. Proto je
součástí MVC frameworku několik extenzí, které mají konfiguraci
usnadnit:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public void Application_Start() {
  RouteTable.Routes.IgnoreRoute("{resource}.axd/{*pathInfo}");

  RouteTable.Routes.MapRoute(
    "default",
    "{controller}/{action}/{id}",
    new { controller = "Home", action = "Index" }
  );
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Takový kód už je o poznání kratší, většina šumu už je pryč, ale
stejně tu zůstává několik zbytečných znaků a na první pohled není
vidět, co vlastně je ta anonymní třída. Navíc jde o konfiguraci a ta by
si zasloužila být v konfiguračním souboru. Změna routy si pak nevyžádá
rekompilaci aplikace, ale pouze restart… Proto jsem se rozhodl vytvořit si
vlastní konfigurační &lt;acronym title="Domain Specific Language"&gt;DSL&lt;/acronym&gt;
a to za pomocí Boo.&lt;/p&gt;

&lt;h3 id="toc-krok-prvni-navrh-dsl"&gt;Krok první: návrh DSL&lt;/h3&gt;

&lt;p&gt;Začněme tedy s tím, jak by taková DSL měla vypadat. To, co má dělat,
je už nastíněno výše. První můj návrh vypadal asi takto:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-boo"&gt;ignore:
  route "{resource}.axd/{*pathInfo}"

map:
  route "Default", "{controller}/{action}/{id}":
    defaults:
      controller = "Home"
      action = "Index"&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Bloky &lt;code&gt;ignore&lt;/code&gt; a &lt;code&gt;map&lt;/code&gt; by mohli mít vícero potomků
&lt;code&gt;route&lt;/code&gt;. Tuto variantu jsem však záhy zapověděl, protože
vyžaduje zbytečné odsazení navíc a v delších konfiguracích už nemusí
být jasné, jestli zrovna jsme v bloku &lt;code&gt;ignore&lt;/code&gt; nebo
&lt;code&gt;map&lt;/code&gt; popřípadě jiném. Tak jsem nad tím přemýšlel a nakonec
zvolil následující variantu:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-boo"&gt;ignore_route "{resource}.axd/{*pathInfo}"

map_route "Default", "{controller}/{action}/{id}":
  defaults:
    controller = "Home"
    action = "Index"&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Takže syntaxi bych měl, teď přijde ta veselejší část:
implementace.&lt;/p&gt;

&lt;h3 id="toc-krok-druhy-implementace-dsl"&gt;Krok druhý: implementace DSL&lt;/h3&gt;

&lt;p&gt;Jedním z důvodů proč jsou oblíbené dynamické jazyky jako Ruby a
Python je meta programování. Meta programování nám umožňuje vytvářet
nové programové konstrukce v jazyku, zkrátka obohatit jeho sémantiku. Já
si pro implementaci vybral Boo.&lt;/p&gt;

&lt;p&gt;Ačkoli je Boo statický jazyk, díky otevřenému konceptu kompilátoru,
můžeme jazyk obohacovat stejně efektivně, jako v jazyce dynamickém.
Výhodou je, že gramatickou správnost našich rozšíření můžeme ověřit
při kompilaci. Základním kamenem při tvorbě vlastních DSL jsou &lt;em&gt;meta
funkce&lt;/em&gt;, které jsem však nepoužil, a &lt;em&gt;makra&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href="http://boo.codehaus.org/Syntactic%20Macros"&gt;Makro&lt;/a&gt; je třída.
Ano lze ho napsat v jakémkoli jazyce nad &lt;acronym
title="Common Laguage Infrastructure"&gt;CLI&lt;/acronym&gt;. Stačí nám implementovat
rozhraní &lt;code&gt;IAstMacro&lt;/code&gt; a třídu pojmenovat s konvenčním
přídomkem &lt;code&gt;Macro&lt;/code&gt;, např. &lt;code&gt;Map_routeMacro&lt;/code&gt;.
V implementovaných metodách si pak můžete dle libosti hrát s &lt;acronym
title="Abstract Syntax Tree"&gt;AST&lt;/acronym&gt;. Takhle je v C# napsanej třeba
Binsor. Já jsem však k implementaci routovacích maker zvolil přímo jazyk
Boo, který má od verze 0.8.1 podporu pro snadné psaní maker přímo
v jazyce.&lt;/p&gt;

&lt;p&gt;Začneme jednodušším makrem pro ignorování routy:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-boo"&gt;import Boo.Lang.Extensions
import Boo.Lang.Compiler
import Boo.Lang.Compiler.Ast
import Boo.Lang.Compiler.Ast.Visitors

macro ignore_route:
  path, = ignore_route.Arguments
  block = Block()
  block.Add([| RouteTable.Routes.Add(Route($path, StopRoutingHandler())) |])
  return block&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Pro snadnější pochopení si kód trochu popíšeme. Na prvních řádkách
si naimportujeme potřebné jmenné prostory. Klíčovým slovem
&lt;code&gt;macro&lt;/code&gt; zahájíme psaní makra a v zápětí mu přiřadíme
jméno, protože, co dokážeme pojmenovat, dokážeme ovládat. Pak si načteme
první parametr a uložíme si ho do proměnné &lt;code&gt;path&lt;/code&gt;. Pak si
vytvoříme nový blok kódu. A teď začíná magic. Všechno co je v bloku
&lt;code&gt;[| … |]&lt;/code&gt; je normální kód v Boo, který se převede na AST.
Pomocí &lt;code&gt;$&lt;/code&gt; lze do toho kódu zasahovat zvenčí, takže místo
&lt;code&gt;$path&lt;/code&gt; bude v kódu obsah proměnné &lt;code&gt;path&lt;/code&gt;.
Připravený blok kódu pak vrátíme kompilátoru.&lt;/p&gt;

&lt;p&gt;Díky našemu makru se kód &lt;code&gt;ignore_route "test"&lt;/code&gt; přeloží na
&lt;code&gt;RouteTable.Routes.Add(Route("test", StopRoutingHandler()))&lt;/code&gt; a pokud
je naimportován jmenný prostor &lt;code&gt;System.Web.Routing&lt;/code&gt;, kompilátor
všemu rozumí a máme jednoduchou syntaxi pro definování
ignorovaných rout.&lt;/p&gt;

&lt;p&gt;Bylo to celkem snadné, že? Satačí pochopit základní princip. Ono totiž
klíčové slovo &lt;code&gt;macro&lt;/code&gt; není nic jiného než makro, které bere
jako první parametr název makra a následující blok je de facto
implementací metody &lt;code&gt;Expand&lt;/code&gt;. :)&lt;/p&gt;

&lt;p&gt;Postoupíme dál. Makro &lt;code&gt;map_route&lt;/code&gt; už bude o něco větší
oříšek, protože může obsahovat vnořené bloky &lt;code&gt;defaults&lt;/code&gt;, kde
jsou vypsané výchozí hodnoty parametrů routy, a &lt;code&gt;constraints&lt;/code&gt;,
kde jsou podmínky, které tyto parametry musejí splňovat.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-boo"&gt;macro map_route:
  name, path = map_route.Arguments
  defaults = map_route["defaults"] as MacroStatement or MacroStatement()
  constraints = map_route["constraints"] as MacroStatement or MacroStatement()

  block = Block()
  block.Add([| route = Route($path, MvcRouteHandler()) |])
  block.Add([| route.Defaults = RouteValueDictionary() |])
  block.Add([| route.Constraints = RouteValueDictionary() |])

  for exp as ExpressionStatement in defaults.Block.Statements:
    binary = exp.Expression as BinaryExpression
    block.Add([| route.Defaults.Add($(binary.Left.ToString()), $(binary.Right)) |])

  for exp as ExpressionStatement in constraints.Block.Statements:
    binary = exp.Expression as BinaryExpression
    block.Add([| route.Constraints.Add($(binary.Left.ToString()), $(binary.Right)) |])

  block.Add([| RouteTable.Routes.Add($name, route) |])

  return block

macro defaults:
  allowedParents as List = [ "map_route" ]
  parent as MacroStatement = defaults.GetAncestor(NodeType.MacroStatement)
  assert allowedParents.Contains(parent.Name)

  parent["defaults"] = defaults

macro constraints:
  allowedParents as List = [ "map_route", "ignore_route" ]
  parent as MacroStatement = constraints.GetAncestor(NodeType.MacroStatement)
  assert allowedParents.Contains(parent.Name)

  parent["constraints"] = constraints&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Makro &lt;code&gt;map_route&lt;/code&gt; je trošku rozšířenou obdobou
&lt;code&gt;ignore_route&lt;/code&gt;, podívejme se na makro &lt;code&gt;defaults&lt;/code&gt;, které
přináší něco jiného. Zprvu si nadefinujeme, jaká makra mohou toto makro
obsahovat, a následně ověříme, že opravdu není v jiném makru. Pak
vezmeme kód tohoto makra a pošleme ho ke zpracování nadřazenému makru.
Žádný kód generovat nebudeme. Makro &lt;code&gt;constraints&lt;/code&gt; je na tom
téměr stejně, jen předpokládá, že bude i v &lt;code&gt;ignore_route&lt;/code&gt;,
což zatím není implementováno, ale budiž.&lt;/p&gt;

&lt;p&gt;Vraťme se k makru &lt;code&gt;map_route&lt;/code&gt; a konkrétně k &lt;code&gt;for&lt;/code&gt;
cyklům. Tam totiž projíždíme předané kusy kódu. Jednotlivé řádky
považujeme za výrazy. Konkrétně výraz přiřazení, což je binární
výraz. Binární výraz má vždy pravou a levou stranu a operátor. Na levé
straně máme klíče do &lt;code&gt;RouteValueDictionary&lt;/code&gt;, což jsou řetězce.
Proto levou stranu musíme převést na řetězec metodou
&lt;code&gt;ToString()&lt;/code&gt;. Pravá strana je hodnota přidružená ke klíči a
může to být cokoli (&lt;code&gt;object&lt;/code&gt;). Takže tam i cokoli pošleme.&lt;/p&gt;

&lt;p&gt;Vezmeme oba kusy kódu a uložíme je do souboru
&lt;code&gt;RoutingMacros.boo&lt;/code&gt;&lt;/p&gt;

&lt;h3 id="toc-krok-treti-uzivani-dsl"&gt;Krok třetí: užívání DSL&lt;/h3&gt;

&lt;p&gt;Než začneme makra využívat, musíme si je nejprve naimportovat. Na
začátek souboru &lt;code&gt;Windsor.boo&lt;/code&gt; přidáme řádky:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-boo"&gt;import file from RoutingMacros.boo
import System.Web.Routing
import System.Web.Mvc&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;No a potom už můžeme na konci souboru přidávat routovací pravidla.&lt;/p&gt;

&lt;h3 id="toc-update"&gt;Update&lt;/h3&gt;

&lt;p&gt;Kompletní skripty pro routování naleznete v článku &lt;a rel="bookmark"
title="Oprava předchozích článků"
href="/weblog/341-oprava-predchozich-clanku.aspx"&gt;Oprava předchozích
článků&lt;/a&gt;, kde jsem provedl několik oprav v makru
&lt;code&gt;ignore_route&lt;/code&gt; a lehký refactoring.&lt;/p&gt;

&lt;div class="hslice" id="related"&gt;
	&lt;h3 class="entry-title" id="toc-souvisejici"&gt;Související&lt;/h3&gt;

	&lt;ul class="entry-content"&gt;
		&lt;li&gt;&lt;a rel="bookmark" title="URL Routing v ASP.NET MVC"
		href="/weblog/296-url-routing-v-asp-net-cast-prvni.aspx"&gt;URL Routing v ASP.NET
		MVC&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a rel="bookmark" title="Inversion of Control v ASP.NET MVC"
		href="/weblog/332-inversion-of-control-v-asp-net-mvc.aspx"&gt;Inversion of Control
		v ASP.NET MVC&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a rel="bookmark" title="Model Binders v ASP.NET MVC"
		href="/weblog/336-model-binders-v-asp-net-mvc.aspx"&gt;Model Binders v ASP.NET
		MVC&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a rel="bookmark" title="Oprava předchozích článků"
		href="/weblog/341-oprava-predchozich-clanku.aspx"&gt;Oprava předchozích
		článků&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a href="http://boo.codehaus.org/"&gt;Boo&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a href="http://boo.codehaus.org/Syntactic%20Macros"&gt;Boo Macros&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
&lt;/div&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Binsor je skvělou "konfigurační DSL pro Windsor IoC":[clanek(332)] kontejner. Proč nevyužít možností, které nám využití jazyka [boo] přináší a nerozšířit si Binsor o pár dalších pravidel pro konfiguraci "routingu v ASP.NET MVC":[clanek(296)]?

Routing v ASP.NET MVC
=====================

`System.Web.Routing` je jedním ze základních kamenů ASP.NET MVC. Přijímá parametry z URL a posílá je `MvcRouteHandler`u, který vybere controller a jeho akci, která má požadavek zpracovat. Routing je na MVC nezávislý a využívá se třeba i v ASP.NET Dynamic Data.

Pokud chceme routing nakonfigurovat, máme několik možností, jak toho dosáhnout. Tou první je využít standardní API:

/--code csharp
public void Application_Start() {
  RouteTable.Routes.Add(
    new Route("{resource}.axd/{*pathInfo}", new StopRoutingHandler())
  );

  RouteTable.Routes.Add("default",
    new Route("{controller}/{action}/{id}", new MvcRouteHandler()) {
      Defaults = new RouteValueDictionary(new {
        controller = "Home",
        action = "Index"
      })
    }
  );
}
\--code

Jak jistě vidíte, psát takto routovací pravidla je celkem na dlouho. Kód obsahuje zbytečně mnoho šumu a můžete snadno něco opomenout. Proto je součástí MVC frameworku několik extenzí, které mají konfiguraci usnadnit:

/--code csharp
public void Application_Start() {
  RouteTable.Routes.IgnoreRoute("{resource}.axd/{*pathInfo}");

  RouteTable.Routes.MapRoute(
    "default",
    "{controller}/{action}/{id}",
    new { controller = "Home", action = "Index" }
  );
}
\--code

Takový kód už je o poznání kratší, většina šumu už je pryč, ale stejně tu zůstává několik zbytečných znaků a na první pohled není vidět, co vlastně je ta anonymní třída. Navíc jde o konfiguraci a ta by si zasloužila být v konfiguračním souboru. Změna routy si pak nevyžádá rekompilaci aplikace, ale pouze restart… Proto jsem se rozhodl vytvořit si vlastní konfigurační DSL((Domain Specific Language)) a to za pomocí Boo.

Krok první: návrh DSL
=====================

Začněme tedy s tím, jak by taková DSL měla vypadat. To, co má dělat, je už nastíněno výše. První můj návrh vypadal asi takto:

/--code boo
ignore:
  route "{resource}.axd/{*pathInfo}"

map:
  route "Default", "{controller}/{action}/{id}":
    defaults:
      controller = "Home"
      action = "Index"
\--code

Bloky `ignore` a `map` by mohli mít vícero potomků `route`. Tuto variantu jsem však záhy zapověděl, protože vyžaduje zbytečné odsazení navíc a v delších konfiguracích už nemusí být jasné, jestli zrovna jsme v bloku `ignore` nebo `map` popřípadě jiném. Tak jsem nad tím přemýšlel a nakonec zvolil následující variantu:

/--code boo
ignore_route "{resource}.axd/{*pathInfo}"

map_route "Default", "{controller}/{action}/{id}":
  defaults:
    controller = "Home"
    action = "Index"
\--code

Takže syntaxi bych měl, teď přijde ta veselejší část: implementace.

Krok druhý: implementace DSL
============================

Jedním z důvodů proč jsou oblíbené dynamické jazyky jako Ruby a Python je meta programování. Meta programování nám umožňuje vytvářet nové programové konstrukce v jazyku, zkrátka obohatit jeho sémantiku. Já si pro implementaci vybral Boo.

Ačkoli je Boo statický jazyk, díky otevřenému konceptu kompilátoru, můžeme jazyk obohacovat stejně efektivně, jako v jazyce dynamickém. Výhodou je, že gramatickou správnost našich rozšíření můžeme ověřit při kompilaci. Základním kamenem při tvorbě vlastních DSL jsou *meta funkce*, které jsem však nepoužil, a *makra*.

Makro:[boo-macros] je třída. Ano lze ho napsat v jakémkoli jazyce nad CLI((Common Laguage Infrastructure)). Stačí nám implementovat rozhraní `IAstMacro` a třídu pojmenovat s konvenčním přídomkem `Macro`, např. `Map_routeMacro`. V implementovaných metodách si pak můžete dle libosti hrát s AST((Abstract Syntax Tree)). Takhle je v C# napsanej třeba Binsor. Já jsem však k implementaci routovacích maker zvolil přímo jazyk Boo, který má od verze 0.8.1 podporu pro snadné psaní maker přímo v jazyce.

Začneme jednodušším makrem pro ignorování routy:

/--code boo
import Boo.Lang.Extensions
import Boo.Lang.Compiler
import Boo.Lang.Compiler.Ast
import Boo.Lang.Compiler.Ast.Visitors

macro ignore_route:
  path, = ignore_route.Arguments
  block = Block()
  block.Add([| RouteTable.Routes.Add(Route($path, StopRoutingHandler())) |])
  return block
\--code

Pro snadnější pochopení si kód trochu popíšeme. Na prvních řádkách si naimportujeme potřebné jmenné prostory. Klíčovým slovem `macro` zahájíme psaní makra a v zápětí mu přiřadíme jméno, protože, co dokážeme pojmenovat, dokážeme ovládat. Pak si načteme první parametr a uložíme si ho do proměnné `path`. Pak si vytvoříme nový blok kódu. A teď začíná magic. Všechno co je v bloku `[| … |]` je normální kód v Boo, který se převede na AST. Pomocí `$` lze do toho kódu zasahovat zvenčí, takže místo `$path` bude v kódu obsah proměnné `path`. Připravený blok kódu pak vrátíme kompilátoru.

Díky našemu makru se kód `ignore_route "test"` přeloží na `RouteTable.Routes.Add(Route("test", StopRoutingHandler()))` a pokud je naimportován jmenný prostor `System.Web.Routing`, kompilátor všemu rozumí a máme jednoduchou syntaxi pro definování ignorovaných rout.

Bylo to celkem snadné, že? Satačí pochopit základní princip. Ono totiž klíčové slovo `macro` není nic jiného než makro, které bere jako první parametr název makra a následující blok je de facto implementací metody `Expand`. :)

Postoupíme dál. Makro `map_route` už bude o něco větší oříšek, protože může obsahovat vnořené bloky `defaults`, kde jsou vypsané výchozí hodnoty parametrů routy, a `constraints`, kde jsou podmínky, které tyto parametry musejí splňovat.

/--code boo
macro map_route:
  name, path = map_route.Arguments
  defaults = map_route["defaults"] as MacroStatement or MacroStatement()
  constraints = map_route["constraints"] as MacroStatement or MacroStatement()

  block = Block()
  block.Add([| route = Route($path, MvcRouteHandler()) |])
  block.Add([| route.Defaults = RouteValueDictionary() |])
  block.Add([| route.Constraints = RouteValueDictionary() |])

  for exp as ExpressionStatement in defaults.Block.Statements:
    binary = exp.Expression as BinaryExpression
    block.Add([| route.Defaults.Add($(binary.Left.ToString()), $(binary.Right)) |])

  for exp as ExpressionStatement in constraints.Block.Statements:
    binary = exp.Expression as BinaryExpression
    block.Add([| route.Constraints.Add($(binary.Left.ToString()), $(binary.Right)) |])

  block.Add([| RouteTable.Routes.Add($name, route) |])

  return block

macro defaults:
  allowedParents as List = [ "map_route" ]
  parent as MacroStatement = defaults.GetAncestor(NodeType.MacroStatement)
  assert allowedParents.Contains(parent.Name)

  parent["defaults"] = defaults

macro constraints:
  allowedParents as List = [ "map_route", "ignore_route" ]
  parent as MacroStatement = constraints.GetAncestor(NodeType.MacroStatement)
  assert allowedParents.Contains(parent.Name)

  parent["constraints"] = constraints
\--code


Makro `map_route` je trošku rozšířenou obdobou `ignore_route`, podívejme se na makro `defaults`, které přináší něco jiného. Zprvu si nadefinujeme, jaká makra mohou toto makro obsahovat, a následně ověříme, že opravdu není v jiném makru. Pak vezmeme kód tohoto makra a pošleme ho ke zpracování nadřazenému makru. Žádný kód generovat nebudeme. Makro `constraints` je na tom téměr stejně, jen předpokládá, že bude i v `ignore_route`, což zatím není implementováno, ale budiž.

Vraťme se k makru `map_route` a konkrétně k `for` cyklům. Tam totiž projíždíme předané kusy kódu. Jednotlivé řádky považujeme za výrazy. Konkrétně výraz přiřazení, což je binární výraz. Binární výraz má vždy pravou a levou stranu a operátor. Na levé straně máme klíče do `RouteValueDictionary`, což jsou řetězce. Proto levou stranu musíme převést na řetězec metodou `ToString()`. Pravá strana je hodnota přidružená ke klíči a může to být cokoli (`object`). Takže tam i cokoli pošleme.

Vezmeme oba kusy kódu a uložíme je do souboru `RoutingMacros.boo`

Krok třetí: užívání DSL
=======================

Než začneme makra využívat, musíme si je nejprve naimportovat. Na začátek souboru `Windsor.boo` přidáme řádky:

/--code boo
import file from RoutingMacros.boo
import System.Web.Routing
import System.Web.Mvc
\--code

No a potom už můžeme na konci souboru přidávat routovací pravidla.

Update
======

Kompletní skripty pro routování naleznete v článku [clanek(341)], kde jsem provedl několik oprav v makru `ignore_route` a lehký refactoring.

/--div .[hslice #related]
Související .[entry-title]
===========
.[entry-content]
* [clanek(296)]
* [clanek(332)]
* [clanek(336)]
* [clanek(341)]
* [boo]
* [boo-macros]
\--div

[clanek(296)]: /weblog/296-url-routing-v-asp-net-cast-prvni.aspx URL Routing v ASP.NET MVC .(URL Routing v ASP.NET MVC){rel:bookmark}
[clanek(332)]: /weblog/332-inversion-of-control-v-asp-net-mvc.aspx Inversion of Control v ASP.NET MVC .(Inversion of Control v ASP.NET MVC){rel:bookmark}
[clanek(336)]: /weblog/336-model-binders-v-asp-net-mvc.aspx Model Binders v ASP.NET MVC .(Model Binders v ASP.NET MVC){rel:bookmark}
[clanek(341)]: /weblog/341-oprava-predchozich-clanku.aspx Oprava předchozích článků .(Oprava předchozích článků){rel:bookmark}

[boo]: http://boo.codehaus.org/ Boo
[boo-macros]: http://boo.codehaus.org/Syntactic%20Macros Boo Macros
</raw>
    <author>Aleš Roubíček</author>
    <published>2008-12-27T15:11:56.423</published>
    <url>dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>boo bindor aspnet routing mvc</tags>
    <is-published>1</is-published>
    <edited>2009-01-14T16:45:00.120</edited>
  </article>
  <article>
    <id>339</id>
    <title>Agregace a sdílení</title>
    <description>Vrámci zdokonalování tohoto blogu jsem do nového roku přidal několik usnadnění jak sdílet a agregovat moje články.</description>
    <html xml:space="preserve">
&lt;p&gt;Vrámci zdokonalování tohoto blogu jsem do nového roku přidal několik
usnadnění jak sdílet a agregovat moje články.&lt;/p&gt;

&lt;h3 id="toc-agregace"&gt;Agregace&lt;/h3&gt;

&lt;p&gt;Box s možností &lt;a href="#agregace"&gt;přidat si tyhle stránky&lt;/a&gt; do své
oblíbené čtečky najdete na konci stránky. Nejprve jsem přidal (vrátil)
pár odkazů na přidání RSSka do &lt;a href="http://www.google.com/"&gt;Googlu&lt;/a&gt;,
&lt;a href="http://www.live.com/"&gt;Windows Live&lt;/a&gt; a na &lt;a
href="http://www.seznam.cz/"&gt;Seznam.cz&lt;/a&gt;, což jsou nejpoužívanější
portály mých návštěvníků. Pak jsem přidal možnost zaregistravat si &lt;a
href="http://friendfeed.com/rarous"&gt;můj FriendFeed&lt;/a&gt;, kde můžete sledovat
nejen moje blogové příspěvky, ale i štěbetání a další aktivity
v rámci sociální sítě. A když už jsem byl v tom, tak jsem ještě
prolezl logy a podíval se z jakých agregátorů sem ještě lidi chodí a
vyšlo mi z toho, že ještě musím přidat &lt;a
href="http://www.bloglines.com/"&gt;Bloglines&lt;/a&gt;, &lt;a
href="http://www.netvibes.com/"&gt;Netvibes&lt;/a&gt; a &lt;a
href="http://www.newsgator.com/"&gt;Newsgator&lt;/a&gt;, abych svým čtenářům
registraci do jejich čtečky usnadnil. Tak jsou tam…&lt;/p&gt;

&lt;h3 id="toc-sdileni"&gt;Sdílení&lt;/h3&gt;

&lt;p&gt;U každého článku jsem měl v zápatí odkaz na sdílení v &lt;a
href="http://www.delicious.com/"&gt;Delicious&lt;/a&gt; a v českém &lt;a
href="http://www.linkuj.cz/"&gt;Linkuj!&lt;/a&gt; a když už jsem byl u toho
FriendFeedu tak jsem přidal možnost na něm sdílet i samotné články.
Jenže hodně lidí používá hlavně &lt;a
href="http://www.facebook.com/"&gt;Facebook&lt;/a&gt;, tak proč nejít „stádu“
naproti? :) Pak je tu ještě &lt;a href="http://www.digg.com/"&gt;Digg&lt;/a&gt; a českej
&lt;a href="http://www.jagg.cz/"&gt;Jagg&lt;/a&gt;. Tak doufám, že teď budete mít,
drazí čtenáři, snažší sdílet mé bombastické články se svými
přáteli.&lt;/p&gt;

&lt;p&gt;Jaké služby používáte k agregaci a sdílení vy?&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Vrámci zdokonalování tohoto blogu jsem do nového roku přidal několik usnadnění jak sdílet a agregovat moje články.

Agregace
========

Box s možností "přidat si tyhle stránky":[agregace] do své oblíbené čtečky najdete na konci stránky.
Nejprve jsem přidal (vrátil) pár odkazů na přidání RSSka do Googlu:[google], [live] a na [seznam], což jsou nejpoužívanější portály mých návštěvníků. Pak jsem přidal možnost zaregistravat si [friendfeed], kde můžete sledovat nejen moje blogové příspěvky, ale i štěbetání a další aktivity v rámci sociální sítě. A když už jsem byl v tom, tak jsem ještě prolezl logy a podíval se z jakých agregátorů sem ještě lidi chodí a vyšlo mi z toho, že ještě musím přidat [bloglines], [netvibes] a [newsgator], abych svým čtenářům registraci do jejich čtečky usnadnil. Tak jsou tam...

Sdílení
=======

U každého článku jsem měl v zápatí odkaz na sdílení v [delicious] a v českém [linkuj] a když už jsem byl u toho FriendFeedu tak jsem přidal možnost na něm sdílet i samotné články. Jenže hodně lidí používá hlavně [facebook], tak proč nejít „stádu“ naproti? :) Pak je tu ještě [digg] a českej [jagg]. Tak doufám, že teď budete mít, drazí čtenáři, snažší sdílet mé bombastické články se svými přáteli.

Jaké služby používáte k agregaci a sdílení vy?

[agregace]: #agregace

[friendfeed]: http://friendfeed.com/rarous můj FriendFeed
[google]: http://www.google.com/ Google
[live]: http://www.live.com/ Windows Live
[seznam]: http://www.seznam.cz/ Seznam.cz
[bloglines]: http://www.bloglines.com/ Bloglines
[netvibes]: http://www.netvibes.com/ Netvibes
[newsgator]: http://www.newsgator.com/ Newsgator
[delicious]: http://www.delicious.com/ Delicious
[linkuj]: http://www.linkuj.cz/ Linkuj!
[jagg]: http://www.jagg.cz/ Jagg
[digg]: http://www.digg.com/ Digg
[facebook]: http://www.facebook.com/ Facebook</raw>
    <author>Aleš Roubíček</author>
    <published>2009-01-02T15:08:20.427</published>
    <url>agregace-a-sdileni</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>social rss</tags>
    <is-published>1</is-published>
    <edited>2009-01-02T15:46:07.810</edited>
  </article>
  <article>
    <id>340</id>
    <title>Pojmenované routy v ASP.NET MVC</title>
    <description>Dnes se podíváme na zoubek opět URL routingu. Tentokrát se podíváme na to, jak pěkně generovat odkazy.</description>
    <html xml:space="preserve">
&lt;p&gt;Minule jsme si ukázali, &lt;a rel="bookmark"
title="DSL pro konfiguraci URL Routingu v ASP.NET MVC"
href="/weblog/338-dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc.aspx"&gt;jak
jednodušeji definovat routy v ASP.NET MVC&lt;/a&gt; pomocí maker v jazyce Boo.
Prvním parametrem pravidla pro vytvoření routy je její název. K čemu je
užitečný?&lt;/p&gt;

&lt;p&gt;Když začnete psát větší aplikaci v &lt;a
href="http://asp.net/mvc"&gt;ASP.NET MVC&lt;/a&gt;, zjistíte, že si s výchozí routou
&lt;code&gt;{controller}/{action}/{id}&lt;/code&gt; dlouho nevystačíte. Ať už je to
tím, že chcete mít aplikaci lokalizovatelnou do více jazyků včetně URL
adres, nebo tím, že prostě název řadiče (controlleru) není pro URL zrovna
vhodný. Je k tomu spousta důvodů, ale ten nejzákladnější bude, že ne
všechny akce mají pouze jeden parametr a ještě k tomu id…&lt;/p&gt;

&lt;h3 id="toc-definice-routovaci-tabulky"&gt;Definice routovací tabulky&lt;/h3&gt;

&lt;p&gt;K definici fiktivní routovací tabulky využijeme DSL vytvořenou
v minulém spotu. Každý správný vývojář určitě &lt;a
href="http://latrine.dgx.cz/programatori-nepouzivaji-cisla"
title="Programátoři nepoužívají čísla"&gt;nepoužívá čísla&lt;/a&gt;, ale ani
řetězce! Proto si nejprve vytvoříme statickou třídu pro uskladnění
názvů našich rout.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;namespace MyWeb.Routing {
  public static class Routes {
    public const string EditArticle = "edit article";
    public const string ListArticles = "list articles";
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;A nyní přejdeme k definování routovací tabulky.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-boo"&gt;import file from RoutingMacros.boo

import System.Web.Routing
import System.Web.Mvc

import MyWeb.Routing from MyWeb

articles_controller = "Articles"

map_route Routes.EditArticle, "admin$/articles/editor/{id}":
  defaults:
    controller = articles_controller
    action = "Edit"

map_route Routes.ListArticles, "admin$/articles":
  defaults:
    controller = articles_controller
    action = "Index"&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Řetězce šablony routy jsou rovněž dobrými adepty na přesun do resource
souboru, ale pro tentokrát se spokojíme s jejich přítomností. Pro dnešní
ukázku to plně dostačuje. :)&lt;/p&gt;

&lt;p&gt;Tak, routovací tabulku máme nadefinovanou a k čemu nám to
vlastně je?&lt;/p&gt;

&lt;h3 id="toc-pouziti-v-praxi"&gt;Použití v praxi&lt;/h3&gt;

&lt;p&gt;Když jsem onehdá psal o tom, jak funguje &lt;a rel="bookmark"
title="Routing v ASP.NET MVC"
href="/weblog/296-url-routing-v-asp-net-cast-prvni.aspx"&gt;URL Routing v ASP.NET
MVC&lt;/a&gt;, tak jsem nakousnul téma obousměrného routingu. Na WebExpu na to už
tolik času taky nebylo, tak nezbývá, než se k tomu vrátit nyní. Pro
někoho to bude možná překvapení, ale routovací tabulky lze využít
i k &lt;strong&gt;vytváření odkazů&lt;/strong&gt;! A taky se toho hojně využívá.
Určitě každý, kdo už si ASP.NET MVC zkoušel, potkal
&lt;code&gt;HtmlHelper&lt;/code&gt; a jeho extenzi &lt;code&gt;ActionLink&lt;/code&gt;. Užití
v šabloně pohledu je asi následující:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;%= Html.ActionLink("Vypiš články", "Index") %&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Tento helper se podívá do routovací tabulky, z kontextu si vezme název
aktuálního řadiče (vpodstatě všechny vlastnosti aktuální routy) a spojí
ho s názvem akce, který byl definován jako parametr helperu (v tomto
případě &lt;em&gt;Index&lt;/em&gt;). Tyhle dvě (popř. více) hodnoty hledá v tabulce,
najde šablonu routy (&lt;code&gt;"admin$/articles"&lt;/code&gt;), nacpe do ní získané
hodnoty (v tomto případě žádné) a vrátí to celé jako odkaz:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;a href="admin$/articles"&amp;gt;Vypiš články&amp;lt;/a&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Výhodou užití takového helperu je, že pokud změníte routu, tak se vám
automaticky generují správné odkazy. Odkazy na akci jsou dobré v kontextu
jednoho řadiče. Jenže, když máme trochu víc řadičů a navíc na jejich
akce odkazujeme z pohledů jiných řadičů, musíme přidávat další
parametr, který definuje, o jaký řadič se jedná, na jehož akci chceme
odkázat. Věci by měly zůstávat co nejjednodušší. Proto je zde další
helper, který dělá odkazy na pojmenované routy.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;%= Html.RouteLink("Vypiš články", Routes.ListArticles) %&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Výsledek je totožný s předchozím, ale jsou tu i jisté jiné benefity.
Název routy je totiž klíčem v routovací tabulce, proto je vytváření
odkazu na pojmenovanou routu rychlejší/výkon­nější (nemusí se
vyhledávat v hodnotách, ale je tu přístup přímo přes index). Proto se je
nebojte používat, kde to jen jde…&lt;/p&gt;

&lt;h3 id="toc-zaver"&gt;Závěr&lt;/h3&gt;

&lt;p&gt;Obousměrný routing je v ASP.NET MVC velice silná věc a prozkoumat jeho
temná zákoutí a pochopit, co se k čemu hodí, může zabrat nějaký ten
čas. Doufám, že jsem vám trošku to prozkoumávání usnadnil. Ale nebojte,
zanedlouho by měla vyjít RC verze ASP.NET MVC, kde přibudou další
zajímavé helpery.&lt;/p&gt;

&lt;div class="hslice" id="related"&gt;
	&lt;h3 class="entry-title" id="toc-souvisejici"&gt;Související&lt;/h3&gt;

	&lt;ul class="entry-content"&gt;
		&lt;li&gt;&lt;a rel="bookmark" title="Routing v ASP.NET MVC"
		href="/weblog/296-url-routing-v-asp-net-cast-prvni.aspx"&gt;URL Routing v ASP.NET
		MVC&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a rel="bookmark" title="DSL pro konfiguraci URL Routingu v ASP.NET MVC"
		href="/weblog/338-dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc.aspx"&gt;DSL pro
		konfiguraci URL Routingu v ASP.NET MVC&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a
		href="http://weblogs.asp.net/leftslipper/archive/2008/12/17/optimizing-your-route-collection-for-url-generation-in-asp-net-mvc-and-more.aspx"&gt;Eilon
		Lipton: Optimizing your route collection for URL generation in ASP.NET MVC
		(and more!)&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
&lt;/div&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Minule jsme si ukázali, "jak jednodušeji definovat routy v ASP.NET MVC":[clanek(338)] pomocí maker v jazyce Boo. Prvním parametrem pravidla pro vytvoření routy je její název. K čemu je užitečný?

Když začnete psát větší aplikaci v [aspnetmvc], zjistíte, že si s výchozí routou `{controller}/{action}/{id}` dlouho nevystačíte. Ať už je to tím, že chcete mít aplikaci lokalizovatelnou do více jazyků včetně URL adres, nebo tím, že prostě název řadiče (controlleru) není pro URL zrovna vhodný. Je k tomu spousta důvodů, ale ten nejzákladnější bude, že ne všechny akce mají pouze jeden parametr a ještě k tomu id...

Definice routovací tabulky
==========================

K definici fiktivní routovací tabulky využijeme DSL vytvořenou v minulém spotu. Každý správný vývojář určitě "nepoužívá čísla":[dgx-konstanty], ale ani řetězce! Proto si nejprve vytvoříme statickou třídu pro uskladnění názvů našich rout.

/--code csharp
namespace MyWeb.Routing {
  public static class Routes {
    public const string EditArticle = "edit article";
    public const string ListArticles = "list articles";
  }
}
\--code

A nyní přejdeme k definování routovací tabulky.

/--code boo
import file from RoutingMacros.boo

import System.Web.Routing
import System.Web.Mvc

import MyWeb.Routing from MyWeb

articles_controller = "Articles"

map_route Routes.EditArticle, "admin$/articles/editor/{id}":
  defaults:
    controller = articles_controller
    action = "Edit"

map_route Routes.ListArticles, "admin$/articles":
  defaults:
    controller = articles_controller
    action = "Index"

\--code

Řetězce šablony routy jsou rovněž dobrými adepty na přesun do resource souboru, ale pro tentokrát se spokojíme s jejich přítomností. Pro dnešní ukázku to plně dostačuje. :)

Tak, routovací tabulku máme nadefinovanou a k čemu nám to vlastně je?

Použití v praxi
===============

Když jsem onehdá psal o tom, jak funguje [clanek(296)], tak jsem nakousnul téma obousměrného routingu. Na WebExpu na to už tolik času taky nebylo, tak nezbývá, než se k tomu vrátit nyní. Pro někoho to bude možná překvapení, ale routovací tabulky lze využít i k **vytváření odkazů**! A taky se toho hojně využívá. Určitě každý, kdo už si ASP.NET MVC zkoušel, potkal `HtmlHelper` a jeho extenzi `ActionLink`. Užití v šabloně pohledu je asi následující:

/--code xml
&lt;%= Html.ActionLink("Vypiš články", "Index") %&gt;
\--code

Tento helper se podívá do routovací tabulky, z kontextu si vezme název aktuálního řadiče (vpodstatě všechny vlastnosti aktuální routy) a spojí ho s názvem akce, který byl definován jako parametr helperu (v tomto případě *Index*). Tyhle dvě (popř. více) hodnoty hledá v tabulce, najde šablonu routy (`"admin$/articles"`), nacpe do ní získané hodnoty (v tomto případě žádné) a vrátí to celé jako odkaz:

/--code xml
&lt;a href="admin$/articles"&gt;Vypiš články&lt;/a&gt;
\--code

Výhodou užití takového helperu je, že pokud změníte routu, tak se vám automaticky generují správné odkazy. Odkazy na akci jsou dobré v kontextu jednoho řadiče. Jenže, když máme trochu víc řadičů a navíc na jejich akce odkazujeme z pohledů jiných řadičů, musíme přidávat další parametr, který definuje, o jaký řadič se jedná, na jehož akci chceme odkázat. Věci by měly zůstávat co nejjednodušší. Proto je zde další helper, který dělá odkazy na pojmenované routy.

/--code xml
&lt;%= Html.RouteLink("Vypiš články", Routes.ListArticles) %&gt;
\--code

Výsledek je totožný s předchozím, ale jsou tu i jisté jiné benefity. Název routy je totiž klíčem v routovací tabulce, proto je vytváření odkazu na pojmenovanou routu rychlejší/výkonnější (nemusí se vyhledávat v hodnotách, ale je tu přístup přímo přes index). Proto se je nebojte používat, kde to jen jde...

Závěr
=====

Obousměrný routing je v ASP.NET MVC velice silná věc a prozkoumat jeho temná zákoutí a pochopit, co se k čemu hodí, může zabrat nějaký ten čas. Doufám, že jsem vám trošku to prozkoumávání usnadnil. Ale nebojte, zanedlouho by měla vyjít RC verze ASP.NET MVC, kde přibudou další zajímavé helpery.

/--div .[hslice #related]
Související .[entry-title]
===========
.[entry-content]
* [clanek(296)]
* [clanek(338)]
* [lipton]
\--div



[clanek(296)]: /weblog/296-url-routing-v-asp-net-cast-prvni.aspx URL Routing v ASP.NET MVC .(Routing v ASP.NET MVC){rel:bookmark}
[clanek(338)]: /weblog/338-dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc.aspx DSL pro konfiguraci URL Routingu v ASP.NET MVC .(DSL pro konfiguraci URL Routingu v ASP.NET MVC){rel:bookmark}
[dgx-konstanty]: http://latrine.dgx.cz/programatori-nepouzivaji-cisla Programátoři nepoužívají čísla .(Programátoři nepoužívají čísla)
[aspnetmvc]: http://asp.net/mvc ASP.NET MVC
[lipton]: http://weblogs.asp.net/leftslipper/archive/2008/12/17/optimizing-your-route-collection-for-url-generation-in-asp-net-mvc-and-more.aspx Eilon Lipton: Optimizing your route collection for URL generation in ASP.NET MVC (and more!)
</raw>
    <author>Aleš Roubíček</author>
    <published>2009-01-03T21:10:44.220</published>
    <url>pojmenovane-routy-v-asp-net-mvc</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>aspnet mvc routing</tags>
    <is-published>1</is-published>
    <edited>2009-01-20T20:26:14.457</edited>
  </article>
  <article>
    <id>341</id>
    <title>Oprava předchozích článků</title>
    <description>Trošku jsem zrevidoval kód předchozích článků, opravil některé chyby a refaktoroval makra pro routování. A taky tady přináším nějaká doplnění.</description>
    <html xml:space="preserve">
&lt;p&gt;Nikdo není neomylný, i já dělam chyby. A poměrně často. Bohužel
i ve svých článcích. Proto jsem se jal revidovat sérii předchozích
článků o ASP.NET MVC a znovu si prošel jejich kód a ověřil, že
funguje.&lt;/p&gt;

&lt;p&gt;Prošel jsem tedy následující články:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a rel="bookmark" title="URL Routing v ASP.NET – část první"
	href="/weblog/296-url-routing-v-asp-net-cast-prvni.aspx"&gt;URL Routing
	v ASP.NET – část první&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a rel="bookmark" title="REST aplikace pomocí ASP.NET MVC"
	href="/weblog/329-rest-aplikace-pomoci-asp-net-mvc.aspx"&gt;REST aplikace pomocí
	ASP.NET MVC&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a rel="bookmark" title="Inversion of Control v ASP.NET MVC"
	href="/weblog/332-inversion-of-control-v-asp-net-mvc.aspx"&gt;Inversion of Control
	v ASP.NET MVC&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a rel="bookmark" title="Model binders v ASP.NET MVC"
	href="/weblog/336-model-binders-v-asp-net-mvc.aspx"&gt;Model binders v ASP.NET
	MVC&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a rel="bookmark" title="DSL pro konfiguraci URL Routingu v ASP.NET MVC"
	href="/weblog/338-dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc.aspx"&gt;DSL pro
	konfiguraci URL Routingu v ASP.NET MVC&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a rel="bookmark" title="Pojmenované routy v ASP.NET MVC"
	href="/weblog/340-pojmenovane-routy-v-asp-net-mvc.aspx"&gt;Pojmenované routy
	v ASP.NET MVC&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id="toc-doplneni-rest"&gt;Doplnění REST&lt;/h3&gt;

&lt;p&gt;V článku &lt;a rel="bookmark" title="REST aplikace pomocí ASP.NET MVC"
href="/weblog/329-rest-aplikace-pomoci-asp-net-mvc.aspx"&gt;REST aplikace pomocí
ASP.NET MVC&lt;/a&gt; jsem nastínil, jak vytvořit RESTful přístup k entitám
pomocí filtrů akcí. Výslednou ukázku jsem doplnil o výstupy akce.
V komentářích padlo několik dotazů, jak vlastně REST služby volat,
protože zatím žádný prohlížeč neumí formulář odeslat jinou metodou
než POST nebo GET.&lt;/p&gt;

&lt;p&gt;Jediným řešením, jak ze stránek REST používat je AJAX. Proto akce
vrací JSON. V pohledech pak postačí následující kód:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;% using (Ajax.BeginForm("REST", "Customers", new AjaxOptions { HttpMethod = "POST" })) {%&amp;gt;
  &amp;lt;input type="submit" value="Create New" /&amp;gt;
&amp;lt;% } %&amp;gt;

&amp;lt;% using (Ajax.BeginForm("REST", "Customers", new AjaxOptions { HttpMethod = "PUT" })) {%&amp;gt;
  &amp;lt;input type="submit" value="Update" /&amp;gt;
  &amp;lt;input type="hidden" name="id" value="10" /&amp;gt;
&amp;lt;% } %&amp;gt;

&amp;lt;% using (Ajax.BeginForm("REST", "Customers", new AjaxOptions { HttpMethod = "DELETE" })) {%&amp;gt;
  &amp;lt;input type="submit" value="Delete" /&amp;gt;
  &amp;lt;input type="hidden" name="id" value="10" /&amp;gt;
&amp;lt;% } %&amp;gt;

&amp;lt;script src="/Scripts/MicrosoftAjax.js" type="text/javascript"&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script src="/Scripts/MicrosoftMvcAjax.js" type="text/javascript"&amp;gt;&amp;lt;/script&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id="toc-vylepsena-verze-model-binderu"&gt;Vylepšená verze model binderu&lt;/h3&gt;

&lt;p&gt;V článku &lt;a rel="bookmark" title="Model binders v ASP.NET MVC"
href="/weblog/336-model-binders-v-asp-net-mvc.aspx"&gt;Model binders v ASP.NET
MVC&lt;/a&gt; jsem ukazoval jak si napsat vlastní model binder. Taky jsem psal že
uvedený postup není moc dobrý. Tady je tedy lepší verze:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class AddressBinder : BinderBase&amp;lt;Address&amp;gt; {
  public override ModelBinderResult BindModel(ModelBindingContext bindingContext) {

    IValueProvider valueProvider = bindingContext.ValueProvider;
    Address address = bindingContext.Model as Address ?? new Address();

    address.Street = GetSafeStringValue(valueProvider, "address_street");
    address.StreetNumber = GetSafeStringValue(valueProvider, "address_street_number");
    address.PostalCode = GetSafeStringValue(valueProvider, "address_postal_code");
    address.Town = GetSafeStringValue(valueProvider, "address_town");

    return new ModelBinderResult(address);
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;K tomu je ale ještě potřeba rozšířit bázovou třídu binderu:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;using System;
using System.Web.Mvc;

public abstract class BinderBase&amp;lt;T&amp;gt; : IModelBinder {

  protected static string GetSafeStringValue(IValueProvider valueProvider, string key) {
    ValueProviderResult value = valueProvider.GetValue(key);

    if (value != null) {
      return value.AttemptedValue.Trim();
    }

    return String.Empty;
  }

  protected static bool GetSafeBooleanValue(IValueProvider valueProvider, string key) {
    ValueProviderResult value = valueProvider.GetValue(key);

    return value != null;
  }

  public Type ModelType {
    get {
      return typeof(T);
    }
  }

  public abstract ModelBinderResult BindModel(ModelBindingContext bindingContext);
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Tím jsme se zbavili závislosti na &lt;code&gt;HttpContext&lt;/code&gt;u, binder je
lépe testovatelný a hlavně se dá použít i v metodě
&lt;code&gt;UpdateModel&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id="toc-oprava-integrace-ioc-kontejneru-do-asp-net-mvc"&gt;Oprava integrace IoC
kontejneru do ASP.NET MVC&lt;/h3&gt;

&lt;p&gt;V ukázkových kódech článku &lt;a rel="bookmark"
title="Inversion of Control v ASP.NET MVC"
href="/weblog/332-inversion-of-control-v-asp-net-mvc.aspx"&gt;Inversion of Control
v ASP.NET MVC&lt;/a&gt; bylo několik chybek, chyběly usingy a některé věci jsem
trošku refaktoroval.&lt;/p&gt;

&lt;h3 id="toc-nova-verze-routingmacros-boo"&gt;Nová verze RoutingMacros.boo&lt;/h3&gt;

&lt;p&gt;V článku &lt;a rel="bookmark"
title="DSL pro konfiguraci URL Routingu v ASP.NET MVC"
href="/weblog/338-dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc.aspx"&gt;DSL pro
konfiguraci URL Routingu v ASP.NET MVC&lt;/a&gt; jsem měl jedno makro nedopsané.
V nové verzi jsem přidal sekci &lt;code&gt;constraints&lt;/code&gt; k makru
&lt;code&gt;ignore_route&lt;/code&gt; a provedl lehký refaktoring. Plně
funkční kód:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-boo"&gt;import Boo.Lang.Extensions
import Boo.Lang.Compiler
import Boo.Lang.Compiler.Ast
import Boo.Lang.Compiler.Ast.Visitors

import System.Web
import System.Web.Routing

class IgnoreRouteInternal(Route):
  def constructor(url as string):
    super(url, StopRoutingHandler())

  override def GetVirtualPath(requestContext as RequestContext, values as RouteValueDictionary):
    return null as VirtualPathData

def apply_constraints(block as Block, constraints as MacroStatement):
  assert block
  return if not constraints

  block.Add([| route.Constraints = RouteValueDictionary() |])

  for exp as ExpressionStatement in constraints.Block.Statements:
    binary = exp.Expression as BinaryExpression
    block.Add([| route.Constraints.Add($(binary.Left.ToString()), $(binary.Right)) |])

def apply_defaults(block as Block, defaults as MacroStatement):
  assert block
  return if not defaults

  block.Add([| route.Defaults = RouteValueDictionary() |])

  for exp as ExpressionStatement in defaults.Block.Statements:
    binary = exp.Expression as BinaryExpression
    block.Add([| route.Defaults.Add($(binary.Left.ToString()), $(binary.Right)) |])

macro ignore_route:
  path, = ignore_route.Arguments
  constraints = ignore_route["constraints"] as MacroStatement

  block = Block()
  block.Add([| route = IgnoreRouteInternal($path) |])
  apply_constraints(block, constraints)
  block.Add([| RouteTable.Routes.Add(route) |])

  return block

macro map_route:
  name, path = map_route.Arguments
  defaults = map_route["defaults"] as MacroStatement
  constraints = map_route["constraints"] as MacroStatement

  block = Block()
  block.Add([| route = Route($path, MvcRouteHandler()) |])
  apply_defaults(block, defaults)
  apply_constraints(block, constraints)
  block.Add([| RouteTable.Routes.Add($name, route) |])

  return block

macro defaults:
  allowedParents as List = [ "map_route" ]
  parent as MacroStatement = defaults.GetAncestor(NodeType.MacroStatement)
  assert allowedParents.Contains(parent.Name)

  parent["defaults"] = defaults

macro constraints:
  allowedParents as List = [ "map_route", "ignore_route" ]
  parent as MacroStatement = constraints.GetAncestor(NodeType.MacroStatement)
  assert allowedParents.Contains(parent.Name)

  parent["constraints"] = constraints&lt;/code&gt;&lt;/pre&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Nikdo není neomylný, i já dělam chyby. A poměrně často. Bohužel i ve svých článcích. Proto jsem se jal revidovat sérii předchozích článků o ASP.NET MVC a znovu si prošel jejich kód a ověřil, že funguje.

Prošel jsem tedy následující články:

* [clanek(296)]
* [clanek(329)]
* [clanek(332)]
* [clanek(336)]
* [clanek(338)]
* [clanek(340)]

Doplnění REST
=============

V článku [clanek(329)] jsem nastínil, jak vytvořit RESTful přístup k entitám pomocí filtrů akcí. Výslednou ukázku jsem doplnil o výstupy akce. V komentářích padlo několik dotazů, jak vlastně REST služby volat, protože zatím žádný prohlížeč neumí formulář odeslat jinou metodou než POST nebo GET.

Jediným řešením, jak ze stránek REST používat je AJAX. Proto akce vrací JSON. V pohledech pak postačí následující kód:

/--code xml
  &lt;% using (Ajax.BeginForm("REST", "Customers", new AjaxOptions { HttpMethod = "POST" })) {%&gt;
    &lt;input type="submit" value="Create New" /&gt;
  &lt;% } %&gt;

  &lt;% using (Ajax.BeginForm("REST", "Customers", new AjaxOptions { HttpMethod = "PUT" })) {%&gt;
    &lt;input type="submit" value="Update" /&gt;
    &lt;input type="hidden" name="id" value="10" /&gt;
  &lt;% } %&gt;

  &lt;% using (Ajax.BeginForm("REST", "Customers", new AjaxOptions { HttpMethod = "DELETE" })) {%&gt;
    &lt;input type="submit" value="Delete" /&gt;
    &lt;input type="hidden" name="id" value="10" /&gt;
  &lt;% } %&gt;

  &lt;script src="/Scripts/MicrosoftAjax.js" type="text/javascript"&gt;&lt;/script&gt;
  &lt;script src="/Scripts/MicrosoftMvcAjax.js" type="text/javascript"&gt;&lt;/script&gt;
\--code

Vylepšená verze model binderu
=============================

V článku [clanek(336)] jsem ukazoval jak si napsat vlastní model binder. Taky jsem psal že uvedený postup není moc dobrý. Tady je tedy lepší verze:

/--code csharp
public class AddressBinder : BinderBase&lt;Address&gt; {
  public override ModelBinderResult BindModel(ModelBindingContext bindingContext) {

    IValueProvider valueProvider = bindingContext.ValueProvider;
    Address address = bindingContext.Model as Address ?? new Address();

    address.Street = GetSafeStringValue(valueProvider, "address_street");
    address.StreetNumber = GetSafeStringValue(valueProvider, "address_street_number");
    address.PostalCode = GetSafeStringValue(valueProvider, "address_postal_code");
    address.Town = GetSafeStringValue(valueProvider, "address_town");

    return new ModelBinderResult(address);
  }
}
\--code

K tomu je ale ještě potřeba rozšířit bázovou třídu binderu:

/--code csharp
using System;
using System.Web.Mvc;

public abstract class BinderBase&lt;T&gt; : IModelBinder {

  protected static string GetSafeStringValue(IValueProvider valueProvider, string key) {
    ValueProviderResult value = valueProvider.GetValue(key);

    if (value != null) {
      return value.AttemptedValue.Trim();
    }

    return String.Empty;
  }

  protected static bool GetSafeBooleanValue(IValueProvider valueProvider, string key) {
    ValueProviderResult value = valueProvider.GetValue(key);

    return value != null;
  }

  public Type ModelType {
    get {
      return typeof(T);
    }
  }

  public abstract ModelBinderResult BindModel(ModelBindingContext bindingContext);
}
\--code

Tím jsme se zbavili závislosti na `HttpContext`u, binder je lépe testovatelný a hlavně se dá použít i v metodě `UpdateModel`.

Oprava integrace IoC kontejneru do ASP.NET MVC
==============================================

V ukázkových kódech článku [clanek(332)] bylo několik chybek, chyběly usingy a některé věci jsem trošku refaktoroval.

Nová verze RoutingMacros.boo
============================

V článku [clanek(338)] jsem měl jedno makro nedopsané. V nové verzi jsem přidal sekci `constraints` k makru `ignore_route` a provedl lehký refaktoring. Plně funkční kód:

/--code boo
import Boo.Lang.Extensions
import Boo.Lang.Compiler
import Boo.Lang.Compiler.Ast
import Boo.Lang.Compiler.Ast.Visitors

import System.Web
import System.Web.Routing

class IgnoreRouteInternal(Route):
  def constructor(url as string):
    super(url, StopRoutingHandler())

  override def GetVirtualPath(requestContext as RequestContext, values as RouteValueDictionary):
    return null as VirtualPathData

def apply_constraints(block as Block, constraints as MacroStatement):
  assert block
  return if not constraints

  block.Add([| route.Constraints = RouteValueDictionary() |])

  for exp as ExpressionStatement in constraints.Block.Statements:
    binary = exp.Expression as BinaryExpression
    block.Add([| route.Constraints.Add($(binary.Left.ToString()), $(binary.Right)) |])

def apply_defaults(block as Block, defaults as MacroStatement):
  assert block
  return if not defaults

  block.Add([| route.Defaults = RouteValueDictionary() |])

  for exp as ExpressionStatement in defaults.Block.Statements:
    binary = exp.Expression as BinaryExpression
    block.Add([| route.Defaults.Add($(binary.Left.ToString()), $(binary.Right)) |])

macro ignore_route:
  path, = ignore_route.Arguments
  constraints = ignore_route["constraints"] as MacroStatement

  block = Block()
  block.Add([| route = IgnoreRouteInternal($path) |])
  apply_constraints(block, constraints)
  block.Add([| RouteTable.Routes.Add(route) |])

  return block

macro map_route:
  name, path = map_route.Arguments
  defaults = map_route["defaults"] as MacroStatement
  constraints = map_route["constraints"] as MacroStatement

  block = Block()
  block.Add([| route = Route($path, MvcRouteHandler()) |])
  apply_defaults(block, defaults)
  apply_constraints(block, constraints)
  block.Add([| RouteTable.Routes.Add($name, route) |])

  return block

macro defaults:
  allowedParents as List = [ "map_route" ]
  parent as MacroStatement = defaults.GetAncestor(NodeType.MacroStatement)
  assert allowedParents.Contains(parent.Name)

  parent["defaults"] = defaults

macro constraints:
  allowedParents as List = [ "map_route", "ignore_route" ]
  parent as MacroStatement = constraints.GetAncestor(NodeType.MacroStatement)
  assert allowedParents.Contains(parent.Name)

  parent["constraints"] = constraints
\--code

[clanek(296)]: /weblog/296-url-routing-v-asp-net-cast-prvni.aspx URL Routing v ASP.NET – část první .(URL Routing v ASP.NET – část první){rel:bookmark}
[clanek(329)]: /weblog/329-rest-aplikace-pomoci-asp-net-mvc.aspx REST aplikace pomocí ASP.NET MVC .(REST aplikace pomocí ASP.NET MVC){rel:bookmark}
[clanek(332)]: /weblog/332-inversion-of-control-v-asp-net-mvc.aspx Inversion of Control v ASP.NET MVC .(Inversion of Control v ASP.NET MVC){rel:bookmark}
[clanek(336)]: /weblog/336-model-binders-v-asp-net-mvc.aspx Model binders v ASP.NET MVC .(Model binders v ASP.NET MVC){rel:bookmark}
[clanek(338)]: /weblog/338-dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc.aspx DSL pro konfiguraci URL Routingu v ASP.NET MVC .(DSL pro konfiguraci URL Routingu v ASP.NET MVC){rel:bookmark}
[clanek(340)]: /weblog/340-pojmenovane-routy-v-asp-net-mvc.aspx Pojmenované routy v ASP.NET MVC .(Pojmenované routy v ASP.NET MVC){rel:bookmark}</raw>
    <author>Aleš Roubíček</author>
    <published>2009-01-04T11:10:58.343</published>
    <url>oprava-predchozich-clanku</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>aspnet mvc binsor rest binders</tags>
    <is-published>1</is-published>
    <edited>2009-01-14T16:41:47.950</edited>
  </article>
  <article>
    <id>342</id>
    <title>Testování routingu v ASP.NET</title>
    <description>Nejspíš poslední zastávka u routingu v ASP.NET bude o tom, jak jednoduše testovat pravidla v routovací tabulce.</description>
    <html xml:space="preserve">
&lt;p&gt;Nejspíš poslední zastávka u routingu v ASP.NET bude o tom, jak
jednoduše testovat pravidla v routovací tabulce.&lt;/p&gt;

&lt;p&gt;Pokud váš projekt doroste do rozměrů, kdy máte spoustu routovacích
pravidel a pomalu se v nich začínáte ztrácet, nebo se vybírá jiné
pravidlo než byste si představovali, nebo jen chcete zjistit, jak to vlastně
funguje, hodil by se nástroj, kterým by se to dalo snadno zvládnout.
A takový existuje! Pojďme se na něj podívat.&lt;/p&gt;

&lt;h3 id="toc-routing-debugger"&gt;Routing debugger&lt;/h3&gt;

&lt;p&gt;Ten nástroj se jmenuje &lt;a
href="http://haacked.com/archive/2008/03/13/url-routing-debugger.aspx"&gt;ASP.NET
Routing Debugger&lt;/a&gt; a jeho autorem je samotný &lt;a
href="http://haacked.com/"&gt;Phil Haack&lt;/a&gt; product manager ASP.NET MVC, Routingu
a integrace DLR do ASP.NET.&lt;/p&gt;

&lt;p&gt;Jeho užití je poměrně velice jednoduché. Nejprve je nutné si debbuger
&lt;a href="http://haacked.com/code/RouteDebug-Binary.zip"&gt;stáhnout&lt;/a&gt;, rozbalit
a přidat do projektu referenci na rozbalenou knihovnu. Pak už jen stačí do
&lt;code&gt;Global.asax&lt;/code&gt; přidat následující řádek (za registraci
routovacích pravidel):&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;protected void Application_Start() {
  RegisterRoutes(RouteTable.Routes);
  RouteDebug.RouteDebugger.RewriteRoutesForTesting(RouteTable.Routes);
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Odteď bude všechny požadavky požírat debbuger routingu. Když si projekt
spustíme, uvidíme pěknou tabulku, kde jsou vypsaná jednotlivá pravidla,
včetně příznaku, která jsou zrovna vhodná pro aktuální URL. Ano,
vhodných pravidel může být povícero, ale vždy se vybere jen ta, která je
&lt;strong&gt;první v pořadí&lt;/strong&gt;. Dále pak jsou vidět hodnoty, které jsou
z aktuální adresy získány, přednastavené výchozí hodnoty a
zpřesňující pravidla.&lt;/p&gt;

&lt;p&gt;Snad se bude hodit :)&lt;/p&gt;

&lt;div class="hslice" id="related"&gt;
	&lt;h3 class="entry-title" id="toc-souvisejici"&gt;Související&lt;/h3&gt;

	&lt;ul class="entry-content"&gt;
		&lt;li&gt;&lt;a
		href="http://haacked.com/archive/2008/03/13/url-routing-debugger.aspx"&gt;ASP.NET
		Routing Debugger&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a
		href="http://phpfashion.com/testovani-routingu-v-nette-frameworku"&gt;Testování
		routingu v Nette Frameworku&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
&lt;/div&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Nejspíš poslední zastávka u routingu v ASP.NET bude o tom, jak jednoduše testovat pravidla v routovací tabulce.

Pokud váš projekt doroste do rozměrů, kdy máte spoustu routovacích pravidel a pomalu se v nich začínáte ztrácet, nebo se vybírá jiné pravidlo než byste si představovali, nebo jen chcete zjistit, jak to vlastně funguje, hodil by se nástroj, kterým by se to dalo snadno zvládnout. A takový existuje! Pojďme se na něj podívat.

Routing debugger
================

Ten nástroj se jmenuje [debugger] a jeho autorem je samotný [haacked] product manager ASP.NET MVC, Routingu a integrace DLR do ASP.NET.

Jeho užití je poměrně velice jednoduché. Nejprve je nutné si debbuger [download], rozbalit a přidat do projektu referenci na rozbalenou knihovnu. Pak už jen stačí do `Global.asax` přidat následující řádek (za registraci routovacích pravidel):

/--code csharp
protected void Application_Start() {
  RegisterRoutes(RouteTable.Routes);
  RouteDebug.RouteDebugger.RewriteRoutesForTesting(RouteTable.Routes);
}
\--code

Odteď bude všechny požadavky požírat debbuger routingu. Když si projekt spustíme, uvidíme pěknou tabulku, kde jsou vypsaná jednotlivá pravidla, včetně příznaku, která jsou zrovna vhodná pro aktuální URL. Ano, vhodných pravidel může být povícero, ale vždy se vybere jen ta, která je **první v pořadí**. Dále pak jsou vidět hodnoty, které jsou z aktuální adresy získány, přednastavené výchozí hodnoty a zpřesňující pravidla.

Snad se bude hodit :)

/--div .[hslice #related]
Související .[entry-title]
===========
.[entry-content]
* [debugger]
* [nette]
\--div

[haacked]: http://haacked.com/ Phil Haack
[debugger]: http://haacked.com/archive/2008/03/13/url-routing-debugger.aspx ASP.NET Routing Debugger
[download]: http://haacked.com/code/RouteDebug-Binary.zip stáhnout
[nette]: http://phpfashion.com/testovani-routingu-v-nette-frameworku Testování routingu v Nette Frameworku</raw>
    <author>Aleš Roubíček</author>
    <published>2009-01-08T10:09:13.973</published>
    <url>testovani-routingu-v-asp-net</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>aspnet routing mvc</tags>
    <is-published>1</is-published>
    <edited>2009-01-09T07:23:39.173</edited>
  </article>
  <article>
    <id>343</id>
    <title>Jaký pohled si vybrat?</title>
    <description>ASP.NET MVC umožňuje výběr šablonovacího systému i jazyka, který v něm chcete používat. Máte rádi Ruby a Haml, nebo Boo? I pro vás tu něco máme!</description>
    <html xml:space="preserve">
&lt;p&gt;ASP.NET MVC je velice modulární, jeho největší devízou je, že skoro
vše lze nahradit něčím jiným. Nejinak je tomu i u ViewEnginu
(šablonovací systém). Dokonce můžete v jedné aplikaci používat několik
šablonovacích systémů vedle sebe. A to už se vyplatí!&lt;/p&gt;

&lt;h3 id="toc-jaky-je-vyber"&gt;Jaký je výběr?&lt;/h3&gt;

&lt;p&gt;Existuje spousta známých i neznámých šablonovacích systémů.
Najznámější jsou asi, počkejte si na to, &lt;strong&gt;PHP/ASP&lt;/strong&gt;. Ha! Ano,
&lt;acronym title="PHP Hypertext Processor"&gt;PHP&lt;/acronym&gt; i &lt;acronym
title="Active Server Pages"&gt;ASP&lt;/acronym&gt; nejsou nic jinýho než šablonovací
systémy. To že v nich někdo dokáže psát celé aplikace –
klobouk dolu.&lt;/p&gt;

&lt;p&gt;Šablonovací systém najdete téměř v každém oblíbeném webovém
frameworku. V ASP.NET MVC mu většinou říkáme &lt;em&gt;ASPX&lt;/em&gt; nebo
&lt;em&gt;WebForms&lt;/em&gt; view engine. To je ten, který se používá v základu.
Narozdíl od ASP můžete v ASPX šablonách používat i serverové značky.
Toho lze využít pro tvorbu Master pages a Content pages, nebo pro snadnou
lokalizaci za pomocí &lt;code&gt;asp:Localize&lt;/code&gt;. :) V takové šabloně
můžete navíc použít jakýkoli dotnetí jazyk pro logiku pohledu. Následuje
ukázka pohledu s jazykem C#:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;%@ Page Language="C#" Inherits="System.Web.Mvc.ViewPage" %&amp;gt;
&amp;lt;html xmlns="http://www.w3.org/1999/xhtml"&amp;gt;
&amp;lt;head&amp;gt;
  &amp;lt;title&amp;gt;Test view page&amp;lt;/title&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
  &amp;lt;h1&amp;gt;Test view page&amp;lt;/h1&amp;gt;

  &amp;lt;ul&amp;gt;
    &amp;lt;% foreach (var company in Model.Companies) { %&amp;gt;
    &amp;lt;li&amp;gt;&amp;lt;%= company.Name %&amp;gt;&amp;lt;/li&amp;gt;
    &amp;lt;% } %&amp;gt;
  &amp;lt;/ul&amp;gt;

  &amp;lt;% using(Html.BeginForm("create", "company", FormMethod.Post) { %&amp;gt;
   &amp;lt;fieldset&amp;gt;
     &amp;lt;legend&amp;gt;Create new company&amp;lt;/legend&amp;gt;
     &amp;lt;label for="companyName"&amp;gt;Name:&amp;lt;/label&amp;gt;
     &amp;lt;%= Html.TextBox("companyName") %&amp;gt;
     &amp;lt;input type="submit" value="Create company" /&amp;gt;
   &amp;lt;/fieldset&amp;gt;
  &amp;lt;% } %&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Stejná ukázka za použití Visual Basicu:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;%@ Page Language="VB"  Inherits="System.Web.Mvc.ViewPage" %&amp;gt;
&amp;lt;html xmlns="http://www.w3.org/1999/xhtml"&amp;gt;
&amp;lt;head&amp;gt;
  &amp;lt;title&amp;gt;Test view page&amp;lt;/title&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
  &amp;lt;h1&amp;gt;Test view page&amp;lt;/h1&amp;gt;

  &amp;lt;ul&amp;gt;
    &amp;lt;% For Each company In Model.Companies %&amp;gt;
    &amp;lt;li&amp;gt;&amp;lt;%= company.Name %&amp;gt;&amp;lt;/li&amp;gt;
    &amp;lt;% Next %&amp;gt;
  &amp;lt;/ul&amp;gt;

  &amp;lt;% Using Html.BeginForm("create", "company", FormMethod.Post) %&amp;gt;
   &amp;lt;fieldset&amp;gt;
     &amp;lt;legend&amp;gt;Create new company&amp;lt;/legend&amp;gt;
     &amp;lt;label for="companyName"&amp;gt;Name:&amp;lt;/label&amp;gt;
     &amp;lt;%= Html.TextBox("companyName") %&amp;gt;
     &amp;lt;input type="submit" value="Create company" /&amp;gt;
   &amp;lt;/fieldset&amp;gt;
  &amp;lt;% End Using %&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Osobně v pohledech upřednostňuju Visual Basic – je to díky jeho
ukecanosti. Ano, i ta se někdy může hodit. V pohledech je pak lépe vidět,
kde začíná a končí &lt;code&gt;for&lt;/code&gt; cyklus nebo podmíněný blok.
Nejspíš lze stejného efektu dosáhnout i za použití &lt;a
href="http://www.ironruby.net/"&gt;IronRuby&lt;/a&gt;. Ale to zjistím asi velice
brzy. :)&lt;/p&gt;

&lt;p&gt;Když už jsme u toho Ruby, potažmo u Railsů, nesmím zapomenout zmínit
&lt;a href="http://haml.hamptoncatlin.com/"&gt;Haml&lt;/a&gt;. Kód v něm může vypadat
celkem obskurně, ale má přísnou logiku a zachovává čistou strukturu
pohledu.&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-haml"&gt;%html{:xmlns =&amp;gt; 'http://www.w3.org/1999/xhtml'}
  %head
    %title Test view page
  %body
    %h1 Test view page
    %ul
      -model.companies.each do |company|
        %li= company.name
    %form{:action =&amp;gt; url.action({:action =&amp;gt; 'Create'}), :method =&amp;gt; 'post'}
      %fieldset
        %legend Create new company
        %label{:for =&amp;gt; 'companyName'} Name:
        =html.text_box('companyName')
        %input{:type =&amp;gt; 'submit', :value =&amp;gt; 'Create company'}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Do ASP.NET MVC lze přidat jeho port do dotnetu: &lt;a
href="http://code.google.com/p/nhaml/"&gt;NHaml&lt;/a&gt;. Pro logiku pohledu lze
použít jazyky C#, &lt;a href="http://www.ironruby.net/"&gt;IronRuby&lt;/a&gt; a &lt;a
href="http://boo.codehaus.org/"&gt;Boo&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Obecným šablonovacím jazykem je Velocity, které si našlo cestu
například do MonoRailu v podobě &lt;a
href="http://www.castleproject.org/others/nvelocity/index.html"&gt;NVelocity&lt;/a&gt;.
Samozřejmě je ho možné používat i v ASP.NET MVC.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;html xmlns="http://www.w3.org/1999/xhtml"&amp;gt;
&amp;lt;head&amp;gt;
  &amp;lt;title&amp;gt;Test view page&amp;lt;/title&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
  &amp;lt;h1&amp;gt;Test view page&amp;lt;/h1&amp;gt;

  &amp;lt;ul&amp;gt;
#foreach($company in $model.Companies)
    &amp;lt;li&amp;gt;$company.Name&amp;lt;/li&amp;gt;
#end
  &amp;lt;/ul&amp;gt;

  &amp;lt;form action="$url.Action('create')" method="POST"&amp;gt;
    &amp;lt;fieldset&amp;gt;
      &amp;lt;legend&amp;gt;Create new company&amp;lt;/legend&amp;gt;
      &amp;lt;label for="companyName"&amp;gt;Name:&amp;lt;/label&amp;gt;
      $html.TextBox('companyName')
      &amp;lt;input type="submit" value="Create company" /&amp;gt;
    &amp;lt;/fieldset&amp;gt;
  &amp;lt;/form&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Na půdě MonoRailu vznikl i další šablonovací systém postavený nad &lt;a
href="http://boo.codehaus.org/"&gt;Boo&lt;/a&gt; s poetickým názvem &lt;a
href="http://www.castleproject.org/MonoRail/documentation/trunk/viewengines/brail/index.html"&gt;Brail&lt;/a&gt;.
V šablonách se může používat i rozšířená syntaxe Boo, která není
závislá na odsazování a používá &lt;code&gt;end&lt;/code&gt; literály pro
definici bloků.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;html xmlns="http://www.w3.org/1999/xhtml"&amp;gt;
&amp;lt;head&amp;gt;
  &amp;lt;title&amp;gt;Test view page&amp;lt;/title&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
  &amp;lt;h1&amp;gt;Test view page&amp;lt;/h1&amp;gt;

  &amp;lt;ul&amp;gt;
    &amp;lt;?brail for company in model.Companies: ?&amp;gt;
    &amp;lt;li&amp;gt;${company.Name}&amp;lt;/li&amp;gt;
    &amp;lt;?brail end ?&amp;gt;
  &amp;lt;/ul&amp;gt;

  &amp;lt;?brail using Html.BeginForm('create', 'company', FormMethod.Post): ?&amp;gt;
    &amp;lt;fieldset&amp;gt;
      &amp;lt;legend&amp;gt;Create new company&amp;lt;/legend&amp;gt;
      &amp;lt;label for="companyName"&amp;gt;Name:&amp;lt;/label&amp;gt;
      ${Html.TextBox('companyName')}
      &amp;lt;input type="submit" value="Create company" /&amp;gt;
    &amp;lt;/fieldset&amp;gt;
  &amp;lt;?brail end ?&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Samozřejmě můžete místo &lt;code&gt;&amp;lt;?brail ?&amp;gt;&lt;/code&gt; použít
zkrácený zápis &lt;code&gt;&amp;lt;% %&amp;gt;&lt;/code&gt;, to už je jen na vás, jestli se
vám víc líbí PHP nebo ASP styl…&lt;/p&gt;

&lt;p&gt;A pomalu se blížíme k poslednímu zajímavému šablonovacímu systému.
A tím je &lt;a href="http://dev.dejardin.org/"&gt;Spark&lt;/a&gt;. Spark si klade za cíl,
být co nejblíže kodérovi a jeho syntaxe je založená primárně na &lt;acronym
title="Extensible Hypertext Markup Language"&gt;XHTML&lt;/acronym&gt;. Pro logiku pohledu
využíváte rozšířených značek a atributů, které jsou překládány do
vámi zvoleného jazyka. Zvolit si můžete tradičně mezi C#, &lt;a
href="http://www.ironruby.net/"&gt;IronRuby&lt;/a&gt; a &lt;a
href="http://ironpython.codeplex.com/"&gt;IronPython&lt;/a&gt;.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;html xmlns="http://www.w3.org/1999/xhtml"&amp;gt;
&amp;lt;head&amp;gt;
  &amp;lt;title&amp;gt;Test view page&amp;lt;/title&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
  &amp;lt;h1&amp;gt;Test view page&amp;lt;/h1&amp;gt;

  &amp;lt;ul&amp;gt;
    &amp;lt;li each="company in model.Companies"&amp;gt;${company.name}&amp;lt;/li&amp;gt;
  &amp;lt;/ul&amp;gt;

  &amp;lt;form action="${url.action('create')}" method="POST"&amp;gt;
    &amp;lt;fieldset&amp;gt;
      &amp;lt;legend&amp;gt;Create new company&amp;lt;/legend&amp;gt;
      &amp;lt;label for="companyName"&amp;gt;Name:&amp;lt;/label&amp;gt;
      ${html.text_box('companyName')}
      &amp;lt;input type="submit" value="Create company" /&amp;gt;
    &amp;lt;/fieldset&amp;gt;
  &amp;lt;/form&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id="toc-zaver"&gt;Závěr&lt;/h3&gt;

&lt;p&gt;Když se podíváte na výše uvedené ukázky, zjistíte, že mají mnohé
společné. Na vás je si vybrat. Každý z šablonovacích systémů má svá
specifika a například Sparku bych se chtěl podrobněji věnovat v některém
z následujících spo­tů.&lt;/p&gt;

&lt;p&gt;Pokud se rozhodnete některý z view enginů použít, zkuste to přes
projekt &lt;a href="http://mvccontrib.codeplex.com/"&gt;MVC Contrib&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Díky možnostem otevřené architektury ASP.NET MVC a možnosti zvolit si
k práci jazyk, který vám nejvíce vyhovuje, můžete docílit nejen
úspěchu u žen, ale i dle vašich preferencí! No řekněte, kdo z vás
to má?&lt;/p&gt;

&lt;p&gt;&lt;em&gt;V ukázkách NHamlu a Sparku jsem zvolil integraci s jazykem
IronRuby.&lt;/em&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">ASP.NET MVC je velice modulární, jeho největší devízou je, že skoro vše lze nahradit něčím jiným. Nejinak je tomu i u ViewEnginu (šablonovací systém). Dokonce můžete v jedné aplikaci používat několik šablonovacích systémů vedle sebe. A to už se vyplatí!

Jaký je výběr?
==============

Existuje spousta známých i neznámých šablonovacích systémů. Najznámější jsou asi, počkejte si na to, **PHP/ASP**. Ha! Ano, PHP((PHP Hypertext Processor)) i ASP((Active Server Pages)) nejsou nic jinýho než šablonovací systémy. To že v nich někdo dokáže psát celé aplikace – klobouk dolu.

Šablonovací systém najdete téměř v každém oblíbeném webovém frameworku. V ASP.NET MVC mu většinou říkáme *ASPX* nebo *WebForms* view engine. To je ten, který se používá v základu. Narozdíl od ASP můžete v ASPX šablonách používat i serverové značky. Toho lze využít pro tvorbu Master pages a Content pages, nebo pro snadnou lokalizaci za pomocí `asp:Localize`. :) V takové šabloně můžete navíc použít jakýkoli dotnetí jazyk pro logiku pohledu. Následuje ukázka pohledu s jazykem C#:

/--code xml
&lt;%@ Page Language="C#" Inherits="System.Web.Mvc.ViewPage" %&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;
  &lt;title&gt;Test view page&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;Test view page&lt;/h1&gt;

  &lt;ul&gt;
    &lt;% foreach (var company in Model.Companies) { %&gt;
    &lt;li&gt;&lt;%= company.Name %&gt;&lt;/li&gt;
    &lt;% } %&gt;
  &lt;/ul&gt;

  &lt;% using(Html.BeginForm("create", "company", FormMethod.Post) { %&gt;
   &lt;fieldset&gt;
     &lt;legend&gt;Create new company&lt;/legend&gt;
     &lt;label for="companyName"&gt;Name:&lt;/label&gt;
     &lt;%= Html.TextBox("companyName") %&gt;
     &lt;input type="submit" value="Create company" /&gt;
   &lt;/fieldset&gt;
  &lt;% } %&gt;
&lt;/body&gt;
&lt;/html&gt;
\--code

Stejná ukázka za použití Visual Basicu:

/--code xml
&lt;%@ Page Language="VB"  Inherits="System.Web.Mvc.ViewPage" %&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;
  &lt;title&gt;Test view page&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;Test view page&lt;/h1&gt;

  &lt;ul&gt;
    &lt;% For Each company In Model.Companies %&gt;
    &lt;li&gt;&lt;%= company.Name %&gt;&lt;/li&gt;
    &lt;% Next %&gt;
  &lt;/ul&gt;

  &lt;% Using Html.BeginForm("create", "company", FormMethod.Post) %&gt;
   &lt;fieldset&gt;
     &lt;legend&gt;Create new company&lt;/legend&gt;
     &lt;label for="companyName"&gt;Name:&lt;/label&gt;
     &lt;%= Html.TextBox("companyName") %&gt;
     &lt;input type="submit" value="Create company" /&gt;
   &lt;/fieldset&gt;
  &lt;% End Using %&gt;
&lt;/body&gt;
&lt;/html&gt;
\--code

Osobně v pohledech upřednostňuju Visual Basic - je to díky jeho ukecanosti. Ano, i ta se někdy může hodit. V pohledech je pak lépe vidět, kde začíná a končí `for` cyklus nebo podmíněný blok. Nejspíš lze stejného efektu dosáhnout i za použití [ironruby]. Ale to zjistím asi velice brzy. :)

Když už jsme u toho Ruby, potažmo u Railsů, nesmím zapomenout zmínit [haml]. Kód v něm může vypadat celkem obskurně, ale má přísnou logiku a zachovává čistou strukturu pohledu.

/--code haml
%html{:xmlns =&gt; 'http://www.w3.org/1999/xhtml'}
  %head
    %title Test view page
  %body
    %h1 Test view page
    %ul
      -model.companies.each do |company|
        %li= company.name
    %form{:action =&gt; url.action({:action =&gt; 'Create'}), :method =&gt; 'post'}
      %fieldset
        %legend Create new company
        %label{:for =&gt; 'companyName'} Name:
        =html.text_box('companyName')
        %input{:type =&gt; 'submit', :value =&gt; 'Create company'}
\--code

Do ASP.NET MVC lze přidat jeho port do dotnetu: [nhaml]. Pro logiku pohledu lze použít jazyky C#, [ironruby] a [boo].

Obecným šablonovacím jazykem je Velocity, které si našlo cestu například do MonoRailu v podobě [nvelocity]. Samozřejmě je ho možné používat i v ASP.NET MVC.

/--code xml
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;
  &lt;title&gt;Test view page&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;Test view page&lt;/h1&gt;

  &lt;ul&gt;
#foreach($company in $model.Companies)
    &lt;li&gt;$company.Name&lt;/li&gt;
#end
  &lt;/ul&gt;

  &lt;form action="$url.Action('create')" method="POST"&gt;
    &lt;fieldset&gt;
      &lt;legend&gt;Create new company&lt;/legend&gt;
      &lt;label for="companyName"&gt;Name:&lt;/label&gt;
      $html.TextBox('companyName')
      &lt;input type="submit" value="Create company" /&gt;
    &lt;/fieldset&gt;
  &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
\--code

Na půdě MonoRailu vznikl i další šablonovací systém postavený nad [boo] s poetickým názvem [brail]. V šablonách se může používat i rozšířená syntaxe Boo, která není závislá na odsazování a používá `end` literály pro definici bloků.

/--code xml
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;
  &lt;title&gt;Test view page&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;Test view page&lt;/h1&gt;

  &lt;ul&gt;
    &lt;?brail for company in model.Companies: ?&gt;
    &lt;li&gt;${company.Name}&lt;/li&gt;
    &lt;?brail end ?&gt;
  &lt;/ul&gt;

  &lt;?brail using Html.BeginForm('create', 'company', FormMethod.Post): ?&gt;
    &lt;fieldset&gt;
      &lt;legend&gt;Create new company&lt;/legend&gt;
      &lt;label for="companyName"&gt;Name:&lt;/label&gt;
      ${Html.TextBox('companyName')}
      &lt;input type="submit" value="Create company" /&gt;
    &lt;/fieldset&gt;
  &lt;?brail end ?&gt;
&lt;/body&gt;
&lt;/html&gt;
\--code

Samozřejmě můžete místo `&lt;?brail ?&gt;` použít zkrácený zápis `&lt;% %&gt;`, to už je jen na vás, jestli se vám víc líbí PHP nebo ASP styl…

A pomalu se blížíme k poslednímu zajímavému šablonovacímu systému. A tím je [spark]. Spark si klade za cíl, být co nejblíže kodérovi a jeho syntaxe je založená primárně na XHTML((Extensible Hypertext Markup Language)). Pro logiku pohledu využíváte rozšířených značek a atributů, které jsou překládány do vámi zvoleného  jazyka. Zvolit si můžete tradičně mezi C#, [ironruby] a [ironpython].

/--code xml
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;
  &lt;title&gt;Test view page&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;Test view page&lt;/h1&gt;

  &lt;ul&gt;
    &lt;li each="company in model.Companies"&gt;${company.name}&lt;/li&gt;
  &lt;/ul&gt;

  &lt;form action="${url.action('create')}" method="POST"&gt;
    &lt;fieldset&gt;
      &lt;legend&gt;Create new company&lt;/legend&gt;
      &lt;label for="companyName"&gt;Name:&lt;/label&gt;
      ${html.text_box('companyName')}
      &lt;input type="submit" value="Create company" /&gt;
    &lt;/fieldset&gt;
  &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
\--code

Závěr
=====

Když se podíváte na výše uvedené ukázky, zjistíte, že mají mnohé společné. Na vás je si vybrat. Každý z šablonovacích systémů má svá specifika a například Sparku bych se chtěl podrobněji věnovat v některém z následujících spotů.

Pokud se rozhodnete některý z view enginů použít, zkuste to přes projekt [mvccontrib].

Díky možnostem otevřené architektury ASP.NET MVC a možnosti zvolit si k práci jazyk, který vám nejvíce vyhovuje, můžete docílit nejen úspěchu u žen, ale i dle vašich preferencí! No řekněte, kdo z vás to má?

*V ukázkách NHamlu a Sparku jsem zvolil integraci s jazykem IronRuby.*

[boo]: http://boo.codehaus.org/ Boo
[ironruby]: http://www.ironruby.net/ IronRuby
[ironpython]: http://ironpython.codeplex.com/ IronPython
[nhaml]: http://code.google.com/p/nhaml/ NHaml
[haml]: http://haml.hamptoncatlin.com/ Haml
[nvelocity]: http://www.castleproject.org/others/nvelocity/index.html NVelocity
[spark]: http://dev.dejardin.org/ Spark
[brail]: http://www.castleproject.org/MonoRail/documentation/trunk/viewengines/brail/index.html Brail
[mvccontrib]: http://mvccontrib.codeplex.com/ MVC Contrib</raw>
    <author>Aleš Roubíček</author>
    <published>2009-01-10T18:07:45.653</published>
    <url>jaky-pohled-si-vybrat</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>aspnet mvc viewengine nhaml spark brail nvelocity ironruby ironpython boo</tags>
    <is-published>1</is-published>
    <edited>2009-01-10T19:42:29.723</edited>
  </article>
  <article>
    <id>344</id>
    <title>Vývojář webových aplikací ASP.NET</title>
    <description>Nabídka zaměstnání.</description>
    <html xml:space="preserve">
&lt;h3 id="toc-pozadujeme"&gt;Požadujeme:&lt;/h3&gt;

&lt;ul&gt;
	&lt;li&gt;Znalost tvorby webových aplikací ASP.NET v jazyce C# – min. 2 roky
	praxe, zkušenosti s vývojem aplikací bez vestavěných ASP.NET controls&lt;/li&gt;

	&lt;li&gt;Základní znalost MS SQL&lt;/li&gt;

	&lt;li&gt;SŠ/VŠ vzdělání (technického zaměření)&lt;/li&gt;

	&lt;li&gt;Znalost anglického jazyka na úrovni čtení technické dokumentace&lt;/li&gt;

	&lt;li&gt;Ochotu učit se MS technologie&lt;/li&gt;

	&lt;li&gt;Zkušenosti s vývojem CMS řešení výhodou&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id="toc-nabizime"&gt;Nabízíme:&lt;/h3&gt;

&lt;ul&gt;
	&lt;li&gt;Spolupráci a podíl při návrhu a vývoji produktů&lt;/li&gt;

	&lt;li&gt;Perspektivní a zajímavou práci v dynamickém, neformálním
	přátelském prostředí&lt;/li&gt;

	&lt;li&gt;Flexibilní pracovní dobu&lt;/li&gt;

	&lt;li&gt;Práci v menším týmu&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;V případě zájmu mě kontaktujte na e-mail: &lt;a
href="mailto:veronika&amp;#64;trixam.cz"&gt;veronika&amp;#64;&lt;!----&gt;trixam.cz&lt;/a&gt;&lt;/p&gt;

&lt;h3 id="toc-souvisejici"&gt;Související&lt;/h3&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href="/weblog/334-odpojte-se-k-nam.aspx"&gt;Odpojte se k nám!&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Požadujeme:
===========

* Znalost tvorby webových aplikací ASP.NET v jazyce C# - min. 2 roky praxe, zkušenosti s vývojem aplikací bez vestavěných ASP.NET controls
* Základní znalost MS SQL
* SŠ/VŠ vzdělání (technického zaměření)
* Znalost anglického jazyka na úrovni čtení technické dokumentace
* Ochotu učit se MS technologie
* Zkušenosti s vývojem CMS řešení výhodou

Nabízíme:
=========

* Spolupráci a podíl při návrhu a vývoji produktů
* Perspektivní a zajímavou práci v dynamickém, neformálním přátelském prostředí
* Flexibilní pracovní dobu
* Práci v menším týmu

V případě zájmu mě kontaktujte na e-mail: veronika@trixam.cz

Související
===========

* [clanek(334)]

[clanek(334)]: /weblog/334-odpojte-se-k-nam.aspx Odpojte se k nám!
</raw>
    <author>Veronika Vajdiaková</author>
    <published>2009-01-12T14:06:43.857</published>
    <url>vyvojar-webovych-aplikaci-asp-net-csharp</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>twareg</tags>
    <is-published>1</is-published>
    <edited>2009-01-12T14:19:29.207</edited>
  </article>
  <article>
    <id>345</id>
    <title>Persistence modelu pomocí ActiveRecord</title>
    <description>Dneska se podíváme na zoubek modelu. Jak integrovat Castle ActiveRecord do naší připravené infrastruktury a automaticky registrovat repository? Samozřejmě nám pomůže Binsor...</description>
    <html xml:space="preserve">
&lt;p&gt;V architektuře naší MVC aplikace jsme se dostali již poměrně daleko.
Vybrali jsme si &lt;a rel="bookmark" title="Jaký pohled si vybrat?"
href="/weblog/343-jaky-pohled-si-vybrat.aspx"&gt;šablonovací systém&lt;/a&gt;, máme
vyřešenou &lt;a rel="bookmark" title="Inversion of Control v ASP.NET MVC"
href="/weblog/332-inversion-of-control-v-asp-net-mvc.aspx"&gt;integraci s IoC
kontejnerem&lt;/a&gt;, &lt;a rel="bookmark"
title="DSL pro konfiguraci URL Routingu v ASP.NET MVC"
href="/weblog/338-dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc.aspx"&gt;vymazlené
routování&lt;/a&gt;, připravené &lt;a rel="bookmark"
title="Model binders v ASP.NET MVC"
href="/weblog/336-model-binders-v-asp-net-mvc.aspx"&gt;model bindery&lt;/a&gt; a teď je
na čase nějakým způsobem model persistovat. Existuje mnoho způsobů, jak
toho dosáhnout.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Persistenci si můžete řešit sami na úrovni ADO.NET. Jenže proč
	řešit něco, co už někdo stokrát vyřešil?&lt;/li&gt;

	&lt;li&gt;Použít nějaký &lt;acronym title="Object Relational Mapper"&gt;ORM&lt;/acronym&gt;
	nástroj.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ORM nástrojů na výběr máme dnes tolik, že je stěží na prstech
spočítáme, jaký si tedy vybrat? Pro mnohé bude první volbou LINQ to SQL.
Pro jednoduché mapování (1:1) a tam, kde je možné být závislý pouze na
MS SQL, je toto řešení dostačující. Osobně preferuju malinko
složitější cestu, ale ve výsledku myslím, že mnohem mocnější. :)&lt;/p&gt;

&lt;h3 id="toc-castle-activerecord-a-repository-pattern"&gt;Castle ActiveRecord a
Repository pattern&lt;/h3&gt;

&lt;p&gt;Já ve svých posledních proktech používám &lt;a
href="http://www.castleproject.org/activerecord/index.html"&gt;Castle
ActiveRecord&lt;/a&gt;, což je implemenatce návrhového vzoru ActiveRecord nad ORM
frameworkem &lt;a href="http://www.nhibernate.org/"&gt;NHibernate&lt;/a&gt;. V mnoha
ohledech práci s NHibernatem značně zjednodušuje, ať už je to mapování,
automatickou správu session a podobně. Způsoby užití jsme už popsal ve
spotu &lt;a rel="bookmark" title="ActiveRecord vs. Repository pattern"
href="/weblog/271-active-record-vs-repository-pattern.aspx"&gt;ActiveRecord vs.
Repository pattern&lt;/a&gt;. Další výhodou je, že vše, co funguje v NHibernate
(LINQ, Spatial, vlastní mapovací typy), můžete použí i s Castle
ActiveRecord.&lt;/p&gt;

&lt;p&gt;Datové třídy však nedědím z bázové třídy
&lt;code&gt;ActiveRecordBase&lt;/code&gt;, ale používám Repository, která se stará
o &lt;acronym title="Create, Read, Update, Delete"&gt;CRUD&lt;/acronym&gt; operace
s entitou. Pokud chcete mít mapování a závislost na ActiveRecord snadno
odstranitelnou, můžete mapovací atributy vyčlenit třeba do samostatného
&lt;strong&gt;partial&lt;/strong&gt; souboru. Ale nejspíš nikdy v životním cyklu vaší
aplikace nebudete ORM framework měnit, takže se trápit metadaty
o databázovém schema je celkem zbytečné…&lt;/p&gt;

&lt;p&gt;Základem pro repository je generické rozhraní
&lt;code&gt;IRepository&amp;lt;&amp;gt;&lt;/code&gt;, pro snadnou automatickou registraci
repositoří v kontejneru ještě nadefinujeme ještě i negenerické
rozhraní:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;using Castle.ActiveRecord;

public interface IRepository {}

public interface IRepository&amp;lt;Tentity&amp;gt; : IRepository where TEntity : class {
  TEntity FindById(int id);
  void Save(TEntity entity);
  void Delete(TEntity entity);
}

public abstract class ActiveRecordRepositoryBase&amp;lt;TEntity&amp;gt;
  : IRepository&amp;lt;TEntity&amp;gt; where TEntity : class {
  public virtual TEntity FindById(int id) {
    return ActiveRecordMediator&amp;lt;TEntity&amp;gt;.FindByPrimaryKey(id);
  }
  public virtual void Save(TEntity entity) {
    ActiveRecordMediator&amp;lt;TEntity&amp;gt;.SaveAndFlush(entity);
  }
  public virtual void Delete(TEntity entity) {
    ActiveRecordMediator&amp;lt;TEntity&amp;gt;.DeleteAndFlush(entity);
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Pojďme si podporu pro ActiveRecord integrovat do naší MVC aplikace.&lt;/p&gt;

&lt;h3 id="toc-integrace-pres-binsor"&gt;Integrace přes Binsor&lt;/h3&gt;

&lt;p&gt;Výhodou projektů z Castle, je, že se mezi sebou dokážou integrovat a
využívat navzájem výhod své synergie. Nejprve si do projektu přidáme
referenci na knihovnu &lt;code&gt;Castle.ActiveRecord&lt;/code&gt; a ještě
&lt;code&gt;Castle.Facilities.ActiveRecordIntegration&lt;/code&gt;. Následně
zaregistrujeme v souboru &lt;code&gt;Windsor.boo&lt;/code&gt; facility pro integraci
ActiveRecordu do IoC kontejneru:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-boo"&gt;import System.Reflection

// podpora ActiveRecord v kontejneru
facility ActiveRecordFacility:
  configuration:
    @isWeb = true, isDebug = false
    assemblies = [ Assembly.Load("MyApplication.Entities") ]
    config(keyvalues, item: add):
      show_sql = true
      command_timeout = 500
      dialect = 'NHibernate.Dialect.MsSql2005Dialect'
      connection.provider = 'NHibernate.Connection.DriverConnectionProvider'
      connection.driver_class = 'NHibernate.Driver.SqlClientDriver'
      connection.connection_string_name = 'CONN_DEMO'&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Teď ještě potřebujeme ve &lt;code&gt;web.config&lt;/code&gt;u přidat
&lt;code&gt;ConnectionString&lt;/code&gt; pod klíčem &lt;code&gt;CONN_DEMO&lt;/code&gt; a volitelně
přidat životnost session na jeden request. To uděláte tak, že do sekce
&lt;code&gt;system.web\httpModules&lt;/code&gt; přidáte následující modul:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;add
  name="PerRequestSessionScope"
  type="Castle.ActiveRecord.Framework.SessionScopeWebModule, Castle.ActiveRecord"/&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;To má za výhodu to, že všechny vaše dotazy za jeden request se chovají
jako jedna transakce. Takže integrace frameworku, je hotová. Teď ještě
přidáme automatickou registraci samotných repositoří.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-boo"&gt;for repository in AllTypesBased of IRepository("MyApplication.Entities"):
  component repository.Name.ToLower(), repository.GetInterfaces()[0], repository:
    lifestyle PerWebRequest&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Tímto se zaregistrují všechny repository, které dědí z
&lt;code&gt;ActiveRecordRepositoryBase&lt;/code&gt; a jsou pak ve vašich komponentách
dostupné jako &lt;code&gt;IRepository&amp;lt;User&amp;gt;&lt;/code&gt; (příklad pro entitu
&lt;code&gt;User&lt;/code&gt;). Pokud budete mít v repository více metod, je dobré
vytvořit pro ně kontrakt, který obsahuje kontrakt generické repository.
Například takto:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-boo"&gt;public interface IUsersRepository : IRepository&amp;lt;User&amp;gt; {
  User FindUserByEmail(string email);
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Registrace takovýchto komponent už je o něco složitější, ale dá se
to také zvládnout. Nejprve si zavedeme konvenci, že repository, které
takovéto kontrakty implementují, se budou jmenovat až na
&lt;strong&gt;I&lt;/strong&gt; na začátku stejně. :) Takže pro kontrakt
&lt;code&gt;IUsersRepository&lt;/code&gt; budeme mít konkrétní implementaci
&lt;code&gt;UsersRepository&lt;/code&gt; atd. Pro jejich registraci využijeme metodu
&lt;code&gt;System.Type.FindInterfaces&lt;/code&gt;, která bere jako první argument
delegát na vyhledávací funkci a druhý argument jsou hledací kritéria.
Takže si vytvoříme funkci, která splňuje kontrakt delegáta, a následně
ji hned využijeme pro registraci:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-boo"&gt;def contains_name(t as Type, o as Object):
  return t.Name.Contains(o.ToString())

for repository in AllTypesBased of IRepository("MyApplication.Entities"):
  repository_interface = repository.FindInterfaces(contains_name, repository.Name)
  component repository.Name.ToLower(), repository_interface, repository:
    lifestyle PerWebRequest&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Cool ne? Pár řádků konfigurace a nejspíš máme vystaráno, tedy když
dodržíme stanovenou konvenci, tak už se o registraci komponent datové
vrstvy nemusíme starat. Stejně tak už máme zaregistrované model bindery a
controllery. Trošku nám to konfigurace povyrostla, ale díky možnostem,
které nám přináší Binsor, je to jen zlomek toho, co by bylo potřeba
napsat v XML.&lt;/p&gt;

&lt;p&gt;Projektík se nám pomalu rozrůstá, sice stále nic nedělá, ale je to
dobrý základ pro pořádný web. Pokusím se ho hodit někam do SVN, aby bylo
lehčí se v projektu orientovat a byly vidět jednotlivé změny.&lt;/p&gt;

&lt;div class="hslice" id="related"&gt;
	&lt;h3 class="entry-title" id="toc-souvisejici"&gt;Související&lt;/h3&gt;

	&lt;ul class="entry-content"&gt;
		&lt;li&gt;&lt;a rel="bookmark" title="ActiveRecord vs. Repository pattern"
		href="/weblog/271-active-record-vs-repository-pattern.aspx"&gt;ActiveRecord vs.
		Repository pattern&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a rel="bookmark" title="Inversion of Control v ASP.NET MVC"
		href="/weblog/332-inversion-of-control-v-asp-net-mvc.aspx"&gt;Inversion of Control
		v ASP.NET MVC&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a rel="bookmark" title="Model binders v ASP.NET MVC"
		href="/weblog/336-model-binders-v-asp-net-mvc.aspx"&gt;Model binders v ASP.NET
		MVC&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a rel="bookmark" title="DSL pro konfiguraci URL Routingu v ASP.NET MVC"
		href="/weblog/338-dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc.aspx"&gt;DSL pro
		konfiguraci URL Routingu v ASP.NET MVC&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a rel="bookmark" title="Jaký pohled si vybrat?"
		href="/weblog/343-jaky-pohled-si-vybrat.aspx"&gt;Jaký pohled si vybrat?&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
&lt;/div&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">V architektuře naší MVC aplikace jsme se dostali již poměrně daleko. Vybrali jsme si "šablonovací systém":[clanek(343)], máme vyřešenou "integraci s IoC kontejnerem":[clanek(332)], "vymazlené routování":[clanek(338)], připravené "model bindery":[clanek(336)] a teď je na čase nějakým způsobem model persistovat. Existuje mnoho způsobů, jak toho dosáhnout.

1. Persistenci si můžete řešit sami na úrovni ADO.NET. Jenže proč řešit něco, co už někdo stokrát vyřešil?
2. Použít nějaký ORM((Object Relational Mapper)) nástroj.

ORM nástrojů na výběr máme dnes tolik, že je stěží na prstech spočítáme, jaký si tedy vybrat? Pro mnohé bude první volbou LINQ to SQL. Pro jednoduché mapování (1:1) a tam, kde je možné být závislý pouze na MS SQL, je toto řešení dostačující. Osobně preferuju malinko složitější cestu, ale ve výsledku myslím, že mnohem mocnější. :)

Castle ActiveRecord a Repository pattern
====================================

Já ve svých posledních proktech používám [activerecord], což je implemenatce návrhového vzoru ActiveRecord nad ORM frameworkem [nhibernate]. V mnoha ohledech práci s NHibernatem značně zjednodušuje, ať už je to mapování, automatickou správu session a podobně. Způsoby užití jsme už popsal ve spotu [clanek(271)]. Další výhodou je, že vše, co funguje v NHibernate (LINQ, Spatial, vlastní mapovací typy), můžete použí i s Castle ActiveRecord.

Datové třídy však nedědím z bázové třídy `ActiveRecordBase`, ale používám Repository, která se stará o CRUD((Create, Read, Update, Delete)) operace s entitou. Pokud chcete mít mapování a závislost na ActiveRecord snadno odstranitelnou, můžete mapovací atributy vyčlenit třeba do samostatného **partial** souboru. Ale nejspíš nikdy v životním cyklu vaší aplikace nebudete ORM framework měnit, takže se trápit metadaty o databázovém schema je celkem zbytečné...

Základem pro repository je generické rozhraní `IRepository&lt;&gt;`, pro snadnou automatickou registraci repositoří v kontejneru ještě nadefinujeme ještě i negenerické rozhraní:

/--code csharp
using Castle.ActiveRecord;

public interface IRepository {}

public interface IRepository&lt;Tentity&gt; : IRepository where TEntity : class {
  TEntity FindById(int id);
  void Save(TEntity entity);
  void Delete(TEntity entity);
}

public abstract class ActiveRecordRepositoryBase&lt;TEntity&gt;
  : IRepository&lt;TEntity&gt; where TEntity : class {
  public virtual TEntity FindById(int id) {
    return ActiveRecordMediator&lt;TEntity&gt;.FindByPrimaryKey(id);
  }
  public virtual void Save(TEntity entity) {
    ActiveRecordMediator&lt;TEntity&gt;.SaveAndFlush(entity);
  }
  public virtual void Delete(TEntity entity) {
    ActiveRecordMediator&lt;TEntity&gt;.DeleteAndFlush(entity);
  }
}
\--code

Pojďme si podporu pro ActiveRecord integrovat do naší MVC aplikace.

Integrace přes Binsor
===================

Výhodou projektů z Castle, je, že se mezi sebou dokážou integrovat a využívat navzájem výhod své synergie. Nejprve si do projektu přidáme referenci na knihovnu `Castle.ActiveRecord` a ještě `Castle.Facilities.ActiveRecordIntegration`. Následně zaregistrujeme v souboru `Windsor.boo` facility pro  integraci ActiveRecordu do IoC kontejneru:

/--code boo
import System.Reflection

// podpora ActiveRecord v kontejneru
facility ActiveRecordFacility:
  configuration:
    @isWeb = true, isDebug = false
    assemblies = [ Assembly.Load("MyApplication.Entities") ]
    config(keyvalues, item: add):
      show_sql = true
      command_timeout = 500
      dialect = 'NHibernate.Dialect.MsSql2005Dialect'
      connection.provider = 'NHibernate.Connection.DriverConnectionProvider'
      connection.driver_class = 'NHibernate.Driver.SqlClientDriver'
      connection.connection_string_name = 'CONN_DEMO'
\--code

Teď ještě potřebujeme ve `web.config`u přidat `ConnectionString` pod klíčem `CONN_DEMO` a volitelně přidat životnost session na jeden request. To uděláte tak, že do sekce `system.web\httpModules` přidáte následující modul:

/--code xml
&lt;add
  name="PerRequestSessionScope"
  type="Castle.ActiveRecord.Framework.SessionScopeWebModule, Castle.ActiveRecord"/&gt;
\--code

To má za výhodu to, že všechny vaše dotazy za jeden request se chovají jako jedna transakce. Takže integrace frameworku, je hotová. Teď ještě přidáme automatickou registraci samotných repositoří.

/--code boo
for repository in AllTypesBased of IRepository("MyApplication.Entities"):
  component repository.Name.ToLower(), repository.GetInterfaces()[0], repository:
    lifestyle PerWebRequest
\--code

Tímto se zaregistrují všechny repository, které dědí z `ActiveRecordRepositoryBase` a jsou pak ve vašich komponentách dostupné jako `IRepository&lt;User&gt;` (příklad pro entitu `User`). Pokud budete mít v repository více metod, je dobré vytvořit pro ně kontrakt, který obsahuje kontrakt generické repository. Například takto:

/--code boo
public interface IUsersRepository : IRepository&lt;User&gt; {
  User FindUserByEmail(string email);
}
\--code

Registrace takovýchto komponent už je o něco složitější, ale dá se to také zvládnout. Nejprve si zavedeme konvenci, že repository, které takovéto kontrakty implementují, se budou jmenovat až na **I** na začátku stejně. :) Takže pro kontrakt `IUsersRepository` budeme mít konkrétní implementaci `UsersRepository` atd. Pro jejich registraci využijeme metodu `System.Type.FindInterfaces`, která bere jako první argument delegát na vyhledávací funkci a druhý argument jsou hledací kritéria. Takže si vytvoříme funkci, která splňuje kontrakt delegáta, a následně ji hned využijeme pro registraci:

/--code boo
def contains_name(t as Type, o as Object):
  return t.Name.Contains(o.ToString())

for repository in AllTypesBased of IRepository("MyApplication.Entities"):
  repository_interface = repository.FindInterfaces(contains_name, repository.Name)
  component repository.Name.ToLower(), repository_interface, repository:
    lifestyle PerWebRequest
\--code

Cool ne? Pár řádků konfigurace a nejspíš máme vystaráno, tedy když dodržíme stanovenou konvenci, tak už se o registraci komponent datové vrstvy nemusíme starat. Stejně tak už máme zaregistrované model bindery a controllery. Trošku nám to konfigurace povyrostla, ale díky možnostem, které nám přináší Binsor, je to jen zlomek toho, co by bylo potřeba napsat v XML.

Projektík se nám pomalu rozrůstá, sice stále nic nedělá, ale je to dobrý základ pro pořádný web. Pokusím se ho hodit někam do SVN, aby bylo lehčí se v projektu orientovat a byly vidět jednotlivé změny.

/--div .[#related hslice]
Související .[entry-title]
==========
.[entry-content]
* [clanek(271)]
* [clanek(332)]
* [clanek(336)]
* [clanek(338)]
* [clanek(343)]
\--div


[clanek(271)]: /weblog/271-active-record-vs-repository-pattern.aspx ActiveRecord vs. Repository pattern .(ActiveRecord vs. Repository pattern){rel:bookmark}
[clanek(332)]: /weblog/332-inversion-of-control-v-asp-net-mvc.aspx Inversion of Control v ASP.NET MVC .(Inversion of Control v ASP.NET MVC){rel:bookmark}
[clanek(336)]: /weblog/336-model-binders-v-asp-net-mvc.aspx Model binders v ASP.NET MVC .(Model binders v ASP.NET MVC){rel:bookmark}
[clanek(338)]: /weblog/338-dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc.aspx DSL pro konfiguraci URL Routingu v ASP.NET MVC .(DSL pro konfiguraci URL Routingu v ASP.NET MVC){rel:bookmark}
[clanek(343)]: /weblog/343-jaky-pohled-si-vybrat.aspx Jaký pohled si vybrat? .(Jaký pohled si vybrat?){rel:bookmark}


[activerecord]: http://www.castleproject.org/activerecord/index.html Castle ActiveRecord
[nhibernate]: http://www.nhibernate.org/ NHibernate</raw>
    <author>Aleš Roubíček</author>
    <published>2009-01-21T15:16:56.257</published>
    <url>persistence-modelu-pomoci-activerecord</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>activerecord aspnet mvc binsor nhibernate repository</tags>
    <is-published>1</is-published>
    <edited>2009-01-24T08:38:47.573</edited>
  </article>
  <article>
    <id>346</id>
    <title>Užití repository v řadičích</title>
    <description>Dost už bylo infrastruktury, pojďme si ji trochu užít! :) Dneska si ukážeme jak používat naší infrastrukturu, která by nám měla spoustu věcí usnadnit. Proto jí vlastně tady tvořím.</description>
    <html xml:space="preserve">
&lt;p&gt;Dost už bylo infrastruktury, pojďme si ji trochu užít! :) Dneska si
ukážeme jak používat naší infrastrukturu, která by nám měla spoustu
věcí usnadnit. Proto jí vlastně tady tvořím.&lt;/p&gt;

&lt;h3 id="toc-dependency-injection-a-bindovani-modelu"&gt;Dependency injection a
bindování modelu&lt;/h3&gt;

&lt;p&gt;Vytvoříme si řadič, který bude pracovat řekněme s uživateli – to
je taková věc, která je nutná snad v každé aplikaci. Ruku na srdce,
aplikace bez uživatelů je tak trochu k ničemu. Tak pojďme na to!&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;[HandleErrors]
public class UsersController : System.Web.Mvc.Controller {

  private IUsersRepository _usersRepository;

  public UsersController(IUsersRepository usersRepository) {
    _usersRepository = usersRepository;
  }

  [ActionName("Rest")]
  [AcceptVerbs(HttpVerbs.Post)]
  public ActionResult Create(FormCollection forms) {

    var user = new User();
    if (ModelState.IsValid == false) {
      throw new ValidationException();
    }

    UpdateModel(user, forms.ToValueProvider());
    _usersRepository.Save(user);

    return Json(user);
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Krátké a úderné. Jde o klasický řadič, který má závislost na
repository uživatelů. Tuto závislost si nechává nainjektovat přes
konstruktor. O její životní cyklus se nestará, to řeší &lt;acronym
title="Inversion of Controll"&gt;IoC&lt;/acronym&gt; kontejner. Pak tu máme akci, která
zpracovává POST dotazy řekněme na URL &lt;code&gt;/Users&lt;/code&gt;, to teď není
podstatné. Tato akce by měla vytvořit nového uživatele z dat, která
přišla v POSTu (&lt;code&gt;FormCollection&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;Pokud nejsou data v pořádku, tak vyhodíme validační výjimku. O to,
jak se tato data mapují na model uživatele, se opět řadič nestará, to je
věc model binderu. Pokračujeme dále k uložení uživatele, někam. Kam a
jakým způsobem je řadiči opět šumák, to je starost repository. Nakonec
pošleme zpátky hotového uživatele jako &lt;acronym
title="JavaScript Object Notation"&gt;JSON&lt;/acronym&gt; objekt.&lt;/p&gt;

&lt;p&gt;A to je pro dnešek vše… :)&lt;/p&gt;

&lt;div class="hslice" id="related"&gt;
	&lt;h3 class="entry-title" id="toc-souvisejici"&gt;Související&lt;/h3&gt;

	&lt;ul class="entry-content"&gt;
		&lt;li&gt;&lt;a rel="bookmark" title="ActiveRecord vs. Repository pattern"
		href="/weblog/271-active-record-vs-repository-pattern.aspx"&gt;ActiveRecord vs.
		Repository pattern&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a rel="bookmark" title="Inversion of Control v ASP.NET MVC"
		href="/weblog/332-inversion-of-control-v-asp-net-mvc.aspx"&gt;Inversion of Control
		v ASP.NET MVC&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a rel="bookmark" title="Model binders v ASP.NET MVC"
		href="/weblog/336-model-binders-v-asp-net-mvc.aspx"&gt;Model binders v ASP.NET
		MVC&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a rel="bookmark" title="DSL pro konfiguraci URL Routingu v ASP.NET MVC"
		href="/weblog/338-dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc.aspx"&gt;DSL pro
		konfiguraci URL Routingu v ASP.NET MVC&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a rel="bookmark" title="Jaký pohled si vybrat?"
		href="/weblog/343-jaky-pohled-si-vybrat.aspx"&gt;Jaký pohled si vybrat?&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a rel="bookmark" title="Persistence modelu pomocí ActiveRecord"
		href="/weblog/345-persistence-modelu-pomoci-activerecord.aspx"&gt;Persistence
		modelu pomocí ActiveRecord&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
&lt;/div&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Dost už bylo infrastruktury, pojďme si ji trochu užít! :) Dneska si ukážeme jak používat naší infrastrukturu, která by nám měla spoustu věcí usnadnit. Proto jí vlastně tady tvořím.

Dependency injection a bindování modelu
=======================================

Vytvoříme si řadič, který bude pracovat řekněme s uživateli - to je taková věc, která je nutná snad v každé aplikaci. Ruku na srdce, aplikace bez uživatelů je tak trochu k ničemu. Tak pojďme na to!

/--code csharp
[HandleErrors]
public class UsersController : System.Web.Mvc.Controller {

  private IUsersRepository _usersRepository;

  public UsersController(IUsersRepository usersRepository) {
    _usersRepository = usersRepository;
  }

  [ActionName("Rest")]
  [AcceptVerbs(HttpVerbs.Post)]
  public ActionResult Create(FormCollection forms) {

    var user = new User();
    if (ModelState.IsValid == false) {
      throw new ValidationException();
    }

    UpdateModel(user, forms.ToValueProvider());
    _usersRepository.Save(user);

    return Json(user);
  }
}
\--code

Krátké a úderné. Jde o klasický řadič, který má závislost na repository uživatelů. Tuto závislost si nechává nainjektovat přes konstruktor. O její životní cyklus se nestará, to řeší IoC((Inversion of Controll)) kontejner. Pak tu máme akci, která zpracovává POST dotazy řekněme na URL `/Users`, to teď není podstatné. Tato akce by měla vytvořit nového uživatele z dat, která přišla v POSTu (`FormCollection`).

Pokud nejsou data v pořádku, tak vyhodíme validační výjimku. O to, jak se tato data mapují na model uživatele, se opět řadič nestará, to je věc model binderu. Pokračujeme dále k uložení uživatele, někam. Kam a jakým způsobem je řadiči opět šumák, to je starost repository. Nakonec pošleme zpátky hotového uživatele jako JSON((JavaScript Object Notation)) objekt.

A to je pro dnešek vše… :)

/--div .[#related hslice]
Související .[entry-title]
==========
.[entry-content]
* [clanek(271)]
* [clanek(332)]
* [clanek(336)]
* [clanek(338)]
* [clanek(343)]
* [clanek(345)]
\--div


[clanek(271)]: /weblog/271-active-record-vs-repository-pattern.aspx ActiveRecord vs. Repository pattern .(ActiveRecord vs. Repository pattern){rel:bookmark}
[clanek(332)]: /weblog/332-inversion-of-control-v-asp-net-mvc.aspx Inversion of Control v ASP.NET MVC .(Inversion of Control v ASP.NET MVC){rel:bookmark}
[clanek(336)]: /weblog/336-model-binders-v-asp-net-mvc.aspx Model binders v ASP.NET MVC .(Model binders v ASP.NET MVC){rel:bookmark}
[clanek(338)]: /weblog/338-dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc.aspx DSL pro konfiguraci URL Routingu v ASP.NET MVC .(DSL pro konfiguraci URL Routingu v ASP.NET MVC){rel:bookmark}
[clanek(343)]: /weblog/343-jaky-pohled-si-vybrat.aspx Jaký pohled si vybrat? .(Jaký pohled si vybrat?){rel:bookmark}
[clanek(345)]: /weblog/345-persistence-modelu-pomoci-activerecord.aspx Persistence modelu pomocí ActiveRecord .(Persistence modelu pomocí ActiveRecord){rel:bookmark}
</raw>
    <author>Aleš Roubíček</author>
    <published>2009-01-25T10:18:39.737</published>
    <url>uziti-repository-v-radicich</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>aspnet mvc binders ioc repository rest</tags>
    <is-published>1</is-published>
    <edited>2009-01-29T10:12:49.323</edited>
  </article>
  <article>
    <id>347</id>
    <title>Novinky z karavany</title>
    <description>Ano, je to tak, jak možná někteří tušíte, chystám se psát o tom, co je nového v Twaregu. A únor není na novinky chudý.</description>
    <html xml:space="preserve">
&lt;p&gt;Ano, je to tak, jak možná někteří tušíte, chystám se psát o tom, co
je nového v Twaregu. A únor není na novinky chudý.&lt;/p&gt;

&lt;p&gt;Ale začnu hezky od začátku roku, kdy jsme mezi nás přivítali nového
člena &lt;a rel="met co-worker" href="http://savara.us/"&gt;Miloše Savaru&lt;/a&gt;,
který se přidal do týmu reklamního systému codename „Hyas“ a pracuje na
veřejném API. Jádro zatím podstupuje zátěžové testy. :) Náš komunitní
projekt už podporuje OpenID včetně načítání údajů profilu, přibyla
schopnost lokalizace pomocí IP adresy a fulltextové hledání.&lt;/p&gt;

&lt;p&gt;Dev platforma se nám rozrostla o nový silný stroj a tak došlo
k přeinstalování serverů, změně rolí a jmen. Nově používáme jména
hadů. Taky se nám dostalo jednoho bladea. A to už se pomalu dostáváme ke
spuštění našich webových stránek &lt;a
href="http://www.twareg.com/"&gt;Twareg.com&lt;/a&gt;. Zatím tam není moc obsahu, ale
věřím, že bude postupně přibývat. :) Zatím tam najdete &lt;a
href="http://www.twareg.com/contact"&gt;náš kontakt&lt;/a&gt;, &lt;a
href="http://www.twareg.com/team"&gt;náš tým&lt;/a&gt; a &lt;a
href="http://www.twareg.com/jobs"&gt;nabídku práce&lt;/a&gt;. Sice od příštího
týdne získáme další posilu týmu, ale pořád &lt;a rel="bookmark"
title="Odpojte se k nám!" href="/weblog/334-odpojte-se-k-nam.aspx"&gt;sháníme
další schopné lidi&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Krom stránek jsem spustili i vlastní twitter: &lt;a
href="http://twitter.com/twareg"&gt;štěbetání tuarégů&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Na stránkách si také můžete všimnout, že jsme se stali členy
BizSparku. Ačkoli jsme se na české pobočce Microsoftu dozvěděli, že tento
program pro podporu start-upů není pro Českou Republiku určen, tak
v programu jsme a můžeme čerpat jeho výhody. Pokud netušíte, co to je &lt;a
href="http://microsoftstartupzone.com/"&gt;BizSpark&lt;/a&gt;, tak vězte, že je to
program pro začínající firmy, které se rozhodnou vyvíjet na MS platformě.
Program je to tříletý. Během této doby máte předplatné MSDN včetně
licencí do produkčního prostředí. A to vše za $100. Po uplynutí třech
let, tedy zaplatíte $100 a všechny licence, které jste do té doby získali,
vám zůstanou.&lt;/p&gt;

&lt;p&gt;Tak nám držte palce, pokud chcete, přijďte se na nás podívat,
případně zvažte, jestli u nás nechcete pracovat. :)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Ano, je to tak, jak možná někteří tušíte, chystám se psát o tom, co je nového v Twaregu. A únor není na novinky chudý.

Ale začnu hezky od začátku roku, kdy jsme mezi nás přivítali nového člena "Miloše Savaru":[savara], který se přidal do týmu reklamního systému codename „Hyas“ a pracuje na veřejném API. Jádro zatím podstupuje zátěžové testy. :) Náš komunitní projekt už podporuje OpenID včetně načítání údajů profilu, přibyla schopnost lokalizace pomocí IP adresy a fulltextové hledání.

Dev platforma se nám rozrostla o nový silný stroj a tak došlo k přeinstalování serverů, změně rolí a jmen. Nově používáme jména hadů. Taky se nám dostalo jednoho bladea. A to už se pomalu dostáváme ke spuštění našich webových stránek [twareg]. Zatím tam není moc obsahu, ale věřím, že bude postupně přibývat. :) Zatím tam najdete "náš kontakt":[kontakt], "náš tým":[team] a "nabídku práce":[jobs]. Sice od příštího týdne získáme další posilu týmu, ale pořád "sháníme další schopné lidi":[clanek(334)].

Krom stránek jsem spustili i vlastní twitter: "štěbetání tuarégů":[twitter].

Na stránkách si také můžete všimnout, že jsme se stali členy BizSparku. Ačkoli jsme se na české pobočce Microsoftu dozvěděli, že tento program pro podporu start-upů není pro Českou Republiku určen, tak v programu jsme a můžeme čerpat jeho výhody. Pokud netušíte, co to je [bizspark], tak vězte, že je to program pro začínající firmy, které se rozhodnou vyvíjet na MS platformě. Program je to tříletý. Během této doby máte předplatné  MSDN včetně licencí do produkčního prostředí. A to vše za $100. Po uplynutí třech let, tedy zaplatíte $100 a všechny licence, které jste do té doby získali, vám zůstanou.

Tak nám držte palce, pokud chcete, přijďte se na nás podívat, případně zvažte, jestli u nás nechcete pracovat. :)

[savara]: http://savara.us/ Miloš Savara .{rel:met co-worker}
[twareg]: http://www.twareg.com/ Twareg.com
[kontakt]: http://www.twareg.com/contact
[team]: http://www.twareg.com/team
[jobs]: http://www.twareg.com/jobs
[clanek(334)]: /weblog/334-odpojte-se-k-nam.aspx Odpojte se k nám! .(Odpojte se k nám!){rel:bookmark}
[twitter]: http://twitter.com/twareg
[bizspark]: http://microsoftstartupzone.com/ BizSpark</raw>
    <author>Aleš Roubíček</author>
    <published>2009-02-12T06:00:38.347</published>
    <url>novinky-z-karavany</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>twareg bizspark</tags>
    <is-published>1</is-published>
    <edited>2009-02-12T09:39:04.107</edited>
  </article>
  <article>
    <id>348</id>
    <title>Kanonicky proti duplicitám</title>
    <description>Vyhledávače přicházejí s podporou nového link tagu canonical. Pojďme se podívat, jak předcházet duplicitnímu obsahu a rozmělňování page ranku, jak pomocí tohoto tagu, tak pomocí URL rewritingu.</description>
    <html xml:space="preserve">
&lt;p&gt;Jedním z velkých problémů dnešních vyhledávačů je duplicitní
obsah. Musejí se poprat s velkým množstvím stránek, které vypadají na
první pohled shodně a liší se pouze v &lt;acronym
title="Uniform Resource Locator"&gt;URL&lt;/acronym&gt; adrese. Jak mají rozhodnout,
kterou z těchto adres vrátit uživateli jako jedinou správnou?&lt;/p&gt;

&lt;h3 id="toc-problem-duplicitniho-obsahu"&gt;Problém duplicitního obsahu&lt;/h3&gt;

&lt;p&gt;Duplicitní obsah může vzniknout velice jednoduše, nemusí ani dojít ke
zkopírování stránky někým jiným. Prostě stačí mít blbě nastavený
server a vracet stejný obsah pro URL s i bez &lt;code&gt;www.&lt;/code&gt; na začátku.
Další možností je, že se vaše adresy dynamických stránek v čase
vyvíjí. Začínal jsem s nepěknými adresami ve tvaru
&lt;code&gt;clanek.aspx?id=4&lt;/code&gt;, pak jsem časem přešel na SEO URL ve tvaru
&lt;code&gt;clanek.aspx/4-nejaky-nadpis&lt;/code&gt;, později jsem přidal URL rewriter a
mé URL vypadaly takto &lt;code&gt;clanek/4-nejaky-nadpis.aspx&lt;/code&gt;. Všechny tyto
adresy vedou na stejný obsah, ale protože mají jinou URL, jsou to pro
vyhledávacího robota různé stránky.&lt;/p&gt;

&lt;p&gt;Jako správný poskytovatel obsahu bych měl zajistit, že všechny verze URL
jsou stále funkční, ale měly by směřovat na jedinou platnou. Ale jak?&lt;/p&gt;

&lt;h3 id="toc-reseni"&gt;Řešení&lt;/h3&gt;

&lt;p&gt;Cest k cíli vede samozřejmě spousta. Pokud máte tu možnost, využijte
nějaký URL rewriter. Zvolte si kanonickou formu vašich adres a tu všude
používejte. Pokud nechcete používat v adresách prefix &lt;code&gt;www.&lt;/code&gt;,
stačí málo.&lt;/p&gt;

&lt;p&gt;Na IIS7 s URL Rewriterem přidejte do vašeho &lt;code&gt;web.config&lt;/code&gt;
souboru do sekce &lt;code&gt;system.webServer/rewrite/rules&lt;/code&gt;
následující kód:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;rule name="Remove WWW prefix" &amp;gt;
  &amp;lt;match url="(.*)" ignoreCase="true" /&amp;gt;
  &amp;lt;conditions&amp;gt;
    &amp;lt;add input="{HTTP_HOST}" pattern="^www\.domain\.com" /&amp;gt;
  &amp;lt;/conditions&amp;gt;
  &amp;lt;action type="Redirect" url="http://domain.com/{R:1}" redirectType="Permanent" /&amp;gt;
&amp;lt;/rule&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Na Apachi stačí do souboru &lt;code&gt;.htaccess&lt;/code&gt; přidat
následující řádky:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# Remove WWW prefix
RewriteCond %HTTP_HOST ^www\.domain\.com [I]
RewriteRule ^/(.*) http://domain.com/$1 [RP]&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Co ale dělat, pokud nemáte na serveru možnost URL rewriting
provádět?&lt;/p&gt;

&lt;p&gt;Naštěstí existuje alternativa. Vývojáři Google, Yahoo a Live Search se
domluvili na zavedení &lt;code&gt;link&lt;/code&gt; tagu, který určuje kanonickou URL
přímo v dokumentu. Do sekce &lt;code&gt;html/head&lt;/code&gt; vašich stránek přidejte
následující tag:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;link rel="canonical" href="http://domain.com/kanonicka/adresa-stranky" /&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Tím dosáhnete toho, že pokud crawler navštíví vaši stránku přes
různé adresy, vždy ji bude považovat za jednu a tu samou s adresou, která
je hodnotou atributu &lt;code&gt;href&lt;/code&gt;.&lt;/p&gt;

&lt;div class="hslice" id="related"&gt;
	&lt;h3 class="entry-title" id="toc-souvisejici"&gt;Související&lt;/h3&gt;

	&lt;ul class="entry-content"&gt;
		&lt;li&gt;&lt;a
		href="http://blog.stackoverflow.com/2008/06/dropping-the-www-prefix/"&gt;StackOverflow
		Blog: Dropping The www Prefix&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a
		href="http://blogs.msdn.com/webmaster/archive/2009/02/12/partnering-to-help-solve-duplicate-content-issues.aspx"&gt;Live
		Search Blog: Partnering to help solve duplicate content issues&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a
		href="http://googlewebmastercentral.blogspot.com/2009/02/specify-your-canonical.html"&gt;Google
		Webmaster Blog: Specify your canonical&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a href="http://fulltext.sblog.cz/2009/02/17/29"&gt;Seznam Fulltext blog: Nová
		zbraň pro boj s duplicitním obsahem&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
&lt;/div&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Jedním z velkých problémů dnešních vyhledávačů je duplicitní obsah. Musejí se poprat s velkým množstvím stránek, které vypadají na první pohled shodně a liší se pouze v URL((Uniform Resource Locator)) adrese. Jak mají rozhodnout, kterou z těchto adres vrátit uživateli jako jedinou správnou?

Problém duplicitního obsahu
===========================

Duplicitní obsah může vzniknout velice jednoduše, nemusí ani dojít ke zkopírování stránky někým jiným. Prostě stačí mít blbě nastavený server a vracet stejný obsah pro URL s i bez `www.` na začátku. Další možností je, že se vaše adresy dynamických stránek v čase vyvíjí. Začínal jsem s nepěknými adresami ve tvaru `clanek.aspx?id=4`, pak jsem časem přešel na SEO URL ve tvaru `clanek.aspx/4-nejaky-nadpis`, později jsem přidal URL rewriter a mé URL vypadaly takto `clanek/4-nejaky-nadpis.aspx`. Všechny tyto adresy vedou na stejný obsah, ale protože mají jinou URL, jsou to pro vyhledávacího robota různé stránky.

Jako správný poskytovatel obsahu bych měl zajistit, že všechny verze URL jsou stále funkční, ale měly by směřovat na jedinou platnou. Ale jak?

Řešení
=======

Cest k cíli vede samozřejmě spousta. Pokud máte tu možnost, využijte nějaký URL rewriter. Zvolte si kanonickou formu vašich adres a tu všude používejte. Pokud nechcete používat v adresách prefix `www.`, stačí málo.

Na IIS7 s URL Rewriterem přidejte do vašeho `web.config` souboru do sekce `system.webServer/rewrite/rules` následující kód:

/--code xml
&lt;rule name="Remove WWW prefix" &gt;
  &lt;match url="(.*)" ignoreCase="true" /&gt;
  &lt;conditions&gt;
    &lt;add input="{HTTP_HOST}" pattern="^www\.domain\.com" /&gt;
  &lt;/conditions&gt;
  &lt;action type="Redirect" url="http://domain.com/{R:1}" redirectType="Permanent" /&gt;
&lt;/rule&gt;
\--code

Na Apachi stačí do souboru `.htaccess` přidat následující řádky:

/--code
# Remove WWW prefix
RewriteCond %HTTP_HOST ^www\.domain\.com [I]
RewriteRule ^/(.*) http://domain.com/$1 [RP]
\--code

Co ale dělat, pokud nemáte na serveru možnost URL rewriting provádět?

Naštěstí existuje alternativa. Vývojáři Google, Yahoo a Live Search se domluvili na zavedení `link` tagu, který určuje kanonickou URL přímo v dokumentu. Do sekce `html/head` vašich stránek přidejte následující tag:

/--code xml
&lt;link rel="canonical" href="http://domain.com/kanonicka/adresa-stranky" /&gt;
\--code

Tím dosáhnete toho, že pokud crawler navštíví vaši stránku přes různé adresy, vždy ji bude považovat za jednu a tu samou s adresou, která je hodnotou atributu `href`.

/--div .[hslice #related]
Související .[entry-title]
===========
.[entry-content]
* [so]
* [ls]
* [go]
* [ss]
\--div

[so]: http://blog.stackoverflow.com/2008/06/dropping-the-www-prefix/ StackOverflow Blog: Dropping The www Prefix
[ls]: http://blogs.msdn.com/webmaster/archive/2009/02/12/partnering-to-help-solve-duplicate-content-issues.aspx Live Search Blog: Partnering to help solve duplicate content issues
[go]: http://googlewebmastercentral.blogspot.com/2009/02/specify-your-canonical.html Google Webmaster Blog: Specify your canonical
[ss]: http://fulltext.sblog.cz/2009/02/17/29 Seznam Fulltext blog: Nová zbraň pro boj s duplicitním obsahem
</raw>
    <author>Aleš Roubíček</author>
    <published>2009-02-13T07:27:54.080</published>
    <url>kanonicky-proti-duplicitam</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>iis7 url apache rewriting seo</tags>
    <is-published>1</is-published>
    <edited>2009-02-17T20:11:34.260</edited>
  </article>
  <article>
    <id>349</id>
    <title>Serverové ovládací prvky v ASP.NET MVC</title>
    <description>Docela často se vyskytující fámou je, že v ASP.NET MVC nelze používat serverové ovládací prvky (Server Controls). Pojďme se podívat na ty, které fungují i v ASP.NET MVC a můžou nám poskytnout nějakou zajímavou funkcionalitu a zpřehlednit tak naše View.</description>
    <html xml:space="preserve">
&lt;p&gt;Docela často se vyskytující fámou je, že v ASP.NET MVC nelze používat
serverové ovládací prvky (Server Controls). Pravda to je jen z části,
nelze používat jen ty prvky, které pro svoji funkčnost vyžadují
&lt;code&gt;ViewState&lt;/code&gt;. Pojďme se podívat na ty, které fungují i v ASP.NET
MVC a můžou nám poskytnout nějakou zajímavou funkcionalitu a zpřehlednit
tak naše View.&lt;/p&gt;

&lt;h3 id="toc-masterpage-a-placeholdery"&gt;MasterPage a Placeholdery&lt;/h3&gt;

&lt;p&gt;Snad první komponenty, které použijete, jsou
&lt;code&gt;asp:ContentPlaceHolder&lt;/code&gt; a &lt;code&gt;asp:Content&lt;/code&gt;. Narazíte na ně
při definování globální šablony (Master Page) a jednotlivých pohledů
(View). Většinou je použijete automaticky a ani si neuvědomíte, že jde
o serverové komponenty. A to je dobře. Rozhodně je lepší používat
master page než server side include nebo do všech stránek vkládat view user
controly se sdílenými částmi šablony.&lt;/p&gt;

&lt;h3 id="toc-loginview-a-spol"&gt;LoginView a spol.&lt;/h3&gt;

&lt;p&gt;Další rozhodně doporučitelnou komponentou je &lt;code&gt;asp:LoginView&lt;/code&gt;.
Ta slouší k rozdílnému zobrazování obsahu pro
nepřihlášené/přih­lášené uživatele a také pro jednotlivé
uživatelské role. Předpokladem je, že využíváte ASP.NET Membership nebo
nějakou vlastní implementaci, která nastavuje do kontextu správné
&lt;code&gt;IPrincipal&lt;/code&gt;. Pak můžete v kódu použít třeba toto:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;asp:LoginView ID="LoginView1" runat="server"&amp;gt;
  &amp;lt;AnonymousTemplate&amp;gt;
    Nepřihlášený | &amp;lt;%= Html.ActionLink("Přihlásit se", "Login", "Account") %&amp;gt;
  &amp;lt;/AnonymousTemplate&amp;gt;
  &amp;lt;LoggedInTemplate&amp;gt;
    &amp;lt;asp:LoginName runat="server" /&amp;gt;| &amp;lt;%= Html.ActionLink("Odhlásit se", "Logout", "Account") %&amp;gt;
  &amp;lt;/LoggedInTemplate&amp;gt;
&amp;lt;/asp:LoginView&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Tím docílíte zobrazení odkazu pro přihlášení nepřihlášenému
uživateli a odkazu pro odhlášení uživateli přihlášenému. Jak vidíte,
je možné používat i &lt;code&gt;asp:LoginName&lt;/code&gt; pro výpis jména aktuálně
přihlášeného uživatele.&lt;/p&gt;

&lt;h3 id="toc-localize-pro-lokalizaci"&gt;Localize pro lokalizaci&lt;/h3&gt;

&lt;p&gt;Pokud děláte na webové aplikaci, která má být lokalizovaná do více
jazyků, jistě se vám bude hodit &lt;code&gt;asp:Localize&lt;/code&gt;, které slouží
k snadnému definování míst, která mají být nahrazována texty
z resource souboru. Nebudu teď řešit jak rozhodnout jaký jazyk zvolit,
můžete ho mít natvrdo nastavený ve &lt;code&gt;web.config&lt;/code&gt; souboru pro
jednotlivé deployované domény, nebo získat nějaký parametr z routy, nebo
nechat zjišťovat jazyk podle uživatelova nastavení prohlížeče. Pokud
budete mít zájem o problematiku lokalizace, můžu jí věnovat některý
další spot. :)&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;asp:Localize runat="server" meta:resourcekey="SomeResource1" /&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Lokalizaci pak provedeme v patřičném resx souboru následovně:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;data name="SomeResource1.Text" xml:space="preserve"&amp;gt;
  &amp;lt;value&amp;gt;Some text&amp;lt;/value&amp;gt;
&amp;lt;/data&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id="toc-sitemappath-pro-drobeckovou-navigaci"&gt;SiteMapPath pro drobečkovou
navigaci&lt;/h3&gt;

&lt;p&gt;Další serverovou komponentou, kterou můžete ve svých šablonách
pohledů využít je &lt;code&gt;asp:SiteMapPath&lt;/code&gt;, které slouží ke
generování drobečkové navigace podle struktury definované v souboru
&lt;code&gt;Web.sitemap&lt;/code&gt;.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;asp:SiteMapPath runat="server"&amp;gt;
  &amp;lt;PathSeparatorTemplate&amp;gt; &amp;amp;amp;gt; &amp;lt;/PathSeparatorTemplate&amp;gt;
&amp;lt;/asp:SiteMapPath&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id="toc-xml-pro-transformaci"&gt;Xml pro transformaci&lt;/h3&gt;

&lt;p&gt;Jedním z posledních ze standardně dodávaných serverových komponent,
které ještě v MVC fungují je &lt;code&gt;asp:Xml&lt;/code&gt;, které slouží ke
vkládání XML dat a jejich transformaci pomocí XSLT.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;asp:Xml runat="server" DocumentSource="/content/contact.xml" TransformSource="/content/contact.xslt"/&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id="toc-viewtype-pro-silny-typ-modelu-v-pohledu"&gt;ViewType pro silný typ
modelu v pohledu&lt;/h3&gt;

&lt;p&gt;RC verze MVC frameworku přinesla vlastní serverovou komponentu, která
určuje silný typ pro vlastnost &lt;code&gt;Model&lt;/code&gt; vašeho pohledu. Je to
alternativa k dědění z generické &lt;code&gt;ViewPage&lt;/code&gt;.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;mvc:ViewType runat="server" TypeName="ViewPage&amp;amp;amp;lt;MyProject.Model.Customer&amp;amp;amp;gt;" /&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id="toc-a-dal"&gt;A dál?&lt;/h3&gt;

&lt;p&gt;Dál můžete používat komponenty třetích stran, nebo vlastní, které
nevyžadují &lt;code&gt;ViewState&lt;/code&gt;. Pokud máte jako předka vašich stránek
&lt;code&gt;System.Web.Mvc.ViewPage&lt;/code&gt; nemáte v šablonách dostupný data
binging. I na to je třeba dávat pozor. Do budoucna by mělo dojít k tomu,
že helpery, které jsou součástí MVC frameworku, se dočkají
i zapouzdření do komponent. Ale k tomu dojde až po vydání verze
1.0. Již dnes však můžete najít jejich předběžnou implementaci v tzv.
&lt;a
href="http://www.codeplex.com/aspnet/Release/ProjectReleases.aspx?ReleaseId=22359"&gt;ASP.NET
MVC Futures&lt;/a&gt;, které si můžete stáhnout na CodePlexu. Najdete mezi nimi
tyto komponenty:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;ActionLink,&lt;/li&gt;

	&lt;li&gt;DropDownList,&lt;/li&gt;

	&lt;li&gt;TextBox,&lt;/li&gt;

	&lt;li&gt;Password,&lt;/li&gt;

	&lt;li&gt;Label,&lt;/li&gt;

	&lt;li&gt;Hidden a&lt;/li&gt;

	&lt;li&gt;Repeater&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Jejich předkem je &lt;code&gt;MvcControl&lt;/code&gt;, který zpřístupňuje
&lt;code&gt;ViewContext&lt;/code&gt; a &lt;code&gt;ViewData&lt;/code&gt;. Repeater si třeba zajišťuje
DataBinding sám, takže není třeba ho explicitně volat ze stránky.
Nevýhoudou však je, že je třeba Evalovat data, protože Repeater není
silně typový. Mám takový pocit, že můj &lt;a rel="bookmark"
title="Generický kontejner a repeater"
href="/weblog/278-genericky-kontejner-a-repeater.aspx"&gt;generický repeater&lt;/a&gt;
by měl v MVC fungovat bez problémů. Ještě jsem to nezkoušel, ale nevidím
důvod, proč by neměl. Asi provedu revizi a připravím vylepšenou variantu
pro MVC.&lt;/p&gt;

&lt;p&gt;A to je pro dnešek vše.&lt;/p&gt;

&lt;div class="hslice" id="related"&gt;
	&lt;h3 class="entry-title" id="toc-souvisejici"&gt;Související&lt;/h3&gt;

	&lt;ul class="entry-content"&gt;
		&lt;li&gt;&lt;a
		href="http://weblogs.asp.net/leftslipper/archive/2009/03/03/asp-net-mvc-release-candidate-2-i-declare-myself-to-be-declarative.aspx"&gt;Eilon
		Lipton: I declare myself to be declarative!&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
&lt;/div&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Docela často se vyskytující fámou je, že v ASP.NET MVC nelze používat serverové ovládací prvky (Server Controls). Pravda to je jen z části, nelze používat jen ty prvky, které pro svoji funkčnost vyžadují `ViewState`. Pojďme se podívat na ty, které fungují i v ASP.NET MVC a můžou nám poskytnout nějakou zajímavou funkcionalitu a zpřehlednit tak naše View.

MasterPage a Placeholdery
=========================

Snad první komponenty, které použijete, jsou `asp:ContentPlaceHolder` a `asp:Content`. Narazíte na ně při definování globální šablony (Master Page) a jednotlivých pohledů (View). Většinou je použijete automaticky a ani si neuvědomíte, že jde o serverové komponenty. A to je dobře. Rozhodně je lepší používat master page než server side include nebo do všech stránek vkládat view user controly se sdílenými částmi šablony.

LoginView a spol.
================

Další rozhodně doporučitelnou komponentou je `asp:LoginView`. Ta slouší k rozdílnému zobrazování obsahu pro nepřihlášené/přihlášené uživatele a také pro jednotlivé uživatelské role. Předpokladem je, že využíváte ASP.NET Membership nebo nějakou vlastní  implementaci, která nastavuje do kontextu správné `IPrincipal`. Pak můžete v kódu použít třeba toto:

/--code xml
&lt;asp:LoginView ID="LoginView1" runat="server"&gt;
  &lt;AnonymousTemplate&gt;
    Nepřihlášený | &lt;%= Html.ActionLink("Přihlásit se", "Login", "Account") %&gt;
  &lt;/AnonymousTemplate&gt;
  &lt;LoggedInTemplate&gt;
    &lt;asp:LoginName runat="server" /&gt;| &lt;%= Html.ActionLink("Odhlásit se", "Logout", "Account") %&gt;
  &lt;/LoggedInTemplate&gt;
&lt;/asp:LoginView&gt;
\--code

Tím docílíte zobrazení odkazu pro přihlášení nepřihlášenému uživateli a odkazu pro odhlášení uživateli přihlášenému. Jak vidíte, je možné používat i `asp:LoginName` pro výpis jména aktuálně přihlášeného uživatele.

Localize pro lokalizaci
====================

Pokud děláte na webové aplikaci, která má být lokalizovaná do více jazyků, jistě se vám bude hodit `asp:Localize`, které slouží k snadnému definování míst, která mají být nahrazována texty z resource souboru. Nebudu teď řešit jak rozhodnout jaký jazyk zvolit, můžete ho mít natvrdo nastavený ve `web.config` souboru pro jednotlivé deployované domény, nebo získat nějaký parametr z routy, nebo nechat zjišťovat jazyk podle uživatelova nastavení prohlížeče. Pokud budete mít zájem o problematiku lokalizace, můžu jí věnovat některý další spot. :)

/--code xml
&lt;asp:Localize runat="server" meta:resourcekey="SomeResource1" /&gt;
\--code

Lokalizaci pak provedeme v patřičném resx souboru následovně:

/--code xml
&lt;data name="SomeResource1.Text" xml:space="preserve"&gt;
  &lt;value&gt;Some text&lt;/value&gt;
&lt;/data&gt;
\--code

SiteMapPath pro drobečkovou navigaci
======================================

Další serverovou komponentou, kterou můžete ve svých šablonách pohledů využít je `asp:SiteMapPath`, které slouží ke generování drobečkové navigace podle struktury definované v souboru `Web.sitemap`.

/--code xml
&lt;asp:SiteMapPath runat="server"&gt;
  &lt;PathSeparatorTemplate&gt; &amp;amp;gt; &lt;/PathSeparatorTemplate&gt;
&lt;/asp:SiteMapPath&gt;
\--code

Xml pro transformaci
==================

Jedním z posledních ze standardně dodávaných serverových komponent, které ještě v MVC fungují je `asp:Xml`, které slouží ke vkládání XML dat a jejich transformaci pomocí XSLT.

/--code xml
&lt;asp:Xml runat="server" DocumentSource="/content/contact.xml" TransformSource="/content/contact.xslt"/&gt;
\--code

ViewType pro silný typ modelu v pohledu
===================================

RC verze MVC frameworku přinesla vlastní serverovou komponentu, která určuje silný typ pro vlastnost `Model` vašeho pohledu. Je to alternativa k dědění z generické `ViewPage`.

/--code xml
&lt;mvc:ViewType runat="server" TypeName="ViewPage&amp;amp;lt;MyProject.Model.Customer&amp;amp;gt;" /&gt;
\--code

A dál?
=======

Dál můžete používat komponenty třetích stran, nebo vlastní, které nevyžadují `ViewState`. Pokud máte jako předka vašich stránek `System.Web.Mvc.ViewPage` nemáte v šablonách dostupný data binging. I na to je třeba dávat pozor. Do budoucna by mělo dojít k tomu, že helpery, které jsou součástí MVC frameworku, se dočkají i zapouzdření do komponent. Ale k tomu dojde až po vydání verze 1.0. Již dnes však můžete najít jejich předběžnou implementaci v tzv. [futures], které si můžete stáhnout na CodePlexu. Najdete mezi nimi tyto komponenty:

* ActionLink,
* DropDownList,
* TextBox,
* Password,
* Label,
* Hidden a
* Repeater

Jejich předkem je `MvcControl`, který zpřístupňuje `ViewContext` a `ViewData`. Repeater si třeba zajišťuje DataBinding sám, takže není třeba ho explicitně volat ze stránky. Nevýhoudou však je, že je třeba Evalovat data, protože Repeater není silně typový. Mám takový pocit, že můj "generický repeater":[clanek(278)] by měl v MVC fungovat bez problémů. Ještě jsem to nezkoušel, ale nevidím důvod, proč by neměl. Asi provedu revizi a připravím vylepšenou variantu pro MVC.

A to je pro dnešek vše.

/--div .[hslice #related]
Související .[entry-title]
===========
.[entry-content]
* [lipton]
\--div

[clanek(278)]: /weblog/278-genericky-kontejner-a-repeater.aspx Generický kontejner a repeater .(Generický kontejner a repeater){rel:bookmark}

[futures]: http://www.codeplex.com/aspnet/Release/ProjectReleases.aspx?ReleaseId=22359 ASP.NET MVC Futures
[lipton]: http://weblogs.asp.net/leftslipper/archive/2009/03/03/asp-net-mvc-release-candidate-2-i-declare-myself-to-be-declarative.aspx Eilon Lipton: I declare myself to be declarative!</raw>
    <author>Aleš Roubíček</author>
    <published>2009-02-21T12:32:36.547</published>
    <url>serverove-ovladaci-prvky-v-asp-net-mvc</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>aspnet mvc controls</tags>
    <is-published>1</is-published>
    <edited>2009-03-04T09:48:11.720</edited>
  </article>
  <article>
    <id>350</id>
    <title>Registrace svc handleru pro IIS7</title>
    <description>Občas se může stát, že vám na novém webovém serveru nepoběží WCF služby. Náprava je velice snadná. Tady je.</description>
    <html xml:space="preserve">
&lt;p&gt;Náš intranet používá pro AJAXy ADO.NET Data Services, což je pěkný
REST framework. Tento framework je postavený nad &lt;code&gt;IQueryable&lt;/code&gt; (tedy
&lt;acronym title="Language Integrated Query"&gt;LINQ&lt;/acronym&gt;) a také nad &lt;acronym
title="Windows Communication Foundation"&gt;WCF&lt;/acronym&gt;. Nedávno jsme
prováděli přeinstalace serverů a tak se stalo, že AJAXové dotazy začaly
vracet 404.&lt;/p&gt;

&lt;p&gt;Bylo to divné, protože jinde to fungovalo a vždy stačil
&lt;code&gt;xcopy&lt;/code&gt; deployment. Tak jsem zkusil zadat adresu služby do
prohlížeče a zase 404. Proč to nejde? Koukám na mapování handlerů
v konfiguraci IIS7 a helemese chybí &lt;code&gt;svc&lt;/code&gt; binding. Ale proč?
Vždyť je všechno nainstalovaný jak má bejt.&lt;/p&gt;

&lt;p&gt;Po chvilce pátrání jsme našel jednoduché řešení. Stačí spustit
registraci ručně:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;"%systemroot%\Microsoft.NET\Framework\v3.0\Windows Communication Foundation\ServiceModelReg.exe –i"&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Pro 64-bitové systémy pak:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;"%systemroot%\Microsoft.NET\Framework64\v3.0\Windows Communication Foundation\ServiceModelReg.exe –i"&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Dnes mi píše Radek, že přesouval intranet na Domain Controller, aby nebyl
na našich vývojových strojích a že mu AJAXy vracej 404. Takže tohle je
i tak trochu pro něj.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Náš intranet používá pro AJAXy ADO.NET Data Services, což je pěkný REST framework. Tento framework je postavený nad `IQueryable` (tedy LINQ((Language Integrated Query))) a také nad WCF((Windows Communication Foundation)). Nedávno jsme prováděli přeinstalace serverů a tak se stalo, že AJAXové dotazy začaly vracet 404.

Bylo to divné, protože jinde to fungovalo a vždy stačil `xcopy` deployment. Tak jsem zkusil zadat adresu služby do prohlížeče a zase 404. Proč to nejde? Koukám na mapování handlerů v konfiguraci IIS7 a helemese chybí `svc` binding. Ale proč? Vždyť je všechno nainstalovaný jak má bejt.

Po chvilce pátrání jsme našel jednoduché řešení. Stačí spustit registraci ručně:

/--code
"%systemroot%\Microsoft.NET\Framework\v3.0\Windows Communication Foundation\ServiceModelReg.exe –i"
\--code

Pro 64-bitové systémy pak:

/--code
"%systemroot%\Microsoft.NET\Framework64\v3.0\Windows Communication Foundation\ServiceModelReg.exe –i"
\--code

Dnes mi píše Radek, že přesouval intranet na Domain Controller, aby nebyl na našich vývojových strojích a že mu AJAXy vracej 404. Takže tohle je i tak trochu pro něj. </raw>
    <author>Aleš Roubíček</author>
    <published>2009-02-23T10:55:08.443</published>
    <url>registrace-svc-handleru-pro-iis7</url>
    <category>Webové služby</category>
    <keywords></keywords>
    <tags>dataservices iis7 wcf svc</tags>
    <is-published>1</is-published>
    <edited>2009-03-01T13:25:19.513</edited>
  </article>
  <article>
    <id>351</id>
    <title>twareg.com</title>
    <description></description>
    <html xml:space="preserve">
&lt;div&gt;&lt;a href="http://www.twareg.com/"&gt;&lt;img
src="/img/reference/twareg.intranet.jpg" class="preview" alt="twareg.com"
width="400" height="130" /&gt;&lt;/a&gt;&lt;/div&gt;

&lt;p&gt;Firemní stránky v anglické verzi. Autorem grafického návrhu je Jan
Boruta.&lt;/p&gt;

&lt;p&gt;Realizace: únor 2009&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">[*/img/reference/twareg.intranet.jpg 400x130 .(twareg.com)[preview]*]:[twareg]

Firemní stránky v anglické verzi. Autorem grafického návrhu je Jan Boruta.

Realizace: únor 2009

[twareg]: http://www.twareg.com/</raw>
    <author>Aleš Roubíček</author>
    <published>2009-02-28T15:04:55.750</published>
    <url>twareg-com</url>
    <category>Reference</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2009-02-28T15:04:55.793</edited>
  </article>
  <article>
    <id>352</id>
    <title>Implementace tag cloudu</title>
    <description>Zajímavé je, jak se problematice celkem rozšířené vlastnosti webových aplikací v éře Webu 2.0, kterou tag cloud bezesporu je, věnuje málo prostoru. Pojďme to trochu napravit.</description>
    <html xml:space="preserve">
&lt;p&gt;Zajímavé je, jak se problematice celkem rozšířené vlastnosti webových
aplikací v éře Webu 2.0, kterou &lt;a
href="http://en.wikipedia.org/wiki/Tag_cloud"&gt;tag cloud&lt;/a&gt; bezesporu je,
věnuje málo prostoru. Protože pracuju na jednom sociálním webu a
k implementaci tag cloudu jsem se také dostal, tak se na něj pojďme
podívat.&lt;/p&gt;

&lt;h3 id="toc-top-down-design"&gt;Top-down design&lt;/h3&gt;

&lt;p&gt;Začneme implementací na výstupu. To je to, co vidí uživatel.
Porozhlédněme se nejprve po nějakém vhodném mikroformátu. Na snadě je
&lt;code&gt;rel-tag&lt;/code&gt;, který slouží k označování odkazů tagu. Když
budeme hledat dál, jistě narazíme na &lt;strong&gt;hTagCloud&lt;/strong&gt;. Tento
mikroformát je sice ve stádiu návrhu, ale dá se říct, že je použitelný
v praxi. Jak vypadá?&lt;/p&gt;

&lt;h3 id="toc-htagcloud"&gt;hTagCloud&lt;/h3&gt;

&lt;p&gt;Cloud je vyznačen elementem s třídou &lt;code&gt;hTagCloud&lt;/code&gt;. Tento
element by měl obsahovat seznam tagů. Seznam můžeme označit třídou, zda
jde je seřazen podle abecedy (&lt;code&gt;class="alphabetical"&lt;/code&gt;) nebo podle
popularity (&lt;code&gt;class="popularity"&lt;/code&gt;). Popularitu jednotlivých tagů
označíme posléze třídou. Základní úroveň popularity vyznačuje třída
&lt;code&gt;popular&lt;/code&gt;. Oblíbenější tagy mají třídu &lt;code&gt;v-popular&lt;/code&gt;.
Nejoblíbenější tagy pak třídou &lt;code&gt;vvvv-popular&lt;/code&gt;. Můžeme takto
tedy odlišit pět úrovní popularity.&lt;/p&gt;

&lt;p&gt;Ukázka mikroformátu přímo z wiki autorů:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;div class="hTagCloud"&amp;gt;
  &amp;lt;ul class="popularity"&amp;gt;
    &amp;lt;li class="vvvv-popular"&amp;gt;&amp;lt;a href="/tags/Web+Standards+Group"&amp;gt;Web Standards Group&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
    &amp;lt;li class="vvv-popular"&amp;gt;&amp;lt;a href="/tags/accessibility"&amp;gt;accessibility&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
    &amp;lt;li class="popular"&amp;gt;&amp;lt;a href="/tags/beta+tester"&amp;gt;beta tester&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
    &amp;lt;li class="vvv-popular"&amp;gt;&amp;lt;a href="/tags/css"&amp;gt;css&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
    &amp;lt;li class="v-popular"&amp;gt;&amp;lt;a href="/tags/ex-coder"&amp;gt;ex-coder&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
    &amp;lt;li class="vv-popular"&amp;gt;&amp;lt;a href="/tags/usability"&amp;gt;usability&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
    &amp;lt;li class="vvvv-popular"&amp;gt;&amp;lt;a href="/tags/wsg"&amp;gt;wsg&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
  &amp;lt;/ul&amp;gt;
&amp;lt;/div&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;To bychom měli HTML kód, teď ještě nastylovat, aby z toho opravdu
cloud byl:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-css"&gt;.hTagCloud {text-align:center}
.hTagCloud ul{list-style-type:none;padding:0;margin:0}
.hTagCloud li{display:inline;font:.6875em sans-serif;margin:0;padding:0}
.hTagCloud .v-popular{font-size:1.273em}
.hTagCloud .vv-popular{font-size:1.818em}
.hTagCloud .vvv-popular{font-size:2.545em}
.hTagCloud .vvvv-popular{font-size:3em}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Máme tedy připraveno to, co uvidí uživatelé. Teď ještě potřebujeme
logiku, která rozhodne, jak populární tagy vlastně jsou.&lt;/p&gt;

&lt;h3 id="toc-implementace-na-serveru"&gt;Implementace na serveru&lt;/h3&gt;

&lt;p&gt;Nejprve si vytvoříme třídu reprezentující tag. Ta bude obsahovat text
tagu a jeho četnost.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class Tag {
  public string Text { get; set; }
  public int Count { get; set; }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Teď budeme potřebovat vypočítat, jak populární vlastně konkrétní tag
je. Tady se dostáváme k poměrně zajímavému problému. Nejprve
potřebujeme spočítat váhu tagu v cloudu a tu pak promítnout na
pětistupňové škále. Praxí je ověřeno, že hezky cloud vypadá, když se
použije logaritmická distribuční funkce. Proto si vytvoříme jednoduchý
helper, který nám bude váhu tagu vypočítávat a rovnou nám vrátí CSS
třídu vhodnou pro hTagCloud.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;using System;
using System.Linq;
using System.Text;

public static class TagCloudExtensions {
  private const int MostPopular = 5;
  private const int MorePopular = 2;
  private const int Popular = 1;

  public static string GetCssClass(this IEnumerable&amp;lt;Tag&amp;gt; tags, Tag tag) {
    int minOccurs = tags.Min(t =&amp;gt; t.Count);
    int maxOccurs = tags.Max(t =&amp;gt; t.Count);

    int distribution = CountDistribution(tag.Count, minOccurs, maxOccurs);

    return GetCssClass(distribution).ToString();
  }

  private static StringBuilder GetCssClass(int distribution) {
    if (distribution &amp;lt; MorePopular) {
      return new StringBuilder("popular");
    }
    if (distribution == MorePopular) {
      return GetCssClass(--distribution).Insert(0, "v-");
    }
    return GetCssClass(--distribution).Insert(0, "v");
  }

  private static int CountDistribution(int currentOccurences, int minOccurs, int maxOccurs) {
    if (minOccurs &amp;lt; Popular) {
      throw new ArgumentOutOfRangeException("There must be atleast one occurence.");
    }

    double weight = (Math.Log(currentOccurences) - Math.Log(minOccurs))
      / (Math.Log(maxOccurs) - Math.Log(minOccurs));
    int distribution = Popular + (int)Math.Round(weight * (MostPopular - Popular));

    return distribution;
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Tento helper rozšiřuje kolekci tagů o metodu o metodu, která vrátí
CSS třídu pro konkrétní tag. A to je vše. Happy tagging!&lt;/p&gt;

&lt;div class="hslice" id="related"&gt;
	&lt;h3 class="entry-title" id="toc-souvisejici"&gt;Související&lt;/h3&gt;

	&lt;ul class="entry-content"&gt;
		&lt;li&gt;&lt;a
		href="http://microformats.org/wiki/tagcloud-brainstorming"&gt;tagcloud-brainstorming&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a
		href="http://blogs.dekoh.com/dev/2007/10/29/choosing-a-good-font-size-variation-algorithm-for-your-tag-cloud/"&gt;Choosing
		a good font size variation algorithm for your tag cloud&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a href="http://www.echochamberproject.com/node/247"&gt;Tag Cloud Font
		Distribution Algorithm&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
&lt;/div&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Zajímavé je, jak se problematice celkem rozšířené vlastnosti webových aplikací v éře Webu 2.0, kterou "tag cloud":[tagcloud] bezesporu je, věnuje málo prostoru. Protože pracuju na jednom sociálním webu a k implementaci tag cloudu jsem se také dostal, tak se na něj pojďme podívat.

Top-down design
==============

Začneme implementací na výstupu. To je to, co vidí uživatel. Porozhlédněme se nejprve po nějakém vhodném mikroformátu. Na snadě je `rel-tag`, který slouží k označování odkazů tagu. Když budeme hledat dál, jistě narazíme na **hTagCloud**. Tento mikroformát je sice ve stádiu návrhu, ale dá se říct, že je použitelný v praxi. Jak vypadá?

hTagCloud
=========

Cloud je vyznačen elementem s třídou `hTagCloud`. Tento element by měl obsahovat seznam tagů. Seznam můžeme označit třídou, zda jde je seřazen podle abecedy (`class="alphabetical"`) nebo podle popularity (`class="popularity"`). Popularitu jednotlivých tagů označíme posléze třídou. Základní úroveň popularity vyznačuje třída `popular`. Oblíbenější tagy mají třídu `v-popular`. Nejoblíbenější tagy pak třídou `vvvv-popular`. Můžeme takto tedy odlišit pět úrovní popularity.

Ukázka mikroformátu přímo z wiki autorů:

/--code xml
&lt;div class="hTagCloud"&gt;
  &lt;ul class="popularity"&gt;
    &lt;li class="vvvv-popular"&gt;&lt;a href="/tags/Web+Standards+Group"&gt;Web Standards Group&lt;/a&gt;&lt;/li&gt;
    &lt;li class="vvv-popular"&gt;&lt;a href="/tags/accessibility"&gt;accessibility&lt;/a&gt;&lt;/li&gt;
    &lt;li class="popular"&gt;&lt;a href="/tags/beta+tester"&gt;beta tester&lt;/a&gt;&lt;/li&gt;
    &lt;li class="vvv-popular"&gt;&lt;a href="/tags/css"&gt;css&lt;/a&gt;&lt;/li&gt;
    &lt;li class="v-popular"&gt;&lt;a href="/tags/ex-coder"&gt;ex-coder&lt;/a&gt;&lt;/li&gt;
    &lt;li class="vv-popular"&gt;&lt;a href="/tags/usability"&gt;usability&lt;/a&gt;&lt;/li&gt;
    &lt;li class="vvvv-popular"&gt;&lt;a href="/tags/wsg"&gt;wsg&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;
\--code

To bychom měli HTML kód, teď ještě nastylovat, aby z toho opravdu cloud byl:

/--code css
.hTagCloud {text-align:center}
.hTagCloud ul{list-style-type:none;padding:0;margin:0}
.hTagCloud li{display:inline;font:.6875em sans-serif;margin:0;padding:0}
.hTagCloud .v-popular{font-size:1.273em}
.hTagCloud .vv-popular{font-size:1.818em}
.hTagCloud .vvv-popular{font-size:2.545em}
.hTagCloud .vvvv-popular{font-size:3em}
\--code

Máme tedy připraveno to, co uvidí uživatelé. Teď ještě potřebujeme logiku, která rozhodne, jak populární tagy vlastně jsou.

Implementace na serveru
=======================

Nejprve si vytvoříme třídu reprezentující tag. Ta bude obsahovat text tagu a jeho četnost.

/--code csharp
public class Tag {
  public string Text { get; set; }
  public int Count { get; set; }
}
\--code

Teď budeme potřebovat vypočítat, jak populární vlastně konkrétní tag je. Tady se dostáváme k poměrně zajímavému problému. Nejprve potřebujeme spočítat váhu tagu v cloudu a tu pak promítnout na pětistupňové škále. Praxí je ověřeno, že hezky cloud vypadá, když se použije logaritmická distribuční funkce. Proto si vytvoříme jednoduchý helper, který nám bude váhu tagu vypočítávat a rovnou nám vrátí CSS třídu vhodnou pro hTagCloud.

/--code csharp
using System;
using System.Linq;
using System.Text;

public static class TagCloudExtensions {
  private const int MostPopular = 5;
  private const int MorePopular = 2;
  private const int Popular = 1;

  public static string GetCssClass(this IEnumerable&lt;Tag&gt; tags, Tag tag) {
    int minOccurs = tags.Min(t =&gt; t.Count);
    int maxOccurs = tags.Max(t =&gt; t.Count);

    int distribution = CountDistribution(tag.Count, minOccurs, maxOccurs);

    return GetCssClass(distribution).ToString();
  }

  private static StringBuilder GetCssClass(int distribution) {
    if (distribution &lt; MorePopular) {
      return new StringBuilder("popular");
    }
    if (distribution == MorePopular) {
      return GetCssClass(--distribution).Insert(0, "v-");
    }
    return GetCssClass(--distribution).Insert(0, "v");
  }

  private static int CountDistribution(int currentOccurences, int minOccurs, int maxOccurs) {
    if (minOccurs &lt; Popular) {
      throw new ArgumentOutOfRangeException("There must be atleast one occurence.");
    }

    double weight = (Math.Log(currentOccurences) - Math.Log(minOccurs))
      / (Math.Log(maxOccurs) - Math.Log(minOccurs));
    int distribution = Popular + (int)Math.Round(weight * (MostPopular - Popular));

    return distribution;
  }
}
\--code

Tento helper rozšiřuje kolekci tagů o metodu o metodu, která vrátí CSS třídu pro konkrétní tag. A to je vše. Happy tagging!

/--div .[hslice #related]
Související .[entry-title]
===========
.[entry-content]
* [htagcloud]
* [dekoh]
* [echo]
\--div

[tagcloud]: http://en.wikipedia.org/wiki/Tag_cloud Tag cloud
[htagcloud]: http://microformats.org/wiki/tagcloud-brainstorming tagcloud-brainstorming
[dekoh]: http://blogs.dekoh.com/dev/2007/10/29/choosing-a-good-font-size-variation-algorithm-for-your-tag-cloud/ Choosing a good font size variation algorithm for your tag cloud
[echo]: http://www.echochamberproject.com/node/247 Tag Cloud Font Distribution Algorithm</raw>
    <author>Aleš Roubíček</author>
    <published>2009-02-28T18:53:49.357</published>
    <url>implementace-tag-cloudu</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>microformats tagcloud</tags>
    <is-published>1</is-published>
    <edited>2009-03-01T11:05:19.880</edited>
  </article>
  <article>
    <id>353</id>
    <title>Nedělní WTF: Základy programování v jazyce Boo</title>
    <description>Ano, i já občas narazím na slabého nebožáka a rád si do něj kopnu. Je to takové uvolňující. :) Pojďte si taky kopnout. A můžete i do mě!</description>
    <html xml:space="preserve">
&lt;p&gt;Při pravidelném proklikávání se službou &lt;a
href="http://www.devlogy.cz/"&gt;Devlogy.cz&lt;/a&gt; jsem zaznamenal výskyt dalšího
dílu seriálu &lt;em&gt;Základy programování v jazyce Boo&lt;/em&gt; na serveru
programujte.com. Vzpomněl jsem si na &lt;a
href="http://programujte.com/index.php?akce=clanek&amp;amp;cl=2008122304-zaklady-programovani-v-jazyce-boo-1-dil"&gt;první
díl seriálu&lt;/a&gt;, který jsem četl před časem, a opět se mi naježila srst.
Šel jsem se tedy podívat, jak s tím autor vládne dál.&lt;/p&gt;

&lt;p&gt;No děs a bída. Jestli se takhle někde programuje a ještě k tomu v &lt;a
href="http://boo.codehouse.org/"&gt;Boo&lt;/a&gt;, tak to je mi moc líto. Boo vzniklo
jako agilní jazyk inspirovaný jednoduchostí &lt;a
href="http://www.python.org/"&gt;Pythonu&lt;/a&gt; a silou &lt;a
href="http://www.microsoft.com/net"&gt;dotnetu&lt;/a&gt;. Sice je silně typový, ale
nenutí nás typy explicitně vyjadřovat. V podstatě nás nenutí
k žádným zbytečnostem. Jeho filosofii lze ukázat na následujících
ukázkách výpisu &lt;strong&gt;Hello World&lt;/strong&gt; na konzolu:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;class Program {
  public static void Main() {
    System.Console.Write("Hello Wold");
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Začal jsem nejjednodušším programem v C#, který vypíše na konzolu
&lt;code&gt;Hello World&lt;/code&gt;. Teď to samé v Boo:&lt;/p&gt;

&lt;pre &gt;&lt;code class="language-boo"&gt;print 'Hello World'&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Ano, to je vše.&lt;/p&gt;

&lt;p&gt;Když se vrátím k článkům na programujte.com, je vidět, že autor
netuší, která bije, když píše:&lt;/p&gt;

&lt;blockquote&gt;
	&lt;p&gt;„Každý kód v Boo musí začínat jmenými prostory.“&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;A skutečně ukázku s Hello World okořenil krásně zbytečným importem
jmenného prostoru &lt;code&gt;System&lt;/code&gt;. Není nad to mást začátečníky
spoustou zbytečností, protože pak mají pocit, že se toho naučili hodně.
:) Bohužel praxe ukazuje, že méně je mnohdy více a tak se posuneme
o kousek dál. Tedy spíš zpátky na začátek, kde autor popisuje instalaci
&lt;acronym title="Integrated Development Enviroment"&gt;IDE&lt;/acronym&gt;. Už tohle je
pěkná blbost, protože k vyzkoušení Boo žádné IDE nepotřebujete. Boo je
totiž vybaveno interaktivní konzolou &lt;code&gt;booish&lt;/code&gt;, která je podobná
těm, které můžete znát z dynamických jazyků Python, Ruby nebo třeba
z mona – pro C#. Prostě konzola, kde píšete kód a rovnou se vám pod
rukama vykonává. Pro začátečnické pokusy ideální.&lt;/p&gt;

&lt;p&gt;Další skvělé expresivní zážitky najdeme v &lt;a
href="http://programujte.com/index.php?akce=clanek&amp;amp;cl=2008122500-zaklady-programovani-v-jazyce-boo-2-dil"&gt;druhém&lt;/a&gt;
a &lt;a
href="http://programujte.com/index.php?akce=clanek&amp;amp;cl=2008123002-zaklady-programovani-v-jazyce-boo-3-dil"&gt;třetím&lt;/a&gt;
díle v odstavcích věnovaných proměnným. Autor se zapomněl zmínit, že
máme k dispozici celý typový systém dotnetu.&lt;/p&gt;

&lt;blockquote&gt;
	&lt;p&gt;„Typů proměnných je více a my si probereme jen ty základní.“&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;A už začíná deklarovat jednu proměnnou za druhou.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-boo"&gt;celeCislo as int  //definice, aktuální hodnota 0
celeCislo = 200  //inicializace proměnné
celeCislo as int = 5&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Fakt krásné. Všimněte si prvního komentáře. To je stavební kámen
další ukázky:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-boo"&gt;//příklad cyklu while
import System
i as int
while(i &amp;lt; 5):
   print i
   i++&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Za takový kód bych si dobrovolně zakázal oběd, abych dostal trochu krve
do mozku. Ukázka je bezesporu funkční, ale obsahuje zbytečný import,
spoléhá se na implicitní inicializaci hodnotové proměnné, navíc zanáší
šum v podobě zbytečných závorek. Takže jak se tedy Boo píše? Ukázka
s proměnnými:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-boo"&gt;integer = 5
realNumber = 5.0
text = 'some text'&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Jednoduše přiřadíme hodnotu a kompilátor už ví jakého je typu – a
není to &lt;code&gt;object&lt;/code&gt; ani &lt;code&gt;variant&lt;/code&gt;. ;)&lt;/p&gt;

&lt;pre &gt;&lt;code class="language-boo"&gt;i = 0

while i &amp;lt; 5:
  print i++&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;A tady je celá myšlenka ukázky cyklu &lt;code&gt;while&lt;/code&gt;. Proč
je lepší?&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Používat komentáře je krásná věc, ale většinou je lepší psát
	tak, aby se komentáře používat vůbec nemusely. Většinou stačí slušně
	pojmenovat proměnné (nejlépe &lt;strong&gt;celým jménem&lt;/strong&gt;). Tam, kde
	chcete napsat komentář, raději zvažte, zda není lepší vytvořit novou
	metodu s dostatečně &lt;strong&gt;popisným názvem&lt;/strong&gt;.&lt;/li&gt;

	&lt;li&gt;Zbytečným importem nic nezkazíme, ale zvýšíme šum. Někdo by dokonce
	mohl přemýšlet nad tím, proč tam ten &lt;code&gt;import&lt;/code&gt; vlastně je.&lt;/li&gt;

	&lt;li&gt;Používat neinicializované proměnné je už na výprask. Než uvádět
	explicitně typ, to tam radši napište tu implicitní hodnotu, ten kód je pak
	mnohem srozumitelnější.&lt;/li&gt;

	&lt;li&gt;No a závorka. Pokud na ní jste z Cčkových jazyků zvyklí, prosím, ale
	je to další zbytečné zašumění kódu.&lt;/li&gt;

	&lt;li&gt;Hodit postfixovou inkrementaci na jeden řádek s printem už je jen
	taková třešnička na dortu.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Výborná je taky ukázka s &lt;code&gt;for&lt;/code&gt; cyklem nebo proměnné typu
&lt;code&gt;char&lt;/code&gt;…&lt;/p&gt;

&lt;p&gt;Psát texty pro začátečníky je těžké, proto se o ně ani
nepokouším, ale neměl by je psát začátečník. Protože chyby, které se v
„mládí“ naučíte a zažijete si je, budete pak opakovat a opakovat, než
se z nich poučíte. A to stojí čas a ten jsou peníze…&lt;/p&gt;

&lt;p&gt;Poučení z dnešního &lt;acronym title="What the fuck"&gt;WTF&lt;/acronym&gt;:
„Čím méně kódu napíšete dnes, o to se vám bude lépe spravovat
zítra.“ :)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Při pravidelném proklikávání se službou [devlogy] jsem zaznamenal výskyt dalšího dílu seriálu *Základy programování v jazyce Boo* na serveru programujte.com. Vzpomněl jsem si na "první díl seriálu":[prvni], který jsem četl před časem, a opět se mi naježila srst. Šel jsem se tedy podívat, jak s tím autor vládne dál.

No děs a bída. Jestli se takhle někde programuje a ještě k tomu v [boo], tak to je mi moc líto. Boo vzniklo jako agilní jazyk inspirovaný jednoduchostí Pythonu:[python] a silou dotnetu:[dotnet]. Sice je silně typový, ale nenutí nás typy explicitně vyjadřovat. V podstatě nás nenutí k žádným zbytečnostem. Jeho filosofii lze ukázat na následujících ukázkách výpisu **Hello World** na konzolu:

/--code csharp
class Program {
  public static void Main() {
    System.Console.Write("Hello Wold");
  }
}
\--code

Začal jsem nejjednodušším programem v C#, který vypíše na konzolu `Hello World`. Teď to samé v Boo:

/--code boo
print 'Hello World'
\--code

Ano, to je vše.

Když se vrátím k článkům na programujte.com, je vidět, že autor netuší, která bije, když píše:

&gt; „Každý kód v Boo musí začínat jmenými prostory.“

A skutečně ukázku s Hello World okořenil krásně zbytečným importem jmenného prostoru `System`. Není nad to mást začátečníky spoustou zbytečností, protože pak mají pocit, že se toho naučili hodně. :) Bohužel praxe ukazuje, že méně je mnohdy více a tak se posuneme o kousek dál. Tedy spíš zpátky na začátek, kde autor popisuje instalaci IDE((Integrated Development Enviroment)). Už tohle je pěkná blbost, protože k vyzkoušení Boo žádné IDE nepotřebujete. Boo je totiž vybaveno interaktivní konzolou `booish`, která je podobná těm, které můžete znát z dynamických jazyků Python, Ruby nebo třeba z mona – pro C#. Prostě konzola, kde píšete kód a rovnou se vám pod rukama vykonává. Pro začátečnické pokusy ideální.

Další skvělé expresivní zážitky najdeme v druhém:[druhy] a třetím:[treti] díle v odstavcích věnovaných proměnným. Autor se zapomněl zmínit, že máme k dispozici celý typový systém dotnetu.

&gt; „Typů proměnných je více a my si probereme jen ty základní.“

A už začíná deklarovat jednu proměnnou za druhou.

/--code boo
celeCislo as int  //definice, aktuální hodnota 0
celeCislo = 200  //inicializace proměnné
celeCislo as int = 5
\--code

Fakt krásné. Všimněte si prvního komentáře. To je stavební kámen další ukázky:

/--code boo
   //příklad cyklu while
   import System
   i as int
   while(i &lt; 5):
      print i
      i++
\--code

Za takový kód bych si dobrovolně zakázal oběd, abych dostal trochu krve do mozku. Ukázka je bezesporu funkční, ale obsahuje zbytečný import, spoléhá se na implicitní inicializaci hodnotové proměnné, navíc zanáší šum v podobě zbytečných závorek. Takže jak se tedy Boo píše? Ukázka s proměnnými:

/--code boo
integer = 5
realNumber = 5.0
text = 'some text'
\--code

Jednoduše přiřadíme hodnotu a kompilátor už ví jakého je typu – a není to `object` ani `variant`. ;)

/--code boo
i = 0

while i &lt; 5:
  print i++
\--code

A tady je celá myšlenka ukázky cyklu `while`. Proč je lepší?

1.	Používat komentáře je krásná věc, ale většinou je lepší psát tak, aby se komentáře používat vůbec nemusely. Většinou stačí slušně pojmenovat proměnné (nejlépe **celým jménem**). Tam, kde chcete napsat komentář, raději zvažte, zda není lepší vytvořit novou metodu s dostatečně **popisným názvem**.
2.	Zbytečným importem nic nezkazíme, ale zvýšíme šum. Někdo by dokonce mohl přemýšlet nad tím, proč tam ten `import` vlastně je.
3.	Používat neinicializované proměnné je už na výprask. Než uvádět explicitně typ, to tam radši napište tu implicitní hodnotu, ten kód je pak mnohem srozumitelnější.
4.	No a závorka. Pokud na ní jste z Cčkových jazyků zvyklí, prosím, ale je to další zbytečné zašumění kódu.
5.	Hodit postfixovou inkrementaci na jeden řádek s printem už je jen taková třešnička na dortu.

Výborná je taky ukázka s `for` cyklem nebo proměnné typu `char`…

Psát texty pro začátečníky je těžké, proto se o ně ani nepokouším, ale neměl by je psát začátečník. Protože chyby, které se v „mládí“ naučíte a zažijete si je, budete pak opakovat a opakovat, než se z nich poučíte. A to stojí čas a ten jsou peníze…

Poučení z dnešního WTF((What the fuck)): „Čím méně kódu napíšete dnes, o to se vám bude lépe spravovat zítra.“ :)

[boo]: http://boo.codehouse.org/ Boo
[dotnet]: http://www.microsoft.com/net .net
[python]: http://www.python.org/ Python
[devlogy]: http://www.devlogy.cz/ Devlogy.cz
[prvni]: http://programujte.com/index.php?akce=clanek&amp;cl=2008122304-zaklady-programovani-v-jazyce-boo-1-dil
[druhy]: http://programujte.com/index.php?akce=clanek&amp;cl=2008122500-zaklady-programovani-v-jazyce-boo-2-dil
[treti]: http://programujte.com/index.php?akce=clanek&amp;cl=2008123002-zaklady-programovani-v-jazyce-boo-3-dil

</raw>
    <author>Aleš Roubíček</author>
    <published>2009-03-08T17:16:44.163</published>
    <url>nedelni-wtf-zaklady-programovani-v-jazyce-boo</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <tags>boo wtf</tags>
    <is-published>1</is-published>
    <edited>2009-03-08T20:58:27.727</edited>
  </article>
  <article>
    <id>354</id>
    <title>Zdroje o ASP.NET MVC pro začátečníky</title>
    <description>Možná hledáte nějaký materiál, který vám pomůže začít s ASP.NET MVC. O pár možná vim, tak se pojďme podívat, jaké máte možnosti.
</description>
    <html xml:space="preserve">
&lt;p&gt;Možná hledáte nějaký materiál, který vám pomůže začít s ASP.NET
MVC. Pojďme se podívat, jaké máte možnosti.&lt;/p&gt;

&lt;h3 id="toc-knihy"&gt;Knihy&lt;/h3&gt;

&lt;p&gt;Asi nejčastějšími studijními materiály jsou knihy. Protože je ASP.NET
MVC ještě hodně mladý framework, který ještě nebyl oficiálně vydán
(produkční verze), žádná kniha ještě nevyšla. Ale minimálně na dvou se
usilovně již několik měsíců pracuje. Ještě lepší zprávou je, že
jejich rozpracované verze jsou už nyní k dispozici!&lt;/p&gt;

&lt;p&gt;Za první knihou &lt;strong&gt;ASP.NET MVC Framework Unleashed&lt;/strong&gt; stojí
Senior Program Manager ASP.NET MVC a autor jedné z nejprodávanějších knih
o ASP.NET  – &lt;a href="http://stephenwalther.com/blog/"&gt;Stephen Walther&lt;/a&gt;.
Jednotlivé kapitoly publikuje na svém blogu. Ty budou po jejím dokončení
z blogu staženy. Publikovány byly zatím tyto kapitoly:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;&lt;a
	href="http://stephenwalther.com/blog/archive/2009/02/05/chapter-1-an-introduction-to-asp.net-mvc.aspx"&gt;Chapter
	1 – An Introduction to ASP.NET MVC&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a
	href="http://stephenwalther.com/blog/archive/2009/02/07/chapter-2-building-a-simple-asp.net-mvc-application.aspx"&gt;Chapter
	2 – Building a Simple ASP.NET MVC Application&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a
	href="http://stephenwalther.com/blog/archive/2009/02/13/chapter-3-understanding-controllers.aspx"&gt;Chapter
	3 – Understanding Controllers&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a
	href="http://stephenwalther.com/blog/archive/2009/02/21/chapter-4-understanding-views.aspx"&gt;Chapter
	4 – Understanding Views&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a
	href="http://stephenwalther.com/blog/archive/2009/02/27/chapter-5-understanding-models.aspx"&gt;Chapter
	5 – Understanding Models&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a
	href="http://stephenwalther.com/blog/archive/2009/03/03/chapter-6-understanding-html-helpers.aspx"&gt;Chapter
	6 – Understanding HTML Helpers&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a
	href="http://stephenwalther.com/blog/archive/2009/02/06/chapter-2-understanding-routing.aspx"&gt;Chapter
	9 – Understanding Routing&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Další knihou je &lt;strong&gt;Professional ASP.NET MVC 1.0&lt;/strong&gt; z rukou
pánů &lt;a href="http://weblogs.asp.net/scottgu/"&gt;Scott Guthrie&lt;/a&gt;, &lt;a
href="http://haacked.com/"&gt;Phil Haack&lt;/a&gt;, &lt;a
href="http://www.hanselman.com/"&gt;Scott Hanselman&lt;/a&gt; a &lt;a
href="http://blog.wekeroad.com/"&gt;Rob Conery&lt;/a&gt;. Pokud nevíte, kdo jsou tito
pánové zač, tak byste to měli rychle dohnat. ScottGu je autorem ASP.NET a
dnes je vicepresidentem vývojářské divize Microsoftu. Phil je Senior Program
Manager ASP.NET MVC, Routingu a integrace dynamických jazyků do ASP.NET.
ScottHa byl první, kdo loni na MIXu ASP.NET MVC presentoval a Rob Conery je
autorem ukázkové aplikace – a především poučných screencastů z její
tvorby – StoreFront, která je postavená na MVC frameworku. Z knihy byla
zatím uvolněna &lt;a
href="http://aspnetmvcbook.s3.amazonaws.com/aspnetmvc-nerdinner_v1.pdf"&gt;první
kapitola&lt;/a&gt;, která je průvodcem krok za krokem jak začít stavět aplikaci
s ASP.NET MVC.&lt;/p&gt;

&lt;h3 id="toc-ukazkove-aplikace"&gt;Ukázkové aplikace&lt;/h3&gt;

&lt;p&gt;Pokud se vám dobře učí čtením zdrojových kódů, není nic lepšího,
než si &lt;a
href="http://aspnet.codeplex.com/SourceControl/changeset/view/21528"&gt;zdrojové
kódy ASP.NET MVC&lt;/a&gt; stáhnout na CodePlexu. Z nich můžete pochytit ledasco,
ale jak s tím dělat aplikace už moc ne. Proto tu jsou ukázkové aplikace.
Tou první a asi nejrozsáhlejší je &lt;a
href="http://blog.wekeroad.com/mvc-storefront/"&gt;MVC Storefront&lt;/a&gt;. Jenže její
zdrojáky byly chvíli na CodePlexu, pak je Rob smazal a slibuje, že brzy budou
nové – aktuální. Další ukázková aplikace vznikla pro potřeby druhé
jmenované knihy a jmenuje se &lt;a
href="http://nerddinner.codeplex.com/"&gt;Nerddinner&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id="toc-webcasty"&gt;Webcasty&lt;/h3&gt;

&lt;p&gt;Když ještě nejsou k &lt;a
href="http://blog.wekeroad.com/mvc-storefront/"&gt;MVC Storefront&lt;/a&gt; zdrojáky,
tak vězte, že k němu je asi pětadvacet screencastů! Rob zde provádí
vývojem e-shopu. Během té doby prozkoumává různá zákoutí webového
vývoje, vylepšuje design aplikace, užívá užitečných komponent atd.
Rozhodně stojí za zhlédnutí.&lt;/p&gt;

&lt;p&gt;Další videa, která vám snad pomohou s MVC frameworkem začít, najdete
přímo na stránkách &lt;a href="http://asp.net/mvc/"&gt;ASP.NET MVC&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id="toc-zaznamy-prednasek"&gt;Záznamy přednášek&lt;/h3&gt;

&lt;p&gt;Doporučení hodné jsou záznamy z loňského MIXu a PDC,
konkrétně tyto:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;&lt;a href="http://sessions.visitmix.com/?selectedSearch=T22"&gt;Developing
	ASP.NET Applications Using the Model View Controller Pattern&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a href="http://channel9.msdn.com/pdc2008/PC21/"&gt;ASP.NET MVC : A New
	Framework for Building Web Applications&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Na letošním MIX, který bude již příští týden, bude asi
5 přednášek věnovaných ASP.NET MVC a očekává se, že tam bude také
uvedena jeho finální verze.&lt;/p&gt;

&lt;p&gt;Na loňském WebExpu jsem měli s Borkem &lt;a
href="http://2008.webexpo.cz/prednaska/asp-net/"&gt;přednášku o ASP.NET Futures
a o MVC&lt;/a&gt; jsem také mluvili. Přednáška se natáčela, a pokud bude
záznam zveřejněn, tak tam možná najdete pár zajímavých
informací. :)&lt;/p&gt;

&lt;h3 id="toc-blogy"&gt;Blogy&lt;/h3&gt;

&lt;p&gt;Zatím největším zdrojem a zároveň nejroztříštěnějším jsou
blogspoty. Nejvíc informací najdete na blozích již výše zmiňovaných
pánů. Do jejich společnosti se rád vloudím i &lt;a
href="/weblog/tag/mvc.aspx"&gt;se svojí troškou do mlýna&lt;/a&gt;, ale troufnu si
tvrdit, že v některých už jde o trošičku pokročilejší témata a pro
jejich pochopení byste už něco měli mít načteno a nazkoušeno. :)&lt;/p&gt;

&lt;p&gt;No koukám, že se mi tady z toho stává pěkná linkfarma, tak to raději
ukončím a doufám, že se máte od čeho odrazit…&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Možná hledáte nějaký materiál, který vám pomůže začít s ASP.NET MVC. Pojďme se podívat, jaké máte možnosti.

Knihy
=====

Asi nejčastějšími studijními materiály jsou knihy. Protože je ASP.NET MVC ještě hodně mladý framework, který ještě nebyl oficiálně vydán (produkční verze), žádná kniha ještě nevyšla. Ale minimálně na dvou se usilovně již několik měsíců pracuje. Ještě lepší zprávou je, že jejich rozpracované verze jsou už nyní k dispozici!

Za první knihou **ASP.NET MVC Framework Unleashed** stojí Senior Program Manager ASP.NET MVC a autor jedné z nejprodávanějších knih o ASP.NET  - [walther]. Jednotlivé kapitoly publikuje na svém blogu. Ty budou po jejím dokončení z blogu staženy. Publikovány byly zatím tyto kapitoly:

1.	[walther 1]
2.	[walther 2]
3.	[walther 3]
4.	[walther 4]
5.	[walther 5]
6.	[walther 6]
7.	[walther 9]

Další knihou je **Professional ASP.NET MVC 1.0** z rukou pánů [scottgu], [haacked], [scottha] a [conery]. Pokud nevíte, kdo jsou tito pánové zač, tak byste to měli rychle dohnat. ScottGu je autorem ASP.NET a dnes je vicepresidentem vývojářské divize Microsoftu. Phil je Senior Program Manager ASP.NET MVC, Routingu a integrace dynamických jazyků do ASP.NET. ScottHa byl první, kdo loni na MIXu ASP.NET MVC presentoval a Rob Conery je autorem ukázkové aplikace - a především poučných screencastů z její tvorby - StoreFront, která je postavená na MVC frameworku. Z knihy byla zatím uvolněna "první kapitola":[professional], která je průvodcem krok za krokem jak začít stavět aplikaci s ASP.NET MVC.

Ukázkové aplikace
==============

Pokud se vám dobře učí čtením zdrojových kódů, není nic lepšího, než si "zdrojové kódy ASP.NET MVC":[source] stáhnout na CodePlexu. Z nich můžete pochytit ledasco, ale jak s tím dělat aplikace už moc ne. Proto tu jsou ukázkové aplikace. Tou první a asi nejrozsáhlejší je [storefront]. Jenže její zdrojáky byly chvíli na CodePlexu, pak je Rob smazal a slibuje, že brzy budou nové – aktuální. Další ukázková aplikace vznikla pro potřeby druhé jmenované knihy a jmenuje se [nerd].

Webcasty
========

Když ještě nejsou k [storefront] zdrojáky, tak vězte, že k němu je asi pětadvacet screencastů! Rob zde provádí vývojem e-shopu. Během té doby prozkoumává různá zákoutí webového vývoje, vylepšuje design aplikace, užívá užitečných komponent atd. Rozhodně stojí za zhlédnutí.

Další videa, která vám snad pomohou s MVC frameworkem začít, najdete přímo na stránkách [aspnetmvc].

Záznamy přednášek
==================

Doporučení hodné jsou záznamy z loňského MIXu a PDC, konkrétně tyto:

1.	[t22]
2.	[pc21]

Na letošním MIX, který bude již příští týden, bude asi 5 přednášek věnovaných ASP.NET MVC a očekává se, že tam bude také uvedena jeho finální verze.

Na loňském WebExpu jsem měli s Borkem "přednášku o ASP.NET Futures a o MVC":[webexpo] jsem také mluvili. Přednáška se natáčela, a pokud bude záznam zveřejněn, tak tam možná najdete pár zajímavých informací. :)

Blogy
======

Zatím největším zdrojem a zároveň nejroztříštěnějším jsou blogspoty. Nejvíc informací najdete na blozích již výše zmiňovaných pánů. Do jejich společnosti se rád vloudím i "se svojí troškou do mlýna":[/weblog/tag/mvc.aspx], ale troufnu si tvrdit, že v některých už jde o trošičku pokročilejší témata a pro jejich pochopení byste už něco měli mít načteno a nazkoušeno. :)

No koukám, že se mi tady z toho stává pěkná linkfarma, tak to raději ukončím a doufám, že se máte od čeho odrazit…



[scottgu]: http://weblogs.asp.net/scottgu/ Scott Guthrie
[scottha]: http://www.hanselman.com/ Scott Hanselman
[haacked]: http://haacked.com/ Phil Haack
[conery]: http://blog.wekeroad.com/ Rob Conery
[walther]: http://stephenwalther.com/blog/ Stephen Walther

[aspnetmvc]: http://asp.net/mvc/ ASP.NET MVC

[source]: http://aspnet.codeplex.com/SourceControl/changeset/view/21528
[nerd]: http://nerddinner.codeplex.com/ Nerddinner
[storefront]: http://blog.wekeroad.com/mvc-storefront/ MVC Storefront

[professional]: http://aspnetmvcbook.s3.amazonaws.com/aspnetmvc-nerdinner_v1.pdf
[walther 1]: http://stephenwalther.com/blog/archive/2009/02/05/chapter-1-an-introduction-to-asp.net-mvc.aspx Chapter 1 - An Introduction to ASP.NET MVC
[walther 2]: http://stephenwalther.com/blog/archive/2009/02/07/chapter-2-building-a-simple-asp.net-mvc-application.aspx Chapter 2 - Building a Simple ASP.NET MVC Application
[walther 3]: http://stephenwalther.com/blog/archive/2009/02/13/chapter-3-understanding-controllers.aspx Chapter 3 - Understanding Controllers
[walther 4]: http://stephenwalther.com/blog/archive/2009/02/21/chapter-4-understanding-views.aspx Chapter 4 - Understanding Views
[walther 5]: http://stephenwalther.com/blog/archive/2009/02/27/chapter-5-understanding-models.aspx Chapter 5 - Understanding Models
[walther 6]: http://stephenwalther.com/blog/archive/2009/03/03/chapter-6-understanding-html-helpers.aspx Chapter 6 - Understanding HTML Helpers
[walther 9]: http://stephenwalther.com/blog/archive/2009/02/06/chapter-2-understanding-routing.aspx Chapter 9 - Understanding Routing

[pc21]: http://channel9.msdn.com/pdc2008/PC21/ ASP.NET MVC : A New Framework for Building Web Applications
[t22]: http://sessions.visitmix.com/?selectedSearch=T22 Developing ASP.NET Applications Using the Model View Controller Pattern
[webexpo]: http://2008.webexpo.cz/prednaska/asp-net/
</raw>
    <author>Aleš Roubíček</author>
    <published>2009-03-11T18:51:04.013</published>
    <url>zdroje-o-asp-net-mvc-pro-zacatecniky</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>aspnet mvc</tags>
    <is-published>1</is-published>
    <edited>2009-03-11T18:57:54.230</edited>
  </article>
  <article>
    <id>355</id>
    <title>Vlastní serverové ovládací prvky v ASP.NET MVC</title>
    <description>Povídání o tom, jak zlepšit čitelnost vašich šablon za pomocí serverových ovládacích prvků.</description>
    <html xml:space="preserve">
&lt;p&gt;Motto: &lt;code&gt;foreach&lt;/code&gt; je fajn na prototypování, ale většinou mu za
chvíli dojde dech a svádí k zanášení příliš logiky do kódu šablony.
A to je špatně.&lt;/p&gt;

&lt;p&gt;Už jsem se zmiňoval o tom, že &lt;a rel="bookmark"
title="Serverové ovládací prvky v ASP.NET MVC"
href="/weblog/349-serverove-ovladaci-prvky-v-asp-net-mvc.aspx"&gt;v ASP.NET MVC
lze užívat serverové ovládací prvky&lt;/a&gt;, takže je využijeme
k zapouzdření složitější zobrazovací logiky.&lt;/p&gt;

&lt;h3 id="toc-motivace"&gt;Motivace&lt;/h3&gt;

&lt;p&gt;Jednou z hlavních nevýhod, kterou jsem viděl na MVC, byl přístup ke
skládání šablon. Jednotlivé kusy šablony jsou rozházeny v MasterPage,
ViewPage (aspx) a ViewUserControlech (ascx). V Atlasu jsme razili teorii, že
šablona by měla být pokud možno co nejcelistvější, aby se nemuselo nikde
nic hledat a kodér rychle udělal potřebné změny. Proto existovala sada
serverových ovládacích prvků, které byly plně šablonovatelné.&lt;/p&gt;

&lt;p&gt;Když naběhlo &lt;acronym title="Středové držení"&gt;CH&lt;/acronym&gt; s &lt;a
href="http://ellaproject.stdout.cz/"&gt;Ellou&lt;/a&gt;, nechápali jsme, jak to může
někdo používat. Každičká část šablony byla (v té době, jak je to
dnes – nevím) byla rozeseta v hierarchii složek (podle dědičnosti).
A to je v podstatě hlavní rozdíl mezi ASP.NET a architekturou MVC. Tedy
pokud jste omezeni view enginem, který používáte.&lt;/p&gt;

&lt;p&gt;Již nějaký pátek pracuji na web 2.0 aplikaci, která je postavená mj.
na ASP.NET MVC. Měl jsem tedy možnost vyzkoušet hodně možných postupů: od
logiky v šabloně, přes HTML helpery, &lt;code&gt;RenderPartial&lt;/code&gt; a
&lt;code&gt;RenderAction&lt;/code&gt; až po vlastní serverové ovládací prvky. A ty
nakonec vítězí na plné čáře! Pojďme se podívat, jak si napsat
elegantní serverové ovládací prvky pro ASP.NET MVC.&lt;/p&gt;

&lt;h3 id="toc-evoluce-logiky-v-sablone"&gt;Evoluce logiky v šabloně&lt;/h3&gt;

&lt;p&gt;Začínal jsem s nadšením s jednoduchou logikou v kódu, tak jak to
vidíte v ukázkách či na prezentacích o ASP.NET MVC. Složitější věci
jsem se snažil přesunout do HtmlHelperu pomocí vlastních extenzí. Když
jsem pak narazil na helpery, které zanáší do view „lambda hell“, trochu
mě zamrazilo. Vyberu jen dva příklady: Philův &lt;a
href="http://haacked.com/archive/2008/05/03/code-based-repeater-for-asp.net-mvc.aspx"&gt;Code
based Repeater for ASP.NET MVC&lt;/a&gt; a Jardův &lt;a
href="http://simplemvccontrols.codeplex.com/"&gt;Simple MVC controls&lt;/a&gt;. Nebojte,
podobných programátorských krás najdete povícero. Bohužel, je to
nepoužitelné pro kodéra. Navíc jsem zastáncem myšlenky minima kódu
v šabloně.&lt;/p&gt;

&lt;p&gt;Další věcí, která mě tak trochu děsí, je jakým způsobem se
předvádí generování HTML formuláře.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;% using(Html.BeginForm("Send", "Comments")) { %&amp;gt;
  &amp;lt;!-- prvky formuláře --&amp;gt;
&amp;lt;% } %&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Je to krásná ukázka &lt;a rel="bookmark" title="Using pattern"
href="/weblog/265-using-pattern.aspx"&gt;užití vzoru
&lt;code&gt;IDisposable&lt;/code&gt;&lt;/a&gt;, ale do šablony nepatří. Helpery uživát jen
jako dobré koření – po špetkách.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;form action='&amp;lt;%= Url.Action("Send", "Comments")) %&amp;gt;' method="post"&amp;gt;
  &amp;lt;!-- prvky formuláře --&amp;gt;
&amp;lt;/form&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Myslím, že takovýto zápis je mnohem srozumitelnější a přitom dělá
to samé. Jako bonus můžete ve vašem HTML editoru využívat scope
collapsing. Vhodnější by ještě bylo použít helper
&lt;code&gt;Url.RouteUrl&lt;/code&gt;, který hledá routy podle klíče a tudíž je
o dost výkonnější (pokud máte definováno více rout).&lt;/p&gt;

&lt;p&gt;Opusťme teď formulář a pokročme k vypisování dat.&lt;/p&gt;

&lt;p&gt;Prvním způsobem, jak vypisovat data, je &lt;code&gt;foreach&lt;/code&gt;. Je silně
typový, což považuju za obrovskou výhodu, a nepřináší overhead
v podobě instanciování tříd a parsování šablon serverových
ovládacích prvků.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;ul&amp;gt;
&amp;lt;% foreach (var user in Model.Users) { %&amp;gt;
&amp;lt;li&amp;gt;&amp;lt;%= user.Name %&amp;gt;&amp;lt;/li&amp;gt;
&amp;lt;% } %&amp;gt;
&amp;lt;/ul&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Tím však jeho možnosti končí. Pokud potřebujeme např. odlišit každou
druhou položku, nebo vypsat něco jiného, pokud nejsou žádná data, musíme
kód znepřehledňovat, nebo zvolit jiné řešení. Philův repeater už jsem
zmiňoval. Další možností je využít &lt;code&gt;asp:Repeater&lt;/code&gt; nebo
&lt;code&gt;mvc:Repeater&lt;/code&gt;. Ani jeden mi nevyhovuje. První se musí nějak
nalít daty a pak s nimi svázat (nutnost codebehind nebo script runat=server),
druhý zase pracuje s ViewData slovníkem a evalováním. Takže nezbývá než
si napsat vlastní.&lt;/p&gt;

&lt;h3 id="toc-silne-typovy-repeater-v-asp-net-mvc"&gt;Silně typový repeater
v ASP.NET MVC&lt;/h3&gt;

&lt;p&gt;Základem je jednoduchá myšlenka. Použít &lt;code&gt;MvcControl&lt;/code&gt;
z futures a view model opatřit kontrakty.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public interface IHaveUsers {
  IEnumerable&amp;lt;User&amp;gt; Users { get; }
}

public class UsersListViewData : IHaveUsers {
  public IEnumerable&amp;lt;User&amp;gt; Users { get; set; }
  // další vlastnosti view modelu
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Zavedli jsme si view model třídu, která se nejspíš bude posílat na
pohled &lt;strong&gt;Index&lt;/strong&gt; řadičem &lt;strong&gt;UsersController&lt;/strong&gt;.
Možná. Každopádně jsme si zavedli jednoduchou abstrakci a možnost
znovupoužití v podobě rozhranní &lt;code&gt;IHaveUsers&lt;/code&gt;. Snad
můžeme dál.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;using Microsoft.Web.Mvc;
using Rarous.Web.UI;

[ParseChildren(true)]
public partial class UsersRepeater : MvcControl, ILayoutTemplateable {

  [DefaultValue(typeof(ITemplate), "")]
  [PersistenceMode(PersistenceMode.InnerProperty)]
  [TemplateContainer(typeof(IGenericContainer&amp;lt;User&amp;gt;))]
  [TemplateInstance(TemplateInstance.Multiple)]
  public ITemplate ItemTemplate { get; set; }

  [DefaultValue(typeof(ITemplate), "")]
  [PersistenceMode(PersistenceMode.InnerProperty)]
  [TemplateContainer(typeof(IGenericContainer&amp;lt;User&amp;gt;))]
  [TemplateInstance(TemplateInstance.Multiple)]
  public ITemplate AlternatingItemTemplate { get; set; }

  [DefaultValue(typeof(ITemplate), "")]
  [PersistenceMode(PersistenceMode.InnerProperty)]
  [TemplateContainer(typeof(INamingContainer))]
  [TemplateInstance(TemplateInstance.Multiple)]
  public ITemplate SeparatorTemplate { get; set; }

  public string LayoutContainerId { get; set; }

  [DefaultValue(typeof(ITemplate), "")]
  [PersistenceMode(PersistenceMode.InnerProperty)]
  [TemplateContainer(typeof(INamingContainer))]
  [TemplateInstance(TemplateInstance.Single)]
  public ITemplate LayoutTemplate { get; set; }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Podědili jsme si MvcControl, který mimo jiné zpřístupňuje
&lt;code&gt;ViewData&lt;/code&gt;, a implementovali nějaké šablony.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public partial class UsersRepeater {
  private class UsersViewDataFetcher {
    public IEnumerable&amp;lt;User&amp;gt; GetUsers(object model) {
      var result = model as IHaveUsers;
      if (result != null) {
        return result.Users;
      }
      return null;
    }
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Jednoduchý helper pro získávání dat z modelu. Zkouší využít
kontraktu &lt;code&gt;IHaveUsers&lt;/code&gt;, který jsme si zavedli výše, k získání
dat z modelu. Zde je místo pro budoucí rozšíření o další možné
zdroje. Pokud nic nenajdeme, vrátíme &lt;code&gt;null&lt;/code&gt;.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public partial class UsersRepeater {
  protected override void OnPreRender(EventArgs e) {
    base.OnPreRender(e);

    var fetcher = new UsersViewDataFetcher(ViewData.Model);
    var users = fetcher.GetUsers();
    if (users == null) {
      return; // nebo verenderovat NoDataTemplete
    }

    Controls.Clear();

    Control layoutContainer = TemplatingHelper.CreateLayoutContainer(this, this) ?? this;

    var iterator = new ItemsIterator&amp;lt;User&amp;gt;(users);
    foreach (var user in iterator.Iterate()) {
      if (iterator.IsFirst == false) {
        TemplatingHelper.Instantiate(new EmptyContainer(), SeparatorTemplate, layoutContainer);
      }
      ITemplate template = iterator.IsAlternate ? AlternatingItemTemplate ?? ItemTemplate : ItemTemplate;
      TemplatingHelper.Instantiate(new GenericContainer&amp;lt;User&amp;gt;(user), template, layoutContainer);
    }

    layoutContainer.DataBind();
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Nakonec přepíšeme metodu &lt;code&gt;OnPreRender&lt;/code&gt;, ve které získaná
data proměníme pomocí šablon na výstupní kód. Používám zde spoustu
věcí, které jsem &lt;a rel="bookmark" title="Generický kontejner a repeater"
href="/weblog/278-genericky-kontejner-a-repeater.aspx"&gt;použil již dříve&lt;/a&gt;.
Jedinou novinkou je třída &lt;code&gt;ItemsIterator&lt;/code&gt;, která zaobaluje logiku,
pro zjišťování, zda jde o první prvek, alternativní prvek a počítá
aktuální index prvku.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class ItemsIterator&amp;lt;T&amp;gt; {

  private readonly IEnumerable&amp;lt;T&amp;gt; _items;

  public ItemsIterator(IEnumerable&amp;lt;T&amp;gt; items)
    : this(items, 0) {
  }

  public ItemsIterator(IEnumerable&amp;lt;T&amp;gt; items, int firstIndex) {
    _items = items;
    IsFirst = true;
    IsAlternate = false;
    CurrentIndex = firstIndex;
  }

  public bool IsFirst { get; private set; }
  public bool IsAlternate { get; private set; }
  public int CurrentIndex { get; private set; }

  public IEnumerable&amp;lt;T&amp;gt; Iterate() {
    foreach (var item in _items) {
      yield return item;
      IsFirst = false;
      IsAlternate = !IsAlternate;
      CurrentIndex++;
    }
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Jednoduchá věcička, která je určená k eliminaci otrocky
opakovaného kódu.&lt;/p&gt;

&lt;p&gt;Užití takového repeateru je pak jednoduché:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;rarous:UsersRepeater runat="server" LayoutContainerId="UsersPlaceHolder"&amp;gt;
  &amp;lt;LayoutTemplate&amp;gt;
    &amp;lt;ul&amp;gt;
      &amp;lt;asp:PlaceHolder ID="UsersPlaceHolder" runat="server"/&amp;gt;
    &amp;lt;/ul&amp;gt;
  &amp;lt;/LayoutTemplate&amp;gt;
  &amp;lt;ItemTemplate&amp;gt;
    &amp;lt;li&amp;gt;&amp;lt;%# Container.DataItem.Name %&amp;gt;&amp;lt;/li&amp;gt;
  &amp;lt;/ItemTmplate&amp;gt;
&amp;lt;/rarous:UsersRepeater&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id="toc-zaver"&gt;Závěr&lt;/h3&gt;

&lt;p&gt;Snažil jsem se sdělit svůj názor, že v šablonách by mělo být jen
tolik programového kódu, kolik je nezbytně nutné. Zároveň se držet
zásady jediné zodpovědnosti tříd a znuvupoužitelnosti s využitím
generického pomocníka pro iteraci a kontraktů ve view modelu. Zároveň
maximálně využít kód, který jsem už psal v předchozích spotech. Je
možné, že jsem nepoužil dostatečně kvalitní názvy tříd nebo metod,
připomínky klidně piště i k nim.&lt;/p&gt;

&lt;div class="hslice" id="related"&gt;
	&lt;h3 class="entry-title" id="toc-souvisejici"&gt;Související&lt;/h3&gt;

	&lt;ul class="entry-content"&gt;
		&lt;li&gt;&lt;a rel="bookmark" title="Serverové ovládací prvky v ASP.NET MVC"
		href="/weblog/349-serverove-ovladaci-prvky-v-asp-net-mvc.aspx"&gt;Serverové
		ovládací prvky v ASP.NET MVC&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a rel="bookmark" title="Generický kontejner a repeater"
		href="/weblog/278-genericky-kontejner-a-repeater.aspx"&gt;Generický kontejner a
		repeater&lt;/a&gt;&lt;/li&gt;

		&lt;li&gt;&lt;a rel="bookmark" title="Using pattern"
		href="/weblog/265-using-pattern.aspx"&gt;Using pattern&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
&lt;/div&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Motto: `foreach` je fajn na prototypování, ale většinou mu za chvíli dojde dech a svádí k zanášení příliš logiky do kódu šablony. A to je špatně.

Už jsem se zmiňoval o tom, že "v ASP.NET MVC lze užívat serverové ovládací prvky":[clanek(349)], takže je využijeme k zapouzdření složitější zobrazovací logiky.

Motivace
=========

Jednou z hlavních nevýhod, kterou jsem viděl na MVC, byl přístup ke skládání šablon. Jednotlivé kusy šablony jsou rozházeny v MasterPage, ViewPage (aspx) a ViewUserControlech (ascx). V Atlasu jsme razili teorii, že šablona by měla být pokud možno co nejcelistvější, aby se nemuselo nikde nic hledat a kodér rychle udělal potřebné změny. Proto existovala sada serverových ovládacích prvků, které byly plně šablonovatelné.

Když naběhlo CH((Středové držení)) s Ellou:[ella], nechápali jsme, jak to může někdo používat. Každičká část šablony byla (v té době, jak je to dnes - nevím) byla rozeseta v hierarchii složek (podle dědičnosti). A to je v podstatě hlavní rozdíl mezi ASP.NET a architekturou MVC. Tedy pokud jste omezeni view enginem, který používáte.

Již nějaký pátek pracuji na web 2.0 aplikaci, která je postavená mj. na ASP.NET MVC. Měl jsem tedy možnost vyzkoušet hodně možných postupů: od logiky v šabloně, přes HTML helpery, `RenderPartial` a `RenderAction` až po vlastní serverové ovládací prvky. A ty nakonec vítězí na plné čáře! Pojďme se podívat, jak si napsat elegantní serverové ovládací prvky pro ASP.NET MVC.

Evoluce logiky v šabloně
========================

Začínal jsem s nadšením s jednoduchou logikou v kódu, tak jak to vidíte v ukázkách či na prezentacích o ASP.NET MVC. Složitější věci jsem se snažil přesunout do HtmlHelperu pomocí vlastních extenzí. Když jsem pak narazil na helpery, které zanáší do view „lambda hell“, trochu mě zamrazilo. Vyberu jen dva příklady: Philův [haacked repeater] a Jardův [jirava fieldset]. Nebojte, podobných programátorských krás najdete povícero. Bohužel, je to nepoužitelné pro kodéra. Navíc jsem zastáncem myšlenky minima kódu v šabloně.


Další věcí, která mě tak trochu děsí, je jakým způsobem se předvádí generování HTML formuláře.

/--code xml
&lt;% using(Html.BeginForm("Send", "Comments")) { %&gt;
  &lt;!-- prvky formuláře --&gt;
&lt;% } %&gt;
\--code

Je to krásná ukázka "užití vzoru `IDisposable`":[clanek(265)], ale do šablony nepatří. Helpery uživát jen jako dobré koření – po špetkách.

/--code xml
&lt;form action='&lt;%= Url.Action("Send", "Comments")) %&gt;' method="post"&gt;
  &lt;!-- prvky formuláře --&gt;
&lt;/form&gt;
\--code

Myslím, že takovýto zápis je mnohem srozumitelnější a přitom dělá to samé. Jako bonus můžete ve vašem HTML editoru využívat scope collapsing. Vhodnější by ještě bylo použít helper `Url.RouteUrl`, který hledá routy podle klíče a tudíž je o dost výkonnější (pokud máte definováno více rout).

Opusťme teď formulář a pokročme k vypisování dat.

Prvním způsobem, jak vypisovat data, je `foreach`. Je silně typový, což považuju za obrovskou výhodu, a nepřináší overhead v podobě instanciování tříd a parsování šablon serverových ovládacích prvků.

/--code xml
&lt;ul&gt;
&lt;% foreach (var user in Model.Users) { %&gt;
&lt;li&gt;&lt;%= user.Name %&gt;&lt;/li&gt;
&lt;% } %&gt;
&lt;/ul&gt;
\--code

Tím však jeho možnosti končí. Pokud potřebujeme např. odlišit každou druhou položku, nebo vypsat něco jiného, pokud nejsou žádná data, musíme kód znepřehledňovat, nebo zvolit jiné řešení. Philův repeater už jsem zmiňoval. Další možností je využít `asp:Repeater` nebo `mvc:Repeater`. Ani jeden mi nevyhovuje. První se musí nějak nalít daty a pak s nimi svázat (nutnost codebehind nebo script runat=server), druhý zase pracuje s ViewData slovníkem a evalováním. Takže nezbývá než si napsat vlastní.

Silně typový repeater v ASP.NET MVC
=============================

Základem je jednoduchá myšlenka. Použít `MvcControl` z futures a view model opatřit kontrakty.

/--code csharp
public interface IHaveUsers {
  IEnumerable&lt;User&gt; Users { get; }
}

public class UsersListViewData : IHaveUsers {
  public IEnumerable&lt;User&gt; Users { get; set; }
  // další vlastnosti view modelu
}
\--code

Zavedli jsme si view model třídu, která se nejspíš bude posílat na pohled **Index** řadičem **UsersController**. Možná. Každopádně jsme si zavedli jednoduchou abstrakci a možnost znovupoužití v podobě rozhranní `IHaveUsers`. Snad můžeme dál.

/--code csharp
using Microsoft.Web.Mvc;
using Rarous.Web.UI;

[ParseChildren(true)]
public partial class UsersRepeater : MvcControl, ILayoutTemplateable {

  [DefaultValue(typeof(ITemplate), "")]
  [PersistenceMode(PersistenceMode.InnerProperty)]
  [TemplateContainer(typeof(IGenericContainer&lt;User&gt;))]
  [TemplateInstance(TemplateInstance.Multiple)]
  public ITemplate ItemTemplate { get; set; }

  [DefaultValue(typeof(ITemplate), "")]
  [PersistenceMode(PersistenceMode.InnerProperty)]
  [TemplateContainer(typeof(IGenericContainer&lt;User&gt;))]
  [TemplateInstance(TemplateInstance.Multiple)]
  public ITemplate AlternatingItemTemplate { get; set; }

  [DefaultValue(typeof(ITemplate), "")]
  [PersistenceMode(PersistenceMode.InnerProperty)]
  [TemplateContainer(typeof(INamingContainer))]
  [TemplateInstance(TemplateInstance.Multiple)]
  public ITemplate SeparatorTemplate { get; set; }

  public string LayoutContainerId { get; set; }

  [DefaultValue(typeof(ITemplate), "")]
  [PersistenceMode(PersistenceMode.InnerProperty)]
  [TemplateContainer(typeof(INamingContainer))]
  [TemplateInstance(TemplateInstance.Single)]
  public ITemplate LayoutTemplate { get; set; }
}
\--code

Podědili jsme si MvcControl, který mimo jiné zpřístupňuje `ViewData`, a implementovali nějaké šablony.

/--code csharp
public partial class UsersRepeater {
  private class UsersViewDataFetcher {
    public IEnumerable&lt;User&gt; GetUsers(object model) {
      var result = model as IHaveUsers;
      if (result != null) {
        return result.Users;
      }
      return null;
    }
  }
}
\--code

Jednoduchý helper pro získávání dat z modelu. Zkouší využít kontraktu `IHaveUsers`, který jsme si zavedli výše, k získání dat z modelu. Zde je místo pro budoucí rozšíření o další možné zdroje. Pokud nic nenajdeme, vrátíme `null`.

/--code csharp
public partial class UsersRepeater {
  protected override void OnPreRender(EventArgs e) {
    base.OnPreRender(e);

    var fetcher = new UsersViewDataFetcher(ViewData.Model);
    var users = fetcher.GetUsers();
    if (users == null) {
      return; // nebo verenderovat NoDataTemplete
    }

    Controls.Clear();

    Control layoutContainer = TemplatingHelper.CreateLayoutContainer(this, this) ?? this;

    var iterator = new ItemsIterator&lt;User&gt;(users);
    foreach (var user in iterator.Iterate()) {
      if (iterator.IsFirst == false) {
        TemplatingHelper.Instantiate(new EmptyContainer(), SeparatorTemplate, layoutContainer);
      }
      ITemplate template = iterator.IsAlternate ? AlternatingItemTemplate ?? ItemTemplate : ItemTemplate;
      TemplatingHelper.Instantiate(new GenericContainer&lt;User&gt;(user), template, layoutContainer);
    }

    layoutContainer.DataBind();
  }
}
\--code

Nakonec přepíšeme metodu `OnPreRender`, ve které získaná data proměníme pomocí šablon na výstupní kód. Používám zde spoustu věcí, které jsem "použil již dříve":[clanek(278)]. Jedinou novinkou je třída `ItemsIterator`, která zaobaluje logiku, pro zjišťování, zda jde o první prvek, alternativní prvek a počítá aktuální index prvku.

/--code csharp
public class ItemsIterator&lt;T&gt; {

  private readonly IEnumerable&lt;T&gt; _items;

  public ItemsIterator(IEnumerable&lt;T&gt; items)
    : this(items, 0) {
  }

  public ItemsIterator(IEnumerable&lt;T&gt; items, int firstIndex) {
    _items = items;
    IsFirst = true;
    IsAlternate = false;
    CurrentIndex = firstIndex;
  }

  public bool IsFirst { get; private set; }
  public bool IsAlternate { get; private set; }
  public int CurrentIndex { get; private set; }

  public IEnumerable&lt;T&gt; Iterate() {
    foreach (var item in _items) {
      yield return item;
      IsFirst = false;
      IsAlternate = !IsAlternate;
      CurrentIndex++;
    }
  }
}
\--code

Jednoduchá věcička, která je určená k eliminaci otrocky opakovaného kódu.

Užití takového repeateru je pak jednoduché:

/--code xml
&lt;rarous:UsersRepeater runat="server" LayoutContainerId="UsersPlaceHolder"&gt;
  &lt;LayoutTemplate&gt;
    &lt;ul&gt;
      &lt;asp:PlaceHolder ID="UsersPlaceHolder" runat="server"/&gt;
    &lt;/ul&gt;
  &lt;/LayoutTemplate&gt;
  &lt;ItemTemplate&gt;
    &lt;li&gt;&lt;%# Container.DataItem.Name %&gt;&lt;/li&gt;
  &lt;/ItemTmplate&gt;
&lt;/rarous:UsersRepeater&gt;
\--code

Závěr
=====

Snažil jsem se sdělit svůj názor, že v šablonách by mělo být jen tolik programového kódu, kolik je nezbytně nutné. Zároveň se držet zásady jediné zodpovědnosti tříd a znuvupoužitelnosti s využitím generického pomocníka pro iteraci a kontraktů ve view modelu. Zároveň maximálně využít kód, který jsem už psal v předchozích spotech. Je možné, že jsem nepoužil dostatečně kvalitní názvy tříd nebo metod, připomínky klidně piště i k nim.

/--div .[hslice #related]
Související .[entry-title]
==========
.[entry-content]
* [clanek(349)]
* [clanek(278)]
* [clanek(265)]
\--div



[clanek(265)]: /weblog/265-using-pattern.aspx Using pattern .(Using pattern){rel:bookmark}
[clanek(278)]: /weblog/278-genericky-kontejner-a-repeater.aspx Generický kontejner a repeater .(Generický kontejner a repeater){rel:bookmark}
[clanek(349)]: /weblog/349-serverove-ovladaci-prvky-v-asp-net-mvc.aspx Serverové ovládací prvky v ASP.NET MVC .(Serverové ovládací prvky v ASP.NET MVC){rel:bookmark}

[haacked repeater]: http://haacked.com/archive/2008/05/03/code-based-repeater-for-asp.net-mvc.aspx Code based Repeater for ASP.NET MVC
[jirava fieldset]: http://simplemvccontrols.codeplex.com/ Simple MVC controls
[ella]: http://ellaproject.stdout.cz/</raw>
    <author>Aleš Roubíček</author>
    <published>2009-03-29T10:32:54.430</published>
    <url>vlastni-serverove-ovladaci-prvky-v-asp-net-mvc</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>repeater genericcontainer mvc aspnet</tags>
    <is-published>1</is-published>
    <edited>2009-03-29T19:20:52.337</edited>
  </article>
  <article>
    <id>356</id>
    <title>Validace v ASP.NET MVC</title>
    <description>Pojďme se podívat na validaci v ASP.NET MVC.</description>
    <html xml:space="preserve">
&lt;p&gt;Bezpodmínečnou nutností každé aplikace, která zpracovává data
z neznámých zdrojů, je validace vstupních dat. V ASP.NET je poměrně
sofistikovaná sada komponent, které přidají k vašim vstupním polím
validační podmínky a v případě jejich nesplnění je uživatel
informován. Validace probíhá jak na straně klienta (pomocí JavaScriptu),
tak i na straně serveru. Jenže tyto komponenty jsou plně závislé na
serverovém formuláři a v ASP.NET MVC je tedy nelze použít.&lt;/p&gt;

&lt;p&gt;Nyní mírně odbočím. Z předchozího odstavce jste si mohli odnést
jednu myšlenku. A to, že validace je součástí UI vrstvy aplikace. Pokud
však píšete aplikaci, která obsahu spoustu business pravidel, není to
úplně nejšťastnější, když máte validační pravidla v UI a pak ještě
někde ve vašem modelu. Jedno ze základních pravidel dobrého návrhu říká
DRY (don’t repeat yourself – neopakuj se).&lt;/p&gt;

&lt;h3 id="toc-modelstate"&gt;ModelState&lt;/h3&gt;

&lt;p&gt;ASP.NET MVC tedy nepřináší validátory, ale infrastrukturu, která
umožňuje v případě chyby uživatele upozornit. Tato infrastruktura je
postavená na stavu modelu (&lt;code&gt;ModelState&lt;/code&gt;). Stav modelu má vlastnost
&lt;code&gt;IsValid&lt;/code&gt; a metodu &lt;code&gt;AddModelError&lt;/code&gt;. V HtmlHelperu pak
najdete dvě extenze &lt;code&gt;ValidationMessage&lt;/code&gt; a
&lt;code&gt;ValidationSummary&lt;/code&gt;, které vypisují chybové hlášky pro
konkrétní pole nebo sumář pro všechny. A to je vše, co nám MVC
poskytuje. Další práce už je jen na nás.&lt;/p&gt;

&lt;p&gt;Jak pracovat se stavem modelu na nejnižší úrovni ukazuje jeden
z tutoriálů: &lt;a
href="http://www.asp.net/learn/mvc/tutorial-36-cs.aspx"&gt;Performing Simple
Validation&lt;/a&gt;. Možná vám to bude stačit, ale pro mne je to příliš práce
navíc a ani trochu mi to nepřijde sexy. :) Jaké máme další možnosti?&lt;/p&gt;

&lt;p&gt;Můžeme využít vlastní validační vrstvu naší business logiky a
napojit jí na stav modelu, tak, jak to ukazuje následující tutoriál: &lt;a
href="http://www.asp.net/learn/mvc/tutorial-38-cs.aspx"&gt;Validating with a
Service Layer&lt;/a&gt;. Nebo vyžijeme existujících validačních frameworků. Dnes
se podíváme na System.Componen­tModel.DataAn­notations a příště na
Caste.Componen­ts.Validators.&lt;/p&gt;

&lt;h3 id="toc-dataannotations"&gt;DataAnnotations&lt;/h3&gt;

&lt;p&gt;Anotace dat je novinka z ASP.NET Dynamic Data, která usnadňuje
automatické generování ASP.NET validátorů na základě modelu. Tyto anotace
se dále rozšiřují a v .net 4.0 by to měla být hodně použitelná
věcička, která bude v ASP.NET DD, ASP.NET MVC a dokonce i v .net RIA
Services. Každopádně nemusíme čekat na velký release platformy a využít
anotací již dnes. Jak to tedy funguje?&lt;/p&gt;

&lt;p&gt;Jediné, co musíte udělat, je označit vlastnosti vašeho modelu
atributy:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;[Required]
public string Name { get; set; }

[RegularExpression("^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$ ")]
public string Email { get; set; }&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Dalším krokem je zaregistrovat nový model binder `
DataAnnotation­sModelBinder`, který na základě anotací provede validaci
modelu a nastaví případně jeho stav na nevalidní. O víc už se starat
nemusíme. Kde tento model binder získat a další potřebné informace najdete
v článku Brada Wilsona &lt;a
href="http://bradwilson.typepad.com/blog/2009/04/dataannotations-and-aspnet-mvc.html"&gt;DataAnnotations
and ASP.NET MVC&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Protože jsem DataAnnotations použil v jedné aplikaci, tak mám několik
zkušeností, o které se můžu podělit. DataAnnotation­sModelBinder má
problém s komplexními typy, které mají vlastnosti taktéž komplexních
typů. Jedním z možných řešení, je hacknout tento model binder a přidat
podmínku na ověření komplexní vlastnosti, nebo používat &lt;acronym
title="Data Transfer Objects"&gt;DTO&lt;/acronym&gt; pouze pro účely formulářů ve
view (ano, opět návrat k validaci pouze ve view vrstvě). Anotace podporují
vracení chybových hlášek z resource souborů, tak nezapomeňte raději
všechny hlášky přepsat, protože ty výchozí nevypadají zrovna
nejlépe.&lt;/p&gt;

&lt;p&gt;Tak, to bychom měli jeden model binder, který už je hotový. Ale jak si
napsat vlastní? To si ukážeme někdy příště na
Caste.Componen­ts.Validators­. :)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Bezpodmínečnou nutností každé aplikace, která zpracovává data z neznámých zdrojů, je validace vstupních dat. V ASP.NET je poměrně sofistikovaná sada komponent, které přidají k vašim vstupním polím validační podmínky a v případě jejich nesplnění je uživatel informován. Validace probíhá jak na straně klienta (pomocí JavaScriptu), tak i na straně serveru. Jenže tyto komponenty jsou plně závislé na serverovém formuláři a v ASP.NET MVC je tedy nelze použít.

Nyní mírně odbočím. Z předchozího odstavce jste si mohli odnést jednu myšlenku. A to, že validace je součástí UI vrstvy aplikace. Pokud však píšete aplikaci, která obsahu spoustu business pravidel, není to úplně nejšťastnější, když máte validační pravidla v UI a pak ještě někde ve vašem modelu. Jedno ze základních pravidel dobrého návrhu říká DRY (don’t repeat yourself – neopakuj se).

ModelState
===========

ASP.NET MVC tedy nepřináší validátory, ale infrastrukturu, která umožňuje v případě chyby uživatele upozornit. Tato infrastruktura je postavená na stavu modelu (`ModelState`). Stav modelu má vlastnost `IsValid` a metodu `AddModelError`. V HtmlHelperu pak najdete dvě extenze `ValidationMessage` a `ValidationSummary`, které vypisují chybové hlášky pro konkrétní pole nebo sumář pro všechny. A to je vše, co nám MVC poskytuje. Další práce už je jen na nás.

Jak pracovat se stavem modelu na nejnižší úrovni ukazuje jeden z tutoriálů: [tutorial1]. Možná vám to bude stačit, ale pro mne je to příliš práce navíc a ani trochu mi to nepřijde sexy. :) Jaké máme další možnosti?

Můžeme využít vlastní validační vrstvu naší business logiky a napojit jí na stav modelu, tak, jak to ukazuje následující tutoriál: [tutorial2]. Nebo vyžijeme existujících validačních frameworků. Dnes se podíváme na System.ComponentModel.DataAnnotations a příště na Caste.Components.Validators.

DataAnnotations
==============

Anotace dat je novinka z ASP.NET Dynamic Data, která usnadňuje automatické generování ASP.NET validátorů na základě modelu. Tyto anotace se dále rozšiřují a v .net 4.0 by to měla  být hodně použitelná věcička, která bude v ASP.NET DD, ASP.NET MVC a dokonce i v .net RIA Services. Každopádně nemusíme čekat na velký release platformy a využít anotací již dnes. Jak to tedy funguje?

Jediné, co musíte udělat, je označit vlastnosti vašeho modelu atributy:

/--code csharp
[Required]
public string Name { get; set; }

[RegularExpression("^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$ ")]
public string Email { get; set; }
\--code

Dalším krokem je zaregistrovat nový model binder ` DataAnnotationsModelBinder`, který na základě anotací provede validaci modelu a nastaví případně jeho stav na nevalidní. O víc už se starat nemusíme. Kde tento model binder získat a další potřebné informace najdete v článku Brada Wilsona [annotations].

Protože jsem DataAnnotations použil v jedné aplikaci, tak mám několik zkušeností, o které se můžu podělit. DataAnnotationsModelBinder má problém s komplexními typy, které mají vlastnosti taktéž komplexních typů. Jedním z možných řešení, je hacknout tento model binder a přidat podmínku na ověření komplexní vlastnosti, nebo používat DTO((Data Transfer Objects)) pouze pro účely formulářů ve view (ano, opět návrat k validaci pouze ve view vrstvě). Anotace podporují vracení chybových hlášek z resource souborů, tak nezapomeňte raději všechny hlášky přepsat, protože ty výchozí nevypadají zrovna nejlépe.

Tak, to bychom měli jeden model binder, který už je hotový. Ale jak si napsat vlastní? To si ukážeme někdy příště na Caste.Components.Validators. :)


[tutorial1]: http://www.asp.net/learn/mvc/tutorial-36-cs.aspx Performing Simple Validation
[tutorial2]: http://www.asp.net/learn/mvc/tutorial-38-cs.aspx Validating with a Service Layer
[annotations]: http://bradwilson.typepad.com/blog/2009/04/dataannotations-and-aspnet-mvc.html DataAnnotations and ASP.NET MVC
[xval]: http://blog.codeville.net/2009/01/10/xval-a-validation-framework-for-aspnet-mvc/ </raw>
    <author>Aleš Roubíček</author>
    <published>2009-05-02T13:56:31.313</published>
    <url>validace-v-asp-net-mvc</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>aspnet mvc validace</tags>
    <is-published>1</is-published>
    <edited>2009-05-02T14:00:12.463</edited>
  </article>
  <article>
    <id>357</id>
    <title>Service Locator</title>
    <description>Znáte vzor Service Locator? Pravděpodobně jste s ním setkali nespočetněkrát aniž byste o tom věděli.</description>
    <html xml:space="preserve">
&lt;p&gt;Znáte vzor Service Locator? Pravděpodobně jste s ním setkali
nespočetněkrát aniž byste o tom věděli.&lt;/p&gt;

&lt;h3 id="toc-update"&gt;Update&lt;/h3&gt;

&lt;p&gt;Service locator je &lt;strong&gt;code smell&lt;/strong&gt;. Následující řádky jsou
zajímavé jako programátorské cvičení, nedoporučuji ho však používat
v praxi. Třída by měla mít co nejméně závislostí a pokud chceme
zredukovat počet parametrů konstruktoru, není následující řešení
řešením vhodným! Měli bychom přemýšlet o změně návrhu.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;a
href="http://martinfowler.com/articles/injection.html#ADynamicServiceLocator"&gt;Service
Locator&lt;/a&gt; je návrhový vzor, který je součástí techniky dependency
injection / inversion of control. Jeho úkolem je dodat hotové instance služeb
na vyžádání. Můžeme si ho představit nějak tak:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public interface IServiceLocator {
  TService GetService&amp;lt;TService&amp;gt;();
  IEnumerable&amp;lt;TService&amp;gt; GetServices&amp;lt;TService&amp;gt;();
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Jeho úkolem je poskytnout službu daného typu nebo všechny služby, které
splňují danný kontrakt. K čemu je to dobré? Dobré je to především pro
konfigurovatelné a rozšiřitelné aplikace. Řekněme, že budu chtít do
svého redakčního systému přidat možnost oznámení na e-mail, když někdo
zadá komentář. První řešení bude nejspíš to přímočaré:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class CommentsController : Controller {
  public ActionResult AddComment(Comment comment) {
    // validace a persistence komentáře

    var notificator = new EmailNotificator();
    notificator.send(new CommentNotification(comment));

    return Json(comment);
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Proč nepřidat možnost odesílání SMSek? Tak jo:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class CommentsController : Controller {
  public ActionResult AddComment(Comment comment) {
    // validace a persistence komentáře

    var emailNotificator = new EmailNotificator();
    emailNotificator.send(new CommentNotification(comment));

    var smsNotificator = new SmsNotificator();
    smslNotificator.send(new CommentNotification(comment));

    return Json(comment);
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Skvěle, teď ještě posílání na &lt;a
href="http://www.twitter.com/"&gt;Twitter&lt;/a&gt; nebo na &lt;a
href="http://friendfeed.com/"&gt;FriendFeed&lt;/a&gt; a akce nám krásně roste… :)
Takže se oprostíme od toho, že dopředu víme, kudy všudy se chceme nechat
informovat o nových komentářích a využijeme Service Locator:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class CommentsController : Controller {

  private readonly IServiceLocator _serviceLocator;

  public CommentsController(IServiceLocator serviceLocator) {
    _serviceLocator = serviceLocator;
  }

  public ActionResult AddComment(Comment comment) {
    // validace a persistence komentáře

    var newCommentNotification = new CommentNotification(comment);
    var notificators = _serviceLocator.GetServices&amp;lt;INotificator&amp;gt;();
    notificators.Each(notificator =&amp;gt; notificator.send(newCommentNotification));

    return Json(comment);
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Tím jsme také vyřešili problém vznikající při &lt;strong&gt;constructor
injection&lt;/strong&gt; a to rostoucí počet parametrů konstruktoru s rostoucími
závislostmi. Protože service locator nám dokáže obstarat potřebné
služby, nemusíme je injektovat zvlášť.&lt;/p&gt;

&lt;p&gt;Ještě se vrátím k poznámce v úvodu, kde jsem psal, že jste se
určitě s tímto vzorem setkali, aniž byste si toho byli vědomi. O co jde?
O Singleton! :) Singleton je speciální případ service locatoru, který
vrací službu jediného typu s řízeným životním stylem jedináčka.&lt;/p&gt;

&lt;p&gt;To je všechno pěkné, ale jak tedy service locator ví, jak ty služby
získat a jakej mají životní styl? Pokud používáte IoC kontejner, odpověd
je snadná: service locator si udělám jako fasádu nad kontejnerem a tu do
něj zaregistrujeme. Pokud žádný IoC kontejner nepoužíváte, tak si honem
nějaký sežeňte! :)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Znáte vzor Service Locator? Pravděpodobně jste s ním setkali nespočetněkrát aniž byste o tom věděli.

Update
======

Service locator je **code smell**. Následující řádky jsou zajímavé jako programátorské cvičení, nedoporučuji ho však používat v praxi. Třída by měla mít co nejméně závislostí a pokud chceme zredukovat počet parametrů konstruktoru, není následující řešení řešením vhodným! Měli bychom přemýšlet o změně návrhu.

--------------

[service locator] je návrhový vzor, který je součástí techniky dependency injection / inversion of control. Jeho úkolem je dodat hotové instance služeb na vyžádání. Můžeme si ho představit nějak tak:

/--code csharp
public interface IServiceLocator {
  TService GetService&lt;TService&gt;();
  IEnumerable&lt;TService&gt; GetServices&lt;TService&gt;();
}
\--code

Jeho úkolem je poskytnout službu daného typu nebo všechny služby, které splňují danný kontrakt. K čemu je to dobré? Dobré je to především pro konfigurovatelné a rozšiřitelné aplikace. Řekněme, že budu chtít do svého redakčního systému přidat možnost oznámení na e-mail, když někdo zadá komentář. První řešení bude nejspíš to přímočaré:

/--code csharp
public class CommentsController : Controller {
  public ActionResult AddComment(Comment comment) {
    // validace a persistence komentáře

    var notificator = new EmailNotificator();
    notificator.send(new CommentNotification(comment));

    return Json(comment);
  }
}
\--code

Proč nepřidat možnost odesílání SMSek? Tak jo:

/--code csharp
public class CommentsController : Controller {
  public ActionResult AddComment(Comment comment) {
    // validace a persistence komentáře

    var emailNotificator = new EmailNotificator();
    emailNotificator.send(new CommentNotification(comment));

    var smsNotificator = new SmsNotificator();
    smslNotificator.send(new CommentNotification(comment));

    return Json(comment);
  }
}
\--code

Skvěle, teď ještě posílání na [twitter] nebo na [friendfeed] a akce nám krásně roste... :) Takže se oprostíme od toho, že dopředu víme, kudy všudy se chceme nechat informovat o nových komentářích a využijeme Service Locator:

/--code csharp
public class CommentsController : Controller {

  private readonly IServiceLocator _serviceLocator;

  public CommentsController(IServiceLocator serviceLocator) {
    _serviceLocator = serviceLocator;
  }

  public ActionResult AddComment(Comment comment) {
    // validace a persistence komentáře

    var newCommentNotification = new CommentNotification(comment);
    var notificators = _serviceLocator.GetServices&lt;INotificator&gt;();
    notificators.Each(notificator =&gt; notificator.send(newCommentNotification));

    return Json(comment);
  }
}
\--code

Tím jsme také vyřešili problém vznikající při **constructor injection** a to rostoucí počet parametrů konstruktoru s rostoucími závislostmi. Protože service locator nám dokáže obstarat potřebné služby, nemusíme je injektovat zvlášť.

Ještě se vrátím k poznámce v úvodu, kde jsem psal, že jste se určitě s tímto vzorem setkali, aniž byste si toho byli vědomi. O co jde? O Singleton! :) Singleton je speciální případ service locatoru, který vrací službu jediného typu s řízeným životním stylem jedináčka.

To je všechno pěkné, ale jak tedy service locator ví, jak ty služby získat a jakej mají životní styl? Pokud používáte IoC kontejner, odpověd je snadná: service locator si udělám jako fasádu nad kontejnerem a tu do něj zaregistrujeme. Pokud žádný IoC kontejner nepoužíváte, tak si honem nějaký sežeňte! :)

[service locator]: http://martinfowler.com/articles/injection.html#ADynamicServiceLocator Service Locator
[twitter]: http://www.twitter.com/ Twitter
[friendfeed]: http://friendfeed.com/ FriendFeed

</raw>
    <author>Aleš Roubíček</author>
    <published>2009-05-30T11:44:44.580</published>
    <url>service-locator</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>servicelocator pattern ioc</tags>
    <is-published>1</is-published>
    <edited>2010-04-19T15:15:49.813</edited>
  </article>
  <article>
    <id>358</id>
    <title>Tip na přehlednější šablony</title>
    <description>Zastávám názor, že šablona by měla být co nejvíce přehledná a obsahovat co nejméně programového kódu. Pojďme se podívat na některé kousky zasmrádlého kódu a jak se s nimi vypořádat.</description>
    <html xml:space="preserve">
&lt;p&gt;Zastávám názor, že šablona by měla být co nejvíce přehledná a
obsahovat co nejméně programového kódu. Pojďme se podívat na některé
kousky zasmrádlého kódu a jak se s nimi vypořádat.&lt;/p&gt;

&lt;h3 id="toc-html-actionlink"&gt;Html.ActionLink&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;Html.ActionLink&lt;/code&gt; je pro mne jedním z prvních míst, kde
zvednout ukazováček a říct: „takhle ne.“ Již &lt;a rel="bookmark"
title="Pojmenované routy v ASP.NET MVC"
href="/weblog/340-pojmenovane-routy-v-asp-net-mvc.aspx"&gt;ve spotu o routingu&lt;/a&gt;
jsem psal, že procházení routovací tabulky při hledání akce je
výpočetně náročné a pokud vaše tabulka obsahuje mnoho řádků, může
být zdrojem nepříjemného zdržení. Mějme například helper odkaz na
detail zboží v jehož URL obsahuje informace o kategorii zboží, jeho id
a název:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;%= Html.ActionLink(Model.Name, "Detail", "Goods", new { id = Model.Id, name = Model.UrlName, category = Model.Category.UrlName }) %&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Tohle rozhodně není přehledné, ani výkonné. Začněme tedy
refaktorovat. Nelíbí se mi, že tag odkazu je generovaný a že pořádně
netuším, jestli třeba nejsou parametry ve špatném pořadí. A co potom
takový kodér? Co když bude chtít přidat nějakou třídu, aby mohl tento
konkrétní odkaz lépe nastylovat nebo mu dát nějaký sémantický význam?
Přejděme na &lt;code&gt;Url.Action&lt;/code&gt;!&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;a href="&amp;lt;%= Url.Action("Detail", "Goods", new { id = Model.Id, name = Model.UrlName, category = Model.Category.UrlName }) %&amp;gt;"&amp;gt;&amp;lt;%= Html.Encode(Model.Name) %&amp;gt;&amp;lt;/a&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;No moc jsme si nepomohli. Sice teď máme větší kontrolu nad generovaným
kódem, ale kód je o dost delší a pořád pěkně „smrdí.“ Zbavme se
teď kouzelných řetězců, ty mohou být zdrojem špatně
dohledatelných chyb!&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;a href="&amp;lt;%= Url.RouteUrl(RouteTo.CommodityDetail, new { id = Model.Id, name = Model.UrlName, category = Model.Category.UrlName }) %&amp;gt;"&amp;gt;&amp;lt;%= Html.Encode(Model.Name) %&amp;gt;&amp;lt;/a&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Zbavili jsme se možnosti udělat chybu v názvu akce nebo řadiče a navíc
teď probíhá vyhledávání routy v tabulce podle klíče, tudíž mnohem
efektivněji. Ale pořád mi tu něco smrdí. Ano je to ta anonymní třída,
i tady je velká šance na vnesení chyby. Ačkoli to tak na první pohled
nevypadá, názvy vlastností této třídy nejsou nic jiného než kouzelné
řetězce, jen bez uvozovek. Na pozadí se totiž překládají jako klíče ve
slovníku. Lék na to je jednoduchý. Vytvoříme si vlastní helper!&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;a href="&amp;lt;%= Url.CommodityDetail(Model) %&amp;gt;"&amp;gt;&amp;lt;%= Html.Encode(Model.Name) %&amp;gt;&amp;lt;/a&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Zápis se rázem zpřehlednil, snížila se možnost zanesení chyby a
množství opakovaného kódu.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Zastávám názor, že šablona by měla být co nejvíce přehledná a obsahovat co nejméně programového kódu. Pojďme se podívat na některé kousky zasmrádlého kódu a jak se s nimi vypořádat.

Html.ActionLink
===============

`Html.ActionLink` je pro mne jedním z prvních míst, kde zvednout ukazováček a říct: „takhle ne.“  Již "ve spotu o routingu":[clanek(340)] jsem psal, že procházení routovací tabulky při hledání akce je výpočetně náročné a pokud vaše tabulka obsahuje mnoho řádků, může být zdrojem nepříjemného zdržení. Mějme například helper odkaz na detail zboží v jehož URL obsahuje informace o kategorii zboží, jeho id a název:

/--code xml
&lt;%= Html.ActionLink(Model.Name, "Detail", "Goods", new { id = Model.Id, name = Model.UrlName, category = Model.Category.UrlName }) %&gt;
\--code

Tohle rozhodně není přehledné, ani výkonné. Začněme tedy refaktorovat. Nelíbí se mi, že tag odkazu je generovaný a že pořádně netuším, jestli třeba nejsou parametry ve špatném pořadí. A co potom takový kodér? Co když bude chtít přidat nějakou třídu, aby mohl tento konkrétní odkaz lépe nastylovat nebo mu dát nějaký sémantický význam? Přejděme na `Url.Action`!

/--code xml
&lt;a href="&lt;%= Url.Action("Detail", "Goods", new { id = Model.Id, name = Model.UrlName, category = Model.Category.UrlName }) %&gt;"&gt;&lt;%= Html.Encode(Model.Name) %&gt;&lt;/a&gt;
\--code

No moc jsme si nepomohli. Sice teď máme větší kontrolu nad generovaným kódem, ale kód je o dost delší a pořád pěkně „smrdí.“ Zbavme se teď kouzelných řetězců, ty mohou být zdrojem špatně dohledatelných chyb!

/--code xml
&lt;a href="&lt;%= Url.RouteUrl(RouteTo.CommodityDetail, new { id = Model.Id, name = Model.UrlName, category = Model.Category.UrlName }) %&gt;"&gt;&lt;%= Html.Encode(Model.Name) %&gt;&lt;/a&gt;
\--code

Zbavili jsme se možnosti udělat chybu v názvu akce nebo řadiče a navíc teď probíhá vyhledávání routy v tabulce podle klíče, tudíž mnohem efektivněji. Ale pořád mi tu něco smrdí. Ano je to ta anonymní třída, i tady je velká šance na vnesení chyby. Ačkoli to tak na první pohled nevypadá, názvy vlastností této třídy nejsou nic jiného než kouzelné řetězce, jen bez uvozovek. Na pozadí se totiž překládají jako klíče ve slovníku. Lék na to je jednoduchý. Vytvoříme si vlastní helper!

/--code xml
&lt;a href="&lt;%= Url.CommodityDetail(Model) %&gt;"&gt;&lt;%= Html.Encode(Model.Name) %&gt;&lt;/a&gt;
\--code

Zápis se rázem zpřehlednil, snížila se možnost zanesení chyby a množství opakovaného kódu.


[clanek(340)]: /weblog/340-pojmenovane-routy-v-asp-net-mvc.aspx Pojmenované routy v ASP.NET MVC .(Pojmenované routy v ASP.NET MVC){rel:bookmark}</raw>
    <author>Aleš Roubíček</author>
    <published>2009-07-12T09:25:30.993</published>
    <url>tip-na-prehlednejsi-sablony</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>routing aspnet mvc refactoring bestpractice</tags>
    <is-published>1</is-published>
    <edited>2009-07-13T08:14:21.957</edited>
  </article>
  <article>
    <id>359</id>
    <title>Vracet List je špatné</title>
    <description>Občas pohodlnost vyhrává a zadělává na zasmrádnutý kód, který přináší problémy. Pojďme vymítit jednu ze zhůvěřilostí "kreativního" návrhu. </description>
    <html xml:space="preserve">
&lt;p&gt;Přinejmenším na veřejnosti. Mnohdy se v různých APIs můžete setkat
s tím, že různé objekty veřejně vystavují metody/vlasnosti, které mají
návratový typ &lt;code&gt;List&amp;lt;T&amp;gt;&lt;/code&gt;, v lepším případě
&lt;code&gt;IList&amp;lt;T&amp;gt;&lt;/code&gt;. Krásná ukázka nerozvážného návrhu.&lt;/p&gt;

&lt;h3 id="toc-proc-je-spatne-vracet-list-t"&gt;Proč je špatné vracet
&lt;code&gt;List&amp;lt;T&amp;gt;&lt;/code&gt;&lt;/h3&gt;

&lt;p&gt;Když vracíte &lt;code&gt;List&amp;lt;T&amp;gt;&lt;/code&gt;, znamená to, že říkáte
všechno o vnitřní implementaci a zavíráte si vrátka pro její možnou
změnu. Generický List sice neni nerozšiřitelný (&lt;code&gt;sealed&lt;/code&gt;), ale
ani nebyl při návrhu moc k rozšiřování zamýšlen. Navíc tim porušujute
jeden ze základních principů &lt;acronym
title="Objektově orientované programování"&gt;OOP&lt;/acronym&gt; – a to
zapouzdření. Dále tim umožňujete konzumentovi vaši kolekci
přímo měnit.&lt;/p&gt;

&lt;h3 id="toc-ukazka-naivniho-lenosneho-pristupu"&gt;Ukázka naivního/lenošného
přístupu&lt;/h3&gt;

&lt;p&gt;Pro ukázku mějme třídu reprezentující uživatele &lt;code&gt;User&lt;/code&gt;,
kterému můžeme přiřadit uživatelské role &lt;code&gt;Role&lt;/code&gt;. Naivní
přístup:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class User {
  public List&amp;lt;Role&amp;gt; Roles { get; private set; }
}

public class UserConsumerCode {
  public void SomeMethod {
    var user = new User();
    user.Roles.Add(Role.Admin);

    // ...

    user.Roles.Remove(Role.Reviewer);

    // ...

    var isAdmin = user.Roles.Contains(Role.Admin);
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Jak vidíte, klient má nad kolekcí rolí uživatele plnou moc. Může si
přidávat, odebírat, přetřizovat jak se mu zlíbí. A my nemáme nejmenší
šanci tyto celkem důležité operace jakkoli ovlivnit, nebo u nich vědět.
Kdybychom změnili typ kolekce &lt;em&gt;Roles&lt;/em&gt; na &lt;code&gt;IList&amp;lt;Role&amp;gt;&lt;/code&gt;,
tak sice můžeme změnit vnitřní implementaci a místo
&lt;code&gt;List&amp;lt;T&amp;gt;&lt;/code&gt; použít třeba &lt;code&gt;LinkedList&amp;lt;T&amp;gt;&lt;/code&gt;, ale
stále zveřejňujeme příliš mnoho. Jedinou výhodou tohoto řešení je, že
jsme nemuseli napsat moc kódu a máme hodně funkcionality.&lt;/p&gt;

&lt;h3 id="toc-jak-zlepsit-nas-kod"&gt;Jak zlepšit náš kód?&lt;/h3&gt;

&lt;p&gt;Rovnou přeskočím použití &lt;code&gt;ICollection&amp;lt;T&amp;gt;&lt;/code&gt;, a přejdeme
k tomu, jak by to mělo vypadat. Zachováme si zapouzdření, uzavřeme se
vůči nechtěné manipulaci z vnějšku a otevřeme se snadným vnitřním
změnám a rozšiřitelnosti (&lt;a
href="http://en.wikipedia.org/wiki/Open/closed_principle"&gt;Open/closed
principle&lt;/a&gt;).&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class User {
  private readonly ICollection&amp;lt;Role&amp;gt; _roles;

  public User() {
    _roles = new List&amp;lt;Role&amp;gt;();
  }

  public IEnumerable&amp;lt;Role&amp;gt; Roles {
    get { return _roles.ToArray(); }
  }

  public void AddRole(Role role) {
    _roles.Add(role);
  }

  public void RemoveRole(Role role) {
    _role.Remove(role);
  }

  public bool IsInRole(Role role) {
    return _roles.Contains(role);
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Pěkně jsme obohatili a zpřehlednili naše API (zápis
&lt;code&gt;user.IsInRole(Role.Admin)&lt;/code&gt; říká mnohem více, než
&lt;code&gt;user.Roles.Contains(Role.Admin)&lt;/code&gt;, navíc neporušuje &lt;a
href="http://en.wikipedia.org/wiki/Law_of_Demeter"&gt;Demeterův zákon&lt;/a&gt;),
skryli jsme implementační detaily a zároveň nechali otevřená vrátka pro
snadnou výměnu vnitřní implementace… Dalším krokem by měly být
kontrakty manipulačních metod, aby byly bezpečné. Dále pak můžeme přidat
vyvolávání událostí, abychom o manipulaci věděli. Míst pro
rozšíření je tu spousta.&lt;/p&gt;

&lt;h3 id="toc-hloupa-otazka-na-zaver"&gt;Hloupá otázka na závěr&lt;/h3&gt;

&lt;blockquote&gt;
	&lt;p&gt;„Ale, jak teď zjistim, kolik rolí má uživatel přiřazených, když
	&lt;code&gt;IEnumerable&lt;/code&gt; nemá vlastnost &lt;code&gt;Count&lt;/code&gt; ani
	&lt;code&gt;Length&lt;/code&gt;?“ &lt;code&gt;using System.Linq;&lt;/code&gt; ;)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Přinejmenším na veřejnosti. Mnohdy se v různých APIs můžete setkat s tím, že různé objekty veřejně vystavují metody/vlasnosti, které mají návratový typ `List&lt;T&gt;`, v lepším případě `IList&lt;T&gt;`. Krásná ukázka nerozvážného návrhu.

Proč je špatné vracet `List&lt;T&gt;`
=============================

Když vracíte `List&lt;T&gt;`, znamená to, že říkáte všechno o vnitřní implementaci a zavíráte si vrátka pro její možnou změnu. Generický List sice neni nerozšiřitelný (`sealed`), ale ani nebyl při návrhu moc k rozšiřování zamýšlen. Navíc tim porušujute jeden ze základních principů OOP((Objektově orientované programování)) - a to zapouzdření. Dále tim umožňujete konzumentovi vaši kolekci přímo měnit.

Ukázka naivního/lenošného přístupu
==================================

Pro ukázku mějme třídu reprezentující uživatele `User`, kterému můžeme přiřadit uživatelské role `Role`. Naivní přístup:

/--code csharp
public class User {
  public List&lt;Role&gt; Roles { get; private set; }
}

public class UserConsumerCode {
  public void SomeMethod {
    var user = new User();
    user.Roles.Add(Role.Admin);

    // ...

    user.Roles.Remove(Role.Reviewer);

    // ...

    var isAdmin = user.Roles.Contains(Role.Admin);
  }
}
\--code

Jak vidíte, klient má nad kolekcí rolí uživatele plnou moc. Může si přidávat, odebírat, přetřizovat jak se mu zlíbí. A my nemáme nejmenší šanci tyto celkem důležité operace jakkoli ovlivnit, nebo u nich vědět. Kdybychom změnili typ kolekce *Roles* na `IList&lt;Role&gt;`, tak sice můžeme změnit vnitřní implementaci a místo `List&lt;T&gt;` použít třeba `LinkedList&lt;T&gt;`, ale stále zveřejňujeme příliš mnoho. Jedinou výhodou tohoto řešení je, že jsme nemuseli napsat moc kódu a máme hodně funkcionality.

Jak zlepšit náš kód?
====================

Rovnou přeskočím použití `ICollection&lt;T&gt;`, a přejdeme k tomu, jak by to mělo vypadat. Zachováme si zapouzdření, uzavřeme se vůči nechtěné manipulaci z vnějšku a otevřeme se snadným vnitřním změnám a rozšiřitelnosti ([ocp]).

/--code csharp
public class User {
  private readonly ICollection&lt;Role&gt; _roles;

  public User() {
    _roles = new List&lt;Role&gt;();
  }

  public IEnumerable&lt;Role&gt; Roles {
    get { return _roles.ToArray(); }
  }

  public void AddRole(Role role) {
    _roles.Add(role);
  }

  public void RemoveRole(Role role) {
    _role.Remove(role);
  }

  public bool IsInRole(Role role) {
    return _roles.Contains(role);
  }
}
\--code

Pěkně jsme obohatili a zpřehlednili naše API (zápis `user.IsInRole(Role.Admin)` říká mnohem více, než `user.Roles.Contains(Role.Admin)`, navíc neporušuje [Demeter law]), skryli jsme implementační detaily a zároveň nechali otevřená vrátka pro snadnou výměnu vnitřní implementace... Dalším krokem by měly být kontrakty manipulačních metod, aby byly bezpečné. Dále pak můžeme přidat vyvolávání událostí, abychom o manipulaci věděli. Míst pro rozšíření je tu spousta.

Hloupá otázka na závěr
======================

&gt; „Ale, jak teď zjistim, kolik rolí má uživatel přiřazených, když `IEnumerable` nemá vlastnost `Count` ani `Length`?“ `using System.Linq;` ;)

[ocp]: http://en.wikipedia.org/wiki/Open/closed_principle Open/closed principle
[Demeter law]: http://en.wikipedia.org/wiki/Law_of_Demeter Demeterův zákon
</raw>
    <author>Aleš Roubíček</author>
    <published>2009-08-01T08:51:21.480</published>
    <url>vracet-list-je-spatne</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>refactoring csharp</tags>
    <is-published>1</is-published>
    <edited>2009-08-01T09:09:45.237</edited>
  </article>
  <article>
    <id>361</id>
    <title>Nepište zbytečný kód</title>
    <description>Nejčastější chybou při psaní zdrojových kódů je psaní kódu zbytečného. Zbytečný kód narušuje kontinuitu čtení, skrývá jasné myšlenky, neřeší problémy.</description>
    <html xml:space="preserve">
&lt;p&gt;Jedním ze &lt;strong&gt;základních pravidel&lt;/strong&gt; psaní přehledného kódu
je &lt;strong&gt;nepsat zbytečný kód&lt;/strong&gt;. Pojďme si ukázat pár příkladů
zbytečného kódu, kterému je zahodno se raději vyhnout.&lt;/p&gt;

&lt;h3 id="toc-komentare"&gt;Komentáře&lt;/h3&gt;

&lt;p&gt;Programátoři jsou často velice kreativní lidé, ale svou kreativitu si
vybíjí nesprávným způsobem. Tak se může stát, že během své kariéry
narazíte na skvosty typu:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;zakomentované kusy kódu&lt;/li&gt;

	&lt;li&gt;označení dočasného kódu v kometáři&lt;/li&gt;

	&lt;li&gt;vylévání srdíčka nad vlastní blbostí&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;K bodu prvnímu. Když něco takového potkáte, rovnou to smažte,
nesnažte se nad tím přemýšlet. Jestli někdy ten kód budete potřebovat,
najdete ho ve vašem VCS. Pokud se přistihnete, že máte označený blok kódu
a chystáte se zmáčknout magickou kombinaci kláves &lt;code&gt;Ctrl+K, C&lt;/code&gt;,
ušetřete si práci a rovnou zmáčkněte &lt;code&gt;Delete&lt;/code&gt;. ;)&lt;/p&gt;

&lt;p&gt;K bodu druhému. Nejprve zjistěte, kdo to napsal a dejtemu rovnou pohlavek
nebo seberte prémie. Nejlépe oboje, u někoho lépe fungují podmíněné
reflexy spojené s fyzickou bolestí, někdo si vzpomene, že mu nezbyly
peníze na tu skvělou chlastačku a už to nebude chtít opakovat. Zjišťovat,
co na koho platí je moc drahé. ;)&lt;/p&gt;

&lt;p&gt;Pro představu, našli jsme takovýto kód:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;//Testovaci verze
if (Request.Cookies.AllKeys.Contains("ticket")) {
  InvitedUser iuser = _invitedUsersRepository.FindByHash(Request.Cookies["ticket"].Value);
  if (iuser != null) {
    iuser.Valid = false;
    _invitedUsersRepository.Save(iuser);
  }
}
// --
;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Autora jsme ztrestali. První krok máme za sebou, co dál? Tohle asi hned
smazat nepůjde. Prvním možným krokem, je nadefinovat build symbol a tyto
bloky obalit preprocesorovou podmínkou:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;#if TEST_VERSION
if (Request.Cookies.AllKeys.Contains("ticket")) {
  InvitedUser iuser = _invitedUsersRepository.FindByHash(Request.Cookies["ticket"].Value);
  if (iuser != null) {
    iuser.Valid = false;
    _invitedUsersRepository.Save(iuser);
  }
}
#endif
;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Sice jsme se nezbavili špatného kódu, ale aspoň pujde dočasná featura
vypnout z jednoho místa a kód hovoří trochu jasněji.&lt;/p&gt;

&lt;p&gt;Pokud napíšete blok kódu a pocítíte potřebu uvodit ho komentářem,
nebo takových bloků máte zasebou víc, je čas refaktorovat! Místo
komentářů vytvořte metody s popisnými názvy (ekvivalent komentáře).
Komentáře mají tu vlastnost, že rychle ztrácejí význam a zůstávají
v místech, kde už není co komentovat.&lt;/p&gt;

&lt;p&gt;Pravidlo: &lt;q&gt;Když ucítíte potřebu napsat v kódu komentář, zamyslete
se, zda nenajdete lepší způsob jak tuto myšlenku vyjádřit.&lt;/q&gt;&lt;/p&gt;

&lt;h3 id="toc-poznejte-svuj-jazyk"&gt;Poznejte svůj jazyk&lt;/h3&gt;

&lt;p&gt;Za programátora se považuje každý, kdo se v nějakém jazyce naučí
pár příkazů. Někdo si vystačí s málem a pak mu nezbývá než prasit.
Základem je poznat jazyk, ve kterém se chystáme sdělovat své myšlenkové
pochody. Zdrojový kód se mnohem častěji čte než píše, proto by měl
obsahovat co nejméně zbytečností, které odvádějí pozornost.&lt;/p&gt;

&lt;p&gt;Začněme třeba u JavaScriptu. Často se setkávám s kódem, který
napovídá, že autor má hrubé znalosti C a jemu podobných jazyků, ale
o JavaScriptu moc potuchy nemá.&lt;/p&gt;

&lt;h3 id="toc-podminene-prirazeni"&gt;Podmíněné přiřazení&lt;/h3&gt;

&lt;p&gt;Jednou z typických ukázek může být validace vstupních parametrů a
nastavení výchozí hodnoty, pokud přišlo &lt;code&gt;null&lt;/code&gt;. Nejhorší
případ:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-javascript"&gt;function example(options) {
  if (options == null) {
    this.options = { color: 'red' };
  }
  else {
    this.options = options;
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;O něco chytřejší programátor použije ternární podmíněný
operátor:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-javascript"&gt;function example(options) {
  this.options = (options != null) ? options : { color: 'red' };
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Vývojář znalý JavaScriptu však odbourá zbytečné ruchy a vznikne
logický zápis:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-javascript"&gt;function example(options) {
  this.options = options || { color: 'red' };
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Pojďme teď dál k mému oblíbenému C#. Předchozí příklad tam nejde
řešit operátorem &lt;code&gt;||&lt;/code&gt; protože C# je silně typový a &lt;code&gt;null
!= false&lt;/code&gt;. Ovšem C# 2.0 přinesl s &lt;code&gt;Nullable&amp;lt;T&amp;gt;&lt;/code&gt;
hodnotovými typy i operátor &lt;code&gt;??&lt;/code&gt;. Ten slouží jako zkrácená
varianta ternárního podmíněného operátoru. Díky němu můžeme
následující kód:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public void Example(Options options) {
  _options = (options != null) ? options : new Options { Color = Color.Red };
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Pěkně odšumět:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public void Example(Options options) {
  _options = options ?? new Options { Color = Color.Red };
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Pokud pracujete s &lt;code&gt;Nullable&lt;/code&gt; hodnotovými typy, zkraťte
i následující zá­pis:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public void Example(int? pageIndex) {
  int page = 1 + (pageIndex.HasValue ? pageIndex.Value : 0);
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Na:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public void Example(int? pageIndex) {
  int page = 1 + (pageIndex ?? 0);
}&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id="toc-genericke-parametry"&gt;Generické parametry&lt;/h3&gt;

&lt;p&gt;Dalším, velice častým šumem, je explicitní uvádění generických
parametrů, tam kde to není potřeba. Za příklad si vezměme třeba
generickou metodu &lt;code&gt;Assert.Equal&amp;lt;T&amp;gt;(T expected, T actual)&lt;/code&gt;
z frameworku &lt;a href="http://xunit.codeplex.com/"&gt;xUnit.net&lt;/a&gt;. Můžeme ji
volat takto:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-csharp"&gt;Assert.Equal&amp;lt;string&amp;gt;("test", null);&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Jenže kompilátor není žádný hlupák a dokáže správně dosadit typ
generického parametru podle typu předávaného parametru. Proto je možné
napsat, mnohem přehlednější zápis:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-csharp"&gt;Assert.Equal("test", null);&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;FxCop vám přímo radí: &lt;q&gt;Pište generické metody tak, aby se typ
generického parametru dal implicitně odvodit.&lt;/q&gt;&lt;/p&gt;

&lt;h3 id="toc-zbytecne-volani-tostring"&gt;Zbytečné volání ToString&lt;/h3&gt;

&lt;p&gt;Často se také můžete setkat s voláním metody &lt;code&gt;ToString&lt;/code&gt;
tam, kde to není pořeba. Příklad:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;double rating = 3.8;
string output = "Your rating is: " + rating.ToString();&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Tohle lze napsat bez šumu:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;double rating = 3.8;
string output = "Your rating is: " + rating;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Teď si jistě, říkáte, že jsem asi blbec, jak můžu po silně typovém
C# chtít, aby sečetl &lt;code&gt;string&lt;/code&gt; a &lt;code&gt;double&lt;/code&gt;. Nuže můžu.
Krom toho, že je C# silně typový, podporuje i přetěžování operátorů!
A designéři třídy &lt;code&gt;String&lt;/code&gt; přidali přetížení operátoru
&lt;code&gt;+&lt;/code&gt; na kterýkoliv &lt;code&gt;Object&lt;/code&gt;, na kterém zavolají metodu
&lt;code&gt;ToString&lt;/code&gt; za vás. :)&lt;/p&gt;

&lt;h3 id="toc-zbytecne-explicitni-pretypovani"&gt;Zbytečné explicitní
přetypování&lt;/h3&gt;

&lt;p&gt;Občas se bohužel můžeme v kódu potkat s věcmi, nad kterými
zůstává rozum stát. Někdo například už pochopil dědičnost. Pochopil,
že třída &lt;code&gt;List&amp;lt;T&amp;gt;&lt;/code&gt; implementuje rozhraní
&lt;code&gt;IList&amp;lt;T&amp;gt;&lt;/code&gt; a to dědí z &lt;code&gt;ICollection&amp;lt;T&amp;gt;&lt;/code&gt;,
které je potomkem obecného rozhranní &lt;code&gt;IEnumerable&amp;lt;T&amp;gt;&lt;/code&gt;.
Jenže pak přijde na praktické použití a je zle:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class UserDetailViewData {
  public IEnumerable&amp;lt;User&amp;gt; Friends { get; set; }
}

public class UsersController : Controller {
  public ActionResult Detail(userName) {
    IList&amp;lt;User&amp;gt; friends = GetFriendsOfUser(userName);
    return View(new UserDetailViewData {
      Friends = (IEnumerable&amp;lt;User&amp;gt;)friends
    });
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Takhle vytržené z kontextu to nemusí vypadat až tak zle, ale originál
mě stál málem ukroucení hlavy.&lt;/p&gt;

&lt;h3 id="toc-roztahana-inicializace"&gt;Roztahaná inicializace&lt;/h3&gt;

&lt;p&gt;Novinkou C# 3.0 jsou inicializátory. Zvažte následující kód:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;var user = new User();
user.Name = "Josef Novák";
user.Gender = Gender.Male;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Přepsat na:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;var user = new User {
  Name = "Josef Novák",
  Gender = Gender.Male,
};&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Vyhnete se tím, zbytečnému opakování &lt;code&gt;user.&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id="toc-zavorky-navic"&gt;Závorky navíc&lt;/h3&gt;

&lt;p&gt;Častý šumem v kódy bývají také závorky, které nemají žádný
význam, zejména u inicilizátorů s bezparametrickým konstrukotrem
&lt;code&gt;new User() { Name = "Josef Novák" }&lt;/code&gt; a u anonymních
bezparametrických delegátů &lt;code&gt;delegate() { return true; }&lt;/code&gt;. Tyto
závorky klidně smažte a u delegátů zvažte kompresi na lambda výraz:
&lt;code&gt;()=&amp;gt; true&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Na druhou stranu existuje spousta případů, kdy vhodně vložené závorky
zvyšují čitelnost.&lt;/p&gt;

&lt;h3 id="toc-zaver"&gt;Závěr&lt;/h3&gt;

&lt;p&gt;Když říkám, že je lepší psát némě kódu, rozhodně tím nemám na
mysli kriptické zápisy alá regexy. To, co ušetříte na zbytečném kódu,
klidně investujte do popisných názvů proměnných a metod. Důležitá je
&lt;strong&gt;čitelnost&lt;/strong&gt;. Se spoustou výše zmiňovaných úprav vám mohou
pomoci nástroje, např. &lt;a href="http://www.devexpress.com/crx"&gt;CodeRush
Express&lt;/a&gt;, který je zcela zdarma.&lt;/p&gt;

&lt;p&gt;Rozhodně jsem nepokryl všechny možnosti, kde psát zbytečný kód navíc.
Jistě taky některé znáte, podělte se o ně v komentářích. :)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Jedním ze **základních pravidel** psaní přehledného kódu je **nepsat zbytečný kód**.  Pojďme si ukázat pár příkladů zbytečného kódu, kterému je zahodno se raději vyhnout.

Komentáře
==========

Programátoři jsou často velice kreativní lidé, ale svou kreativitu si vybíjí nesprávným způsobem. Tak se může stát, že během své kariéry narazíte na skvosty typu:

1. zakomentované kusy kódu
2. označení dočasného kódu v kometáři
3. vylévání srdíčka nad vlastní blbostí

K bodu prvnímu. Když něco takového potkáte, rovnou to smažte, nesnažte se nad tím přemýšlet. Jestli někdy ten kód budete potřebovat, najdete ho ve vašem VCS. Pokud se přistihnete, že máte označený blok kódu a chystáte se zmáčknout magickou kombinaci kláves `Ctrl+K, C`, ušetřete si práci a rovnou zmáčkněte `Delete`. ;)

K bodu druhému. Nejprve zjistěte, kdo to napsal a dejtemu rovnou pohlavek nebo seberte prémie. Nejlépe oboje, u někoho lépe fungují podmíněné reflexy spojené s fyzickou bolestí, někdo si vzpomene, že mu nezbyly peníze na tu skvělou chlastačku a už to nebude chtít opakovat. Zjišťovat, co na koho platí je moc drahé.  ;)

Pro představu, našli jsme takovýto kód:

/--code csharp
//Testovaci verze
if (Request.Cookies.AllKeys.Contains("ticket")) {
  InvitedUser iuser = _invitedUsersRepository.FindByHash(Request.Cookies["ticket"].Value);
  if (iuser != null) {
    iuser.Valid = false;
    _invitedUsersRepository.Save(iuser);
  }
}
// --
;
\--code

Autora jsme ztrestali. První krok máme za sebou, co dál? Tohle asi hned smazat nepůjde. Prvním možným krokem, je nadefinovat build symbol a tyto bloky obalit preprocesorovou podmínkou:

/--code csharp
#if TEST_VERSION
if (Request.Cookies.AllKeys.Contains("ticket")) {
  InvitedUser iuser = _invitedUsersRepository.FindByHash(Request.Cookies["ticket"].Value);
  if (iuser != null) {
    iuser.Valid = false;
    _invitedUsersRepository.Save(iuser);
  }
}
#endif
;
\--code

Sice jsme se nezbavili špatného kódu, ale aspoň pujde dočasná featura vypnout z jednoho místa a kód hovoří trochu jasněji.

Pokud napíšete blok kódu a pocítíte potřebu uvodit ho komentářem, nebo takových bloků máte zasebou víc, je čas refaktorovat! Místo komentářů vytvořte metody s popisnými názvy (ekvivalent komentáře). Komentáře mají tu vlastnost, že rychle ztrácejí význam a zůstávají v místech, kde už není co komentovat.

Pravidlo: &gt;&gt;Když ucítíte potřebu napsat v kódu komentář, zamyslete se, zda nenajdete lepší způsob jak tuto myšlenku vyjádřit.&lt;&lt;

Poznejte svůj jazyk
===================

Za programátora se považuje každý, kdo se v nějakém jazyce naučí pár příkazů. Někdo si vystačí s málem a pak mu nezbývá než prasit. Základem je poznat jazyk, ve kterém se chystáme sdělovat své myšlenkové pochody. Zdrojový kód se mnohem častěji čte než píše, proto by měl obsahovat co nejméně zbytečností, které odvádějí pozornost.

Začněme třeba u JavaScriptu. Často se setkávám s kódem, který napovídá, že autor má hrubé znalosti C a jemu podobných jazyků, ale o JavaScriptu moc potuchy nemá.

Podmíněné přiřazení
===================

Jednou z typických ukázek může být validace vstupních parametrů a nastavení výchozí hodnoty, pokud přišlo `null`. Nejhorší případ:

/--code javascript
function example(options) {
  if (options == null) {
    this.options = { color: 'red' };
  }
  else {
    this.options = options;
  }
}
\--code

O něco chytřejší programátor použije ternární podmíněný operátor:

/--code javascript
function example(options) {
  this.options = (options != null) ? options : { color: 'red' };
}
\--code

Vývojář znalý JavaScriptu však odbourá zbytečné ruchy a vznikne logický zápis:

/--code javascript
function example(options) {
  this.options = options || { color: 'red' };
}
\--code

Pojďme teď dál k mému oblíbenému C#. Předchozí příklad tam nejde řešit operátorem `||` protože C# je silně typový a `null != false`. Ovšem C# 2.0 přinesl s `Nullable&lt;T&gt;` hodnotovými typy i operátor `??`. Ten slouží jako zkrácená varianta ternárního podmíněného operátoru. Díky němu můžeme následující kód:

/--code csharp
public void Example(Options options) {
  _options = (options != null) ? options : new Options { Color = Color.Red };
}
\--code

Pěkně odšumět:

/--code csharp
public void Example(Options options) {
  _options = options ?? new Options { Color = Color.Red };
}
\--code

Pokud pracujete s `Nullable` hodnotovými typy, zkraťte i následující zápis:

/--code csharp
public void Example(int? pageIndex) {
  int page = 1 + (pageIndex.HasValue ? pageIndex.Value : 0);
}
\--code

Na:

/--code csharp
public void Example(int? pageIndex) {
  int page = 1 + (pageIndex ?? 0);
}
\--code

Generické parametry
====================

Dalším, velice častým šumem, je explicitní uvádění generických parametrů, tam kde to není potřeba. Za příklad si vezměme třeba generickou metodu `Assert.Equal&lt;T&gt;(T expected, T actual)` z frameworku [xunit]. Můžeme ji volat takto:

/--code csharp
Assert.Equal&lt;string&gt;("test", null);
\--code

Jenže kompilátor není žádný hlupák a dokáže správně dosadit typ generického parametru podle typu předávaného parametru. Proto je možné napsat, mnohem přehlednější zápis:

/--code csharp
Assert.Equal("test", null);
\--code

FxCop vám přímo radí: &gt;&gt;Pište generické metody tak, aby se typ generického parametru dal implicitně odvodit.&lt;&lt;

Zbytečné volání ToString
========================

Často se také můžete setkat s voláním metody `ToString` tam, kde to není pořeba. Příklad:

/--code csharp
double rating = 3.8;
string output = "Your rating is: " + rating.ToString();
\--code

Tohle lze napsat bez šumu:

/--code csharp
double rating = 3.8;
string output = "Your rating is: " + rating;
\--code

Teď si jistě, říkáte, že jsem asi blbec, jak můžu po silně typovém C# chtít, aby sečetl `string` a `double`. Nuže můžu. Krom toho, že je C# silně typový, podporuje i přetěžování operátorů! A designéři třídy `String` přidali přetížení operátoru `+` na kterýkoliv `Object`, na kterém zavolají metodu `ToString` za vás. :)

Zbytečné explicitní přetypování
===============================

Občas se bohužel můžeme v kódu potkat s věcmi, nad kterými zůstává rozum stát. Někdo například už pochopil dědičnost. Pochopil, že třída `List&lt;T&gt;` implementuje rozhraní `IList&lt;T&gt;` a to dědí z `ICollection&lt;T&gt;`, které je potomkem obecného rozhranní `IEnumerable&lt;T&gt;`. Jenže pak přijde na praktické použití a je zle:

/--code csharp
public class UserDetailViewData {
  public IEnumerable&lt;User&gt; Friends { get; set; }
}

public class UsersController : Controller {
  public ActionResult Detail(userName) {
    IList&lt;User&gt; friends = GetFriendsOfUser(userName);
    return View(new UserDetailViewData {
      Friends = (IEnumerable&lt;User&gt;)friends
    });
  }
}
\--code

Takhle vytržené z kontextu to nemusí vypadat až tak zle, ale originál mě stál málem ukroucení hlavy.

Roztahaná inicializace
======================

Novinkou C# 3.0 jsou inicializátory. Zvažte následující kód:

/--code csharp
var user = new User();
user.Name = "Josef Novák";
user.Gender = Gender.Male;
\--code


Přepsat na:

/--code csharp
var user = new User {
  Name = "Josef Novák",
  Gender = Gender.Male,
};
\--code

Vyhnete se tím, zbytečnému opakování `user.`.


Závorky navíc
==============

Častý šumem v kódy bývají také závorky, které nemají žádný význam, zejména u inicilizátorů s bezparametrickým konstrukotrem `new User() { Name = "Josef Novák" }` a u anonymních bezparametrických delegátů `delegate() { return true; }`. Tyto závorky klidně smažte a u delegátů zvažte kompresi na lambda výraz: `()=&gt; true`.

Na druhou stranu existuje spousta případů, kdy vhodně vložené závorky zvyšují čitelnost.

Závěr
=====

Když říkám, že je lepší psát némě kódu, rozhodně tím nemám na mysli kriptické zápisy alá regexy. To, co ušetříte na zbytečném kódu, klidně investujte do popisných názvů proměnných a metod. Důležitá je **čitelnost**. Se spoustou výše zmiňovaných úprav vám mohou pomoci nástroje, např. [crx], který je zcela zdarma.

Rozhodně jsem nepokryl všechny možnosti, kde psát zbytečný kód navíc. Jistě taky některé znáte, podělte se o ně v komentářích. :)

[xunit]: http://xunit.codeplex.com/ xUnit.net
[crx]: http://www.devexpress.com/crx CodeRush Express
</raw>
    <author>Aleš Roubíček</author>
    <published>2009-08-03T07:19:19.083</published>
    <url>nepiste-zbytecny-kod</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>csharp refactoring</tags>
    <is-published>1</is-published>
    <edited>2009-08-03T10:49:53.140</edited>
  </article>
  <article>
    <id>362</id>
    <title>Průběžná integrace s TeamCity</title>
    <description></description>
    <html xml:space="preserve">
&lt;h3 id="toc-mereni-pokryti-kodu-testy"&gt;Měření pokrytí kódu testy&lt;/h3&gt;

&lt;p&gt;Když už se nám pěkně reportují do Teamcity výsledky testů, není od
věci si udělat i report pokrytí kódu. V dotnetu najdeme dva free
nástroje – straší verze NCover 1.5.8 a PartCover. Samozřejmě můžeme
sáhnout po mocnějších komerčních nástrojích. Já volím NCover 1.5.8,
který je součástí balíku TestDriven.net.&lt;/p&gt;

&lt;p&gt;Integrace do build scriptu je poměrně snadná:&lt;/p&gt;

&lt;p&gt;Jenže, když script spustíme, nejspíš zjistíme, že build nedoběhl
v pořádku. NCover je totiž COM aplikace. Navíc je spouštěna pod
uživatelským účtem &lt;code&gt;LOCAL SERVICE&lt;/code&gt; (pokud jste při instalaci
build agenta nic neměnili), který nemá potřebná oprávnění.&lt;/p&gt;

&lt;p&gt;V registrech si najděte následující klíč:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Session Manager\Environment&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;V menu &lt;code&gt;Edit&lt;/code&gt; si vyberte &lt;code&gt;Permissions&lt;/code&gt; a klikněte na
&lt;code&gt;Advanced&lt;/code&gt;. Přidejte uživatele &lt;code&gt;LOCAL SERVICE&lt;/code&gt; a
nastavte mu následující práva:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Query Value
Set Value
Create Subkey
Enum Subkeys
Notify
Read Control&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Dále je ještě nutné přeregistrovat knihovnu. Spusťte si konzoli jako
Administrátor, vlezte do složky, kde máte nainstalovaný NCover a spusťte
registraci &lt;code&gt;regsvr32 coverlib.dl&lt;/code&gt;. Teď už by build script měl
proběhnout bez chyb.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Měření pokrytí kódu testy
=========================

Když už se nám pěkně reportují do Teamcity výsledky testů, není od věci si udělat i report pokrytí kódu. V dotnetu najdeme dva free nástroje - straší verze NCover 1.5.8 a PartCover. Samozřejmě můžeme sáhnout po mocnějších komerčních nástrojích. Já volím NCover 1.5.8, který je součástí balíku TestDriven.net.

Integrace do build scriptu je poměrně snadná:

/--code xml

\--code

Jenže, když script spustíme, nejspíš zjistíme, že build nedoběhl v pořádku. NCover je totiž COM aplikace. Navíc je spouštěna pod uživatelským účtem `LOCAL SERVICE` (pokud jste při instalaci build agenta nic neměnili), který nemá potřebná oprávnění.

V registrech si najděte následující klíč:

/--code
HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Session Manager\Environment
\--code

V menu `Edit` si vyberte `Permissions` a klikněte na `Advanced`. Přidejte uživatele `LOCAL SERVICE` a nastavte mu následující práva:

/--code
Query Value
Set Value
Create Subkey

Enum Subkeys
Notify
Read Control
\--code

Dále je ještě nutné přeregistrovat knihovnu. Spusťte si konzoli jako Administrátor, vlezte do složky, kde máte nainstalovaný NCover a spusťte registraci `regsvr32 coverlib.dl`. Teď už by build script měl proběhnout bez chyb.</raw>
    <author>Aleš Roubíček</author>
    <published>2009-08-14T18:20:04.010</published>
    <url>prubezna-integrace-s-teamcity</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>0</is-published>
    <edited>2009-08-14T18:20:04.060</edited>
  </article>
  <article>
    <id>363</id>
    <title>Docházka Ataxo</title>
    <description></description>
    <html xml:space="preserve">
&lt;div&gt;&lt;img src="/img/reference/ataxo.dochazka.jpg" class="preview"
alt="Ataxo Docházka" width="400" height="130" /&gt;&lt;/div&gt;

&lt;p&gt;Další implementace docházkového systému postaveného na ASP.NET MVC byla
pro Ataxo. Implementace si vyžádala značná rozšíření systému, která
byla později nasazena i v twareg.in­tranet. Autorem grafického návrhu je
Jan Boruta.&lt;/p&gt;

&lt;p&gt;Realizace: duben – květen 2009&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">[*/img/reference/ataxo.dochazka.jpg 400x130 .(Ataxo Docházka)[preview]*]

Další implementace docházkového systému postaveného na ASP.NET MVC byla pro Ataxo. Implementace si vyžádala značná rozšíření systému, která byla později nasazena i v twareg.intranet. Autorem grafického návrhu je Jan Boruta.

Realizace: duben - květen 2009</raw>
    <author>Aleš Roubíček</author>
    <published>2009-08-17T20:22:18.393</published>
    <url>dochazka-ataxo</url>
    <category>Reference</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2009-08-17T20:53:02.657</edited>
  </article>
  <article>
    <id>364</id>
    <title>Trop</title>
    <description></description>
    <html xml:space="preserve">
&lt;div&gt;&lt;a href="http://www.trop.cz/"&gt;&lt;img src="/img/reference/trop.jpg"
class="preview" alt="Trop" width="400" height="130" /&gt;&lt;/a&gt;&lt;/div&gt;

&lt;p&gt;Komunitní katalog míst, kam se lidé chodí bavit nebo jen dobře najíst.
Umožňuje vkládat recenze a hodnocení k místům, které pak mohou vaši
přátelé komentovat. V místech je možné pořádat akce, na které můžete
pozvat své známé. Aplikace je postavená na ASP.NET MVC a Castle. Autorem
grafického návrhu je Jan Boruta.&lt;/p&gt;

&lt;p&gt;Realizace: ve vývoji od listopadu 2008&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">[*/img/reference/trop.jpg 400x130 .(Trop)[preview]*]:[trop]

Komunitní katalog míst, kam se lidé chodí bavit nebo jen dobře najíst. Umožňuje vkládat recenze a hodnocení k místům, které pak mohou vaši přátelé komentovat. V místech je možné pořádat akce, na které můžete pozvat své známé. Aplikace je postavená na ASP.NET MVC a Castle. Autorem grafického návrhu je Jan Boruta.

Realizace: ve vývoji od listopadu 2008

[trop]: http://www.trop.cz/</raw>
    <author>Aleš Roubíček</author>
    <published>2009-09-01T09:50:56.463</published>
    <url>trop</url>
    <category>Reference</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2009-09-01T09:54:16.460</edited>
  </article>
  <article>
    <id>365</id>
    <title>Alessio Busta - Waiting for the Tram</title>
    <description>Set ke stažení.</description>
    <html xml:space="preserve">
&lt;p&gt;Po roce odmlky, je tu set s minimálním setupem, progresivním soundem a…
Však uslyšíš.&lt;/p&gt;

&lt;div class="haudio"&gt;
	&lt;ol&gt;
		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Pryda&lt;/span&gt; – &lt;span
		class="title"&gt;Waves&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Zoo Brazil&lt;/span&gt; &amp;amp; &lt;span
		class="contributor"&gt;Nic Fanciulli&lt;/span&gt; – &lt;span
		class="title"&gt;Ide&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Paolo Mojo&lt;/span&gt; – &lt;span
		class="title"&gt;Oscilate&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Reset Robot&lt;/span&gt; – &lt;span
		class="title"&gt;Do the Slot&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Cirez D&lt;/span&gt; – &lt;span
		class="title"&gt;On/Off&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Sébastien Léger&lt;/span&gt; – &lt;span
		class="title"&gt;Bubbly&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Felix da Housecat&lt;/span&gt; – &lt;span
		class="title"&gt;Kickdrum&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Nick Fanciulli&lt;/span&gt; – &lt;span
		class="title"&gt;Green Tea&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Alex Neri&lt;/span&gt; &amp;amp; &lt;span
		class="contributor"&gt;Federico Grazzini&lt;/span&gt; – &lt;span
		class="title"&gt;Habla&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Cirez D&lt;/span&gt; – &lt;span
		class="title"&gt;Raptor&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Deadmau5&lt;/span&gt; – &lt;span
		class="title"&gt;Lack of Better Name&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Inpetto&lt;/span&gt; – &lt;span
		class="title"&gt;The Milky Way&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Sébastien Léger&lt;/span&gt; – &lt;span
		class="title"&gt;Le Moustique&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Mark Knight&lt;/span&gt; &amp;amp; &lt;span
		class="contributor"&gt;Funkagenda&lt;/span&gt; – &lt;span
		class="title"&gt;Good Times&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Steve Mac&lt;/span&gt; &amp;amp; &lt;span
		class="contributor"&gt;Nic Fanciulli&lt;/span&gt; – &lt;span class="title"&gt;20%&lt;/span&gt;
		(140% fuck up)&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Kim Fai&lt;/span&gt; – &lt;span
		class="title"&gt;Good Life&lt;/span&gt;&lt;/li&gt;
	&lt;/ol&gt;

	&lt;p&gt;Ke stažení &lt;span class="category"&gt;dj set&lt;/span&gt; &lt;a rel="enclosure"
	href="http://rarousmusic.com/mp3/alessio_busta_-_waiting_for_the_tram-rm.mp3"&gt;&lt;span
	class="contributor"&gt;Alessio Busta&lt;/span&gt; – &lt;span class="title"&gt;Waiting for
	the Tram&lt;/span&gt;&lt;/a&gt; (MP3 200 kbps VBR; 131 MiB)&lt;/p&gt;
&lt;/div&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Po roce odmlky, je tu set s minimálním setupem, progresivním soundem a... Však uslyšíš.

/--div .[haudio]
1. "Pryda .[contributor]" - "Waves .[title]" .[item]
2. "Zoo Brazil .[contributor]" &amp; "Nic Fanciulli .[contributor]" - "Ide .[title]" .[item]
3. "Paolo Mojo .[contributor]" - "Oscilate .[title]" .[item]
4. "Reset Robot .[contributor]" - "Do the Slot .[title]" .[item]
5. "Cirez D .[contributor]" - "On/Off .[title]" .[item]
6. "Sébastien Léger .[contributor]" - "Bubbly .[title]" .[item]
7. "Felix da Housecat .[contributor]" - "Kickdrum .[title]" .[item]
8. "Nick Fanciulli .[contributor]" - "Green Tea .[title]" .[item]
9. "Alex Neri .[contributor]" &amp; "Federico Grazzini .[contributor]" - "Habla .[title]" .[item]
10. "Cirez D .[contributor]" - "Raptor .[title]" .[item]
11. "Deadmau5 .[contributor]" - "Lack of Better Name .[title]" .[item]
12. "Inpetto .[contributor]" - "The Milky Way .[title]" .[item]
13. "Sébastien Léger .[contributor]" - "Le Moustique .[title]" .[item]
14. "Mark Knight .[contributor]" &amp; "Funkagenda .[contributor]" - "Good Times .[title]" .[item]
15. "Steve Mac .[contributor]" &amp; "Nic Fanciulli .[contributor]" - "20% .[title]" (140% fuck up) .[item]
16. "Kim Fai .[contributor]" - "Good Life .[title]" .[item]

Ke stažení "dj set .[category]" [download] (MP3 200 kbps VBR; 131 MiB)
\--div

[download]: http://rarousmusic.com/mp3/alessio_busta_-_waiting_for_the_tram-rm.mp3 "Alessio Busta .[contributor]" - "Waiting for the Tram .[title]" .{rel:enclosure}</raw>
    <author>alessio busta</author>
    <published>2009-09-10T07:24:13.610</published>
    <url>alessio-busta-waiting-fot-the-tram</url>
    <category>Muzika</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2009-09-10T09:41:21.030</edited>
  </article>
  <article>
    <id>366</id>
    <title>Odsazování kódu a bloky</title>
    <description>Jak zacházet s odsazováním kódu a komentáři, aby byl kód co nejčitelnější?</description>
    <html xml:space="preserve">
&lt;p&gt;Konečně jsem se dostal k tomu, abych si otevřel knihu &lt;a
href="http://knihy.cpress.cz/knihy/pocitacova-literatura/programovani/co-programatory-ve-skole-neuci-aneb-softwarove-inzenyrstvi-v-realne-praxi/"&gt;Co
programátory ve škole neučí&lt;/a&gt;. Hezky shrnuje žalostný stav našeho
školství s ohledem na přípravu budoucích vývojářů. Dále zanáší
pravidla pro psaní přehlednějšího kódu. S mnoha pravidly, které autor
zanáší, musím plně souhlasit. K některým mám výhrady a jedno bych teď
chtěl doplnit.&lt;/p&gt;

&lt;blockquote&gt;
	&lt;h3 id="toc-pravidlo-sedme"&gt;Pravidlo sedmé&lt;/h3&gt;

	&lt;p&gt;Kód musí obsahovat dostatek volných řádek oddělujících od sebe
	krátké logické celky.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Tohle pravidlo mi mluví z duše. Sám se vypořádávám s kódem kolegy,
který o „odstavci“ v životě neslyšel. Číst monolitický text je
velice těžké a ještě těžší je mu porozumět. Pan Paleta (autor knihy)
dále doporučuje:&lt;/p&gt;

&lt;blockquote&gt;
	&lt;p&gt;Zdrojový kód zpřehledňují prázdné řádky, které by podobně jako
	tačka za větou měly „ukončovat myšlenku.“ Nepřerušená sekvence
	příkazů může být dlouhá asi tak dva až pět řádků, jen výjimečně
	o něco více. &lt;em&gt;Někdy je vhodné jako první řádek sekvence uvést
	krátký komentář…&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Schválně jsem zvýraznil poslední větu, protože to je ta část, ke
které mám výhradu. Možná si vzpomenete, jak jsem minule psal: &lt;a
href="/weblog/361-nepiste-zbytecny-kod.aspx"&gt;Nepiště zbytečný kód&lt;/a&gt;.
Klidně takový kus kódu napiště. Ale ihned ho refaktorujte! Logický blok
uvozený konetářem, je totiž ideální místo pro vytvoření metody. Název
této metody je právě obsah komentáře a tělem následný
logický blok.&lt;/p&gt;

&lt;p&gt;Pokud máte &lt;a
href="http://devexpress.com/Products/Visual_Studio_Add-in/Refactoring/"&gt;Refactor!
Pro&lt;/a&gt; od Developer Express, stačí onen blok označit a stisknout
&lt;code&gt;Ctrl+;&lt;/code&gt; (klávesa nad &lt;code&gt;Tab&lt;/code&gt;) a vybrat &lt;code&gt;Extract
method&lt;/code&gt;. Tento refaktoring udělá přesně to, co jsem popsal v minulém
odstavci.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Konečně jsem se dostal k tomu, abych si otevřel knihu [kniha]. Hezky shrnuje žalostný stav našeho školství s ohledem na přípravu budoucích vývojářů. Dále zanáší pravidla pro psaní přehlednějšího kódu. S mnoha pravidly, které autor zanáší, musím plně souhlasit. K některým mám výhrady a jedno bych teď chtěl doplnit.

&gt; Pravidlo sedmé
&gt; --------------
&gt; Kód musí obsahovat dostatek volných řádek oddělujících od sebe krátké logické celky.

Tohle pravidlo mi mluví z duše. Sám se vypořádávám s kódem kolegy, který o "odstavci" v životě neslyšel. Číst monolitický text je velice těžké a ještě těžší je mu porozumět. Pan Paleta (autor knihy) dále doporučuje:

&gt; Zdrojový kód zpřehledňují prázdné řádky, které by podobně jako tačka za větou měly
&gt; "ukončovat myšlenku." Nepřerušená sekvence příkazů může být dlouhá asi tak dva až pět
&gt; řádků, jen výjimečně o něco více. *Někdy je vhodné jako první řádek sekvence uvést
&gt; krátký komentář...*

Schválně jsem zvýraznil poslední větu, protože to je ta část, ke které mám výhradu. Možná
si vzpomenete, jak jsem minule psal: [clanek(361)]. Klidně takový kus kódu napiště. Ale ihned ho refaktorujte! Logický blok uvozený konetářem, je totiž ideální místo pro vytvoření metody. Název této metody je právě obsah komentáře a tělem následný logický blok.

Pokud máte [refactor] od Developer Express, stačí onen blok označit a stisknout `Ctrl+;`
(klávesa nad `Tab`) a vybrat `Extract method`. Tento refaktoring udělá přesně to, co jsem popsal v minulém odstavci.

[kniha]: http://knihy.cpress.cz/knihy/pocitacova-literatura/programovani/co-programatory-ve-skole-neuci-aneb-softwarove-inzenyrstvi-v-realne-praxi/ Co programátory ve škole neučí
[clanek(361)]: /weblog/361-nepiste-zbytecny-kod.aspx Nepiště zbytečný kód
[refactor]: http://devexpress.com/Products/Visual_Studio_Add-in/Refactoring/ Refactor! Pro</raw>
    <author>Aleš Roubíček</author>
    <published>2009-09-20T20:42:31.070</published>
    <url>odsazovani-kodu-a-bloky</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2009-09-21T19:37:49.177</edited>
  </article>
  <article>
    <id>367</id>
    <title>Community meeting .net</title>
    <description>Pozvánka na Community meeting .net na WebExpu 2009.</description>
    <html xml:space="preserve">
&lt;p&gt;Máte nějaké dotazy ohledně vývoje v ASP.NET potažmo v .net obecně?
Máte chuť se seznámit s dalšími lidmi, kteří se dotnetem zabývají,
nebo jen chcete osobně potkat lidi, které znáte jen virtuálně? Budete
v sobotu 17. Října na WebExpu 2009?&lt;/p&gt;

&lt;p&gt;Pokud jste alespoň na jednu z výše položených otázek odpověděli
kladně, přijďte se podívat na &lt;a
href="http://webexpo.cz/prednaska/community-meeting-aspnet/"&gt;Community meeting
.net&lt;/a&gt;, kde najdete Štěpána Bechynského a moji maličkost. Můžete se
nás zeptat na cokoli o ASP.NET a dalších dotnet technologiích a pokud to
bude v našich silách, tak vám odpovíme. Štěpán slíbil, že součástí
meetingu bude i coolkeg s náplní od Staropramenu, tak kdo bude mít žížu,
tak ať si přinese vlastní pulitr, pokud nechce pít z plastiku…&lt;/p&gt;

&lt;p&gt;Naviděnou příští sobotu!&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Máte nějaké dotazy ohledně vývoje v ASP.NET potažmo v .net obecně? Máte chuť se seznámit s dalšími lidmi, kteří se dotnetem zabývají, nebo jen chcete osobně potkat lidi, které znáte jen virtuálně? Budete v sobotu 17. Října na WebExpu 2009?

Pokud jste alespoň na jednu z výše položených otázek odpověděli kladně, přijďte se podívat na [meeting], kde najdete Štěpána Bechynského a moji maličkost. Můžete se nás zeptat na cokoli o ASP.NET a dalších dotnet technologiích a pokud to bude v našich silách, tak vám odpovíme. Štěpán slíbil, že součástí meetingu bude i coolkeg s náplní od Staropramenu, tak kdo bude mít žížu, tak ať si přinese vlastní pulitr, pokud nechce pít z plastiku...

Naviděnou příští sobotu!

[meeting]: http://webexpo.cz/prednaska/community-meeting-aspnet/ Community meeting .net
</raw>
    <author>Aleš Roubíček</author>
    <published>2009-10-07T12:50:37.677</published>
    <url>community-meeting-net</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>webexpo aspnet</tags>
    <is-published>1</is-published>
    <edited>2009-10-07T12:50:37.700</edited>
  </article>
  <article>
    <id>368</id>
    <title>Seznamte se s Tropem</title>
    <description>Pomalu do světa pouštíme naši novou službu – Trop. O co vlastně jde? Je to sociální platforma pro snadnou výměnu zkušeností z různých míst. Začínáme s tím, co je nám nejbližší. Začínáme v Praze a to s hospodami, restauracemi a kluby. :)</description>
    <html xml:space="preserve">
&lt;p&gt;Pomalu do světa pouštíme naši novou službu – &lt;a
href="http://www.trop.cz/"&gt;Trop&lt;/a&gt;. O co vlastně jde? Je to sociální
platforma pro snadnou výměnu zkušeností z různých míst. Začínáme
s tím, co je nám nejbližší. Začínáme v Praze a to s hospodami,
restauracemi a kluby. :)&lt;/p&gt;

&lt;p&gt;Zatím jsme pořád v betě, protože každou chvíli něco rozbiju, nebo
pokazim, ale snažíme se chyby vychytávat a rychle opravovat. Technologicky to
je celé postavené na kombu &lt;a href="http://asp.net/mvc/"&gt;ASP.NET MVC&lt;/a&gt;, &lt;a
href="http://nhforge.org/"&gt;NHibernate&lt;/a&gt;, &lt;a
href="http://www.castleproject.org/"&gt;Castle Windsor&lt;/a&gt;, MS SQL 2008 a IIS7.
O některých věcech, které mě potkaly už jsem psal (&lt;a
href="/weblog/tag/mvc.aspx"&gt;MVC&lt;/a&gt;, &lt;a
href="/weblog/tag/binsor.aspx"&gt;Binsor&lt;/a&gt;), jiným se chci věnovat
v budoucnu.&lt;/p&gt;

&lt;h3 id="toc-kolik-uctu-mas-tolikrat-jsi-otrokem"&gt;Kolik účtů máš, tolikrát
jsi otrokem&lt;/h3&gt;

&lt;p&gt;Vím, že někteří z vás tam již účet mají, a tak to pro ně není
žádným překvapením. Ti, co ještě účet na Tropu nemají, mají hned
několik možností, jak si ho vytvořit. Nechcem po vás žádné složité
vyplňování registrace. Asi nejjednodušší je využít možnosti
přihlášení pomocí Twitteru (&lt;a href="http://oauth.net/"&gt;OAuth&lt;/a&gt;), kdy se
vám automaticky vytvoří profil dle vašich údajů na Twitteru, pěkně
i s vaší profilovou fotkou. Pak už můžete normálně Trop používat.
Podobně funguje i vytváření účtu pomocí &lt;a
href="http://openid.net/"&gt;OpenId&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;V blízké době se objeví i možnost přihlašování pomocí &lt;a
href="http://developers.facebook.com/connect.php"&gt;Facebook Connect&lt;/a&gt;. S touto
novinkou přibude i jednodušší správa napojených účtů a možnost
publikace vašich recenzí na Twitter a Facebook. (Dnes můžete sdílet místa
a akce).&lt;/p&gt;

&lt;h3 id="toc-mista-blizka-i-vzdalena"&gt;Místa blízká i vzdálená&lt;/h3&gt;

&lt;p&gt;Teď, když už u nás máte účet, tak můžete napsat nějakou recenzi na
vaše oblíbené či neoblíbené místo. Využijte našeho hledání! Pokud už
vaše místo někdo zadal, mělo by být ve výsledcích hledání. Pak stačí
kliknout na tlačítko &lt;code&gt;Napiš recenzi&lt;/code&gt; a začít psát. Nezapomeňte
zadat vaše hodnocení! :) Pokud chcete, aby vaše recenze byly více sexy,
zkuste psát s &lt;a href="http://texy.info/"&gt;Texy!&lt;/a&gt; Pokud místo nalezeno
nebylo, tak ho prostě přidejte. :)&lt;/p&gt;

&lt;h3 id="toc-akce"&gt;Akce&lt;/h3&gt;

&lt;p&gt;Jedna z věcí, která mi na internetu chyběla, bylo řešení
následujícího scénáře: Chceme se sejít s kámošema v nějaký
hospodě. První věc, je vybrat správnou hospodu. Většinou je to nějaká,
kterou známe, někteří však třeba ještě ne. Tak místo máme, pokusíme
se najít jeho stránky, abychom mohli udělat rezervaci a ti, co to tam ještě
neznají, aby se podívali. Pak je tu další krok, poslat místo neznalým na
mapě, aby tam trefili a ještě raději všechny obeslat e-mailem s ical
v příloze, aby nezapomněli.&lt;/p&gt;

&lt;p&gt;Takový mail obsahuje spoustu odkazů. :) Kdo je bude proklikávat? No však
víme, takže budete řešit ještě deset telefonů, kvuli datu a pak navigaci
na místo. Teď když mám &lt;a href="http://www.trop.cz/"&gt;Trop&lt;/a&gt;, tak většinu
věcí najdu na jednom místě. Některé věci ještě sice nejsou dotažené
do podoby, jakou bych si představoval, ale věřím, že brzy přibudou. A pak
bude organizace větší sešlosti hračkou. :)&lt;/p&gt;

&lt;h3 id="toc-zkousejte"&gt;Zkoušejte&lt;/h3&gt;

&lt;p&gt;Tak zkoušejte, zkoušejte. Dejtě vědět, jak se líbí, nebo co
případně vylepšit. Nejlepší cestou jak přijít s nápadem je &lt;a
href="http://trop.uservoice.com/"&gt;naše user voice forum&lt;/a&gt;, kde můžete
zadávat vaše nápady a hlasovat pro jiné, které se vám líbí. Samozřejmě
hlašte i chybky, ale snad už jich moc neni.&lt;/p&gt;

&lt;p&gt;Pokud chcete sledovat, co se na Tropu děje, můžete na &lt;a
href="http://friendfeed.com/troppraha"&gt;FriendFeedu&lt;/a&gt;, &lt;a
href="http://twitter.com/tropcz"&gt;Twitteru&lt;/a&gt; nebo na &lt;a
href="http://www.facebook.com/pages/Trop/103373591895"&gt;Facebooku&lt;/a&gt;. A nebo
taky tady.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Pomalu do světa pouštíme naši novou službu – [trop]. O co vlastně jde? Je to sociální platforma pro snadnou výměnu zkušeností z různých míst. Začínáme s tím, co je nám nejbližší. Začínáme v Praze a to s hospodami, restauracemi a kluby. :)

Zatím jsme pořád v betě, protože každou chvíli něco rozbiju, nebo pokazim, ale snažíme se chyby vychytávat a rychle opravovat. Technologicky to je celé postavené na kombu [aspnetmvc], [nhibernate], "Castle Windsor":[castle], MS SQL 2008 a IIS7. O některých věcech, které mě potkaly už jsem psal ([mvc], [binsor]), jiným se chci věnovat v budoucnu.

Kolik účtů máš, tolikrát jsi otrokem
====================================

Vím, že někteří z vás tam již účet mají, a tak to pro ně není žádným překvapením. Ti, co ještě účet na Tropu nemají, mají hned několik možností, jak si ho vytvořit. Nechcem po vás žádné složité vyplňování registrace. Asi nejjednodušší je využít možnosti přihlášení pomocí Twitteru ([oauth]), kdy se vám automaticky vytvoří profil dle vašich údajů na Twitteru, pěkně i s vaší profilovou fotkou. Pak už můžete normálně Trop používat. Podobně funguje i vytváření účtu pomocí [openid].

V blízké době se objeví i možnost přihlašování pomocí [connect]. S touto novinkou přibude i jednodušší správa napojených účtů a možnost publikace vašich recenzí na Twitter a Facebook. (Dnes můžete sdílet místa a akce).

Místa blízká i vzdálená
=======================

Teď, když už u nás máte účet, tak můžete napsat nějakou recenzi na vaše oblíbené či neoblíbené místo. Využijte našeho hledání! Pokud už vaše místo někdo zadal, mělo by být ve výsledcích hledání. Pak stačí kliknout na tlačítko `Napiš recenzi` a začít psát. Nezapomeňte zadat vaše hodnocení! :) Pokud chcete, aby vaše recenze byly více sexy, zkuste psát s [texy] Pokud místo nalezeno nebylo, tak ho prostě přidejte. :)

Akce
====

Jedna z věcí, která mi na internetu chyběla, bylo řešení následujícího scénáře: Chceme se sejít s kámošema v nějaký hospodě. První věc, je vybrat správnou hospodu. Většinou je to nějaká, kterou známe, někteří však třeba ještě ne. Tak místo máme, pokusíme se najít jeho stránky, abychom mohli udělat rezervaci a ti, co to tam ještě neznají, aby se podívali. Pak je tu další krok, poslat místo neznalým na mapě, aby tam trefili a ještě raději všechny obeslat e-mailem s ical v příloze, aby nezapomněli.

Takový mail obsahuje spoustu odkazů. :) Kdo je bude proklikávat? No však víme, takže budete řešit ještě deset telefonů, kvuli datu a pak navigaci na místo. Teď když mám [trop], tak většinu věcí najdu na jednom místě. Některé věci ještě sice nejsou dotažené do podoby, jakou bych si představoval, ale věřím, že brzy přibudou. A pak bude organizace větší sešlosti hračkou. :)

Zkoušejte
=========

Tak zkoušejte, zkoušejte. Dejtě vědět, jak se líbí, nebo co případně vylepšit. Nejlepší cestou jak přijít s nápadem je "naše user voice forum":[uservoice], kde můžete zadávat vaše nápady a hlasovat pro jiné, které se vám líbí. Samozřejmě hlašte i chybky, ale snad už jich moc neni.

Pokud chcete sledovat, co se na Tropu děje, můžete na FriendFeedu:[ff], Twitteru:[tw] nebo na Facebooku:[fb]. A nebo taky tady.

[trop]: http://www.trop.cz/ Trop
[texy]: http://texy.info/ Texy!
[mvc]: /weblog/tag/mvc.aspx MVC
[binsor]: /weblog/tag/binsor.aspx Binsor
[nhibernate]: http://nhforge.org/ NHibernate
[aspnetmvc]: http://asp.net/mvc/ ASP.NET MVC
[castle]: http://www.castleproject.org/
[oauth]: http://oauth.net/ OAuth
[openid]: http://openid.net/ OpenId
[connect]: http://developers.facebook.com/connect.php Facebook Connect
[uservoice]: http://trop.uservoice.com/
[ff]: http://friendfeed.com/troppraha
[tw]: http://twitter.com/tropcz
[fb]: http://www.facebook.com/pages/Trop/103373591895</raw>
    <author>Aleš Roubíček</author>
    <published>2009-11-13T14:29:16.590</published>
    <url>seznamte-se-s-tropem</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>trop</tags>
    <is-published>1</is-published>
    <edited>2009-11-13T14:35:13.400</edited>
  </article>
  <article>
    <id>369</id>
    <title>Odpalování akcí měnících data odkazem</title>
    <description>Jak volat serverové akce, které jsou potenciálně nebezpečné (mění data), odkazem, se dozvíte možná v tomto spotu.</description>
    <html xml:space="preserve">
&lt;p&gt;V RESTové architektuře webu byste neměli odpalovat akce, které mění
data, pomocí odkazů. Měli byste tak činit pomocí sloves HTTP protokolu
(&lt;code&gt;PUT&lt;/code&gt;, &lt;code&gt;POST&lt;/code&gt;, &lt;code&gt;DELETE&lt;/code&gt;). Přejdu fakt, že
dnešní prohlížeče znají jen sloveso &lt;code&gt;POST&lt;/code&gt; a ostatní musíte
simulovat pomocí &lt;acronym title="XML HTTP Request"&gt;XHR&lt;/acronym&gt;. Stejně se
dostanete do situací, kdy potřebujete nějakou akci měnící data odpalít
odkazem.&lt;/p&gt;

&lt;p&gt;Abych pro příklad nemusel chodit daleko, vezmu si hlasování k akcím na
&lt;a href="http://www.trop.cz/"&gt;Tropu&lt;/a&gt;. U každé akce se můžete vyjádřit
k tomu, zda na akci &lt;em&gt;půjdete&lt;/em&gt;, &lt;em&gt;možná se ukážete&lt;/em&gt; nebo
&lt;em&gt;nepůjdete&lt;/em&gt;. Pokud je uživatel nepřihlášený, vidí pod názvem akce
tři ikonky s počtem hlasů. Po přihlášení se stanou aktivními a lze
s nimi hlasovat. Původně byla tato „tlačítka“ pouhými odkazy na akci,
která hlasování zpracovávala. Jenže po tom, co jsem pouštěl některé
spidery, začaly přibývat hlasy.&lt;/p&gt;

&lt;p&gt;Tím se dostáváme k praktickému důsledku porušení doporučení
z prvního odstavce. Problém jsem nakonec vyřešil následujícím vzorem: Do
stránky jsem přidal formuláře, které bezpečným způsobem odpalují akce
měnící data. Každý formulář má své &lt;code&gt;id&lt;/code&gt;. Odkazy, které
původně vedly na akce měnící data, nyní odkazují na id jednotlivých
formulářů a mají třídu &lt;code&gt;form-submit&lt;/code&gt;. Jednoduchý jQuery kód
pak projde tyto odkazy a na &lt;code&gt;click&lt;/code&gt; jim naváže &lt;code&gt;submit&lt;/code&gt;
odkazovaného formuláře a ten pak schová.&lt;/p&gt;

&lt;p&gt;Stránka vypadá pořád stejně, chová se stejně, ale dělá to
&lt;em&gt;jinak&lt;/em&gt;. Pokud nemá uživatel povolený JavaScript, tak se po kliknutí
na ikonku dostane na správný formulář, který musí odeslat stiskem
tlačítka submit. Funkčnost tak zůstává přístupná i bez JavaScriptu.
Zároveň nehrozí, že by došlo k nechtěné aktivaci akce nějakým
spiderem, který si ošahává odkazy na stránce.&lt;/p&gt;

&lt;p&gt;Snad se bude hodit i vám.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">V RESTové architektuře webu byste neměli odpalovat akce, které mění data, pomocí odkazů. Měli byste tak činit pomocí sloves HTTP protokolu (`PUT`, `POST`, `DELETE`). Přejdu fakt, že dnešní prohlížeče znají jen sloveso `POST` a ostatní musíte simulovat pomocí XHR((XML HTTP Request)). Stejně se dostanete do situací, kdy potřebujete nějakou akci měnící data odpalít odkazem.

Abych pro příklad nemusel chodit daleko, vezmu si hlasování k akcím na Tropu:[trop]. U každé akce se můžete vyjádřit k tomu, zda na akci *půjdete*, *možná se ukážete* nebo *nepůjdete*. Pokud je uživatel nepřihlášený, vidí pod názvem akce tři ikonky s počtem hlasů. Po přihlášení se stanou aktivními a lze s nimi hlasovat. Původně byla tato „tlačítka“ pouhými odkazy na akci, která hlasování zpracovávala. Jenže po tom, co jsem pouštěl některé spidery, začaly přibývat hlasy.

Tím se dostáváme k praktickému důsledku porušení doporučení z prvního odstavce. Problém jsem nakonec vyřešil následujícím vzorem: Do stránky jsem přidal formuláře, které bezpečným způsobem odpalují akce měnící data. Každý formulář má své `id`. Odkazy, které původně vedly na akce měnící data, nyní odkazují na id jednotlivých formulářů a mají třídu `form-submit`. Jednoduchý jQuery kód pak projde tyto odkazy a na `click` jim naváže `submit` odkazovaného formuláře a ten pak schová.

Stránka vypadá pořád stejně, chová se stejně, ale dělá to *jinak*. Pokud nemá uživatel povolený JavaScript, tak se po kliknutí na ikonku dostane na správný formulář, který musí odeslat stiskem tlačítka submit. Funkčnost tak zůstává přístupná i bez JavaScriptu. Zároveň nehrozí, že by došlo k nechtěné aktivaci akce nějakým spiderem, který si ošahává odkazy na stránce.

Snad se bude hodit i vám.

[trop]: http://www.trop.cz/
</raw>
    <author>Aleš Roubíček</author>
    <published>2009-11-16T09:29:26.230</published>
    <url>odpalovani-akci-menicich-data-odkazem</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>jquery trop rest form</tags>
    <is-published>1</is-published>
    <edited>2009-11-16T09:29:26.240</edited>
  </article>
  <article>
    <id>370</id>
    <title>Mikroformáty jako datový model stránky</title>
    <description>Dříve, když jsem psal webové aplikace, kde bylo potřeba hodně JavaScriptu, aby se dosáhlo pohodlné práce, duplikoval jsem data. Jenže všichni víme, že duplikování je zlo. :)</description>
    <html xml:space="preserve">
&lt;p&gt;Dříve, když jsem psal webové aplikace, kde bylo potřeba hodně
JavaScriptu, aby se dosáhlo pohodlné práce, duplikoval jsem data. Ano, je to
tak a stydím se za to. Většina dat, které se na stránce vypisovaly, byla
duplicitní. Jednou byly v &lt;acronym
title="Hypertext Markup Language"&gt;HTML&lt;/acronym&gt; a podruhé v &lt;acronym
title="JavaScript Object Notation"&gt;JSON&lt;/acronym&gt;, aby se s nimi dalo snadno
pracovat v JavaScriptu. Jenže všichni víme, že duplikování je
zlo. :)&lt;/p&gt;

&lt;p&gt;V &lt;a href="http://www.trop.cz/"&gt;Tropu&lt;/a&gt; jsem se tomuto nešvaru snažil
vyhnout. A tak je většina dat ve stránkách označena mikroformáty.
Výhodou mikroformátů je, že jsou snadno strojově zpracovatené. Tudíž
i JavaScriptem. Pokud se třeba podíváte na detail místa (např. &lt;a
href="http://www.trop.cz/v/13"&gt;The Pub na Staroměstské&lt;/a&gt;) uvidíte mapku,
kde je bublina s kontaktními údaji místa. Tato data nejsou v žádném JSON
ve stránce, ani se nestahují AJAXovým dotazem. Script jednoduše vezme data
z mikroformátu &lt;a href="http://microformats.org/wiki/hcard"&gt;hCard&lt;/a&gt; včetně
geo souřadnic, kde se má bublina vykreslit.&lt;/p&gt;

&lt;p&gt;Podobný model je aplikován na různých místech Tropu.&lt;/p&gt;

&lt;h3 id="toc-mikroformaty-vs-rdfa"&gt;Mikroformáty vs. RDFa&lt;/h3&gt;

&lt;p&gt;Myslím, že v tomto případě se i ukazuje, že mikroformáty jsou
lepší než RDFa. Protože parsovat mikroformáty pomocí jQuery je mnohem
snažší a přehlednější. RDFa je možná flexibilnější v tom, kolik
gramatik dokáže pojmout, ale to je i jeho zásadní slabinou. Mikroformáty
definují jednoduché formáty, které staví na jednoduchém modelu HTML.
Existují nástroje, díky nimž lze s nimi snadno pracovat.&lt;/p&gt;

&lt;h3 id="toc-mikroformaty-a-asp-net-mvc"&gt;Mikroformáty a ASP.NET MVC&lt;/h3&gt;

&lt;p&gt;Úžasnou novinkou ASP.NET MVC 2 bude extenze &lt;code&gt;Html.DisplayFor&lt;/code&gt;,
kde se vytvoří jediná šablona třeba s vizitkou uživatele a pak jí mužu
používat všude, aniž bych někde na něco zapomněl nebo něco nabořil.
Dnes musím mít několik extenzí pro různé typy dat, kde mám navíc kód
přímo v extenzi. Sice je jednoduchý, ale čím méně HTML v C# kódu, tím
lépe. (On to tedy není přímo HTML kód, ale jeho objektová
reprezentace.)&lt;/p&gt;

&lt;p&gt;Práce s mikroformáty tak bude mnohem jednodušší a
ucelenější. :)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Dříve, když jsem psal webové aplikace, kde bylo potřeba hodně JavaScriptu, aby se dosáhlo pohodlné práce, duplikoval jsem data. Ano, je to tak a stydím se za to. Většina dat, které se na stránce vypisovaly, byla duplicitní. Jednou byly v HTML((Hypertext Markup Language)) a podruhé v JSON((JavaScript Object Notation)), aby se s nimi dalo snadno pracovat v JavaScriptu. Jenže všichni víme, že duplikování je zlo. :)

V Tropu:[trop] jsem se tomuto nešvaru snažil vyhnout. A tak je většina dat ve stránkách označena mikroformáty. Výhodou mikroformátů je, že jsou snadno strojově zpracovatené. Tudíž i JavaScriptem. Pokud se třeba podíváte na detail místa (např. [PUB]) uvidíte mapku, kde je bublina s kontaktními údaji místa. Tato data nejsou v žádném JSON ve stránce, ani se nestahují AJAXovým dotazem. Script jednoduše vezme data z mikroformátu [hcard] včetně geo souřadnic, kde se má bublina vykreslit.

Podobný model je aplikován na různých místech Tropu.

Mikroformáty vs. RDFa
=====================

Myslím, že v tomto případě se i ukazuje, že mikroformáty jsou lepší než RDFa. Protože parsovat mikroformáty pomocí jQuery je mnohem snažší a přehlednější. RDFa je možná flexibilnější v tom, kolik gramatik dokáže pojmout, ale to je i jeho zásadní slabinou. Mikroformáty definují jednoduché formáty, které staví na jednoduchém modelu HTML. Existují nástroje, díky nimž lze s nimi snadno pracovat.

Mikroformáty a ASP.NET MVC
==========================

Úžasnou novinkou ASP.NET MVC 2 bude extenze `Html.DisplayFor`, kde se vytvoří jediná šablona třeba s vizitkou uživatele a pak jí mužu používat všude, aniž bych někde na něco zapomněl nebo něco nabořil. Dnes musím mít několik extenzí pro různé typy dat, kde mám navíc kód přímo v extenzi. Sice je jednoduchý, ale čím méně HTML v C# kódu, tím lépe. (On to tedy není přímo HTML kód, ale jeho objektová reprezentace.)

Práce s mikroformáty tak bude mnohem jednodušší a ucelenější. :)

[trop]: http://www.trop.cz/
[PUB]: http://www.trop.cz/v/13 The Pub na Staroměstské
[hcard]: http://microformats.org/wiki/hcard hCard
</raw>
    <author>Aleš Roubíček</author>
    <published>2009-11-18T12:47:56.843</published>
    <url>mikroformaty-jako-datovy-model-stranky</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>microformats aspnet mvc rdfa trop</tags>
    <is-published>1</is-published>
    <edited>2009-11-18T12:51:04.070</edited>
  </article>
  <article>
    <id>371</id>
    <title>Tropněte si o sud piva</title>
    <description>Lidé začínají Trop používat, recenze přibývají a já jsem rád. A víte proč to dělají? Protože mohou vyhrát třeba sud piva. A nebo proto, že je to baví. Možná :)</description>
    <html xml:space="preserve">
&lt;p&gt;Na Tropu už máme přes šestset recenzí a to díky vám! Za poslední
týden se počet recenzí takřka zdvojnásobil. To mě velice těší, protože
Trop tak začíná mít smysl. Líbí se mi, že začali psát i další lidé
a hlavně kvalitní recenze. Moc se mi líbí &lt;a
href="http://www.trop.cz/lide/dero/recenze"&gt;recenze od Dera&lt;/a&gt;, jsou snad
ještě lepší, než jeho titulky na HIMYM. ;) Za zmínku stojí také &lt;a
href="http://www.trop.cz/lide/slovodaloslovo/recenze"&gt;recenze
slovodaloslovo&lt;/a&gt;, což je profesionální copywriterka. :) Napsala o nás
taky &lt;a
href="http://slovodaloslovo.cz/blog/trop-cz-vymenujte-si-sve-zkusenosti-z-ruznych-mist/"
title="Trop.cz – vyměňujte si své zkušenosti z různých míst"&gt;jeden
spot&lt;/a&gt;. Děkujeme.&lt;/p&gt;

&lt;p&gt;Každý má svůj osobitý styl a to je super. Jen tak dál! :)&lt;/p&gt;

&lt;h3 id="toc-proc-psat-na-trop"&gt;Proč psát na Trop?&lt;/h3&gt;

&lt;p&gt;Možná si říkáte, „proč bych na Trop měl psát?“ Jedním
z důvodů může být to, že se procvičíte v psaní jako takovém. Navíc
tim můžete někomu pomoci se rozhodnout, zda má cenu neznámé místo
navštívit. A v neposlední řadě &lt;strong&gt;probíhá soutěž!&lt;/strong&gt; Máte
ještě deset dní na to se umístit na čelních pozicích a &lt;a
href="http://www.trop.cz/soutez"&gt;vyhrát některou z cen&lt;/a&gt;. Osobně pochybuju
o tom, že ještě někdo dokáže dohnat &lt;a
href="http://www.trop.cz/lide/voy/recenze"&gt;voytu&lt;/a&gt;, který žebříček táhne
a jde si pro svůj sud piva, ale nemožné to je! Třeba mu ten sud ještě
někdo vyfoukne. ;)&lt;/p&gt;

&lt;p&gt;Takže &lt;a href="http://www.trop.cz/"&gt;Tropujte&lt;/a&gt;!&lt;/p&gt;

&lt;h3 id="toc-souvisejici"&gt;Související&lt;/h3&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a rel="bookmark" title="Seznamte se s Tropem"
	href="/weblog/368-seznamte-se-s-tropem.aspx"&gt;Seznamte se s Tropem&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a
	href="http://slovodaloslovo.cz/blog/trop-cz-vymenujte-si-sve-zkusenosti-z-ruznych-mist/"
	title="Trop.cz – vyměňujte si své zkušenosti z různých míst"&gt;Trop.cz –
	vyměňujte si své zkušenosti z různých míst&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Na Tropu už máme přes šestset recenzí a to díky vám! Za poslední týden se počet recenzí takřka zdvojnásobil. To mě velice těší, protože Trop tak začíná mít smysl. Líbí se mi, že začali psát i další lidé a hlavně kvalitní recenze. Moc se mi líbí "recenze od Dera":[dero-recenze], jsou snad ještě lepší, než jeho titulky na HIMYM. ;) Za zmínku stojí také "recenze slovodaloslovo":[slovodaloslovo-recenze], což je profesionální copywriterka. :) Napsala o nás taky "jeden spot":[blogspot]. Děkujeme.

Každý má svůj osobitý styl a to je super. Jen tak dál! :)

Proč psát na Trop?
==================

Možná si říkáte, „proč bych na Trop měl psát?“ Jedním z důvodů může být to, že se procvičíte v psaní jako takovém. Navíc tim můžete někomu pomoci se rozhodnout, zda má cenu neznámé místo navštívit. A v neposlední řadě **probíhá soutěž!** Máte ještě deset dní na to se umístit na čelních pozicích a "vyhrát některou z cen":[soutez]. Osobně pochybuju o tom, že ještě někdo dokáže dohnat "voytu":[voy], který žebříček táhne a jde si pro svůj sud piva, ale nemožné to je! Třeba mu ten sud ještě někdo vyfoukne. ;)

Takže Tropujte:[trop]!

Související
===========

* [clanek(368)]
* [blogspot]

[dero-recenze]: http://www.trop.cz/lide/dero/recenze
[slovodaloslovo-recenze]: http://www.trop.cz/lide/slovodaloslovo/recenze
[voy]: http://www.trop.cz/lide/voy/recenze
[soutez]: http://www.trop.cz/soutez
[blogspot]: http://slovodaloslovo.cz/blog/trop-cz-vymenujte-si-sve-zkusenosti-z-ruznych-mist/ Trop.cz – vyměňujte si své zkušenosti z různých míst .(Trop.cz – vyměňujte si své zkušenosti z různých míst)
[trop]: http://www.trop.cz/
[clanek(368)]: /weblog/368-seznamte-se-s-tropem.aspx Seznamte se s Tropem .(Seznamte se s Tropem){rel:bookmark}
</raw>
    <author>Aleš Roubíček</author>
    <published>2009-11-20T15:12:06.313</published>
    <url>tropnete-si-o-sud-piva</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>trop</tags>
    <is-published>1</is-published>
    <edited>2009-11-20T15:26:38.037</edited>
  </article>
  <article>
    <id>372</id>
    <title>Jak jsem potkal Twitter</title>
    <description>Znáte Twitter? Nejspíš ano, kdo by ho dnes neznal. Ale nebylo tomu vždycky tak. Trošku nostalgické ohlédnutí za počátky štěbetání na W3B.</description>
    <html xml:space="preserve">
&lt;p&gt;Znáte Twitter? Nejspíš ano, kdo by ho dnes neznal. Ale nebylo tomu
vždycky tak.&lt;/p&gt;

&lt;p&gt;Budou tomu dva roky, co @mravenec přemýšlel jak vylepšit @weblogy.
„Chtělo by to nějakej chat,“ povídá. A já si myslel, k čemu,
nějakej jabber gadget? Pak úplně nesouvisle k tomu, jsem &lt;a
href="/weblog/252-v-zajeti-socialnich-siti.aspx"&gt;ve Flocku nastartoval
Twitter&lt;/a&gt;. Tehdy jsem to používal na broadcast. Ukázal jsem to pár
kolegům, napsal jsem „jdeme vařit“ a za chvíli se zvedl @mravenec
s hrnkem, následován @fromen a @macus a šli jsme navštívit naši Atlasí
kuchyňku. V tomhle fungoval twitter skvěle. :)&lt;/p&gt;

&lt;p&gt;Pak se najednou nenápadně objevil takový malý box pod zprávičkama na
W3B. Bylo tam tehdy asi šest účtů. Ono jich tehdy na českém štěbetáku
taky o moc víc nebylo. Ale začaly přibývat. :) A to celkem rychle. Ten box
si pomalu našel cestu nahoru. Možná se to spoustě lidí nelíbilo a
křičeli, ale nebyli vyslyšeni. Tehdy se objevila beta IE8 a @hassmanm
absolutně vytapetoval weblogy svou on-line reportáží z její instalace a
prvních dojmů. Myslím, že byl za to na nějaký čas
odfollowován… :)&lt;/p&gt;

&lt;p&gt;No a dneska je situace zcela jiná. Twitter už zná skoro každý, dokonce
se o něm pořádají přednášky, jak na něj správně psát a jak na něm
dělat marketing. Škoda, že jsme ty znalosti neměli už tehdy. Dneska jsme
mohli bejt strašně bohatý. ;)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Znáte Twitter? Nejspíš ano, kdo by ho dnes neznal. Ale nebylo tomu vždycky tak.

Budou tomu dva roky, co @mravenec přemýšlel jak vylepšit @weblogy. "Chtělo by to nějakej chat," povídá. A já si myslel, k čemu, nějakej jabber gadget? Pak úplně nesouvisle k tomu, jsem "ve Flocku nastartoval Twitter":[clanek(252)]. Tehdy jsem to používal na broadcast. Ukázal jsem to pár kolegům, napsal jsem "jdeme vařit" a za chvíli se zvedl @mravenec s hrnkem, následován @fromen a @macus a šli jsme navštívit naši Atlasí kuchyňku. V tomhle fungoval twitter skvěle. :)

Pak se najednou nenápadně objevil takový malý box pod zprávičkama na W3B. Bylo tam tehdy asi šest účtů. Ono jich tehdy na českém štěbetáku taky o moc víc nebylo. Ale začaly přibývat. :) A to celkem rychle. Ten box si pomalu našel cestu nahoru. Možná se to spoustě lidí nelíbilo a křičeli, ale nebyli vyslyšeni. Tehdy se objevila beta IE8 a @hassmanm absolutně vytapetoval weblogy svou on-line reportáží z její instalace a prvních dojmů. Myslím, že byl za to na nějaký čas odfollowován… :)

No a dneska je situace zcela jiná. Twitter už zná skoro každý, dokonce se o něm pořádají přednášky, jak na něj správně psát a jak na něm dělat marketing. Škoda, že jsme ty znalosti neměli už tehdy. Dneska jsme mohli bejt strašně bohatý. ;)

[clanek(252)]: /weblog/252-v-zajeti-socialnich-siti.aspx V zajetí sociálních sítí
</raw>
    <author>Aleš Roubíček</author>
    <published>2009-11-25T05:59:13.973</published>
    <url>jak-jsem-potkal-twitter</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>weblogy twitter social</tags>
    <is-published>1</is-published>
    <edited>2009-11-25T06:00:15.883</edited>
  </article>
  <article>
    <id>373</id>
    <title>Spustili jsme Trop blog</title>
    <description>Už je tomu tak, každá správná sociální služba se má šířit všema kanálama a dnes přibyl další.</description>
    <html xml:space="preserve">
&lt;p&gt;Už je tomu tak, každá správná sociální služba se má šířit všema
kanálama a dnes přibyl další.&lt;/p&gt;

&lt;p&gt;Dneska najdete Trop skoro všude:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href="http://www.facebook.com/pages/Trop/103373591895"&gt;Trop na
	Facebooku&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a href="http://www.twitter.com/TropCZ"&gt;Trop na Twitteru&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a href="http://friendfeed.com/troppraha"&gt;Trop na Friendfeedu&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a href="http://blog.trop.cz/"&gt;Trop Blog&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Původně jsem chtěl blog nasadit na některý z existujících
redakčních systémů. Výbíral jsem z &lt;a
href="http://www.wordpress.org/"&gt;Wordpressu&lt;/a&gt;, &lt;a
href="http://oxite.codeplex.com/"&gt;Oxite&lt;/a&gt;, &lt;a
href="http://atomsite.net/"&gt;AtomSite&lt;/a&gt; a nakonec nevybral ani jeden. :)
Instalovat na server další databázový stroj (MySQL) jen kvůli blogu mi
přišlo zbytečné – Wordpress padl. Oxite se zdá být zajímavým,
protože na něm jsou postaveny prezentační weby Microsoftích konferencí a
navíc je to napsaný v ASP.NET MVC (stejně jako &lt;a
href="http://www.trop.cz/"&gt;Trop&lt;/a&gt;). Bohužel je to celé dost nepoužitelné a
navíc chybí podpora pro správu uživatelů. Což je velký problém, kterým
trpí i jinak zajímavě vypadající AtomSite.&lt;/p&gt;

&lt;p&gt;Velké ostřílené distribuce jako SubText, BlogEngine.net nebo dasBlog se
mi už zkoušet nechtělo a sáhl jsem po tom s čím dokážu dělat snadno a
rychle. Ano, po &lt;a href="http://www.gryphoon.net/"&gt;stařičkém Gryphoonovi&lt;/a&gt;,
který pohání i tento blog. Chtělo to jen pár drobných úprav a frontend,
který byl jen a pouze na tomto blogu, už je nasaditelný i na jiné domény
než rarouš.net. :) Možná ho o prázdninách dám nějak do kupky a vydám
bastl hybrid Gryphoon 1.90. :)&lt;/p&gt;

&lt;p&gt;Stay tuned.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Už je tomu tak, každá správná sociální služba se má šířit všema kanálama a dnes přibyl další.

Dneska najdete Trop skoro všude:
* "Trop na Facebooku":[facebook]
* "Trop na Twitteru":[twitter]
* "Trop na Friendfeedu":[friendfeed]
* "Trop Blog":[blog]

Původně jsem chtěl blog nasadit na některý z existujících redakčních systémů. Výbíral jsem z Wordpressu:[wordpress], [oxite], [atom] a nakonec nevybral ani jeden. :) Instalovat na server další databázový stroj (MySQL) jen kvůli blogu mi přišlo zbytečné – Wordpress padl. Oxite se zdá být zajímavým, protože na něm jsou postaveny prezentační weby Microsoftích konferencí a navíc je to napsaný v ASP.NET MVC (stejně jako Trop:[trop]). Bohužel je to celé dost nepoužitelné a navíc chybí podpora pro správu uživatelů. Což je velký problém, kterým trpí i jinak zajímavě vypadající AtomSite.

Velké ostřílené distribuce jako SubText, BlogEngine.net nebo dasBlog se mi už zkoušet nechtělo a sáhl jsem po tom s čím dokážu dělat snadno a rychle. Ano, po "stařičkém Gryphoonovi":[gryphoon], který pohání i tento blog. Chtělo to jen pár drobných úprav a frontend, který byl jen a pouze na tomto blogu, už je nasaditelný i na jiné domény než rarouš.net. :) Možná ho o prázdninách dám nějak do kupky a vydám bastl hybrid Gryphoon 1.90. :)

Stay tuned.

[atom]: http://atomsite.net/ AtomSite
[wordpress]: http://www.wordpress.org/ Wordpress
[oxite]: http://oxite.codeplex.com/  Oxite
[gryphoon]: http://www.gryphoon.net/
[trop]: http://www.trop.cz/
[blog]: http://blog.trop.cz/
[twitter]: http://www.twitter.com/TropCZ
[friendfeed]: http://friendfeed.com/troppraha
[facebook]: http://www.facebook.com/pages/Trop/103373591895
</raw>
    <author>Aleš Roubíček</author>
    <published>2009-12-17T16:22:17.063</published>
    <url>spustili-jsme-trop-blog</url>
    <category>Gryphoon</category>
    <keywords></keywords>
    <tags>trop gryphoon</tags>
    <is-published>1</is-published>
    <edited>2009-12-22T13:02:17.847</edited>
  </article>
  <article>
    <id>374</id>
    <title>Ošetření chybových stavů v ASP.NET MVC</title>
    <description>Každá aplikace se může dostat do stavu, kdy není vše, jak má být, a nastane chyba. Tyto stavy bychom neměli ignorovat, ale pečlivě ošetřovat. Jak na to se podíváme v tomto spotu.</description>
    <html xml:space="preserve">
&lt;p&gt;Každá aplikace se může dostat do stavu, kdy není vše, jak má být, a
nastane chyba. Tyto stavy bychom neměli ignorovat, ale pečlivě ošetřovat.
Jak na to se podíváme v tomto spotu.&lt;/p&gt;

&lt;p&gt;ASP.NET obsahuje poměrně sofistikovaný mechanismus na zpracování chyb.
Ukazuje celkem podrobné chybové výpisy, které jsou nám vývojářům velice
užitečné. Nicméně nejsou užitečné naším uživatelům a ještě mohou
leccos prozradit našim útočníkům. Proto by v produkci měly být tyto
hlášky zakázané.&lt;/p&gt;

&lt;h3 id="toc-konfigurace"&gt;Konfigurace&lt;/h3&gt;

&lt;p&gt;Každá aplikace v produkci by měla mít nastavené pěkné chybové
stránky, bez podrobností, co se stalo, ale s informacemi, kam dál uživatel
může pokračovat. Popřípadě mu pomoci nalézt to, co hledal. K tomu
slouží konfigurační element &lt;code&gt;customErrors&lt;/code&gt;, kde můžeme nastavit
režim zobrazování a jednotlivé stránky, které se mají zobrazit na
určitý chybový kód.&lt;/p&gt;

&lt;p&gt;Bohužel, systém je navržen zcela kokotsky a pokud chcete v konfiguraci
nastavit pro 404 a 500 jiné stránky, jsou vraceny s kódem 200. Proto
využijeme jen následující konfiguraci. Zbylá je celkem k ničemu.&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-markup"&gt;&amp;lt;customErrors mode="RemoteOnly" /&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Tím docílíme toho, že všechny requesty, které nejsou z tohoto serveru
obdrží pěkné chybové stránky. Dotaz z daného serveru dostane podrobný
chybový výpis, což se může hodit.&lt;/p&gt;

&lt;h3 id="toc-zpracovani-chyb"&gt;Zpracování chyb&lt;/h3&gt;

&lt;p&gt;ASP.NET MVC má v sobě základní mechanismus pro ošetřování chyb. Je
jím ActionFilter &lt;code&gt;HandleError&lt;/code&gt;, který renderuje pohled
&lt;code&gt;Error.aspx&lt;/code&gt;, pokud dojde k probublání neošetřené výjimky až
do akce řadiče.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;[HandleError]
public class MyController : Controller {
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Procento chyb, takto zachytitelných, jistě není malé, ovšem není 100%.
Nemusíme chodit pro příklad daleko a stačí udělat chybku v šabloně
pohledu. Hned tu máme nepěknou chybovou stránku.&lt;/p&gt;

&lt;p&gt;Takovouto chybu odchytíme až v Global.asax:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;protected void Application_Error() {

#if DEBUG
  return;
#endif

  Exception exception = Server.GetLastError();

  Response.Clear();

  RouteData routeData = new RouteData();
  routeData.Values.Add("controller", "Error");

  if (IsPageNotFoundException(exception as HttpException)) {
    routeData.Values.Add("action", "NotFound");
  }
  else {
    routeData.Values.Add("action", "Error");
  }

  Server.ClearError();

  IController errorController = new ErrorController();
  errorController.Execute(new RequestContext(new HttpContextWrapper(Context), routeData));
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Pokud máme aplikaci v debug modu (typicky u vývojáře) je vhodné nechat
chyby probublat až k němu. Pokud jsme ale v releasu musíme chybu zpracovat.
Na výpis chybové stránky nám poslouží &lt;code&gt;ErrorController&lt;/code&gt;, který
má dvě akce: &lt;code&gt;NotFound&lt;/code&gt; pro 404 a &lt;code&gt;Error&lt;/code&gt; pro 500.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class ErrorController : Controller {

  [StatusCode(HttpStatusCode.NotFound)]
  public ActionResult NotFound() {
    return View();
  }

  [StatusCode(HttpStatusCode.InternalServerError)]
  public ActionResult Error() {
    return View();
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Díky způsobu hledání šablon v ASPX View enginu, můžeme na
&lt;code&gt;Error&lt;/code&gt; využít stejnou &lt;code&gt;Error.aspx&lt;/code&gt; ve složce
&lt;code&gt;Shared&lt;/code&gt; jako pro chyby zachycené už na řadiči.&lt;/p&gt;

&lt;h3 id="toc-neplatna-referencni-identita"&gt;Neplatná referenční identita&lt;/h3&gt;

&lt;p&gt;Teď se ještě dostaneme k tomu, proč tu máme zpracování
&lt;code&gt;HttpException&lt;/code&gt; s kódem 404. Kde se vezme?&lt;/p&gt;

&lt;p&gt;Typicky, když máme nějakou detail page, snažíme se pomocí nějakého
jedinečného identifikátoru natáhnout zobrazovanou entitu. Pokud žádnou
nenajdeme je vhodné vyhodit výjimku a protože jsme na úrovni webové
aplikace, měla by to být &lt;code&gt;HttpException&lt;/code&gt; s kódem
&lt;code&gt;404&lt;/code&gt;, která říká, že hledaná stránka nebyla nalezena.&lt;/p&gt;

&lt;p&gt;Její zpracování už máme výše vyřešeno. A to je snad pro dnešek
vše. :)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Každá aplikace se může dostat do stavu, kdy není vše, jak má být, a nastane chyba. Tyto stavy bychom neměli ignorovat, ale pečlivě ošetřovat. Jak na to se podíváme v tomto spotu.

ASP.NET obsahuje poměrně sofistikovaný mechanismus na zpracování chyb. Ukazuje celkem podrobné chybové výpisy, které jsou nám vývojářům velice užitečné. Nicméně nejsou užitečné naším uživatelům a ještě mohou leccos prozradit našim útočníkům. Proto by v produkci měly být tyto hlášky zakázané.

Konfigurace
===========

Každá aplikace v produkci by měla mít nastavené pěkné chybové stránky, bez podrobností, co se stalo, ale s informacemi, kam dál uživatel může pokračovat. Popřípadě mu pomoci nalézt to, co hledal. K tomu slouží konfigurační element `customErrors`, kde můžeme nastavit režim zobrazování a jednotlivé stránky, které se mají zobrazit na určitý chybový kód.

Bohužel, systém je navržen zcela kokotsky a pokud chcete v konfiguraci nastavit pro 404 a 500 jiné stránky, jsou vraceny s kódem 200. Proto využijeme jen následující konfiguraci. Zbylá je celkem k ničemu.

/--code xml
&lt;customErrors mode="RemoteOnly" /&gt;
\--code

Tím docílíme toho, že všechny requesty, které nejsou z tohoto serveru obdrží pěkné chybové stránky. Dotaz z daného serveru dostane podrobný chybový výpis, což se může hodit.

Zpracování chyb
===============

ASP.NET MVC má v sobě základní mechanismus pro ošetřování chyb. Je jím ActionFilter `HandleError`, který renderuje pohled `Error.aspx`, pokud dojde k probublání neošetřené výjimky až do akce řadiče.

/--code csharp
[HandleError]
public class MyController : Controller {
}
\--code

Procento chyb, takto zachytitelných, jistě není malé, ovšem není 100%. Nemusíme chodit pro příklad daleko a stačí udělat chybku v šabloně pohledu. Hned tu máme nepěknou chybovou stránku.

Takovouto chybu odchytíme až v Global.asax:

/--code csharp
    protected void Application_Error() {

#if DEBUG
      return;
#endif

      Exception exception = Server.GetLastError();

      Response.Clear();

      RouteData routeData = new RouteData();
      routeData.Values.Add("controller", "Error");

      if (IsPageNotFoundException(exception as HttpException)) {
        routeData.Values.Add("action", "NotFound");
      }
      else {
        routeData.Values.Add("action", "Error");
      }

      Server.ClearError();

      IController errorController = new ErrorController();
      errorController.Execute(new RequestContext(new HttpContextWrapper(Context), routeData));
    }
\--code

Pokud máme aplikaci v debug modu (typicky u vývojáře) je vhodné nechat chyby probublat až k němu. Pokud jsme ale v releasu musíme chybu zpracovat. Na výpis chybové stránky nám poslouží `ErrorController`, který má dvě akce: `NotFound` pro 404 a `Error` pro 500.

/--code csharp
public class ErrorController : Controller {

  [StatusCode(HttpStatusCode.NotFound)]
  public ActionResult NotFound() {
    return View();
  }

  [StatusCode(HttpStatusCode.InternalServerError)]
  public ActionResult Error() {
    return View();
  }
}
\--code

Díky způsobu hledání šablon v ASPX View enginu, můžeme na `Error` využít stejnou `Error.aspx` ve složce `Shared` jako pro chyby zachycené už na řadiči.

Neplatná referenční identita
============================

Teď se ještě dostaneme k tomu, proč tu máme zpracování `HttpException` s kódem 404. Kde se vezme?

Typicky, když máme nějakou detail page, snažíme se pomocí nějakého jedinečného identifikátoru natáhnout zobrazovanou entitu. Pokud žádnou nenajdeme je vhodné vyhodit výjimku a protože jsme na úrovni webové aplikace, měla by to být `HttpException` s kódem `404`, která říká, že hledaná stránka nebyla nalezena.

Její zpracování už máme výše vyřešeno. A to je snad pro dnešek vše. :)</raw>
    <author>Aleš Roubíček</author>
    <published>2009-12-22T12:50:33.123</published>
    <url>osetreni-chybovych-stavu-v-asp-net-mvc</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>aspnet mvc 404</tags>
    <is-published>1</is-published>
    <edited>2009-12-22T18:22:11.790</edited>
  </article>
  <article>
    <id>375</id>
    <title>Začal jsem cvičit TDD katu</title>
    <description>Zapojte se společně se mnou do cvičení TDD katy. Co to vlastně je? Proč to dělat?</description>
    <html xml:space="preserve">
&lt;p&gt;Co je to za blbost, říkáte si.&lt;/p&gt;

&lt;h3 id="toc-kazdy-cvici"&gt;Každý cvičí&lt;/h3&gt;

&lt;p&gt;Když se podíváte do jakékoli oblasti lidského působení, zjistíte, že
všichni mistři pravidelně cvičí, aby se zdokonalovali nebo jen udržovali
formu. Proč by programátoři měli být něco extra? I programátoři musí
cvičit! Jen cvičením dosáhnete požadované formy.&lt;/p&gt;

&lt;h3 id="toc-katy"&gt;Katy&lt;/h3&gt;

&lt;p&gt;Pro cvičení programátorů dnes vznikají různé &lt;a
href="http://en.wikipedia.org/wiki/Kata"&gt;katy&lt;/a&gt; (znáte z karate nebo juda),
které jsou v podobě zadání, které byste měli zvládnout naimplementovat
pomocí TDD za určitý čas. Cvičení takové katy by vám mělo přejít do
krve, každý stisk klávesy by měl být zcela automatický a intuitivní,
podobně jako se cvičí katy v karate. Abyste to vše stihli, musíte
minimalizovat saháni na myš na úplné &lt;acronym
title="NESAHAT!"&gt;minimum&lt;/acronym&gt;. Musíte se naučit ovládat vaše vývojové
prostředí a dostat z něj maximum. Musíte se naučit dělat věci co
nejjednodušeji, ale výsledek musí být uspokojivě kvalitní. &lt;em&gt;Čistý
kód&lt;/em&gt;.&lt;/p&gt;

&lt;h3 id="toc-hudba"&gt;Hudba&lt;/h3&gt;

&lt;p&gt;U katy byste měli mít správný rytmus, aby vše odsejpalo jak má. Proto
je důležitý výběr správné hudby, která udává rytmus a podporuje
správné flow vašeho cvičení. Mnozí si vybírají nějakou klasiku, třeba
Rachmaninova. Já si vybral taneční klasiku &lt;a
href="http://beatport.com/u/r4Z8"&gt;Pryda – Aftermath (Original Extended
Mix)&lt;/a&gt;, která má zajímavé progresivní pasáže a navíc trvá celých
15 minut. Na jedno 30minutové cvičení mi tedy vyjde poslech přesně 2×.
Můj cíl, je dát celou katu na &lt;strong&gt;jeden jediný poslech&lt;/strong&gt;.&lt;/p&gt;

&lt;h3 id="toc-vyzva"&gt;Výzva&lt;/h3&gt;

&lt;p&gt;Když si vytyčíte nějaké cíle, musíte jim něco obětovat, sáhnout si
na dno svých možností. Pojďte do toho také! Pojďte cvičit a staňte se
mistry! Někteří budou nuceni doinstalovat lepší nástroje, které zvýší
jejich produktivitu, jiní přijdou na to, že jazyk, ve kterém píší, je
zdržuje a &lt;acronym title="true story"&gt;budou muset switchnout na
produktivnější&lt;/acronym&gt;. :) Pojďte se poměřovat, každé ráno po
cvičení hoďte svůj výsledek na štěbeták s tagem &lt;a
href="http://twitter.com/#search?q=%23tddkatacz"&gt;#tddkatacz&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id="toc-co-cvicit"&gt;Co cvičit&lt;/h3&gt;

&lt;p&gt;Já osobně začínám cvičit &lt;a
href="http://osherove.com/tdd-kata-1/"&gt;StringCalculator&lt;/a&gt; katu od Roye
Osherova, ale je jich víc. Jsou tu katy na počítání prvočísel, výpočet
výsledku bowlingu, převod římských čísel na arabská apod. Pokud se
chcete inspirovat doporučuji navštívit stránky &lt;a
href="http://katas.softwarecraftsmanship.org/"&gt;http://katas.softwarecraftsmanship.org/&lt;/a&gt;.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Co je to za blbost, říkáte si.

Každý cvičí
===========

Když se podíváte do jakékoli oblasti lidského působení, zjistíte, že všichni mistři pravidelně cvičí, aby se zdokonalovali nebo jen udržovali formu. Proč by programátoři měli být něco extra? I programátoři musí cvičit! Jen cvičením dosáhnete požadované formy.

Katy
====

Pro cvičení programátorů dnes vznikají různé katy:[http://en.wikipedia.org/wiki/Kata] (znáte z karate nebo juda), které jsou v podobě zadání, které byste měli zvládnout naimplementovat pomocí TDD za určitý čas. Cvičení takové katy by vám mělo přejít do krve, každý stisk klávesy by měl být zcela automatický a intuitivní, podobně jako se cvičí katy v karate. Abyste to vše stihli, musíte minimalizovat saháni na myš na úplné minimum((NESAHAT!)). Musíte se naučit ovládat vaše vývojové prostředí a dostat z něj maximum. Musíte se naučit dělat věci co nejjednodušeji, ale výsledek musí být uspokojivě kvalitní. *Čistý kód*.

Hudba
=====

U katy byste měli mít správný rytmus, aby vše odsejpalo jak má. Proto je důležitý výběr správné hudby, která udává rytmus a podporuje správné flow vašeho cvičení. Mnozí si vybírají nějakou klasiku, třeba Rachmaninova. Já si vybral taneční klasiku "Pryda - Aftermath (Original Extended Mix)":[http://beatport.com/u/r4Z8], která má zajímavé progresivní pasáže a navíc trvá celých 15 minut. Na jedno 30minutové cvičení mi tedy vyjde poslech přesně 2x. Můj cíl, je dát celou katu na **jeden jediný poslech**.

Výzva
=====

Když si vytyčíte nějaké cíle, musíte jim něco obětovat, sáhnout si na dno svých možností. Pojďte do toho také! Pojďte cvičit a staňte se mistry! Někteří budou nuceni doinstalovat lepší nástroje, které zvýší jejich produktivitu, jiní přijdou na to, že jazyk, ve kterém píší, je zdržuje a "budou muset switchnout na produktivnější"((true story)). :) Pojďte se poměřovat, každé ráno po cvičení hoďte svůj výsledek na štěbeták s tagem [tdd-kata-cz].

Co cvičit
=========

Já osobně začínám cvičit [stringcalc] katu od Roye Osherova, ale je jich víc. Jsou tu katy na počítání prvočísel, výpočet výsledku bowlingu, převod římských čísel na arabská apod. Pokud se chcete inspirovat doporučuji navštívit stránky http://katas.softwarecraftsmanship.org/.

[tdd-kata-cz]: http://twitter.com/#search?q=%23tddkatacz #tddkatacz
[stringcalc]: http://osherove.com/tdd-kata-1/ StringCalculator</raw>
    <author>Aleš Roubíček</author>
    <published>2009-12-27T10:02:39.907</published>
    <url>zacal-jsem-cvicit-tdd-katu</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>tdd kata craftmanship</tags>
    <is-published>1</is-published>
    <edited>2009-12-28T10:19:40.230</edited>
  </article>
  <article>
    <id>376</id>
    <title>Lokalizované URL v ASP.NET MVC</title>
    <description>Jak snadno a rychle vyřešit problém lokalizovaných URL v ASP.NET MVC potažmo i v ASP.NET 4?</description>
    <html xml:space="preserve">
&lt;p&gt;Pokud se dostanete do situace, že budete potřebovat lokalizovat URL adresy
vaší webové aplikace, máte hned několik možností, jak to řešit.&lt;/p&gt;

&lt;p&gt;Jedno z možných řešení, které se mi ani trochu nelíbí, popsal Augi
ve svém článku &lt;a
href="http://www.augi.cz/programovani/asp-net-mvc-lokalizace-url/"&gt;ASP.NET
MVC – lokalizace URL&lt;/a&gt;. Já mám raději jednoduchá řešení, která
nepotřebují hackovat systém. :)&lt;/p&gt;

&lt;p&gt;Když jsme začali psát &lt;a href="http://www.trop.cz/"&gt;Trop&lt;/a&gt;, byl celý
v angličtině. Díky konvencím, které jsem popsal v článku &lt;a
href="/weblog/340-pojmenovane-routy-v-asp-net-mvc.aspx"&gt;Pojmenované routy
v ASP.NET MVC&lt;/a&gt;, měla naprostá většina stránek svojí vlastní routu.
A protože definice routy není nic jiného než textový řetězec, přesunul
jsem jej do resource souboru &lt;code&gt;Routes.resx&lt;/code&gt;. To byl první krok.&lt;/p&gt;

&lt;p&gt;Když jsme vymýšleli, jakým způsobem poběží jednotlivé jazykové
mutace, bylo jasné, že každá mutace bude mít vlastní top-level doménu a
bude to samostatná instance aplikace. To je super, protože se pak dá využít
konfigurační sekce &lt;code&gt;globalization&lt;/code&gt;, kde se nastaví jazyk
prostředí konkrétní instance, podle kterého se i vybírají konkrétní
resource soubory.&lt;/p&gt;

&lt;p&gt;Česká instance pak má ve web.configu následující řádek:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-markup"&gt;&amp;lt;globalization culture="cs-CZ" /&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Díky tomu se použijí routovací pravidla z &lt;code&gt;Routes.cs.resx&lt;/code&gt; a
URL adresy se generují česky, aniž bych musel v kódu cokoli změnit.
Samozřejmě nejsou přeložená všechna routovací pravidla, spousta akcí,
které jsou pouze &lt;code&gt;POST&lt;/code&gt;, překlad nepotřebuje, protože nejsou
součástí prezentační vrstvy.&lt;/p&gt;

&lt;p&gt;Nakonec veškeré úsilí, které bylo k implementaci lokalizovaných URL
potřeba, bylo v tom, embedovat definované routy do resource souboru,
s čímž mi ochotně pomohl Refactor! Pro. :) Zbytek je věc konfigurace
v deployovacím scriptu. Ale to už je na jiné povídání.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Pokud se dostanete do situace, že budete potřebovat lokalizovat URL adresy vaší webové aplikace, máte hned několik možností, jak to řešit.

Jedno z možných řešení, které se mi ani trochu nelíbí, popsal Augi ve svém článku [augi]. Já mám raději jednoduchá řešení, která nepotřebují hackovat systém. :)

Když jsme začali psát Trop:[http://www.trop.cz/], byl celý v angličtině. Díky konvencím, které jsem popsal v článku [clanek(340)], měla naprostá většina stránek svojí vlastní routu. A protože definice routy není nic jiného než textový řetězec, přesunul jsem jej do resource souboru `Routes.resx`. To byl první krok.

Když jsme vymýšleli, jakým způsobem poběží jednotlivé jazykové mutace, bylo jasné, že každá mutace bude mít vlastní top-level doménu a bude to samostatná instance aplikace. To je super, protože se pak dá využít konfigurační sekce `globalization`, kde se nastaví jazyk prostředí konkrétní instance, podle kterého se i vybírají konkrétní resource soubory.

Česká instance pak má ve web.configu následující řádek:

/--code xml
&lt;globalization culture="cs-CZ" /&gt;
\--code

Díky tomu se použijí routovací pravidla z `Routes.cs.resx` a URL adresy se generují česky, aniž bych musel v kódu cokoli změnit. Samozřejmě nejsou přeložená všechna routovací pravidla, spousta akcí, které jsou pouze `POST`, překlad nepotřebuje, protože nejsou součástí prezentační vrstvy.

Nakonec veškeré úsilí, které bylo k implementaci lokalizovaných URL potřeba, bylo v tom, embedovat definované routy do resource souboru, s čímž mi ochotně pomohl Refactor! Pro. :) Zbytek je věc konfigurace v deployovacím scriptu. Ale to už je na jiné povídání.

[clanek(340)]: /weblog/340-pojmenovane-routy-v-asp-net-mvc.aspx Pojmenované routy v ASP.NET MVC
[augi]: http://www.augi.cz/programovani/asp-net-mvc-lokalizace-url/ ASP.NET MVC - lokalizace URL</raw>
    <author>Aleš Roubíček</author>
    <published>2010-01-24T11:26:42.327</published>
    <url>lokalizovane-url-v-asp-net-mvc</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>aspnet mvc routing lokalizace</tags>
    <is-published>1</is-published>
    <edited>2010-01-24T11:33:06.293</edited>
  </article>
  <article>
    <id>377</id>
    <title>Doménové dotazy</title>
    <description>Dneska se podíváme na zoubek dotazování nad doménovými objekty. Jak refaktorovat IRepository na autonomní query objekty...</description>
    <html xml:space="preserve">
&lt;p&gt;V každé aplikaci, kde se pracuje s daty, se dostaneme do situace, kdy se
nad daty potřebujeme dotazovat. Pokud přijmeme za svůj vzor Repository,
můžeme se dostat do situace, podobné té v následující ukázce:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public interface IArticlesRepository {
  Article FindById(long id);
  IEnumerable&amp;lt;Article&amp;gt; FindAll(PagingInfo paging);
  IEnumerable&amp;lt;Article&amp;gt; FindByCategory(Category category, PagingInfo paging);
  IEnumerable&amp;lt;Article&amp;gt; FindByAuthor(User author, PagingInfo paging);
  IEnumerable&amp;lt;Article&amp;gt; FindByTag(string tag, PagingInfo paging);
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Jak vidno s každým typem dotazu, rozšiřujeme rozhraní naší
repository. Což porušuje &lt;a
href="http://en.wikipedia.org/wiki/Open/closed_principle"&gt;Open/closed
principle&lt;/a&gt; – jeden z pilířů &lt;a
href="http://en.wikipedia.org/wiki/Solid_%28Object_Oriented_Design%29"&gt;Solidní&lt;/a&gt;
architektury. Ten nám říká, že objekt by měl být otevřený
k rozšíření, ale uzavřený k modifikaci. Přidáváním dalších metod
ho očividně rozšiřujeme. Jak na to?&lt;/p&gt;

&lt;p&gt;Jedním z možných řešení je zavedení dotazovacích objektů, kde
využijeme kompozice k docílení lepšího návrhu. A protože jde o obecný
mechanismus, můžeme ho pěkně generalizovat. Dále budu předpokládat, že
pracujeme vůči datovému zdroji podporujícímu LINQ dotazování, jako je
NHibernate.Linq, LINQ2SQL nebo EntityFramework.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public interface IQueryObject&amp;lt;T&amp;gt; {
  int Count(IQueryable&amp;lt;T&amp;gt; table);
  IEnumerable&amp;lt;T&amp;gt; Fetch(IQueryable&amp;lt;T&amp;gt; table);
  T FetchOne(IQueryable&amp;lt;T&amp;gt; table);
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Dotazovací objekt má tři metody. První spočítá kolik objektů splňuje
podmínky dotazu. Druhá vrátí kolekci vybraných objektů a poslední vrací
jedinečný záznam. K takovému rozhraní si můžeme vytvořit bázovou
třídu, která nám pomůže s rychlejším vytvářením konkrétních
dotazů.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public abstract class QueryObjectBase&amp;lt;T&amp;gt; : IQueryObject&amp;lt;T&amp;gt; {

  protected QueryObjectBase&amp;lt;T&amp;gt;(PagingInfo paging) {
    Paging = paging;
  }

  public PagingInfo Paging { get; private set; }

  protected abstract IQueryable&amp;lt;T&amp;gt; CreateQuery(IQueryable&amp;lt;T&amp;gt; table);

  public virtual int Count(IQueryable&amp;lt;T&amp;gt; table) {
    return CreateQuery(table).Count();
  }

  public virtual IEnumerable&amp;lt;T&amp;gt; Fetch(IQueryable&amp;lt;T&amp;gt; table) {
    return CreateQuery(table).
      Skip(Paging.Skip).
      Take(Paging.PageSize).
      ToArray();
  }

  public virtual T FetchOne(IQueryable&amp;lt;T&amp;gt; table) {
    return CreateQuery(table).FirstOrDefault();
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Konkrétní dotazovací objekt pak ve většině případů implementuje
jedinou metodu, která vrací LINQ dotaz. V případě potřeby si však
konkrétní implementace může připravené metody změnit k obrazu svému.
Máme zde zavedenou i konvenci stránkování, která předchází generování
neomezených dotazů do databáze. A teď už nám zbývá jen zabalit to
pěkně do nějakého DAO objektu.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public interface IQueryExecutor&amp;lt;T&amp;gt; {
  int Count(IQueryObject&amp;lt;T&amp;gt; query);
  IEnumerable&amp;lt;T&amp;gt; Fetch(IQueryObject&amp;lt;T&amp;gt; query);
  T FetchOne(IQueryObject&amp;lt;T&amp;gt; query);
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;DAO objekt jediný zná konkrétní implementaci datového uložiště,
kterou předává do dotazovacího objektu jako
&lt;code&gt;IQueryable&amp;lt;T&amp;gt;&lt;/code&gt;. Výsledné použití v praxi může pak
vypadat následovně:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;var articles = _articlesDao.Fetch(new CategoryArticlesQuery(category, pagingInfo));&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Kde konkrétní implementace dotazovacího objektu vypadá takto:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class CategoryArticlesQuery : QueryObjectBase&amp;lt;Article&amp;gt; {

  public CategoryArticlesQuery(Category category, PagingInfo paging)
    : base(paging) {
    Category = category;
  }

  public Category Category { get; private set; }

  protected override IQueryble&amp;lt;Article&amp;gt; CreateQuery(IQueryable&amp;lt;Article&amp;gt; table) {
    return from article in table
           where article.Category == Category
              &amp;amp;&amp;amp; article.IsPublished
           orderby article.PublishDate descending
           select article;
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Výhodou i je, že pokud potřebujeme upravit dotaz, děláme to vždy jen
jednou na jednom místě.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">V každé aplikaci, kde se pracuje s daty, se dostaneme do situace, kdy se nad daty potřebujeme dotazovat. Pokud přijmeme za svůj vzor Repository, můžeme se dostat do situace, podobné té v následující ukázce:

/--code csharp
public interface IArticlesRepository {
  Article FindById(long id);
  IEnumerable&lt;Article&gt; FindAll(PagingInfo paging);
  IEnumerable&lt;Article&gt; FindByCategory(Category category, PagingInfo paging);
  IEnumerable&lt;Article&gt; FindByAuthor(User author, PagingInfo paging);
  IEnumerable&lt;Article&gt; FindByTag(string tag, PagingInfo paging);
}
\--code

Jak vidno s každým typem dotazu, rozšiřujeme rozhraní naší repository. Což porušuje [ocp] - jeden z pilířů Solidní:[solid] architektury. Ten nám říká, že objekt by měl být otevřený k rozšíření, ale uzavřený k modifikaci. Přidáváním dalších metod ho očividně rozšiřujeme. Jak na to?

Jedním z možných řešení je zavedení dotazovacích objektů, kde využijeme kompozice k docílení lepšího návrhu. A protože jde o obecný mechanismus, můžeme ho pěkně generalizovat. Dále budu předpokládat, že pracujeme vůči datovému zdroji podporujícímu LINQ dotazování, jako je NHibernate.Linq, LINQ2SQL nebo EntityFramework.

/--code csharp
public interface IQueryObject&lt;T&gt; {
  int Count(IQueryable&lt;T&gt; table);
  IEnumerable&lt;T&gt; Fetch(IQueryable&lt;T&gt; table);
  T FetchOne(IQueryable&lt;T&gt; table);
}
\--code

Dotazovací objekt má tři metody. První spočítá kolik objektů splňuje podmínky dotazu. Druhá vrátí kolekci vybraných objektů a poslední vrací jedinečný záznam. K takovému rozhraní si můžeme vytvořit bázovou třídu, která nám pomůže s rychlejším vytvářením konkrétních dotazů.

/--code csharp
public abstract class QueryObjectBase&lt;T&gt; : IQueryObject&lt;T&gt; {

  protected QueryObjectBase&lt;T&gt;(PagingInfo paging) {
    Paging = paging;
  }

  public PagingInfo Paging { get; private set; }

  protected abstract IQueryable&lt;T&gt; CreateQuery(IQueryable&lt;T&gt; table);

  public virtual int Count(IQueryable&lt;T&gt; table) {
    return CreateQuery(table).Count();
  }

  public virtual IEnumerable&lt;T&gt; Fetch(IQueryable&lt;T&gt; table) {
    return CreateQuery(table).
      Skip(Paging.Skip).
      Take(Paging.PageSize).
      ToArray();
  }

  public virtual T FetchOne(IQueryable&lt;T&gt; table) {
    return CreateQuery(table).FirstOrDefault();
  }
}
\--code

Konkrétní dotazovací objekt pak ve většině případů implementuje jedinou metodu, která vrací LINQ dotaz. V případě potřeby si však konkrétní implementace může připravené metody změnit k obrazu svému. Máme zde zavedenou i konvenci stránkování, která předchází generování neomezených dotazů do databáze. A teď už nám zbývá jen zabalit to pěkně do nějakého DAO objektu.

/--code csharp
public interface IQueryExecutor&lt;T&gt; {
  int Count(IQueryObject&lt;T&gt; query);
  IEnumerable&lt;T&gt; Fetch(IQueryObject&lt;T&gt; query);
  T FetchOne(IQueryObject&lt;T&gt; query);
}
\--code

DAO objekt jediný zná konkrétní implementaci datového uložiště, kterou předává do dotazovacího objektu jako `IQueryable&lt;T&gt;`. Výsledné použití v praxi může pak vypadat následovně:

/--code csharp
var articles = _articlesDao.Fetch(new CategoryArticlesQuery(category, pagingInfo));
\--code

Kde konkrétní implementace dotazovacího objektu vypadá takto:

/--code csharp
public class CategoryArticlesQuery : QueryObjectBase&lt;Article&gt; {

  public CategoryArticlesQuery(Category category, PagingInfo paging)
    : base(paging) {
    Category = category;
  }

  public Category Category { get; private set; }

  protected override IQueryble&lt;Article&gt; CreateQuery(IQueryable&lt;Article&gt; table) {
    return from article in table
           where article.Category == Category
              &amp;&amp; article.IsPublished
           orderby article.PublishDate descending
           select article;
  }
}
\--code

Výhodou i je, že pokud potřebujeme upravit dotaz, děláme to vždy jen jednou na jednom místě.

[ocp]: http://en.wikipedia.org/wiki/Open/closed_principle Open/closed principle
[solid]: http://en.wikipedia.org/wiki/Solid_%28Object_Oriented_Design%29 Solid</raw>
    <author>Aleš Roubíček</author>
    <published>2010-01-30T13:53:12.107</published>
    <url>domenove-dotazy</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>linq design patterns architecture</tags>
    <is-published>1</is-published>
    <edited>2010-01-30T13:58:19.303</edited>
  </article>
  <article>
    <id>378</id>
    <title>Facebook Connect na Trop.cz</title>
    <description>Po delší době přicházíme s dalším buildem Tropu, který je tentokrát ve znamení Facebook Connect. </description>
    <html xml:space="preserve">
&lt;p&gt;Po delší době přicházíme s dalším buildem Tropu, který je
tentokrát ve znamení Facebook Connect. Od dnešního dne se můžete na &lt;a
href="http://www.trop.cz/"&gt;Trop.cz&lt;/a&gt; přihlašovat pomocí vašeho Facebook
účtu. Facebook se tak zařadil mezi Seznam, Google, Twitter a další OpenId
poskytovatele přihlašování, kteří už na Tropu jsou.&lt;/p&gt;

&lt;h3 id="toc-facebook-connect"&gt;Facebook Connect&lt;/h3&gt;

&lt;h4 id="toc-stavajici-uzivatele"&gt;Stávající uživatelé&lt;/h4&gt;

&lt;p&gt;Stávající uživatelé si mohou svůj účet &lt;a
href="http://www.trop.cz/users/edit#accounts"&gt;propojit s Facebookem v editaci
profilu&lt;/a&gt;. Jak na to, se můžete podívat v následujícím krátkém videu:
&lt;a href="http://screencast.com/t/OTBjMWYy"&gt;Jak propojit účet
s Facebookem&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Můžete si všimnout, že jsem potvrzoval práva na publikování. To proto,
že Trop nyní umí &lt;strong&gt;posílat vaše recenze na zeď&lt;/strong&gt;. Pokud při
propojování s facebookem potvrdíte publikování, budou se vaše nové
recenze posílat i na Facebook. Nemusíte psát, že se vám někde
líbilo/nelíbilo dvakrát, stačí to napsat na Trop a vaši přátelé se
o tom dozvědí.&lt;/p&gt;

&lt;h4 id="toc-novi-uzivatele"&gt;Noví uživatelé&lt;/h4&gt;

&lt;p&gt;Noví, ještě neregistrovaní uživatelé mají nyní další možnost, jak
&lt;a href="http://www.trop.cz/registrace#facebook"&gt;se snadno na trop
zaregistrovat&lt;/a&gt; a nezatěžovat se s vyplňováním profilu. Vše potřebné
se vyplní z Facebooku.&lt;/p&gt;

&lt;h3 id="toc-recenze"&gt;Recenze&lt;/h3&gt;

&lt;p&gt;Dalších změn se dočkaly recenze. Nyní konečně můžete vaši recenzi
zpětně upravit včetně tagů a rozšířených hodnocení. Textové pole pro
editaci je nyní větší a úprava je mnohem pohodlnější. Další z novinek
je &lt;strong&gt;hodnocení recenzí&lt;/strong&gt;. Pokud se vám něčí recenze líbí,
můžete jí posunout nahoru svým hlasem. Samozřejmě můžete poslat dolu
i recenze, které nemají žádnou užitnou hodnotu. Každý registrovaný
uživatel má právo jednou zahlasovat k recenzi někoho druhého.&lt;/p&gt;

&lt;p&gt;Tlačítka pro editaci a hlasování najdete v pravém horním rohu po
najetí na recenzi.&lt;/p&gt;

&lt;h3 id="toc-twitter"&gt;Twitter&lt;/h3&gt;

&lt;p&gt;Ode dneška můžete sledovat, co se o Tropu štěbetá na Twitteru. Na
domovské stránce máme nyní widget s Twitterem. Podobně přibyl widget
s Twitterem na profilové stránky uživatelů, kteří mají svůj Twitter
spojený s Tropem. Můžete tam snadno vidět, čím se tropáci zabývají
i mimo psaní zajímavých recenzí. :) Pokud chcete vědět, co &lt;a
href="http://www.twitter.com/tropcz/"&gt;štěbetá Trop&lt;/a&gt;, můžete ho sledovat
také. Najdete zde mimo jiné i seriál tipů na zajímavá místa.&lt;/p&gt;

&lt;h3 id="toc-prani-a-oprava-bugu"&gt;Přání a oprava bugů&lt;/h3&gt;

&lt;p&gt;Snažili jsme se splnit vaše přání, která nám můžete posílat (a
posíláte) na náš &lt;a href="http://trop.uservoice.com/"&gt;uservoice&lt;/a&gt;.
Některé z nich jsem již zmínil výše, mezi dalšími je oprava hledání,
nyní opět můžete hledat i mimo Prahu. Byl vylepšen &lt;a
href="/weblog/374-osetreni-chybovych-stavu-v-asp-net-mvc.aspx"&gt;způsob jakým se
posílají chybové stránky&lt;/a&gt;, nyní už by měly být jednotné a brzy
i o něco použitelnější.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Po delší době přicházíme s dalším buildem Tropu, který je tentokrát ve znamení Facebook Connect. Od dnešního dne se můžete na [trop] přihlašovat pomocí vašeho Facebook účtu. Facebook se tak zařadil mezi Seznam, Google, Twitter a další OpenId poskytovatele přihlašování, kteří už na Tropu jsou.

Facebook Connect
================

Stávající uživatelé
-------------------

Stávající uživatelé si mohou svůj účet "propojit s Facebookem v editaci profilu":[uprava]. Jak na to, se můžete podívat v následujícím krátkém videu: [screencast].

Můžete si všimnout, že jsem potvrzoval práva na publikování. To proto, že Trop nyní umí **posílat vaše recenze na zeď**. Pokud při propojování s facebookem potvrdíte publikování, budou se vaše nové recenze posílat i na Facebook. Nemusíte psát, že se vám někde líbilo/nelíbilo dvakrát, stačí to napsat na Trop a vaši přátelé se o tom dozvědí.

Noví uživatelé
-------------

Noví, ještě neregistrovaní uživatelé mají nyní další možnost, jak "se snadno na trop zaregistrovat":[fb-registrace] a nezatěžovat se s vyplňováním profilu. Vše potřebné se vyplní z Facebooku.

Recenze
=======

Dalších změn se dočkaly recenze. Nyní konečně můžete vaši recenzi zpětně upravit včetně tagů a rozšířených hodnocení. Textové pole pro editaci je nyní větší a úprava je mnohem pohodlnější. Další z novinek je **hodnocení recenzí**. Pokud se vám něčí recenze líbí, můžete jí posunout nahoru svým hlasem. Samozřejmě můžete poslat dolu i recenze, které nemají žádnou užitnou hodnotu. Každý registrovaný uživatel má právo jednou zahlasovat k recenzi někoho druhého.

Tlačítka pro editaci a hlasování najdete v pravém horním rohu po najetí na recenzi.

Twitter
=======

Ode dneška můžete sledovat, co se o Tropu štěbetá na Twitteru. Na domovské stránce máme nyní widget s Twitterem. Podobně přibyl widget s Twitterem na profilové stránky uživatelů, kteří mají svůj Twitter spojený s Tropem. Můžete tam snadno vidět, čím se tropáci zabývají i mimo psaní zajímavých recenzí. :) Pokud chcete vědět, co "štěbetá Trop":[trop-twitter], můžete ho sledovat také. Najdete zde mimo jiné i seriál tipů na zajímavá místa.

Přání a oprava bugů
===================

Snažili jsme se splnit vaše přání, která nám můžete posílat (a posíláte) na náš [uservoice]. Některé z nich jsem již zmínil výše, mezi dalšími je oprava hledání, nyní opět můžete hledat i mimo Prahu. Byl vylepšen "způsob jakým se posílají chybové stránky":[clanek(374)], nyní už by měly být jednotné a brzy i o něco použitelnější.


[screencast]: http://screencast.com/t/OTBjMWYy Jak propojit účet s Facebookem
[trop]: http://www.trop.cz/ Trop.cz
[trop-twitter]: http://www.twitter.com/tropcz/
[uservoice]: http://trop.uservoice.com/ uservoice
[fb-registrace]: http://www.trop.cz/registrace#facebook
[uprava]: http://www.trop.cz/users/edit#accounts
[clanek(374)]: /weblog/374-osetreni-chybovych-stavu-v-asp-net-mvc.aspx </raw>
    <author>Aleš Roubíček</author>
    <published>2010-02-01T20:00:51.753</published>
    <url>facebook-connect-na-trop-cz</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>trop facebook connect openid</tags>
    <is-published>1</is-published>
    <edited>2010-02-01T20:03:50.693</edited>
  </article>
  <article>
    <id>379</id>
    <title>5 krátkých rad pro startupy</title>
    <description>5 krátkých rad pro startupy</description>
    <html xml:space="preserve">
&lt;ol&gt;
	&lt;li&gt;Pokud máte nápad, je vám to prd platné, dokud ho neuvedete v život.
	Nerealizovaný či nerealizovatelný nápad nemá žádnou hodnotu. Realizace
	sebeblbějšího nápadu je mnohem hodnotnější.&lt;/li&gt;

	&lt;li&gt;Pokud máte sebemenší realizaci nebojte se s ní jít ven. Nečekejte až
	budete mít dostatek featur, které jsou přidanou hodnotou oproti konkurenci.
	Je totiž velice pravděpodobné, že o ně nikdo nestojí.&lt;/li&gt;

	&lt;li&gt;Pokud něco máte, snažte se to vyladit. Nesnažte se přidávat další
	vlastnosti, které budou stejně nekvalitní jako ty současné.&lt;/li&gt;

	&lt;li&gt;Nedávejte prioritu na vyřeší chyb, které se stávají jednou za měsíc
	nebo dva. Řešení takových chyb &lt;em&gt;právě teď&lt;/em&gt; je
	&lt;strong&gt;nepřiměřeně drahé&lt;/strong&gt;.&lt;/li&gt;

	&lt;li&gt;Pokud máte možnosti levně/zdarma promovat váš web, nečekejte až bude
	vhodnější. Udělejte to hned. Udržovat &lt;em&gt;povědomí&lt;/em&gt; o službě
	musíte neustále. Obzvlášť pokud začínáte. Využijte každé možnosti se
	zviditelnit. Nečekejte na příhodnější dobu, ta už nikdy nemusí
	přijít.&lt;/li&gt;
&lt;/ol&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">1. Pokud máte nápad, je vám to prd platné, dokud ho neuvedete v život. Nerealizovaný či nerealizovatelný nápad nemá žádnou hodnotu. Realizace sebeblbějšího nápadu je mnohem hodnotnější.

2. Pokud máte sebemenší realizaci nebojte se s ní jít ven. Nečekejte až budete mít dostatek featur, které jsou přidanou hodnotou oproti konkurenci. Je totiž velice pravděpodobné, že o ně nikdo nestojí.

3. Pokud něco máte, snažte se to vyladit. Nesnažte se přidávat další vlastnosti, které budou stejně nekvalitní jako ty současné.

4. Nedávejte prioritu na vyřeší chyb, které se stávají jednou za měsíc nebo dva. Řešení takových chyb *právě teď* je **nepřiměřeně drahé**.

5. Pokud máte možnosti levně/zdarma promovat váš web, nečekejte až bude vhodnější. Udělejte to hned. Udržovat *povědomí* o službě musíte neustále. Obzvlášť pokud začínáte. Využijte každé možnosti se zviditelnit. Nečekejte na příhodnější dobu, ta už nikdy nemusí přijít.</raw>
    <author>Aleš Roubíček</author>
    <published>2010-02-20T15:28:33.723</published>
    <url>5-kratkych-rad-pro-startupy</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2010-02-23T15:05:45.370</edited>
  </article>
  <article>
    <id>380</id>
    <title>LINQ a lenivé vyhodnocování</title>
    <description>Občas není na škodu být lenivý, mnohdy se to vyplatí! To platí i o našich programech, zejména o těch, které zpracovávají veliké množství dat.</description>
    <html xml:space="preserve">
&lt;p&gt;Občas není na škodu být lenivý, mnohdy se to vyplatí! To platí
i o našich programech, zejména o těch, které zpracovávají veliké
množství dat. Jistě si říkáte, jak může být můj program lenivý, já
přeci chci, aby byl co nejvýkonnější. Ano, to se nevylučuje, právě
naopak! :)&lt;/p&gt;

&lt;p&gt;Když jsem nedávno psal o tom, že &lt;a rel="bookmark"
title="Vracet list je špatné"
href="/weblog/359-vracet-list-je-spatne.aspx"&gt;Vracet list je špatné&lt;/a&gt;,
neshledal jsem se s velikým porozuměním. Tento článek byl o návrhu
rozhraní našich tříd. Dneska se podíváme na implementační detaily a
výhody plynoucí z vracení (zvracení?) &lt;code&gt;IEnumerable&amp;lt;&amp;gt;&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id="toc-linq2sql-a-metoda-tolist"&gt;LINQ2SQL a metoda ToList()&lt;/h3&gt;

&lt;p&gt;Začněme tedy u nevýhod užívání generického listu v LINQu. Vsadím
se, že většina z vás pro vykonání LINQového dotazu do databáze zavolá
metodu &lt;code&gt;ToList()&lt;/code&gt;. Okamžitě se tím vykoná dotaz a jeho výsledek
je natažen do paměti, konkrétně jako položky generického listu. Jistě se
tím zvýší výkon při iteraci přes výslednou kolekci. To je super, ale pro
pro výpis používat velice drahý obal v podobě listu? List umožňuje
kolekce snadno modifikovat, to je jistě skvělá vlastnost, ale také sebou
nese zbytečně alokovanou paměť navíc.&lt;/p&gt;

&lt;p&gt;Mnohem výhodnější je volat metodu &lt;code&gt;ToArray()&lt;/code&gt;, která vykoná
dotaz úplně stejným způsobem, ale vezme si jen tolik paměti, kolik opravdu
potřebuje, nehledě na to, že samotný .net runtime je na práci s
&lt;code&gt;Array&lt;/code&gt; optimalizovaný. Jednoduchou změnou můžeme ušetřit
spoustu paměti a zlepšit tak výkon naší aplikace. Pokud jsme však do
našich rozhraní zanesli &lt;code&gt;IList&amp;lt;&amp;gt;&lt;/code&gt;, musíme teď měnit
spoustu kódu, protože náš původní návrh byl krátkozraký.&lt;/p&gt;

&lt;h3 id="toc-zpatky-k-lenivosti"&gt;Zpátky k lenivosti&lt;/h3&gt;

&lt;p&gt;To, co jsme si popsali v předchozích řádcích, nemá s lenivostí
stále nic společného, jde jen o malou optimalizaci dychtivého přístupu
k datům (eager loading). Ten samozřejmě nemusí být z principu špatný,
ale hodí se pouze pro data omezeného rozsahu. Pokud zpracováváme velké nebo
předem neznámé množství dat je lepší zlenivět. Tím se opět vracíme k
&lt;code&gt;IEnumerable&amp;lt;&amp;gt;&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Vezměme si hypotetický příklad že náš program bude zpracovávat
nekonečný zdroj pravdy:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;static IEnumerable&amp;lt;Boolean&amp;gt; GetInfinityTruth() {
  while (true) {
    yield return true;
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Fůj, napsal jsem nekonečnou smyčku. Hele, ale jak jinak byste chtěli
udělat nekonečný zdroj pravdy? Pomocí listu? Těžko. ;) Takovýhle kód je
zcela validní a bezproblémový. Tedy do doby, než se najde někdo šikovný,
komu se hodí list, a nad &lt;code&gt;GetInfinityTruth()&lt;/code&gt; zavolá
&lt;code&gt;ToList()&lt;/code&gt;. Asi nám vyskočí
&lt;code&gt;OutOfMemoryException&lt;/code&gt;. :)&lt;/p&gt;

&lt;p&gt;Vážně, výhodou tohoto kódu je, že (teoreticky) vrací nekonečné
množství dat a přesto se s ním dá v klidu pracovat, aniž by nám
sežralo adekvátní množství paměti (opět nekonečné). A to díky
lenivosti! S takovýmto přístupem se nám totiž vyhodnocuje vždy jen jeden
prvek z kolekce a to až v případě, že je opravdu potřeba. Oddalujeme
načítání prvku do doby, kdy s ním opravdu budeme něco dělat.&lt;/p&gt;

&lt;p&gt;Další výhodou je, že zcela bez problémů, můžeme celou tu nekonečnou
pravdu popřít:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;static IEnumerable&amp;lt;Boolean&amp;gt; Disclaim(this IEnumerable&amp;lt;Boolean&amp;gt; source) {
  return source.Select(value =&amp;gt; !value);
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Samozřejmě bych to mohl napsat i takhle:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;static IEnumerable&amp;lt;Boolean&amp;gt; Disclaim(this IEnumerable&amp;lt;Boolean&amp;gt; source) {
  foreach(bool value in source) {
    yield return !value;
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Ale to je příliš mnoho psaní. &lt;a rel="bookmark"
title="Nepište zbytečný kód"
href="/weblog/361-nepiste-zbytecny-kod.aspx"&gt;Nepište zbytečný kód&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;Teďka, když zavolám &lt;code&gt;GetInfinityTruth().Disclaim()&lt;/code&gt;, dostanu
nekonečný zdroj nepravdy, tedy samé lži. :) Opět to funguje tak, že je
popřen každý konkrétní prvek, až když na něj dojde, ne všechny
najednou, to by bylo moc práce. On se totiž příjemce naší nekonečné
pravdy může kdykoli rozhodnout, že už ho to nebaví. A co my pak s tím,
že jsme mu dopředu připravili krásné lži? Nic. Byla to zbytečná práce.
V tomto případě se lenivost vyplatila.&lt;/p&gt;

&lt;h3 id="toc-zaver"&gt;Závěr&lt;/h3&gt;

&lt;p&gt;„Poslouchaj Roubíček, oni jsou nejspíš blázen. Nás tu krměj
o nekonečné pravdě, co my s tím?“ No, je to určitá abstrakce. ;)&lt;/p&gt;

&lt;h3 id="toc-souvisejici"&gt;Související&lt;/h3&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a
	href="http://www.vyvojar.cz/Articles/599-lazy-eager-explicit-loading-o-co-jde.aspx"&gt;Lazy,
	eager, explicit loading – o co jde?&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a href="http://en.wikipedia.org/wiki/Lazy_evaluation"&gt;Lazy
	evaluation&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a
	href="http://blogs.msdn.com/ericwhite/pages/Lazy-Evaluation-_2800_and-in-contrast_2C00_-Eager-Evaluation_2900_.aspx"&gt;Lazy
	evaluation (and in contrast, eager evaluation)&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;&lt;a
	href="http://odetocode.com/Blogs/scott/archive/2008/10/01/lazy-linq-and-enumerable-objects.aspx"&gt;Lazy
	LINQ and Enumerable Objects&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Občas není na škodu být lenivý, mnohdy se to vyplatí! To platí i o našich programech, zejména o těch, které zpracovávají veliké množství dat. Jistě si říkáte, jak může být můj program lenivý, já přeci chci, aby byl co nejvýkonnější. Ano, to se nevylučuje, právě naopak! :)

Když jsem nedávno psal o tom, že [clanek(359)], neshledal jsem se s velikým porozuměním. Tento článek byl o návrhu rozhraní našich tříd. Dneska se podíváme na implementační detaily a výhody plynoucí z vracení (zvracení?) `IEnumerable&lt;&gt;`.

LINQ2SQL a metoda ToList()
==========================

Začněme tedy u nevýhod užívání generického listu v LINQu. Vsadím se, že většina z vás pro vykonání LINQového dotazu do databáze zavolá metodu `ToList()`. Okamžitě se tím vykoná dotaz a jeho výsledek je natažen do paměti, konkrétně jako položky generického listu. Jistě se tím zvýší výkon při iteraci přes výslednou kolekci. To je super, ale pro pro výpis používat velice drahý obal v podobě listu? List umožňuje kolekce snadno modifikovat, to je jistě skvělá vlastnost, ale také sebou nese zbytečně alokovanou paměť navíc.

Mnohem výhodnější je volat metodu `ToArray()`, která vykoná dotaz úplně stejným způsobem, ale vezme si jen tolik paměti, kolik opravdu potřebuje, nehledě na to, že samotný .net runtime je na práci s `Array` optimalizovaný. Jednoduchou změnou můžeme ušetřit spoustu paměti a zlepšit tak výkon naší aplikace. Pokud jsme však do našich rozhraní zanesli `IList&lt;&gt;`, musíme teď měnit spoustu kódu, protože náš původní návrh byl krátkozraký.

Zpátky k lenivosti
==================

To, co jsme si popsali v předchozích řádcích, nemá s lenivostí stále nic společného, jde jen o malou optimalizaci dychtivého přístupu k datům (eager loading). Ten samozřejmě nemusí být z principu špatný, ale hodí se pouze pro data omezeného rozsahu. Pokud zpracováváme velké nebo předem neznámé množství dat je lepší zlenivět. Tím se opět vracíme k `IEnumerable&lt;&gt;`.

Vezměme si hypotetický příklad že náš program bude zpracovávat nekonečný zdroj pravdy:

/--code csharp
static IEnumerable&lt;Boolean&gt; GetInfinityTruth() {
  while (true) {
    yield return true;
  }
}
\--code

Fůj, napsal jsem nekonečnou smyčku. Hele, ale jak jinak byste chtěli udělat nekonečný zdroj pravdy? Pomocí listu? Těžko. ;) Takovýhle kód je zcela validní a bezproblémový. Tedy do doby, než se najde někdo šikovný, komu se hodí list, a nad `GetInfinityTruth()` zavolá `ToList()`. Asi nám vyskočí `OutOfMemoryException`. :)

Vážně, výhodou tohoto kódu je, že (teoreticky) vrací nekonečné množství dat a přesto se s ním dá v klidu pracovat, aniž by nám sežralo adekvátní množství paměti (opět nekonečné). A to díky lenivosti! S takovýmto přístupem se nám totiž vyhodnocuje vždy jen jeden prvek z kolekce a to až v případě, že je opravdu potřeba. Oddalujeme načítání prvku do doby, kdy s ním opravdu budeme něco dělat.

Další výhodou je, že zcela bez problémů, můžeme celou tu nekonečnou pravdu popřít:

/--code csharp
static IEnumerable&lt;Boolean&gt; Disclaim(this IEnumerable&lt;Boolean&gt; source) {
  return source.Select(value =&gt; !value);
}
\--code

Samozřejmě bych to mohl napsat i takhle:


/--code csharp
static IEnumerable&lt;Boolean&gt; Disclaim(this IEnumerable&lt;Boolean&gt; source) {
  foreach(bool value in source) {
    yield return !value;
  }
}
\--code

Ale to je příliš mnoho psaní. [clanek(361)]!

Teďka, když zavolám `GetInfinityTruth().Disclaim()`, dostanu nekonečný zdroj nepravdy, tedy samé lži. :) Opět to funguje tak, že je popřen každý konkrétní prvek, až když na něj dojde, ne všechny najednou, to by bylo moc práce. On se totiž příjemce naší nekonečné pravdy může kdykoli rozhodnout, že už ho to nebaví. A co my pak s tím, že jsme mu dopředu připravili krásné lži? Nic. Byla to zbytečná práce. V tomto případě se lenivost vyplatila.

Závěr
=====

"Poslouchaj Roubíček, oni jsou nejspíš blázen. Nás tu krměj o nekonečné pravdě, co my s tím?" No, je to určitá abstrakce. ;)

Související
===========

* [cincura]
* [lazy]
* [white]
* [allen]

[clanek(359)]: /weblog/359-vracet-list-je-spatne.aspx Vracet list je špatné .{rel: bookmark}(Vracet list je špatné)
[clanek(361)]: /weblog/361-nepiste-zbytecny-kod.aspx Nepište zbytečný kód .{rel: bookmark}(Nepište zbytečný kód)

[cincura]: http://www.vyvojar.cz/Articles/599-lazy-eager-explicit-loading-o-co-jde.aspx Lazy, eager, explicit loading – o co jde?
[lazy]: http://en.wikipedia.org/wiki/Lazy_evaluation Lazy evaluation
[white]: http://blogs.msdn.com/ericwhite/pages/Lazy-Evaluation-_2800_and-in-contrast_2C00_-Eager-Evaluation_2900_.aspx Lazy evaluation (and in contrast, eager evaluation)
[allen]: http://odetocode.com/Blogs/scott/archive/2008/10/01/lazy-linq-and-enumerable-objects.aspx Lazy LINQ and Enumerable Objects</raw>
    <author>Aleš Roubíček</author>
    <published>2010-02-21T08:02:56.270</published>
    <url>linq-a-lenive-vyhodnocovani</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>ling lazy ienumerable</tags>
    <is-published>1</is-published>
    <edited>2010-02-21T09:49:01.387</edited>
  </article>
  <article>
    <id>381</id>
    <title>Záleží na jazyku?</title>
    <description>Považuji se za C# vývojáře, ale každý den používám spoustu dalších jazyků. Je znalost jazyka opravdu to, co z nás dělá programátory?</description>
    <html xml:space="preserve">
&lt;p&gt;Považuji se za C# vývojáře, ale každý den používám spoustu dalších
jazyků. Je znalost jazyka opravdu to, co z nás dělá programátory?&lt;/p&gt;

&lt;dl&gt;
	&lt;dt&gt;C#&lt;/dt&gt;

	&lt;dd&gt;Jazyk, který používám pro psaní serverových částí webových
	aplikací, konzolových utilit a služeb. Imperativní objektový jazyk
	s funkcionálními vlastnostmi se hodí skoro na všechno.&lt;/dd&gt;

	&lt;dt&gt;Boo&lt;/dt&gt;

	&lt;dd&gt;Boo používám hlavně na části, které se mohou u aplikace měnit i po
	zkompilování aplikace. Jeho silnou vlastností je tvorba &lt;acronym
	title="Domain Specific Language"&gt;DSL&lt;/acronym&gt; a díky tomu je konfigurace
	aplikací příjemnou záležitostí.&lt;/dd&gt;

	&lt;dt&gt;JavaScript&lt;/dt&gt;

	&lt;dd&gt;Původně jsem se JavaScriptu vyhýbal a neměl jsem ho rád. Pak jsem mu
	ale přišel na chuť a zjistil, jak moc pěkný jazyk to je a co všechno se
	s ním dá dělat. Používám výhradně na oživení webových stránek.&lt;/dd&gt;

	&lt;dt&gt;PowerShell&lt;/dt&gt;

	&lt;dd&gt;S tímto jazykem teprve začínám, ale některé jeho vlastnosti jsou
	opravdu zajímavé. Snažím se v něm psát scripty pro automatizaci
	některých rutin na serverech.&lt;/dd&gt;

	&lt;dt&gt;MSBuild&lt;/dt&gt;

	&lt;dd&gt;XML jazyk, který používám pro build a deployment scripty. V nové verzi
	podporuje i vkládání PowerShell scriptů a stává se tak ještě
	zajímavějším nástrojem.&lt;/dd&gt;

	&lt;dt&gt;XHTML&lt;/dt&gt;

	&lt;dd&gt;Další XML jazyk, který používám pro tvorbu prezentační části
	webových aplikací.&lt;/dd&gt;

	&lt;dt&gt;CSS&lt;/dt&gt;

	&lt;dd&gt;Ovládnutí tohoto jazyka může vypadat jako hračka, ale často rozeznáte
	mistry od obyčejných dělníků. Používám pro stylování prezentační
	části webových aplikací.&lt;/dd&gt;

	&lt;dt&gt;T-SQL&lt;/dt&gt;

	&lt;dd&gt;Dotazovací jazyk do databází není mojí nejsilnější zbraní, ale
	přesto v něm dokážu napsat některé zajímavé věci. S tím, že
	používám NHibernate, se mi nutnost jeho použití trochu snižuje, ale
	stejně člověk potřebuje občas udělat nějaké změny ve schematu nebo
	nějaký report.&lt;/dd&gt;

	&lt;dt&gt;Texy!&lt;/dt&gt;

	&lt;dd&gt;Tahle syntaxe mi pomáhá při psaní textů na web takřka denně.&lt;/dd&gt;
&lt;/dl&gt;

&lt;p&gt;Sešla se mi tu sbírka devíti jazyků, které používám takřka denně ke
svojí práci, a to jsem schválně opomněl všechny ty XML dialekty pro
různé konfigurace. :)&lt;/p&gt;

&lt;p&gt;Jazyk je pouze nástroj a každý se hodí k jinému účelu. Stává se,
že některé jazyky si najdou cestičku, jak se dostat do jiných a mnohdy je
to výhoda. Obzvlášť, pokud oba známe. Samozřejmě je dobré mít
povědomí i o jiných jazycích, jejichž myšlenky nás mohou obohatit
i v našem oblíbeném jazyce.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Považuji se za C# vývojáře, ale každý den používám spoustu dalších jazyků. Je znalost jazyka opravdu to, co z nás dělá programátory?

C#:
  - Jazyk, který používám pro psaní serverových částí webových aplikací, konzolových utilit a služeb. Imperativní objektový jazyk s funkcionálními vlastnostmi se hodí skoro na všechno.
Boo:
  - Boo používám hlavně na části, které se mohou u aplikace měnit i po zkompilování aplikace. Jeho silnou vlastností je tvorba DSL((Domain Specific Language)) a díky tomu je konfigurace aplikací příjemnou záležitostí.
JavaScript:
  - Původně jsem se JavaScriptu vyhýbal a neměl jsem ho rád. Pak jsem mu ale přišel na chuť a zjistil, jak moc pěkný jazyk to je a co všechno se s ním dá dělat. Používám výhradně na oživení webových stránek.
PowerShell:
  - S tímto jazykem teprve začínám, ale některé jeho vlastnosti jsou opravdu zajímavé. Snažím se v něm psát scripty pro automatizaci některých rutin na serverech.
MSBuild:
  - XML jazyk, který používám pro build a deployment scripty. V nové verzi podporuje i vkládání PowerShell scriptů a stává se tak ještě zajímavějším nástrojem.
XHTML:
  - Další XML jazyk, který používám pro tvorbu prezentační části webových aplikací.
CSS:
  - Ovládnutí tohoto jazyka může vypadat jako hračka, ale často rozeznáte mistry od obyčejných dělníků. Používám pro stylování prezentační části webových aplikací.
T-SQL:
  - Dotazovací jazyk do databází není mojí nejsilnější zbraní, ale přesto v něm dokážu napsat některé zajímavé věci. S tím, že používám NHibernate, se mi nutnost jeho použití trochu snižuje, ale stejně člověk potřebuje občas udělat nějaké změny ve schematu nebo nějaký report.
Texy!:
  - Tahle syntaxe mi pomáhá při psaní textů na web takřka denně.

Sešla se mi tu sbírka devíti jazyků, které používám takřka denně ke svojí práci, a to jsem schválně opomněl všechny ty XML dialekty pro různé konfigurace. :)

Jazyk je pouze nástroj a každý se hodí k jinému účelu. Stává se, že některé jazyky si najdou cestičku, jak se dostat do jiných a mnohdy je to výhoda. Obzvlášť, pokud oba známe. Samozřejmě je dobré mít povědomí i o jiných jazycích, jejichž myšlenky nás mohou obohatit i v našem oblíbeném jazyce.
</raw>
    <author>Aleš Roubíček</author>
    <published>2010-02-26T07:43:23.513</published>
    <url>zalezi-na-jazyku</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2010-02-26T07:44:43.860</edited>
  </article>
  <article>
    <id>382</id>
    <title>Twitter discontinued</title>
    <description>Možná jste to už zaznamenali, je to týden, co jsem zrušil Twitter.</description>
    <html xml:space="preserve">
&lt;p&gt;Jednoho osvíceného popůlnočního období posilněn podporou kamaráda
Johnyho jsem se rozhodl, že sociální sítě už ee. A šel na Twitter a dal
zrušit účet, šel na Facebook a dal zrušit účet. A šel na FriendFeed a
podobnou volbu nenašel. Ostatně ji nemáme ani na &lt;a
href="http://www.trop.cz/"&gt;Tropu&lt;/a&gt;. :) (Pokud někdo účet na Tropu zrušit
chce, nechť se ozve nejbližšímu adminovi, ten to jistě zvládne.)&lt;/p&gt;

&lt;p&gt;Twitter je dost nekompromisní, oznámí vám, že tato akce je nevratná a
všechny vaše tweety budu smazány. Jak řekl, tak se stalo. :)&lt;/p&gt;

&lt;p&gt;Facebook na to jde jinak. Všem těmhle miloučkým lidičkám se po tobě
bude stýskat! Ale pokud si to rozmyslíš, všichni na tebe budou čekat,
profil budeš mít stejnej, jako si ho tu zanechal. Stačí se jen znovu
přihlásit a vše je jak bylo. Tedy skoro vše. Ty kurvy resetujou nastavení
notifikačních e-mailů. Takže potom, co se mi přilogoval Trillian na
Facebook Chat, který jsem zapomněl odebrat, byl můj profil zpět a FB mě
začal spamovat notifikačním hnusem…&lt;/p&gt;

&lt;p&gt;Co z toho plyne? Pokud toužíte po mém Twitter spamu, stále je
produkován na &lt;a href="http://friendfeed.com/rarous"&gt;FriendFeedu&lt;/a&gt;. Občas
tam vaše tweety komentuju nebo to se mi líbíuju. A člověk má najednou
o trochu víc času na lepčí věci. Fakt!&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Jednoho osvíceného popůlnočního období posilněn podporou kamaráda Johnyho jsem se rozhodl, že sociální sítě už ee. A šel na Twitter a dal zrušit účet, šel na Facebook a dal zrušit účet. A šel na FriendFeed a podobnou volbu nenašel. Ostatně ji nemáme ani na Tropu:[http://www.trop.cz/]. :) (Pokud někdo účet na Tropu zrušit chce, nechť se ozve nejbližšímu adminovi, ten to jistě zvládne.)

Twitter je dost nekompromisní, oznámí vám, že tato akce je nevratná a všechny vaše tweety budu smazány. Jak řekl, tak se stalo. :)

Facebook na to jde jinak. Všem těmhle miloučkým lidičkám se po tobě bude stýskat! Ale pokud si to rozmyslíš, všichni na tebe budou čekat, profil budeš mít stejnej, jako si ho tu zanechal. Stačí se jen znovu přihlásit a vše je jak bylo. Tedy skoro vše. Ty kurvy resetujou nastavení notifikačních e-mailů. Takže potom, co se mi přilogoval Trillian na Facebook Chat, který jsem zapomněl odebrat, byl můj profil zpět a FB mě začal spamovat notifikačním hnusem...

Co z toho plyne? Pokud toužíte po mém Twitter spamu, stále je produkován na FriendFeedu:[http://friendfeed.com/rarous]. Občas tam vaše tweety komentuju nebo to se mi líbíuju. A člověk má najednou o trochu víc času na lepčí věci. Fakt!</raw>
    <author>Aleš Roubíček</author>
    <published>2010-03-06T08:25:53.357</published>
    <url>twitter-discontinued</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <tags>facebook twitter friendfeed</tags>
    <is-published>1</is-published>
    <edited>2010-03-06T08:27:44.520</edited>
  </article>
  <article>
    <id>383</id>
    <title>Alessio Busta - Destination Saturn</title>
    <description>Dneska se podíváme zpátky do minulosti na to, jak se cestovalo na Saturn ze začátku roku 2007. Pěkně progresivním způsobem!</description>
    <html xml:space="preserve">
&lt;p&gt;Dneska se podíváme zpátky do minulosti na to, jak se cestovalo na Saturn
ze začátku roku 2007. Pěkně progresivním způsobem!&lt;/p&gt;

&lt;div class="haudio"&gt;
	&lt;ol&gt;
		&lt;li class="item"&gt;&lt;span class="contributor"&gt;City Sneakerz&lt;/span&gt; – &lt;span
		class="title"&gt;You Don’t Own Me&lt;/span&gt; (Smax &amp;amp; Gold Instrumental Mix)&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Sebastien Leger&lt;/span&gt; – &lt;span
		class="title"&gt;Saturn&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Pryda&lt;/span&gt; – &lt;span
		class="title"&gt;Rymd&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Henrik B&lt;/span&gt; – &lt;span
		class="title"&gt;Soul Haven&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Roman Salzger&lt;/span&gt; – &lt;span
		class="title"&gt;Turn Up The Sun&lt;/span&gt; (Classic Mix)&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Richard Grey&lt;/span&gt; – &lt;span
		class="title"&gt;Life Goes On&lt;/span&gt; (Richard Grey Dubby Mix)&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Stonebridge&lt;/span&gt; – &lt;span
		class="title"&gt;S.O.S&lt;/span&gt; (Playmaker Deep Dub)&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Cirez D&lt;/span&gt; – &lt;span
		class="title"&gt;Knockout&lt;/span&gt; (John Dahlbäck at Huggeland 2006 Remix)&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Depeche Mode&lt;/span&gt; – &lt;span
		class="title"&gt;Lilian&lt;/span&gt; (Robag Wruhme Krüzy Fückking Düb)&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Michel de Hey&lt;/span&gt; vs. &lt;span
		class="contributor"&gt;Grooveyard&lt;/span&gt; – &lt;span class="title"&gt;Compound&lt;/span&gt;
		(Shinedoe Remix)&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Fairmont&lt;/span&gt; – &lt;span
		class="title"&gt;Gazebo&lt;/span&gt; (Sebastien Leger Remix)&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;DJ Andrew&lt;/span&gt; – &lt;span
		class="title"&gt;Crackhead&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Alex Gaudino&lt;/span&gt; – &lt;span
		class="title"&gt;Destination Calabria&lt;/span&gt; (Laidback Luke Remix)&lt;/li&gt;
	&lt;/ol&gt;

	&lt;p&gt;Ke stažení &lt;span class="category"&gt;dj set&lt;/span&gt; &lt;a rel="enclosure"
	href="http://www.rarousmusic.com/mp3/alessio_busta_-_destination_saturn-rm.mp3"&gt;&lt;span
	class="contributor"&gt;Alessio Busta&lt;/span&gt; – &lt;span class="title"&gt;Destination
	Saturn&lt;/span&gt;&lt;/a&gt; (MP3 128 kbps; 67,8 MiB)&lt;/p&gt;
&lt;/div&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Dneska se podíváme zpátky do minulosti na to, jak se cestovalo na Saturn ze začátku roku 2007. Pěkně progresivním způsobem!

/--div .[haudio]
1. "City Sneakerz .[contributor]" - "You Don’t Own Me .[title]" (Smax &amp; Gold Instrumental Mix)  .[item]
2. "Sebastien Leger .[contributor]" - "Saturn .[title]"  .[item]
3. "Pryda .[contributor]" - "Rymd .[title]"  .[item]
4. "Henrik B .[contributor]" - "Soul Haven .[title]"  .[item]
5. "Roman Salzger .[contributor]" - "Turn Up The Sun .[title]" (Classic Mix)  .[item]
6. "Richard Grey .[contributor]" - "Life Goes On .[title]" (Richard Grey Dubby Mix)  .[item]
7. "Stonebridge .[contributor]" - "S.O.S .[title]" (Playmaker Deep Dub)  .[item]
8. "Cirez D .[contributor]" - "Knockout .[title]" (John Dahlbäck at Huggeland 2006 Remix)  .[item]
9. "Depeche Mode .[contributor]" - "Lilian .[title]" (Robag Wruhme Krüzy Fückking Düb)  .[item]
10. "Michel de Hey .[contributor]" vs. "Grooveyard .[contributor]" - "Compound .[title]" (Shinedoe Remix)  .[item]
11. "Fairmont .[contributor]" - "Gazebo .[title]" (Sebastien Leger Remix)  .[item]
12. "DJ Andrew .[contributor]" - "Crackhead .[title]"  .[item]
13. "Alex Gaudino .[contributor]" - "Destination Calabria .[title]" (Laidback Luke Remix)  .[item]

Ke stažení "dj set .[category]" [download] (MP3 128 kbps; 67,8 MiB)
\--div

[download]: http://www.rarousmusic.com/mp3/alessio_busta_-_destination_saturn-rm.mp3 "Alessio Busta .[contributor]" - "Destination Saturn .[title]" .{rel:enclosure}</raw>
    <author>alessio busta</author>
    <published>2010-03-15T10:58:19.100</published>
    <url>alessio-busta-destination-saturn</url>
    <category>Muzika</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2010-03-15T11:02:49.987</edited>
  </article>
  <article>
    <id>384</id>
    <title>Integrace gitu do VS 2010</title>
    <description>Jak integrovat git do nového Visual Studia trochu netradiční cestou.</description>
    <html xml:space="preserve">
&lt;p&gt;Bohužel i přes přítomnost skvělého &lt;a
href="http://code.google.com/p/tortoisegit/"&gt;TortoiseGit&lt;/a&gt;, který integruje
funkce gitu přímo do Windowsího shellu, neexistuje pro git slušná integrace
do Visual Studia ala VisualSVN. Dneska se podíváme na
alternativní cestu.&lt;/p&gt;

&lt;h3 id="toc-visual-studio-2010"&gt;Visual Studio 2010&lt;/h3&gt;

&lt;p&gt;Visual Studio se v poslední verzi dočkalo značného přepsání. Krom
toho, že bylo překlopeno do &lt;acronym
title="Windows Presentation Foundation"&gt;WPF&lt;/acronym&gt;, stalo se i snadno
rozšiřitelným díky &lt;acronym
title="Managed Extensibility Frmework"&gt;MEF&lt;/acronym&gt;. Do samotného Visual Studa
tak přibyl správce rozšíření podobný tomu, který znáte třeba
z Firefoxu. Ano, včetně podpory pro procházení existujícími
rozšířeními.&lt;/p&gt;

&lt;h3 id="toc-powerconsole"&gt;PowerConsole&lt;/h3&gt;

&lt;p&gt;Jedním z takovým rozšíření je i &lt;a
href="http://visualstudiogallery.msdn.microsoft.com/en-us/67620d8c-93dd-4e57-aa86-c9404acbd7b3"&gt;PowerConsole&lt;/a&gt;.
Tato konzola umožňuje psát scripty nad Visual Studiem a přímo v něm. Ke
scriptování se nabízí hned několik jazyků: PowerShell, IronPython a
IronRuby. Možnosti jsou omezeny pouze vaší představivostí, protože máte
přístup jak k API Visual Studia, tak i k celému grafu MEF komponent.
A samozřejmě v případě PowerShellu i ke všemu, co PS umí.&lt;/p&gt;

&lt;h3 id="toc-posh-git"&gt;POSH git&lt;/h3&gt;

&lt;p&gt;A tím se pomalu dostávám k &lt;a
href="http://github.com/dahlbyk/posh-git"&gt;POSH gitu&lt;/a&gt;. Je to sada scriptů pro
PowerShell, která zpřehledňuje výpisy gitu, přidává TAB expansion pro
rychlejší psaní git příkazů a taky přidává některé vlastní
cmdletty.&lt;/p&gt;

&lt;p&gt;Když si spojíte všechny tři věci dohromady, máme tu integraci gitu do
prostředí Visual Studia! Je to teprve začátek. Ale myslím si, že slibný.
Myslím, že by se výstup gitu dal projektovat do Solution Exploreru. Zatím
jsem si s tím hrát nestihl, ale vypdá to slibně…&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Bohužel i přes přítomnost skvělého [tortoisegit], který integruje funkce gitu přímo do Windowsího shellu, neexistuje pro git slušná integrace do Visual Studia ala VisualSVN. Dneska se podíváme na alternativní cestu.

Visual Studio 2010
============

Visual Studio se v poslední verzi dočkalo značného přepsání. Krom toho, že bylo překlopeno do WPF((Windows Presentation Foundation)), stalo se i snadno rozšiřitelným díky MEF((Managed Extensibility Frmework)). Do samotného Visual Studa tak přibyl správce rozšíření podobný tomu, který znáte třeba z Firefoxu. Ano, včetně podpory pro procházení existujícími rozšířeními.

PowerConsole
=========

Jedním z takovým rozšíření je i [console]. Tato konzola umožňuje psát scripty nad Visual Studiem a přímo v něm. Ke scriptování se nabízí hned několik jazyků: PowerShell, IronPython a IronRuby. Možnosti jsou omezeny pouze vaší představivostí, protože máte přístup jak k API Visual Studia, tak i k celému grafu MEF komponent. A samozřejmě v případě PowerShellu i ke všemu, co PS umí.

POSH git
======

A tím se pomalu dostávám k "POSH gitu":[poshgit]. Je to sada scriptů pro PowerShell, která zpřehledňuje výpisy gitu, přidává TAB expansion pro rychlejší psaní git příkazů a taky přidává některé vlastní cmdletty.

Když si spojíte všechny tři věci dohromady, máme tu integraci gitu do prostředí Visual Studia! Je to teprve začátek. Ale myslím si, že slibný. Myslím, že by se výstup gitu dal projektovat do Solution Exploreru. Zatím jsem si s tím hrát nestihl, ale vypdá to slibně...

[console]: http://visualstudiogallery.msdn.microsoft.com/en-us/67620d8c-93dd-4e57-aa86-c9404acbd7b3 PowerConsole
[poshgit]: http://github.com/dahlbyk/posh-git POSH git
[tortoisegit]: http://code.google.com/p/tortoisegit/ TortoiseGit</raw>
    <author>Aleš Roubíček</author>
    <published>2010-03-18T06:25:44.287</published>
    <url>integrace-gitu-do-vs-2010</url>
    <category>Tuning</category>
    <keywords></keywords>
    <tags>git visualstudio powershell</tags>
    <is-published>1</is-published>
    <edited>2010-03-18T07:08:49.653</edited>
  </article>
  <article>
    <id>385</id>
    <title>Časový výpis s aktualizací</title>
    <description>Na Facebooku se mi líbí, že se automaticky aktualizuje čas, před jakým byl příspěvek na zeď pověšen. Jak si naimplementovat vlastní pomocí mikroformátu, jQuery a Rx?</description>
    <html xml:space="preserve">
&lt;p&gt;Na Facebooku se mi líbí, že se automaticky aktualizuje čas, před jakým
byl příspěvek na zeď pověšen. Jak si naimplementovat vlastní pomocí
mikroformátu, jQuery a Rx?&lt;/p&gt;

&lt;p&gt;Na &lt;a href="http://www.trop.cz"&gt;Tropu&lt;/a&gt; máme několik výpisů typu
&lt;em&gt;friend feed&lt;/em&gt;, které jsou velice podobné výpisu na zdi na Facebooku.
Rozdíl je v tom, že se u příspěvků neaktualizuje doba, před kterou byl
příspěvek přidán, a ani se asynchronně nenačítají příspěvky nové.
Jak vyřešit první problém, se podíváme dnes.&lt;/p&gt;

&lt;h3 id="toc-reactive-extensions"&gt;Reactive Extensions&lt;/h3&gt;

&lt;p&gt;Již nějakou dobu používám na .netu &lt;acronym
title="Reactive eXtensions"&gt;Rx&lt;/acronym&gt;, která přidává další &lt;a
href="http://en.wikipedia.org/wiki/Monad_(functional_programming)"&gt;monady&lt;/a&gt;
pro interaktivní programování nad &lt;code&gt;IEnumerable&amp;lt;T&amp;gt;&lt;/code&gt;, podporu
paralelního zpracování a zcela nové reaktivní programování postavené nad
&lt;code&gt;IObservable&amp;lt;T&amp;gt;&lt;/code&gt;. Vysvětlovat tu dualitu
&lt;code&gt;IEnumerable&amp;lt;T&amp;gt;&lt;/code&gt; a &lt;code&gt;IObservable&amp;lt;T&amp;gt;&lt;/code&gt; dnes
hodlat nehodlám. Dodám snad jen to, že tyto extenze jsou již &lt;a
href="http://live.visitmix.com/MIX10/Sessions/FTL01"&gt;dostupné i pro
JavaScript&lt;/a&gt; a &lt;a
href="http://msdn.microsoft.com/en-us/devlabs/ee794896.aspx"&gt;stáhnout si je
můžete na MSDN&lt;/a&gt;. K čemu je to dobré?&lt;/p&gt;

&lt;p&gt;Reaktivní extenze vám pomohou s řešením ne zrovna snadných úloh, jako
je práce s událostmi od uživatele, asynchronní volání služeb a práce
s kolekcemi. To vše pomocí standardních LINQ operátorů. Tedy snadno a
rychle. Doufám, že si ještě někdy najdu čas a popsal bych je trochu
blíž. Možná po implementaci druhé části výše nastoleného
problému. :)&lt;/p&gt;

&lt;h3 id="toc-pojdme-na-vec"&gt;Pojďme na věc&lt;/h3&gt;

&lt;p&gt;jQuery a mikroformáty asi přibližovat nemusím, to jsou věci, které tu
už s námi nějaký pátek jsou. Já se na Tropu snažím mikroformáty
využít všude kde to jen jde, jak jsem již psal, je to můj &lt;a
href="/weblog/370-mikroformaty-jako-datovy-model-stranky.aspx"&gt;datový model
stránky&lt;/a&gt;. U výpisu typu &lt;em&gt;friend feed&lt;/em&gt; je aktuálně nefunkční
kostra mikroformátu &lt;a href="http://microformats.org/wiki/hatom"&gt;hAtom&lt;/a&gt;.
Takže to pojďme napravit a rychle jí zprovoznit. Vezmu kus kódu a upravím
ho tak, aby to byl platný hAtom:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;li class="hentry" id="activity-2330"&amp;gt;
  &amp;lt;p class="entry-title"&amp;gt;&amp;lt;a class="vcard author" href="/lide/zbiejczuk"&amp;gt;
    &amp;lt;span class="admin" title="Trop Administrator"&amp;gt;
     &amp;lt;span class="power" title="Znalec"&amp;gt;
      &amp;lt;span class="fn"&amp;gt;zbiejczuk&amp;lt;/span&amp;gt;
     &amp;lt;/span&amp;gt;
    &amp;lt;/span&amp;gt;&amp;lt;/a&amp;gt;
    napsal recenzi pro &amp;lt;a href="/mista/808/ku-bar-praha#review-1096" rel="Bookmark"&amp;gt;K.U. Bar&amp;lt;/a&amp;gt;&amp;lt;/p&amp;gt;
  &amp;lt;p class="entry-content"&amp;gt;
Hoďte na sebe nevyzývavě značkové oblečení, kupte si drahý cigára,
popíjejte koktejly a konverzujte markeťáckým…
  &amp;lt;/p&amp;gt;
  &amp;lt;p class="meta"&amp;gt;přidáno
    &amp;lt;span class="updated"&amp;gt;
     &amp;lt;span class="text"&amp;gt;22. března 2010 ve 12.24&amp;lt;/span&amp;gt;
     &amp;lt;span class="value-title" title="2010-03-22T11:24:19Z"&amp;gt;&amp;lt;/span&amp;gt;
    &amp;lt;/span&amp;gt;
  &amp;lt;/p&amp;gt;
&amp;lt;/li&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Další soustředění budu směřovat na &lt;code&gt;span&lt;/code&gt; se třídou
&lt;strong&gt;updated&lt;/strong&gt;, protože tam se skrývá ta důležitá věc –
čas. Čas, kdy byl příspěvek publikován. Tento čas vezmeme a převedeme ho
na „hezčí“ textovou prezentaci. Strojově získatelná data dle ISO8601
máme uložena pomocí value-class-patternu, pro snažší update je tu navíc
span s třídou &lt;strong&gt;text&lt;/strong&gt;, kam budeme strkat náš vlastní text.
Parsování mikroformátu provádím pomocí jQuery.&lt;/p&gt;

&lt;p&gt;Rx jsou psány tak, aby s jQuery mohly fungovat, ale já jsem mlsná huba a
trošku si jQuery osolím, aby se mi s ním a Rx pracovalo trochu líp:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-javascript"&gt;jQuery.fn.toObservable = function (eventType, eventData) {
  if (arguments.length == 0) {
    return Rx.Observable.FromArray(this.toArray());
  }
  return Rx.Observable.FromJQuery(this, eventType, eventData);
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Pokud zavolám &lt;code&gt;toObservable&lt;/code&gt; nad jQuery objektem bez parametrů,
převede se výsledek dotazu na pole (nalezených elementů) a to je převedeno
na &lt;code&gt;Observable&lt;/code&gt; objekt se kterým už pracují samotné Rx. Pokud
zadám jako parametr název jQuery události, je vrácen &lt;code&gt;Observable&lt;/code&gt;
objekt nad těmito událostmi. To ale dnes nevyužiju, ale i tak se může
hodit. Ještě by to šlo rozšířit o podporu &lt;em&gt;live&lt;/em&gt; událostí,
snad jindy.&lt;/p&gt;

&lt;p&gt;Dále už se vrhnu rovnou do rozbouřené vody. jQuery na mne začne chrlit
nalezené elementy, které musím zkrotit! Jak, kdy, proč? No tak, že mu
to řeknu:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-javascript"&gt;Rx.Observable.
  Interval(10000).
  Select(function () {
    return $('.hentry .updated').toObservable();
  }).
  Switch().
  Select(mapToElementValuePair).
  Subscribe(changeElementText);&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Nejprve si vytvořim &lt;code&gt;Observable&lt;/code&gt; objekt, který na mne jednou za
10 s vyplivne sadu nalezených elementů, které jsou součástí
mikroformátu a nesou informaci o čase. &lt;code&gt;Swicht&lt;/code&gt; slouží k tomu,
že pokud by se nestihli v daném intervalu zpracovat všechny elementy,
nezačne chrlit další. Tyhle elementy pak vezmu (druhý &lt;code&gt;Select&lt;/code&gt;) a
vytvořím si pomocný objekt, který obsahuje element a vyparsovaný objekt
&lt;code&gt;Date&lt;/code&gt; s časem, který element v sobě nese. Tohle je vše &lt;a
href="/weblog/380-linq-a-lenive-vyhodnocovani.aspx"&gt;lenivě vyhodnocováno&lt;/a&gt;,
takže stále nemám vůbec nic. :) To až pomocí metody &lt;code&gt;Subscribe&lt;/code&gt;
se pověsím na příjem a čekám, až mi nějaký element (v tomto případě
už obalový objekt) přilítne. Pak ten element vezmu, datum převedu na text
typu &lt;em&gt;před 5 minutami&lt;/em&gt; a aktualizuju element se třídou
&lt;code&gt;text&lt;/code&gt;. A je hotovo. :)&lt;/p&gt;

&lt;p&gt;Kompletní &lt;a href="http://gist.github.com/341201"&gt;ukázku kódu najdete na
gitu&lt;/a&gt;. Ona se trošku liší a je malinko obšírnější, ale pro její
pochopení, jsem tu snad naznačil dost. :) Enjoy!&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Na Facebooku se mi líbí, že se automaticky aktualizuje čas, před jakým byl příspěvek na zeď pověšen. Jak si naimplementovat vlastní pomocí mikroformátu, jQuery a Rx?

Na Tropu:[http://www.trop.cz] máme několik výpisů typu *friend feed*, které jsou velice podobné výpisu na zdi na Facebooku. Rozdíl je v tom, že se u příspěvků neaktualizuje doba, před kterou byl příspěvek přidán, a ani se asynchronně nenačítají příspěvky nové. Jak vyřešit první problém, se podíváme dnes.

Reactive Extensions
===================

Již nějakou dobu používám na .netu Rx((Reactive eXtensions)), která přidává další monady:[http://en.wikipedia.org/wiki/Monad_(functional_programming)] pro interaktivní programování nad `IEnumerable&lt;T&gt;`, podporu paralelního zpracování a zcela nové reaktivní programování postavené nad `IObservable&lt;T&gt;`. Vysvětlovat tu dualitu `IEnumerable&lt;T&gt;` a `IObservable&lt;T&gt;` dnes hodlat nehodlám. Dodám snad jen to, že tyto extenze jsou již "dostupné i pro JavaScript":[http://live.visitmix.com/MIX10/Sessions/FTL01] a  "stáhnout si je můžete na MSDN":[http://msdn.microsoft.com/en-us/devlabs/ee794896.aspx]. K čemu je to dobré?

Reaktivní extenze vám pomohou s řešením ne zrovna snadných úloh, jako je práce s událostmi od uživatele, asynchronní volání služeb a práce s kolekcemi. To vše pomocí standardních LINQ operátorů. Tedy snadno a rychle. Doufám, že si ještě někdy najdu čas a popsal bych je trochu blíž. Možná po implementaci druhé části výše nastoleného problému. :)

Pojďme na věc
=============
jQuery a mikroformáty asi přibližovat nemusím, to jsou věci, které tu už s námi nějaký pátek jsou. Já se na Tropu snažím mikroformáty využít všude kde to jen jde, jak jsem již psal, je to můj "datový model stránky":[/weblog/370-mikroformaty-jako-datovy-model-stranky.aspx]. U výpisu typu *friend feed* je aktuálně nefunkční kostra mikroformátu hAtom:[http://microformats.org/wiki/hatom]. Takže to pojďme napravit a rychle jí zprovoznit. Vezmu kus kódu a upravím ho tak, aby to byl platný hAtom:

/--code xml
&lt;li class="hentry" id="activity-2330"&gt;
  &lt;p class="entry-title"&gt;&lt;a class="vcard author" href="/lide/zbiejczuk"&gt;
    &lt;span class="admin" title="Trop Administrator"&gt;
     &lt;span class="power" title="Znalec"&gt;
      &lt;span class="fn"&gt;zbiejczuk&lt;/span&gt;
     &lt;/span&gt;
    &lt;/span&gt;&lt;/a&gt;
    napsal recenzi pro &lt;a href="/mista/808/ku-bar-praha#review-1096" rel="Bookmark"&gt;K.U. Bar&lt;/a&gt;&lt;/p&gt;
  &lt;p class="entry-content"&gt;
Hoďte na sebe nevyzývavě značkové oblečení, kupte si drahý cigára,
popíjejte koktejly a konverzujte markeťáckým…
  &lt;/p&gt;
  &lt;p class="meta"&gt;přidáno
    &lt;span class="updated"&gt;
     &lt;span class="text"&gt;22. března 2010 ve 12.24&lt;/span&gt;
     &lt;span class="value-title" title="2010-03-22T11:24:19Z"&gt;&lt;/span&gt;
    &lt;/span&gt;
  &lt;/p&gt;
&lt;/li&gt;
\--code

Další soustředění budu směřovat na `span` se třídou **updated**, protože tam se skrývá ta důležitá věc - čas. Čas, kdy byl příspěvek publikován. Tento čas vezmeme a převedeme ho na "hezčí" textovou prezentaci. Strojově získatelná data dle ISO8601 máme uložena pomocí value-class-patternu, pro snažší update je tu navíc span s třídou **text**, kam budeme strkat náš vlastní text. Parsování mikroformátu provádím pomocí jQuery.

Rx jsou psány tak, aby s jQuery mohly fungovat, ale já jsem mlsná huba a trošku si jQuery osolím, aby se mi s ním a Rx pracovalo trochu líp:

/--code javascript
jQuery.fn.toObservable = function (eventType, eventData) {
  if (arguments.length == 0) {
    return Rx.Observable.FromArray(this.toArray());
  }
  return Rx.Observable.FromJQuery(this, eventType, eventData);
}
\--code

Pokud zavolám `toObservable` nad jQuery objektem bez parametrů, převede se výsledek dotazu na pole (nalezených elementů) a to je převedeno na `Observable` objekt se kterým už pracují samotné Rx. Pokud zadám jako parametr název jQuery události, je vrácen `Observable` objekt nad těmito událostmi. To ale dnes nevyužiju, ale i tak se může hodit. Ještě by to šlo rozšířit o podporu *live* událostí, snad jindy.

Dále už se vrhnu rovnou do rozbouřené vody. jQuery na mne začne chrlit nalezené elementy, které musím zkrotit! Jak, kdy, proč? No tak, že mu to řeknu:

/--code javascript
Rx.Observable.
  Interval(10000).
  Select(function () {
    return $('.hentry .updated').toObservable();
  }).
  Switch().
  Select(mapToElementValuePair).
  Subscribe(changeElementText);
\--code

Nejprve si vytvořim `Observable` objekt, který na mne jednou za 10 s vyplivne sadu nalezených elementů, které jsou součástí mikroformátu a nesou informaci o čase. `Swicht` slouží k tomu, že pokud by se nestihli v daném intervalu zpracovat všechny elementy, nezačne chrlit další. Tyhle elementy pak vezmu (druhý `Select`) a vytvořím si pomocný objekt, který obsahuje element a vyparsovaný objekt `Date` s časem, který element v sobě nese. Tohle je vše "lenivě vyhodnocováno":[/weblog/380-linq-a-lenive-vyhodnocovani.aspx], takže stále nemám vůbec nic. :) To až pomocí metody `Subscribe` se pověsím na příjem a čekám, až mi nějaký element (v tomto případě už obalový objekt) přilítne. Pak ten element vezmu, datum převedu na text typu *před 5 minutami* a aktualizuju element se třídou `text`. A je hotovo. :)

Kompletní "ukázku kódu najdete na gitu":[http://gist.github.com/341201]. Ona se trošku liší a je malinko obšírnější, ale pro její pochopení, jsem tu snad naznačil dost. :) Enjoy!</raw>
    <author>Aleš Roubíček</author>
    <published>2010-03-23T15:58:56.253</published>
    <url>casovy-vypis-s-aktualizaci</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>javascript jquery rx trop microformats</tags>
    <is-published>1</is-published>
    <edited>2010-05-25T06:53:00.530</edited>
  </article>
  <article>
    <id>386</id>
    <title>Aktualizace výpisu na stránce pomocí Rx</title>
    <description>Dnes se podíváme na to, jak si zjednodušit práci a asynchronním voláním na server. Budeme aktualizovat feed pomocí mikroformátu, jQuery a Rx.</description>
    <html xml:space="preserve">
&lt;p&gt;Včera jsem začal implementovat &lt;a
href="/weblog/385-casovy-vypis-s-aktualizaci.aspx"&gt;aktualizaci času na
výpisu&lt;/a&gt; typu &lt;em&gt;friend feed&lt;/em&gt;. Dnes se podíváme na to, jak si
zjednodušit práci s asynchronním voláním na server. Samozřejmě opět
s využitím jQuery a Reactive Extensions.&lt;/p&gt;

&lt;h3 id="toc-asynchronni-volani"&gt;Asynchronní volání&lt;/h3&gt;

&lt;p&gt;Asynchronní volání je z pohledu šetření zdroji výhodné, ovšem
z hlediska psaní a údržby kódu už to taková sláva není. Proto nám na
pomoc přicházejí &lt;acronym title="Reactive eXtensions"&gt;Rx&lt;/acronym&gt;, které
asynchronní operace převádějí na neblokující lineární kód.&lt;/p&gt;

&lt;p&gt;Pojďme hned k dnešní ukázce, která bude o dost jednodušší než
včera. Ale použitá technika a principy zůstávají stejné:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-javascript"&gt;Rx.Observable.
  Interval(60000).
  Select(getFeedUpdates).
  Switch().
  SelectMany(function(result) {
    return $(result).find('.hentry').toArray().reverse().toObservable();
  }).
  Subscribe(function(entry) {
    var feed = $('.hfeed')
    feed.prepend(entry);
    $('.hentry:last', feed).remove();
  });&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Opět vytvářím &lt;code&gt;Observable&lt;/code&gt; objekt, který něco vystřelí
jednou za minutu. Tajemství funkce &lt;code&gt;getFeedUpdates&lt;/code&gt; si nechám na
později. A rovnou se vrhnu na zpracování dorazivších výsledků.
Výsledkem mého asynchronního volání je kus HTML kódu s vygenerovaným
feedem s novými příspěvky. Z tohohle kusu HTML si vyberu jen elementy
s třídou &lt;code&gt;hentry&lt;/code&gt;. Ty jsou seřazeny podle data sestupně, ale já
chci feed aktualizovat postupně od nejstarších příspěvků
k nejnovějším, takže je otočím funkcí &lt;code&gt;reverse&lt;/code&gt; a pošlu je
do světa jako &lt;code&gt;Observable&lt;/code&gt; objekty.&lt;/p&gt;

&lt;p&gt;Nakonec se přihlásím k odběru těchto jednotlivých příspěvků
pomocí operátoru &lt;code&gt;Subscribe&lt;/code&gt;. Když mi nějaký příspěvek
přilítne, tak ho vezmu a dám ho na začátek feedu a potom odeberu poslední
záznam, aby se nám feed na stránce nenatahoval. Takže jsme elegantně
zvládli příjem nových příspěvků. A jak je vlastně načítáme?&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-javascript"&gt;function getLastActivityDate() {
  return $('.hfeed&amp;gt;.hentry .updated .value-title').first().attr('title');
}

function getFeedUpdates() {
  var subject = new Rx.AsyncSubject();
  var data = { lastActivity: getLastActivityDate() };

  jQuery.post("url", data, function(result, status) {
    if (status == "success") {
      subject.OnNext(result);
      subject.OnCompleted();
    }
    else {
      subject.OnError(result);
    }
  });

  return subject.AsObservable();
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Funkce &lt;code&gt;getLastActivityDate&lt;/code&gt; načte datum posledního zobrazeného
příspěvku, které slouží k načtení novějších příspěvků ze
serveru. Opět k tomu využívám mikroformátu &lt;code&gt;hAtom&lt;/code&gt; a jeho
konkrétní implementaci v mé stránce.&lt;/p&gt;

&lt;p&gt;Podívejme se ale raději na další funkci. To je výše zmiňovaná
&lt;code&gt;getFeedUpdates&lt;/code&gt;, která nám transformuje asynchronní volání na
objekt &lt;code&gt;Observable&lt;/code&gt; a to pomocí třídy &lt;code&gt;AsyncSubject&lt;/code&gt;.
Povšimněte si, že v callbacku asynchronního volání vrátím přes closure
data do subjektu, který už je tou dobou pozorován první ukázkou kódu.&lt;/p&gt;

&lt;p&gt;Když přijde odpověď od serveru, je zavolána metoda &lt;code&gt;OnNext&lt;/code&gt;,
která vyhodí přijatá data dál ke zpracování. A vzhledem k tomu, že na
jeden dotaz asi více odpovědí nepřijde, tak taky ukončíme vysílání
výsledků pomocí metody &lt;code&gt;OnComplete&lt;/code&gt;. Kdyby náhodou něco na
serveru selhalo, máme tu ještě metodu &lt;code&gt;OnError&lt;/code&gt;, jejíž
zpracování nikde neřeším. :)&lt;/p&gt;

&lt;p&gt;Ale vězte, že chyby můžete zpracovávat stejně snadno jako
normální data.&lt;/p&gt;

&lt;p&gt;No a to je pro dnešek vše. Tuhle ukázku si bohužel vyzkoušet nemůžete,
protože k ní už je zapotřebí i serverová část a ta ještě není
venku. Příště se možná podíváme, jak pomocí Rx snadno a rychle
vytvořit poměrně sofistikovaný našeptávač.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Včera jsem začal implementovat "aktualizaci času na výpisu":[/weblog/385-casovy-vypis-s-aktualizaci.aspx] typu *friend feed*. Dnes se podíváme na to, jak si zjednodušit práci s asynchronním voláním na server. Samozřejmě opět s využitím jQuery a Reactive Extensions.

Asynchronní volání
==================

Asynchronní volání je z pohledu šetření zdroji výhodné, ovšem z hlediska psaní a údržby kódu už to taková sláva není. Proto nám na pomoc přicházejí Rx((Reactive eXtensions)), které asynchronní operace převádějí na neblokující lineární kód.

Pojďme hned k dnešní ukázce, která bude o dost jednodušší než včera. Ale použitá technika a principy zůstávají stejné:

/--code javascript
Rx.Observable.
  Interval(60000).
  Select(getFeedUpdates).
  Switch().
  SelectMany(function(result) {
    return $(result).find('.hentry').toArray().reverse().toObservable();
  }).
  Subscribe(function(entry) {
    var feed = $('.hfeed')
    feed.prepend(entry);
    $('.hentry:last', feed).remove();
  });
\--code

Opět vytvářím `Observable` objekt, který něco vystřelí jednou za minutu. Tajemství funkce `getFeedUpdates` si nechám na později. A rovnou se vrhnu na zpracování dorazivších výsledků. Výsledkem mého asynchronního volání je kus HTML kódu s vygenerovaným feedem s novými příspěvky. Z tohohle kusu HTML si vyberu jen elementy s třídou `hentry`. Ty jsou seřazeny podle data sestupně, ale já chci feed aktualizovat postupně od nejstarších příspěvků k nejnovějším, takže je otočím funkcí `reverse` a pošlu je do světa jako `Observable` objekty.

Nakonec se přihlásím k odběru těchto jednotlivých příspěvků pomocí operátoru `Subscribe`. Když mi nějaký příspěvek přilítne, tak ho vezmu a dám ho na začátek feedu a potom odeberu poslední záznam, aby se nám feed na stránce nenatahoval. Takže jsme elegantně zvládli příjem nových příspěvků. A jak je vlastně načítáme?

/--code javascript
function getLastActivityDate() {
  return $('.hfeed&gt;.hentry .updated .value-title').first().attr('title');
}

function getFeedUpdates() {
  var subject = new Rx.AsyncSubject();
  var data = { lastActivity: getLastActivityDate() };

  jQuery.post("url", data, function(result, status) {
    if (status == "success") {
      subject.OnNext(result);
      subject.OnCompleted();
    }
    else {
      subject.OnError(result);
    }
  });

  return subject.AsObservable();
}
\--code

Funkce `getLastActivityDate` načte datum posledního zobrazeného příspěvku, které slouží k načtení novějších příspěvků ze serveru. Opět k tomu využívám mikroformátu `hAtom` a jeho konkrétní implementaci v mé stránce.

Podívejme se ale raději na další funkci. To je výše zmiňovaná `getFeedUpdates`, která nám transformuje asynchronní volání na objekt `Observable` a to pomocí třídy `AsyncSubject`. Povšimněte si, že v callbacku asynchronního volání vrátím přes closure data do subjektu, který už je tou dobou pozorován první ukázkou kódu.

Když přijde odpověď od serveru, je zavolána metoda `OnNext`, která vyhodí přijatá data dál ke zpracování. A vzhledem k tomu, že na jeden dotaz asi více odpovědí nepřijde, tak taky ukončíme vysílání výsledků pomocí metody `OnComplete`. Kdyby náhodou něco na serveru selhalo, máme tu ještě metodu `OnError`, jejíž zpracování nikde neřeším. :)

Ale vězte, že chyby můžete zpracovávat stejně snadno jako normální data.

No a to je pro dnešek vše. Tuhle ukázku si bohužel vyzkoušet nemůžete, protože k ní už je zapotřebí i serverová část a ta ještě není venku. Příště se možná podíváme, jak pomocí Rx snadno a rychle vytvořit poměrně sofistikovaný našeptávač.</raw>
    <author>Aleš Roubíček</author>
    <published>2010-03-24T15:55:17.677</published>
    <url>aktualizace-vypisu-na-strance-pomoci-rx</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>javascript jquery rx trop microformats</tags>
    <is-published>1</is-published>
    <edited>2010-05-25T06:52:23.760</edited>
  </article>
  <article>
    <id>387</id>
    <title>Dupačky!</title>
    <description>Záznam první hodiny setu z Dupaček IV a pozvánka na Dupačky VI. </description>
    <html xml:space="preserve">
&lt;p&gt;Nejprve pozvánka. Ve čtvrtek &lt;a
href="http://www.facebook.com/event.php?eid=113003785377204"&gt;8.4.2010 budou
v klubu Touster další Dupačky&lt;/a&gt;, které pořádá &lt;a
href="http://www.idj.cz/pepe/"&gt;Peter Pea&lt;/a&gt;. Jeho hostem nebude nikdo jiný,
než &lt;a href="http://www.idj.cz/alessiobusta/"&gt;moje maličkost&lt;/a&gt;. Pokud si
chcete zadupat na groovy techno nebo se nechat unášet na progressivních
vlnách housu, jistě si přijdete na své.&lt;/p&gt;

&lt;p&gt;Jako malou návnadu přikládám reprýzu první hodiny setu z únorových
Dupaček. Tech House přesunující se do Techna… :)&lt;/p&gt;
&lt;!--[if !IE]&gt; --&gt;
 			&lt;object type="application/x-shockwave-flash"
data="http://player.soundcloud.com/player.swf?url=http%3A%2F%2Fsoundcloud.com%2Falessio-busta%2Fdupacky-iv-reprise"
width="100%" height="81"&gt;
 			&lt;!-- &lt;![endif]--&gt;
 			&lt;!--[if IE]&gt;
			&lt;object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
			  codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"
			  width="100%" height="81"&gt;
			  &lt;param name="movie" value="http://player.soundcloud.com/player.swf?url=http%3A%2F%2Fsoundcloud.com%2Falessio-busta%2Fdupacky-iv-reprise" /&gt;
			&lt;!--&gt;&lt;!--dgx--&gt;
&lt;param name="loop" value="true" /&gt;

&lt;param name="menu" value="false" /&gt;

&lt;param name="allowfullscreen" value="true" /&gt;

&lt;param name="flashvars" value="" /&gt;
 			&lt;/object&gt;
 			&lt;!-- &lt;![endif]--&gt;
&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Nejprve pozvánka. Ve čtvrtek "8.4.2010 budou v klubu Touster další Dupačky":[http://www.facebook.com/event.php?eid=113003785377204], které pořádá "Peter Pea":[http://www.idj.cz/pepe/]. Jeho hostem nebude nikdo jiný, než "moje maličkost":[http://www.idj.cz/alessiobusta/]. Pokud si chcete zadupat na groovy techno nebo se nechat unášet na progressivních vlnách housu, jistě si přijdete na své.

Jako malou návnadu přikládám reprýzu první hodiny setu z únorových Dupaček. Tech House přesunující se do Techna... :)

{{flash: http://player.soundcloud.com/player.swf?url=http%3A%2F%2Fsoundcloud.com%2Falessio-busta%2Fdupacky-iv-reprise, 100%, 81}}
</raw>
    <author>alessio busta</author>
    <published>2010-04-06T14:24:34.267</published>
    <url>dupacky</url>
    <category>Muzika</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2010-04-06T14:31:09.760</edited>
  </article>
  <article>
    <id>388</id>
    <title>Open Graph a jeho nasazení</title>
    <description></description>
    <html xml:space="preserve">
&lt;h3 id="toc-open-graph-a-jeho-nasazeni"&gt;Open Graph a jeho nasazení&lt;/h3&gt;

&lt;p&gt;Open Graph je protokol, který umožňuje z obyčejných stránek udělat
bohaté objekty v sociálním grafu. Jde tedy o další krok k bájnému
sémantickému webu.&lt;/p&gt;

&lt;h4 id="toc-semanticky-web"&gt;Sémantický web&lt;/h4&gt;

&lt;p&gt;&lt;a href="http://zdrojak.root.cz/n/semanticky-web/"&gt;Sémantický web&lt;/a&gt; je
takový strašák, o jehož implementaci se snaží chytří pánové již
spoustu let. Sic, marně. Dnes tu máme RDF, &lt;a
href="http://zdrojak.root.cz/n/mikroformaty/"&gt;mikroformáty&lt;/a&gt; a &lt;a
href="http://zdrojak.root.cz/clanky/rdfa-semantika-pro-fajnsmekry/"
title="RDFa – sémantika pro fajnšmekry"&gt;RDFa&lt;/a&gt;. O všech jste se již na
Zdrojáku mohli dočíst.&lt;/p&gt;

&lt;p&gt;Je &lt;a href="http://opengraphprotocol.org/"&gt;Open Graph&lt;/a&gt; něco nového?
Není. Open Graph staví na infrastruktuře vytvořené v rámci RDFa a
inspuruje se gramatikou některých mikroformátů. Zatímco pomocí RDFa
vyznačujeme sémanticky bohatá data v &lt;strong&gt;obsahu stránky&lt;/strong&gt;, Open
Graph se drží zkrátka a pouze obohacuje stránku o &lt;strong&gt;meta
informace&lt;/strong&gt;, které vyjadřují její &lt;em&gt;postavení v sociálním
grafu&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Open Graph je protokol vytvořený Facebookem na jeho cestě k opanování
internetového světa. Jim totiž nestačí, aby každý měl svůj profil, aby
každá firma, každé místo, akce a jiná blbost měla svou FB stránku. Oni
chtějí, aby do jejich světa patřily i stránky cizí. Díky Open Graph
protokolu můžeme mít rádi nejen lidi a jejich fotečky a statusy, ale
i stránky, které vyjadřují věci, jež mají lidi rádi ve světě
reálném. Ať už jsou to restaurace, filmy, sporty, nebo i věci zcela
imaginární, jako jsou blogísky.&lt;/p&gt;

&lt;h4 id="toc-jak-to-vypada-v-praxi"&gt;Jak to vypadá v praxi&lt;/h4&gt;

&lt;p&gt;Mám-li např. nějakou stránku o restauraci, můžu z ní udělat uzel
grafu. Ona jím vlastně už dávno je, jen se neví, že je to restaurace,
jaký je její název, kde leží apod. Tím, že na stránku vložím
tlačítko „Tohle se mi líbí“, se dostane do sociální sítě Facebooku.
Funguje to tak, že na profilu člověka, který tlačítko stiskne, se objeví
odkaz na danou stránku. Odkaz směřuje na stránku, kde bylo stisknuto
tlačítko, a jeho textem je &lt;strong&gt;titulek&lt;/strong&gt; této
&lt;strong&gt;stránky&lt;/strong&gt;. Hmm, funkční, ale trošku nepěkné. Ale stránku
stačí trošku obohatit o pár tagů a hned to vypadá o něco líp:&lt;/p&gt;

&lt;h4 id="toc-implementace"&gt;Implementace&lt;/h4&gt;

&lt;p&gt;Prvním krokem bude změna DOCTYPE dokumentu. RDFa je nástavbou nad XHTML,
proto změníme DOCTYPE takto:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML+RDFa 1.0//EN"
          "http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd"&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Dále zaregistrujeme jmenný prostor Open Graph protokolu:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:og="http://opengraphprotocol.org/schema/"&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Tím si zajistíme, že stránka projde validací a splníme formální
podmínky pro užití Open Graph protokolu. Pokud se ptáte, jak toto udělat
v HTML potažmo v připravovaném HTML5, neznám zatím odpověď. HTML5 bude
umožňovat zalinkovat RDFa profil pomocí elementu &lt;code&gt;link
rel="profile"&lt;/code&gt; , ale další detaily zůstávají zahaleny rouškou
tajemství. Zpátky k současné implementaci.&lt;/p&gt;

&lt;p&gt;Stránku máme připravenou pro bezproblémové vkládání meta informací
protokolu Open Graph. Teď už jen zbývá je tam vložit.&lt;/p&gt;

&lt;h4 id="toc-zakladni-udaje"&gt;Základní údaje&lt;/h4&gt;

&lt;p&gt;Mezi základní údaje objektu sociálního grafu patří název, typ, URL a
obrázek. Název a URL stránky jsou tak nějak dány její podstatou, ale ne
vždy je obsah elementu &lt;code&gt;title&lt;/code&gt; použitelný a ne vždy je aktuální
URL v browseru ta správná. Proto stránku obohatíme o základní meta
informace:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;meta property="og:title" content="The Pub – Praha 1" /&amp;gt;
&amp;lt;meta property="og:type" content="bar" /&amp;gt;
&amp;lt;meta property="og:url" content="http://www.trop.cz/mista/13/the-pub-praha-1-praha-1-stare-mesto" /&amp;gt;
&amp;lt;meta property="og:image" content="http://www.trop.cz/images/200x200/venue/185/the-pub-praha-1/959.jpg" /&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Ze stránky se nám rázem stal bar se jménem &lt;a
href="http://www.trop.cz/mista/13/the-pub-praha-1-praha-1-stare-mesto"&gt;The
Pub – Praha 1&lt;/a&gt; a obrázkem. Proč Open Graph nevyužívá mikroformátu
&lt;code&gt;rel="canonical"&lt;/code&gt; pro detekci správné URL stránky, zůstává
otázkou a data musíme pěkně duplikovat…&lt;/p&gt;

&lt;h4 id="toc-rozsirene-udaje"&gt;Rozšířené údaje&lt;/h4&gt;

&lt;p&gt;Základní údaje nám jasně definují uzel grafu, ale ten můžeme dále
obohacovat o další údaje. Mezi obecně doporučované informace patří
ještě popis stránky a název web site.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;meta property="og:site_name" content="Trop" /&amp;gt;
&amp;lt;meta property="og:description" content="Pilsner Unique Bar na Praze 1" /&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Nyní už víme, že stránka baru pochází z &lt;a
href="http://www.trop.cz/"&gt;Tropu&lt;/a&gt;, a máme i popis, což umožňuje
Facebooku ukazovat již celkem informačně bohaté příspěvky. Ale můžeme
jít ještě dál. V Tropu má každé místo své geo souřadnice a Open Graph
protokol pro ně má své místo.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;meta property="og:latitude" content="50.0878662"/&amp;gt;
&amp;lt;meta property="og:longitude" content="14.4160943"/&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Samozřejmě, když už máme geo souřadnice, máme i adresu:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;meta property="og:street-address" content="Veleslavínova 3" /&amp;gt;
&amp;lt;meta property="og:locality" content="Praha 1 – Satré Město" /&amp;gt;
&amp;lt;meta property="og:postal-code" content="110 00" /&amp;gt;
&amp;lt;meta property="og:country-name" content="Česká republika" /&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Nechybí možnost přidávat další atributy jako je telefon, fax nebo
e-mail, ale pro představu to jistě stačí. Cpát všechny tyhle informace do
hlavičky mi totiž přijde zcela zbytečné, protože stejná data jsou již ve
stránce obsažena a jsou označena patřičným mikroformátem (platí pro
detail místa na Tropu). Je dost možné, že v dalších verzích bude Open
Graph umět extrahovat data i z těla stránky, ale bojím se, že to bude
opět za pomoci RDFa.&lt;/p&gt;

&lt;h4 id="toc-typy-objektu"&gt;Typy objektů&lt;/h4&gt;

&lt;p&gt;Teď už umíme uzel grafu pěkně popsat, jaké typy objektů umíme popsat?
Měly by to být takové věci, které mají lidé rádi nebo je můžou
doporučit. Seznam je poměrně dlouhý, ale pár zajímavých si tu můžeme
uvést. Jsou to tedy již zmíněné bary (&lt;code&gt;bar&lt;/code&gt;) a restaurace
(&lt;code&gt;restaurant&lt;/code&gt;), dále pak školy (&lt;code&gt;school&lt;/code&gt;), města
(&lt;code&gt;city&lt;/code&gt;), země (&lt;code&gt;country&lt;/code&gt;), ale i herci
(&lt;code&gt;actor&lt;/code&gt;), skupiny (&lt;code&gt;band&lt;/code&gt;), knihy (&lt;code&gt;book&lt;/code&gt;),
filmy (&lt;code&gt;movie&lt;/code&gt;), jídlo (&lt;code&gt;food&lt;/code&gt;) a pití
(&lt;code&gt;drink&lt;/code&gt;) a v neposlední řadě i sport (&lt;code&gt;sport&lt;/code&gt;).
Samozřejmě stránka může být i stránkou (&lt;code&gt;website&lt;/code&gt;), článkem
(&lt;code&gt;article&lt;/code&gt;) nebo blogískem (&lt;code&gt;blog&lt;/code&gt;). Kompletní výčet
najdete &lt;a href="http://opengraphprotocol.org/"&gt;ve specifikaci Open Graph
protokolu&lt;/a&gt;.&lt;/p&gt;

&lt;h4 id="toc-k-cemu-to-je-dobre"&gt;K čemu to je dobré?&lt;/h4&gt;

&lt;p&gt;Celé to je omáčka k sociálním plug-inům, především k tlačítku &lt;a
href="http://developers.facebook.com/docs/reference/plugins/like"&gt;libí se
mi&lt;/a&gt;. Chodíte po webu a na stránkách dáváte palec nahoru věcem, co se
vám líbí. Facebook díky meta informacím ví, co za &lt;strong&gt;objekt
zájmu&lt;/strong&gt; to bylo, a může tak rozšiřovat &lt;strong&gt;váš
profil&lt;/strong&gt;. Dělá to tak, že rozšiřuje kolekci vašich oblíbených
stránek, které navíc přiřazuje do kategorií. Kategorie se kryjí s výše
zmíněnými typy objektů. &lt;strong&gt;Vaši přátelé&lt;/strong&gt; pak na vašem
profilu &lt;strong&gt;vidí&lt;/strong&gt;, jaké máte rádi filmy, jakou posloucháte
hudbu, kam chodíte do hospody, co vám chutná a jakým způsobem rádi
týráte své tělo.&lt;/p&gt;

&lt;h4 id="toc-kdo-to-pouziva"&gt;Kdo to používá?&lt;/h4&gt;

&lt;p&gt;Od uvedení Open Graph protokolu uběhly tři týdny a již dnes jej
implementovalo přes 100 000 webů. My jsme na Tropu nejprve přidali
tlačítko &lt;em&gt;líbí se mi&lt;/em&gt; k jednotlivým místům. Nasazení bylo
otázkou několika minut a byli jsme mezi prvními. V druhé iteraci jsme
přidali &lt;em&gt;meta informace&lt;/em&gt; a změnili tlačítko &lt;em&gt;líbí se mi&lt;/em&gt; na
&lt;em&gt;doporučuji&lt;/em&gt;. Ve třetí jsme přidali další sociální plug-iny jako
&lt;a href="http://developers.facebook.com/docs/reference/plugins/like-box"&gt;Like
Box&lt;/a&gt; a &lt;a
href="http://developers.facebook.com/docs/reference/plugins/recommendations"&gt;Recommendations&lt;/a&gt;.
Ovšem nejsme jediní.&lt;/p&gt;

&lt;p&gt;Díky Open Graphu si můžete při procházení filmů na IMDB klikat na
filmy, které se vám líbí, a budou se vám přidávat do profilu. Bohužel
česká alternativa &lt;a href="http://www.csfd.cz/"&gt;ČSFD&lt;/a&gt; neimplementuje
atribut &lt;code&gt;type&lt;/code&gt; a tak není známa informace, že jejich stránky
obsahují filmy (doporučuji doplnit). Na &lt;a
href="http://www.idnes.cz/"&gt;iDnesu&lt;/a&gt; sice můžete doporučovat zprávy, ale
opět je tu chyba v atributu &lt;code&gt;type&lt;/code&gt;, kde je u článků hodnota
&lt;code&gt;website&lt;/code&gt;, která se hodí spíše na homepage, a v článcích by
měl být typ &lt;code&gt;article&lt;/code&gt;. Dále pak třeba služba &lt;a
href="http://www.ontheroad.to/"&gt;OnTheRoad.to&lt;/a&gt; umožňuje oblíbit si
cestovní zápisky (opět chybí &lt;code&gt;type&lt;/code&gt; &lt;code&gt;article&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;Nejrychleji tuto funkci tedy implementovaly osobní blogy a obsahová media,
méně již katalogy objektů zájmů, u kterých by tato funkcionalita měla
být zajímavější pro obohacování sociálního grafu.&lt;/p&gt;

&lt;p&gt;Open Graph nepřináší jen výhody pro samotný Facebook, který tak
dokáže rozšířit své znalosti o svých uživatelích, ale je to
i zajímavá cesta k propagaci vašich stránek na Facebooku.&lt;/p&gt;

&lt;p&gt;Tak šup, implementujte!&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Open Graph a jeho nasazení
=======================

Open Graph je protokol, který umožňuje z obyčejných stránek udělat bohaté objekty v sociálním grafu. Jde tedy o další krok k bájnému sémantickému webu.

Sémantický web
---------------------

[semanticky-web] je takový strašák, o jehož implementaci se snaží chytří pánové již spoustu let. Sic, marně. Dnes tu máme RDF, [mikroformaty] a RDFa:[rdfa]. O všech jste se již na Zdrojáku mohli dočíst.

Je [opengraph] něco nového? Není. Open Graph staví na infrastruktuře vytvořené v rámci RDFa a inspuruje se gramatikou některých mikroformátů. Zatímco pomocí RDFa vyznačujeme sémanticky bohatá data v **obsahu stránky**, Open Graph se drží zkrátka a pouze obohacuje stránku o **meta informace**, které vyjadřují její *postavení v sociálním grafu*.

Open Graph je protokol vytvořený Facebookem na jeho cestě k opanování internetového světa.  Jim totiž nestačí, aby každý měl svůj profil, aby každá firma, každé místo, akce a jiná blbost měla svou FB stránku. Oni chtějí, aby do jejich světa patřily i stránky cizí. Díky Open Graph protokolu můžeme mít rádi nejen lidi a jejich fotečky a statusy, ale i stránky, které vyjadřují věci, jež mají lidi rádi ve světě reálném. Ať už jsou to restaurace, filmy, sporty, nebo i věci zcela imaginární, jako jsou blogísky.

Jak to vypadá v praxi
----------------------------

Mám-li např. nějakou stránku o restauraci, můžu z ní udělat uzel grafu. Ona jím vlastně už dávno je, jen se neví, že je to restaurace, jaký je její název, kde leží apod. Tím, že na stránku vložím tlačítko „Tohle se mi líbí“, se dostane do sociální sítě Facebooku. Funguje to tak, že na profilu člověka, který tlačítko stiskne, se objeví odkaz na danou stránku. Odkaz směřuje na stránku, kde bylo stisknuto tlačítko, a jeho textem je **titulek** této **stránky**. Hmm, funkční, ale trošku nepěkné. Ale stránku stačí trošku obohatit o pár tagů a hned to vypadá o něco líp:



Implementace
-------------------

Prvním krokem bude změna DOCTYPE dokumentu. RDFa je nástavbou nad XHTML, proto změníme DOCTYPE takto:

/--code html
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML+RDFa 1.0//EN"
          "http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd"&gt;
\--code html

Dále zaregistrujeme jmenný prostor Open Graph protokolu:

/--code html
&lt;html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:og="http://opengraphprotocol.org/schema/"&gt;
\--code

Tím si zajistíme, že stránka projde validací a splníme formální podmínky pro užití Open Graph protokolu. Pokud se ptáte, jak toto udělat v HTML potažmo v připravovaném HTML5, neznám zatím odpověď. HTML5 bude umožňovat zalinkovat RDFa profil pomocí elementu `link rel="profile"` , ale další detaily zůstávají zahaleny rouškou tajemství.  Zpátky k současné implementaci.

Stránku máme připravenou pro bezproblémové vkládání meta informací protokolu Open Graph. Teď už jen zbývá je tam vložit.

Základní údaje
--------------------

Mezi základní údaje objektu sociálního grafu patří název, typ, URL a obrázek. Název a URL stránky jsou tak nějak dány její podstatou, ale ne vždy je obsah elementu `title` použitelný a ne vždy je aktuální URL v browseru ta správná. Proto stránku obohatíme o základní meta informace:

/--code html
&lt;meta property="og:title" content="The Pub – Praha 1" /&gt;
&lt;meta property="og:type" content="bar" /&gt;
&lt;meta property="og:url" content="http://www.trop.cz/mista/13/the-pub-praha-1-praha-1-stare-mesto" /&gt;
&lt;meta property="og:image" content="http://www.trop.cz/images/200x200/venue/185/the-pub-praha-1/959.jpg" /&gt;
\--code

Ze stránky se nám rázem stal bar se jménem [thepub] a obrázkem. Proč Open Graph nevyužívá mikroformátu `rel="canonical"` pro detekci správné URL stránky, zůstává otázkou a data musíme pěkně duplikovat...

Rozšířené údaje
---------------------

Základní údaje nám jasně definují uzel grafu, ale ten můžeme dále obohacovat o další údaje. Mezi obecně doporučované informace patří ještě popis stránky a název web site.

/--code html
&lt;meta property="og:site_name" content="Trop" /&gt;
&lt;meta property="og:description" content="Pilsner Unique Bar na Praze 1" /&gt;
\--code

Nyní už víme, že stránka baru pochází z Tropu:[trop], a máme i popis, což umožňuje Facebooku ukazovat již celkem informačně bohaté příspěvky. Ale můžeme jít ještě dál. V Tropu má každé místo své geo souřadnice a Open Graph protokol pro ně má své místo.

/--code html
&lt;meta property="og:latitude" content="50.0878662"/&gt;
&lt;meta property="og:longitude" content="14.4160943"/&gt;
\--code

Samozřejmě, když už máme geo souřadnice, máme i adresu:

/--code html
&lt;meta property="og:street-address" content="Veleslavínova 3" /&gt;
&lt;meta property="og:locality" content="Praha 1 – Satré Město" /&gt;
&lt;meta property="og:postal-code" content="110 00" /&gt;
&lt;meta property="og:country-name" content="Česká republika" /&gt;
\--code

Nechybí možnost přidávat další atributy jako je telefon, fax nebo e-mail, ale pro představu to jistě stačí. Cpát všechny tyhle informace do hlavičky mi totiž přijde zcela zbytečné, protože stejná data jsou již ve stránce obsažena a jsou označena patřičným mikroformátem (platí pro detail místa na Tropu). Je dost možné, že v dalších verzích bude Open Graph umět extrahovat data i z těla stránky, ale bojím se, že to bude opět za pomoci RDFa.

Typy objektů
------------------

Teď už umíme uzel grafu pěkně popsat, jaké typy objektů umíme popsat? Měly by to být takové věci, které mají lidé rádi nebo je můžou doporučit. Seznam je poměrně dlouhý, ale pár zajímavých si tu můžeme uvést. Jsou to tedy již zmíněné bary (`bar`) a restaurace (`restaurant`), dále pak školy (`school`), města (`city`), země (`country`), ale i herci (`actor`), skupiny (`band`), knihy (`book`), filmy (`movie`), jídlo (`food`) a pití (`drink`) a v neposlední řadě i sport (`sport`). Samozřejmě stránka může být i stránkou (`website`), článkem (`article`) nebo blogískem (`blog`). Kompletní výčet najdete "ve specifikaci Open Graph protokolu":[opengraph].

K čemu to je dobré?
----------------------------

Celé to je omáčka k sociálním plug-inům, především k tlačítku "libí se mi":[likebutton]. Chodíte po webu a na stránkách dáváte palec nahoru věcem, co se vám líbí. Facebook díky meta informacím ví, co za **objekt zájmu** to bylo, a může tak rozšiřovat **váš profil**. Dělá to tak, že rozšiřuje kolekci vašich oblíbených stránek, které navíc přiřazuje do kategorií. Kategorie se kryjí s výše zmíněnými typy objektů. **Vaši přátelé** pak na vašem profilu **vidí**, jaké máte rádi filmy, jakou posloucháte hudbu, kam chodíte do hospody, co vám chutná a jakým způsobem rádi týráte své tělo.

Kdo to používá?
----------------------

Od uvedení Open Graph protokolu uběhly tři týdny a již dnes jej implementovalo přes 100 000 webů. My jsme na Tropu nejprve přidali tlačítko *líbí se mi* k jednotlivým místům. Nasazení bylo otázkou několika minut a byli jsme mezi prvními. V druhé iteraci jsme přidali *meta informace* a změnili tlačítko *líbí se mi* na *doporučuji*. Ve třetí jsme přidali další sociální plug-iny jako [likebox] a [recommendations]. Ovšem nejsme jediní.

Díky Open Graphu si můžete při procházení filmů na IMDB klikat na filmy, které se vám líbí, a budou se vám přidávat do profilu. Bohužel česká alternativa [CSFD] neimplementuje atribut `type` a tak není známa informace, že jejich stránky obsahují filmy (doporučuji doplnit). Na iDnesu:[idnes] sice můžete doporučovat zprávy, ale opět je tu chyba v atributu `type`, kde je u článků hodnota `website`, která se hodí spíše na homepage, a v článcích by měl být typ `article`. Dále pak třeba služba [ontheroad] umožňuje oblíbit si cestovní zápisky (opět chybí `type` `article`).

Nejrychleji tuto funkci tedy implementovaly osobní blogy a obsahová media, méně již katalogy objektů zájmů, u kterých by tato funkcionalita měla být zajímavější pro obohacování sociálního grafu.

Open Graph nepřináší jen výhody pro samotný Facebook, který tak dokáže rozšířit své znalosti o svých uživatelích, ale je to i zajímavá cesta k propagaci vašich stránek na Facebooku.

Tak šup, implementujte!

[semanticky-web]: http://zdrojak.root.cz/n/semanticky-web/ Sémantický web
[mikroformaty]: http://zdrojak.root.cz/n/mikroformaty/ mikroformáty
[rdfa]: http://zdrojak.root.cz/clanky/rdfa-semantika-pro-fajnsmekry/ .(RDFa - sémantika pro fajnšmekry)
[opengraph]: http://opengraphprotocol.org/ Open Graph
[likebutton]: http://developers.facebook.com/docs/reference/plugins/like Like Button
[likebox]: http://developers.facebook.com/docs/reference/plugins/like-box Like Box
[recommendations]: http://developers.facebook.com/docs/reference/plugins/recommendations Recommendations
[thepub]: http://www.trop.cz/mista/13/the-pub-praha-1-praha-1-stare-mesto The Pub - Praha 1
[trop]: http://www.trop.cz/ Trop
[ontheroad]: http://www.ontheroad.to/ OnTheRoad.to
[csfd]: http://www.csfd.cz/ ČSFD
[idnes]: http://www.idnes.cz/ iDnes
</raw>
    <author>Aleš Roubíček</author>
    <published>2010-05-12T14:08:48.147</published>
    <url>open-graph-a-jeho-nasazeni</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>0</is-published>
    <edited>2010-05-12T14:20:33.110</edited>
  </article>
  <article>
    <id>389</id>
    <title>Open Graph a jeho nasazení</title>
    <description>Dnes mi na Zdrojáku vyšel článek o novém protokolu sémantického webu. Tohle je malá upoutávka na něj ;)</description>
    <html xml:space="preserve">
&lt;p&gt;Pokud vás zajímají detaily o nasazení tlačítka &lt;strong&gt;Like&lt;/strong&gt;
na vašich i našich stránkách, doporučuji přečíst si článek &lt;a
href="http://zdrojak.root.cz/clanky/open-graph-a-jeho-nasazeni/"&gt;Open Graph a
jeho nasazení&lt;/a&gt;, který mi dnes vyšel na Zdrojáku. Krom základního popisu
protokolu, tam nejdete i ukázky z reálného provozu a dal jsem si tu práci
a prošel jsem pár implementací na českém webu a doporučil některá
vylepšení. Třeba tam jsou i vaše stránky.&lt;/p&gt;

&lt;p&gt;Závěrem chci poděkovat &lt;a href="http://www.borber.com/"&gt;Borkovi&lt;/a&gt; za
betatestování mého rozverného textu a zároveň za vyzkoušení, pro mne
nové, cesty jak spolupracovat na dokumentu ve Wordu a v Live Mesh (a
v Recycle Bin). :)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Pokud vás zajímají detaily o nasazení tlačítka **Like** na vašich i našich stránkách, doporučuji přečíst si článek [opengraph], který mi dnes vyšel na Zdrojáku. Krom základního popisu protokolu, tam nejdete i ukázky z reálného provozu a dal jsem si tu práci a prošel jsem pár implementací na českém webu a doporučil některá vylepšení. Třeba tam jsou i vaše stránky.

Závěrem chci poděkovat Borkovi:[borber] za betatestování mého rozverného textu a zároveň za vyzkoušení, pro mne nové, cesty jak spolupracovat na dokumentu ve Wordu a v Live Mesh (a v Recycle Bin). :)

[opengraph]: http://zdrojak.root.cz/clanky/open-graph-a-jeho-nasazeni/ Open Graph a jeho nasazení
[borber]: http://www.borber.com/ </raw>
    <author>Aleš Roubíček</author>
    <published>2010-05-18T08:52:33.393</published>
    <url>open-graph-a-jeho-nasazeni</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>opengraph</tags>
    <is-published>1</is-published>
    <edited>2010-05-18T08:53:40.957</edited>
  </article>
  <article>
    <id>390</id>
    <title>Progressive May</title>
    <description>Dlouho slibovaný odkládaný set se super progressivní muzikou v ne zas tak super provedení...</description>
    <html xml:space="preserve">
&lt;p&gt;Dlouho slibovaný odkládaný set s výbornými progressivními tracky v ne
zas tak super provedení…&lt;/p&gt;

&lt;div class="haudio"&gt;
	&lt;ol&gt;
		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Pryda&lt;/span&gt; — &lt;span
		class="title"&gt;Melo&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Adrian Lux&lt;/span&gt; — &lt;span
		class="title"&gt;Teenage Crime&lt;/span&gt; (Axwell &amp;amp; Henrik B Remode)&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Faithless&lt;/span&gt; — &lt;span
		class="title"&gt;Not Going Home&lt;/span&gt; (Eric Prydz Remix)&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;EDX&lt;/span&gt; — &lt;span
		class="title"&gt;Hoover&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Moguai&lt;/span&gt; — &lt;span
		class="title"&gt;Oyster&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Mark Knight&lt;/span&gt; &amp;amp; &lt;span
		class="contributor"&gt;Funkagenda&lt;/span&gt; — &lt;span
		class="title"&gt;Antidote&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Miike Snow&lt;/span&gt; — &lt;span
		class="title"&gt;Silvia&lt;/span&gt; (Sebastian Ingrosso &amp;amp; Dirty South Remix)&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Pryda&lt;/span&gt; — &lt;span
		class="title"&gt;Emos&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Marc Marzenit&lt;/span&gt; — &lt;span
		class="title"&gt;Motor&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Mihalis Safras&lt;/span&gt; — &lt;span
		class="title"&gt;San Tropez&lt;/span&gt; (Oxia Remix)&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Skylar&lt;/span&gt; — &lt;span
		class="title"&gt;Movin&lt;/span&gt; (Joris Voorn Rejected Rave Dub)&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Pryda&lt;/span&gt; — &lt;span
		class="title"&gt;Inspiration&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;King Unique&lt;/span&gt; — &lt;span
		class="title"&gt;2000000 Suns&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Pryda&lt;/span&gt; — &lt;span
		class="title"&gt;Viro&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Pryda&lt;/span&gt; — &lt;span
		class="title"&gt;Lift&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Adrian Lux&lt;/span&gt; — &lt;span
		class="title"&gt;Teenage Crime&lt;/span&gt; (Axwell Remix)&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Joris Voorn&lt;/span&gt; — &lt;span
		class="title"&gt;The Secret&lt;/span&gt;&lt;/li&gt;
	&lt;/ol&gt;

	&lt;p&gt;&lt;span class="category"&gt;dj set&lt;/span&gt; &lt;span class="contributor"&gt;Alessio
	Busta&lt;/span&gt; – &lt;span class="title"&gt;Progressive May&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;!--[if !IE]&gt; --&gt;
 			&lt;object type="application/x-shockwave-flash"
data="http://www.mixcloud.com/media/swf/player/mixcloudLoader.swf?feed=http%3A%2F%2Fwww.mixcloud.com%2Falesroubicek%2Falessio-busta-progressive-may%2F&amp;amp;embed_uuid=fdf39e5b-5e55-41ff-9d4f-0c52b802dd5d&amp;amp;stylecolor=&amp;amp;embed_type=widget_standard"
width="100%" height="160"&gt;
 			&lt;!-- &lt;![endif]--&gt;
 			&lt;!--[if IE]&gt;
			&lt;object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
			  codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"
			  width="100%" height="160"&gt;
			  &lt;param name="movie" value="http://www.mixcloud.com/media/swf/player/mixcloudLoader.swf?feed=http%3A%2F%2Fwww.mixcloud.com%2Falesroubicek%2Falessio-busta-progressive-may%2F&amp;amp;embed_uuid=fdf39e5b-5e55-41ff-9d4f-0c52b802dd5d&amp;amp;stylecolor=&amp;amp;embed_type=widget_standard" /&gt;
			&lt;!--&gt;&lt;!--dgx--&gt;
&lt;param name="loop" value="true" /&gt;

&lt;param name="menu" value="false" /&gt;

&lt;param name="allowfullscreen" value="true" /&gt;

&lt;param name="flashvars" value="" /&gt;
 			&lt;/object&gt;
 			&lt;!-- &lt;![endif]--&gt;
&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Dlouho slibovaný odkládaný set s výbornými progressivními tracky v ne zas tak super provedení...

/--div .[haudio]
1. "Pryda .[contributor]" — "Melo .[title]" .[item]
2. "Adrian Lux .[contributor]" — "Teenage Crime .[title]" (Axwell &amp; Henrik B Remode) .[item]
3. "Faithless .[contributor]" — "Not Going Home .[title]" (Eric Prydz Remix) .[item]
4. "EDX .[contributor]" — "Hoover .[title]" .[item]
5. "Moguai .[contributor]" — "Oyster .[title]" .[item]
6. "Mark Knight .[contributor]" &amp; "Funkagenda .[contributor]" — "Antidote .[title]" .[item]
7. "Miike Snow .[contributor]" — "Silvia .[title]" (Sebastian Ingrosso &amp; Dirty South Remix) .[item]
8. "Pryda .[contributor]" — "Emos .[title]" .[item]
9. "Marc Marzenit .[contributor]" — "Motor .[title]" .[item]
10. "Mihalis Safras .[contributor]" — "San Tropez .[title]" (Oxia Remix) .[item]
11. "Skylar .[contributor]" — "Movin .[title]" (Joris Voorn Rejected Rave Dub) .[item]
12. "Pryda .[contributor]" — "Inspiration .[title]" .[item]
13. "King Unique .[contributor]" — "2000000 Suns .[title]" .[item]
14. "Pryda .[contributor]" — "Viro .[title]" .[item]
15. "Pryda .[contributor]" — "Lift .[title]" .[item]
16. "Adrian Lux .[contributor]" — "Teenage Crime .[title]" (Axwell Remix) .[item]
17. "Joris Voorn .[contributor]" — "The Secret .[title]" .[item]

"dj set .[category]" "Alessio Busta .[contributor]" - "Progressive May .[title]"
\--div

{{flash: http://www.mixcloud.com/media/swf/player/mixcloudLoader.swf?feed=http%3A%2F%2Fwww.mixcloud.com%2Falesroubicek%2Falessio-busta-progressive-may%2F&amp;embed_uuid=fdf39e5b-5e55-41ff-9d4f-0c52b802dd5d&amp;stylecolor=&amp;embed_type=widget_standard, 100%, 160}}
</raw>
    <author>alessio busta</author>
    <published>2010-06-06T09:01:05.317</published>
    <url>progressive-may</url>
    <category>Muzika</category>
    <keywords></keywords>
    <tags>alessiobusta progressive house</tags>
    <is-published>1</is-published>
    <edited>2012-10-08T09:10:05.707</edited>
  </article>
  <article>
    <id>391</id>
    <title>Dancing Monster</title>
    <description>Další z řady nesmyslných hudebních počinů z Vinohradské dílny. Tentokrát ve stylu surového techna.</description>
    <html xml:space="preserve">
&lt;p&gt;Další z řady nesmyslných hudebních počinů z Vinohradské dílny.
Tentokrát ve stylu surového techna.&lt;/p&gt;

&lt;div class="haudio"&gt;
	&lt;ol&gt;
		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Cirez D&lt;/span&gt; — &lt;span
		class="title"&gt;Exit&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Dubfire&lt;/span&gt; — &lt;span
		class="title"&gt;Rejekt&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Nic Fanciulli&lt;/span&gt; &amp;amp; &lt;span
		class="contributor"&gt;Andy Chatterley&lt;/span&gt; — &lt;span
		class="title"&gt;Talla-Hause&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Loco Dice&lt;/span&gt; — &lt;span
		class="title"&gt;La Bicicletta&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Paolo Mojo&lt;/span&gt; — &lt;span
		class="title"&gt;He's The Man&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Boombeck&lt;/span&gt; — &lt;span
		class="title"&gt;Dance I Said&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Popof&lt;/span&gt; — &lt;span
		class="title"&gt;Roxy&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Cirez D&lt;/span&gt; — &lt;span
		class="title"&gt;The Tumble&lt;/span&gt;&lt;/li&gt;
	&lt;/ol&gt;

	&lt;p&gt;&lt;span class="category"&gt;dj set&lt;/span&gt; &lt;span class="contributor"&gt;Alessio
	Busta&lt;/span&gt; – &lt;span class="title"&gt;Dancing Monster&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;!--[if !IE]&gt; --&gt;
 			&lt;object type="application/x-shockwave-flash"
data="//www.mixcloud.com/media/swf/player/mixcloudLoader.swf?feed=http%3A%2F%2Fwww.mixcloud.com%2Falesroubicek%2Falessio-busta-dancing-monster%2F&amp;amp;embed_uuid=95b27781-1310-4945-b19d-450bc5ae5e16&amp;amp;stylecolor=&amp;amp;embed_type=widget_standard"
width="100%" height="160"&gt;
 			&lt;!-- &lt;![endif]--&gt;
 			&lt;!--[if IE]&gt;
			&lt;object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
			  codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"
			  width="100%" height="160"&gt;
			  &lt;param name="movie" value="//www.mixcloud.com/media/swf/player/mixcloudLoader.swf?feed=http%3A%2F%2Fwww.mixcloud.com%2Falesroubicek%2Falessio-busta-dancing-monster%2F&amp;amp;embed_uuid=95b27781-1310-4945-b19d-450bc5ae5e16&amp;amp;stylecolor=&amp;amp;embed_type=widget_standard" /&gt;
			&lt;!--&gt;&lt;!--dgx--&gt;
&lt;param name="loop" value="true" /&gt;

&lt;param name="menu" value="false" /&gt;

&lt;param name="allowfullscreen" value="true" /&gt;

&lt;param name="flashvars" value="" /&gt;
 			&lt;/object&gt;
 			&lt;!-- &lt;![endif]--&gt;
&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Další z řady nesmyslných hudebních počinů z Vinohradské dílny. Tentokrát ve stylu surového techna.

/--div .[haudio]
1. "Cirez D .[contributor]" — "Exit .[title]" .[item]
2. "Dubfire .[contributor]" — "Rejekt .[title]" .[item]
3. "Nic Fanciulli .[contributor]" &amp; "Andy Chatterley .[contributor]" — "Talla-Hause .[title]" .[item]
4. "Loco Dice .[contributor]" — "La Bicicletta .[title]" .[item]
5. "Paolo Mojo .[contributor]" — "He's The Man .[title]" .[item]
6. "Boombeck .[contributor]" — "Dance I Said .[title]" .[item]
7. "Popof .[contributor]" — "Roxy .[title]" .[item]
8. "Cirez D .[contributor]" — "The Tumble .[title]" .[item]

"dj set .[category]" "Alessio Busta .[contributor]" - "Dancing Monster .[title]"
\--div

{{flash: //www.mixcloud.com/media/swf/player/mixcloudLoader.swf?feed=http%3A%2F%2Fwww.mixcloud.com%2Falesroubicek%2Falessio-busta-dancing-monster%2F&amp;embed_uuid=95b27781-1310-4945-b19d-450bc5ae5e16&amp;stylecolor=&amp;embed_type=widget_standard, 100%, 160 }}</raw>
    <author>alessio busta</author>
    <published>2010-06-29T16:56:59.760</published>
    <url>dancing-monster</url>
    <category>Muzika</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2012-09-29T14:12:21.160</edited>
  </article>
  <article>
    <id>392</id>
    <title>Soldier of Darkness</title>
    <description>Pořádný techno sound undergroundu. </description>
    <html xml:space="preserve">
&lt;p&gt;Pořádný techno sound undergroundu.&lt;/p&gt;

&lt;div class="haudio"&gt;
	&lt;ol&gt;
		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Extrawelt&lt;/span&gt; — &lt;span
		class="title"&gt;YeahButNoButYeah&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Sasha&lt;/span&gt; &amp;amp; &lt;span
		class="contributor"&gt;Ray Lamontagne&lt;/span&gt; — &lt;span
		class="title"&gt;Eclipse&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Cirez D&lt;/span&gt; — &lt;span
		class="title"&gt;Bauerpost&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;King Unique&lt;/span&gt; — &lt;span
		class="title"&gt;2000000 Suns – John Digweed &amp;amp; Nick Muir Remix&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Steve Parker&lt;/span&gt; — &lt;span
		class="title"&gt;Switch Box&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Sasha&lt;/span&gt; — &lt;span
		class="title"&gt;Coma&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Zero 7&lt;/span&gt; — &lt;span
		class="title"&gt;Futures – Carl Craig Remix&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Abe Duque&lt;/span&gt; &amp;amp; &lt;span
		class="contributor"&gt;Virginia&lt;/span&gt; — &lt;span class="title"&gt;Following My
		Heart – Oliver Huntemann Remix&lt;/span&gt;&lt;/li&gt;
	&lt;/ol&gt;

	&lt;p&gt;&lt;span class="category"&gt;dj set&lt;/span&gt; &lt;span class="contributor"&gt;Alessio
	Busta&lt;/span&gt; – &lt;span class="title"&gt;Soldier of Darkness&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;!--[if !IE]&gt; --&gt;
 			&lt;object type="application/x-shockwave-flash"
data="//www.mixcloud.com/media/swf/player/mixcloudLoader.swf?feed=http%3A%2F%2Fwww.mixcloud.com%2Falesroubicek%2Falessio-busta-soldier-of-darkness%2F&amp;amp;embed_uuid=f7632f95-e9a2-498d-84bf-7f2b5f14a293&amp;amp;stylecolor=&amp;amp;embed_type=widget_standard"
width="100%" height="160"&gt;
 			&lt;!-- &lt;![endif]--&gt;
 			&lt;!--[if IE]&gt;
			&lt;object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
			  codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"
			  width="100%" height="160"&gt;
			  &lt;param name="movie" value="//www.mixcloud.com/media/swf/player/mixcloudLoader.swf?feed=http%3A%2F%2Fwww.mixcloud.com%2Falesroubicek%2Falessio-busta-soldier-of-darkness%2F&amp;amp;embed_uuid=f7632f95-e9a2-498d-84bf-7f2b5f14a293&amp;amp;stylecolor=&amp;amp;embed_type=widget_standard" /&gt;
			&lt;!--&gt;&lt;!--dgx--&gt;
&lt;param name="loop" value="true" /&gt;

&lt;param name="menu" value="false" /&gt;

&lt;param name="allowfullscreen" value="true" /&gt;

&lt;param name="flashvars" value="" /&gt;
 			&lt;/object&gt;
 			&lt;!-- &lt;![endif]--&gt;
&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Pořádný techno sound undergroundu.

/--div .[haudio]
1. "Extrawelt .[contributor]" — "YeahButNoButYeah .[title]" .[item]
2. "Sasha .[contributor]" &amp; "Ray Lamontagne .[contributor]" — "Eclipse .[title]" .[item]
3. "Cirez D .[contributor]" — "Bauerpost .[title]" .[item]
4. "King Unique .[contributor]" — "2000000 Suns - John Digweed &amp; Nick Muir Remix .[title]" .[item]
5. "Steve Parker .[contributor]" — "Switch Box .[title]" .[item]
6. "Sasha .[contributor]" — "Coma .[title]" .[item]
7. "Zero 7 .[contributor]" — "Futures - Carl Craig Remix .[title]" .[item]
8. "Abe Duque .[contributor]" &amp; "Virginia .[contributor]" — "Following My Heart - Oliver Huntemann Remix .[title]" .[item]

"dj set .[category]" "Alessio Busta .[contributor]" - "Soldier of Darkness .[title]"
\--div


{{flash: //www.mixcloud.com/media/swf/player/mixcloudLoader.swf?feed=http%3A%2F%2Fwww.mixcloud.com%2Falesroubicek%2Falessio-busta-soldier-of-darkness%2F&amp;embed_uuid=f7632f95-e9a2-498d-84bf-7f2b5f14a293&amp;stylecolor=&amp;embed_type=widget_standard, 100%, 160 }}</raw>
    <author>alessio busta</author>
    <published>2010-07-01T14:48:36.610</published>
    <url>soldier-of-darkness</url>
    <category>Muzika</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2012-09-29T14:12:40.973</edited>
  </article>
  <article>
    <id>393</id>
    <title>Facebook Graph API pro .net</title>
    <description>Představení nové SDK pro Facebook nad dotnetem a prosba o pomoc s odhalením zásadní neschopnosti mého mozku.</description>
    <html xml:space="preserve">
&lt;p&gt;Možná jste postřehli, že před nedávnem vypustil Facebook na svém
githubu &lt;a href="http://github.com/facebook/csharp-sdk"&gt;csharp SDK&lt;/a&gt; pro
jejich &lt;a href="http://developers.facebook.com/docs/api"&gt;Graph API&lt;/a&gt;.
Z počátku mě ta zpráva potěšila, protože &lt;a
href="http://facebooktoolkit.codeplex.com/"&gt;Facebook Toolkit&lt;/a&gt;, který jsem
používal, tak nějak nefunguje s novým &lt;a
href="http://developers.facebook.com/docs/reference/javascript/"&gt;JS SDK&lt;/a&gt; a
vůbec má zvláštní problémy.&lt;/p&gt;

&lt;p&gt;Po chvilce nadšení přišla chvilka zklamámí. Podíval jsem se na kód a
ukázky a zděsil se. S dotnetem to má asi tolik společného jako, že to jde
zkompilovat pomocí &lt;code&gt;csc&lt;/code&gt;. Tohle opravdu nechcete používat. Na netu
jsem objevil i další implementace Graph API, ale stále nic, co bych chtěl
používat.&lt;/p&gt;

&lt;p&gt;Nakonec jsem se rozhodl napsat &lt;a
href="http://github.com/rarous/GraphApi"&gt;vlastní implementaci&lt;/a&gt;. Základ je
inspirován již zmiňovaným csharp SDK, ale napsanej tak, aby využíval
věci, co framework již nabízí, místo vlastní implementace JSON jsem
použil osvědčený &lt;a href="http://json.codeplex.com/"&gt;JSON.NET&lt;/a&gt;, přidal
podporu pro ověřování pomocí OAuth i klientské JS ověření pomocí
tlačítka &lt;code&gt;fb:login&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;No a hlavně další vrstvu abstrakce včetně objektů API.&lt;/p&gt;

&lt;p&gt;Tohle všechno je moc hezký, mně se to dobře používá, je to IoC ready,
ale zatím chybí podpora pro desktopové ověřování. Ale hlavně mi
nefunguje postování na wall, což je celkem zásadní problém. Zkoušel jsem
už spoustu cest. Práva na publikování &lt;code&gt;publish_stream&lt;/code&gt; uživatel
potvrdí, ale Facebook s ledovým klidem odpovídá:&lt;/p&gt;

&lt;pre&gt;Exception: (#200) The user hasn't authorized the application to perform this action&lt;/pre&gt;

&lt;p&gt;A mě z toho může trefit šlak. :)&lt;/p&gt;

&lt;p&gt;Proto moc prosím, zkuste si stáhnout projekt, a trošku si pohrát, jestli
třeba nebudete mít větší štěstí. Případného mistra odvšivovače pak
pozvu na skleničku něčeho moc dobrého.&lt;/p&gt;

&lt;p&gt;Pokud si nebudete vědět rady, jak to rozběhat, klidně mi napište &lt;a
href="/#kontakt"&gt;mail nebo na IM&lt;/a&gt;. Dám vám klíče pro testovací účely a
jistě další dobré rady. :)&lt;/p&gt;

&lt;h3 id="toc-update"&gt;Update&lt;/h3&gt;

&lt;p&gt;Chybu jsem nakonec odhalil a pozval se na pár Black Labelů. Chyba byla
v tom, že se nastavavovala špatná hodnota vlastnosti &lt;code&gt;Method&lt;/code&gt;
objektu &lt;code&gt;HttpWebRequest&lt;/code&gt;. Namísto hodnoty &lt;code&gt;POST&lt;/code&gt; tam byl
&lt;code&gt;Post&lt;/code&gt; (hodnota enumerce &lt;code&gt;HttpVerb&lt;/code&gt; a
&lt;code&gt;ToString&lt;/code&gt;). Navíc se ještě špatně encodovalo tělo requestu,
kde se encodovalo všechno, ne jen hodnoty. Škoda, že se takováto chyba
nedala vyčíst z chybové hlášky, která byla v tomto případě celkem
zavádějící. Každopádně GraphApi už je plně funkčí a můžete ho
plnohodnotně požívat.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Možná jste postřehli, že před nedávnem vypustil Facebook na svém githubu "csharp SDK":[sdk] pro jejich "Graph API":[graph]. Z počátku mě ta zpráva potěšila, protože "Facebook Toolkit":[toolkit], který jsem používal, tak nějak nefunguje s novým "JS SDK":[jssdk] a vůbec má zvláštní problémy.

Po chvilce nadšení přišla chvilka zklamámí. Podíval jsem se na kód a ukázky a zděsil se. S dotnetem to má asi tolik společného jako, že to jde zkompilovat pomocí `csc`. Tohle opravdu nechcete používat. Na netu jsem objevil i další implementace Graph API, ale stále nic, co bych chtěl používat.

Nakonec jsem se rozhodl napsat "vlastní implementaci":[graphapi]. Základ je inspirován již zmiňovaným csharp SDK, ale napsanej tak, aby využíval věci, co framework již nabízí, místo vlastní implementace JSON jsem použil osvědčený "JSON.NET":[jsonnet], přidal podporu pro ověřování pomocí OAuth i klientské JS ověření pomocí tlačítka `fb:login`.

No a hlavně další vrstvu abstrakce včetně objektů API.

Tohle všechno je moc hezký, mně se to dobře používá, je to IoC ready, ale zatím chybí podpora pro desktopové ověřování. Ale hlavně mi nefunguje postování na wall, což je celkem zásadní problém. Zkoušel jsem už spoustu cest. Práva na publikování `publish_stream` uživatel potvrdí, ale Facebook s ledovým klidem odpovídá:

/--pre
Exception: (#200) The user hasn't authorized the application to perform this action
\--

A mě z toho může trefit šlak. :)

Proto moc prosím, zkuste si stáhnout projekt, a trošku si pohrát, jestli třeba nebudete mít větší štěstí. Případného mistra odvšivovače pak pozvu na skleničku něčeho moc dobrého.

Pokud si nebudete vědět rady, jak to rozběhat, klidně mi napište "mail nebo na IM":[/#kontakt]. Dám vám klíče pro testovací účely a jistě další dobré rady. :)

Update
=====

Chybu jsem nakonec odhalil a pozval se na pár Black Labelů. Chyba byla v tom, že se nastavavovala špatná hodnota vlastnosti `Method` objektu `HttpWebRequest`. Namísto hodnoty `POST` tam byl `Post` (hodnota enumerce `HttpVerb` a `ToString`). Navíc se ještě špatně encodovalo tělo requestu, kde se encodovalo všechno, ne jen hodnoty. Škoda, že se takováto chyba nedala vyčíst z chybové hlášky, která byla v tomto případě celkem zavádějící. Každopádně GraphApi už je plně funkčí a můžete ho plnohodnotně požívat.

[jsonnet]: http://json.codeplex.com/
[toolkit]: http://facebooktoolkit.codeplex.com/
[sdk]: http://github.com/facebook/csharp-sdk
[graph]: http://developers.facebook.com/docs/api
[jssdk]: http://developers.facebook.com/docs/reference/javascript/
[graphapi]: http://github.com/rarous/GraphApi</raw>
    <author>Aleš Roubíček</author>
    <published>2010-08-06T09:19:16.683</published>
    <url>facebook-graph-api-pro-net</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>facebook graph</tags>
    <is-published>1</is-published>
    <edited>2010-08-20T07:14:09.463</edited>
  </article>
  <article>
    <id>394</id>
    <title>Continuous Delivery</title>
    <description>Pozvánka na WebExpo.</description>
    <html xml:space="preserve">
&lt;p&gt;Vloudil jsem se i na &lt;a href="http://www.webexpo.cz/"&gt;letošní WebExpo&lt;/a&gt;
s tématem &lt;a href="http://www.webexpo.cz/program/sobota"&gt;Continuous Delivery
aneb máme stále co nabídnout&lt;/a&gt;. Přednáška o této poměrně nové
agilní technice bude vycházet především ze starší techniky Continuous
Integration, na které tato nová staví.&lt;/p&gt;

&lt;p&gt;Témata, která by měla na přednášce zaznít, najdete &lt;a
href="http://prezi.com/xsgqskjcce96/continuous-delivery"&gt;v moji prezi&lt;/a&gt;,
která je je k nahlédnutí již nyní v její rané vývojové fázi. :)
Přesně v agilním duchu Continuous Delivery.&lt;/p&gt;

&lt;p&gt;Samozřejmě jsem otevřen připomínkám a námětům, co by vás –
případné účastníky – zajímalo.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Vloudil jsem se i na "letošní WebExpo":[http://www.webexpo.cz/] s tématem "Continuous Delivery aneb máme stále co nabídnout":[http://www.webexpo.cz/program/sobota]. Přednáška o této poměrně nové agilní technice bude vycházet především ze starší techniky Continuous Integration, na které tato nová staví.

Témata, která by měla na přednášce zaznít, najdete "v moji prezi":[http://prezi.com/xsgqskjcce96/continuous-delivery], která je je k nahlédnutí již nyní v její rané vývojové fázi. :) Přesně v agilním duchu Continuous Delivery.

Samozřejmě jsem otevřen připomínkám a námětům, co by vás - případné účastníky - zajímalo.
</raw>
    <author>Aleš Roubíček</author>
    <published>2010-08-08T08:45:53.350</published>
    <url>continuous-delivery</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>webexpo xp agile</tags>
    <is-published>1</is-published>
    <edited>2010-08-08T08:45:53.473</edited>
  </article>
  <article>
    <id>395</id>
    <title>Asynchroní načítání featur v jQuery</title>
    <description>K optimalizaci rychlosti načítání stránek se můžeme postavit různě. Někdo to neřeší, někdo snižuje počet požadavků jednou velkou haldou scriptů a někdo načítá featury asynchronně.</description>
    <html xml:space="preserve">
&lt;p&gt;K optimalizaci rychlosti načítání stránek se můžeme postavit různě.
Někdo to neřeší, někdo snižuje počet požadavků jednou velkou haldou
scriptů a někdo načítá featury asynchronně.&lt;/p&gt;

&lt;p&gt;Je to celkem snadné. Místo jednoho velikého scriptu s jQuery, všemi
pluginy a vlastními scripty, připojíme do šablony webu scripty dva. Jeden
bude linkovat jQuery z CDN druhý bude bootstrapper, který bude asynchronně
donačítat scripty pro featury na dané stránce:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;script type="text/javascript"
  src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"&amp;gt;
&amp;lt;/script&amp;gt;
&amp;lt;script type="text/javascript" src="/scripts/bootstrapper.js"&amp;gt;&amp;lt;/script&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Jak vypadá takový bootstrapper? Následovně:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-javascript"&gt;jQuery(function($) {
  initCalendar($);
});

function initCalendar($) {
  var cal = $('.calendar');
  if (cal.length == 0) return;
  $.getScript('/scripts/jquery.calendar.js', function() {
    cal.calendar();
  });
}&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id="toc-jak-to-funguje"&gt;Jak to funguje?&lt;/h3&gt;

&lt;p&gt;Když máme připravený DOM, jQuery spustí naši inicializační funkci pro
kalendáře. Pokud na stránce žádné kalendáře nemáme, tak skončíme.
Nemá cenu načítat script s kalendářem. Pokud na stránce, nějaké
kalendáře jsou, tak načteme potřebný script a zaregistrujeme funkci, která
se spustí po zavedení scriptu. V tomto případě obohatí stránku
o pěkné kalendáře. :)&lt;/p&gt;

&lt;p&gt;Zbavili jsme se tak blokujících čekání na načtení scriptů,
načítáme pouze dva scripty, z toho první je jistě už v lokální cache
prohlížeče. Na zbylé scripty nemusí prohlížeč čekat a stránka se
vykreslí celkem rychle bez záseků. Jednotlivá vylepšení stránky se
donačtou záhy. Uživatel nic nepozná, jen bude mít plynulejší
prožitek.&lt;/p&gt;

&lt;p&gt;A to je vše, milé děti.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">K optimalizaci rychlosti načítání stránek se můžeme postavit různě. Někdo to neřeší, někdo snižuje počet požadavků jednou velkou haldou scriptů a někdo načítá featury asynchronně.

Je to celkem snadné. Místo jednoho velikého scriptu s jQuery, všemi pluginy a vlastními scripty, připojíme do šablony webu scripty dva. Jeden bude linkovat jQuery z CDN  druhý bude bootstrapper, který bude asynchronně donačítat scripty pro featury na dané stránce:

/--code xml
&lt;script type="text/javascript"
  src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"&gt;
&lt;/script&gt;
&lt;script type="text/javascript" src="/scripts/bootstrapper.js"&gt;&lt;/script&gt;
\--code

Jak vypadá takový bootstrapper? Následovně:

/--code javascript
jQuery(function($) {
  initCalendar($);
});

function initCalendar($) {
  var cal = $('.calendar');
  if (cal.length == 0) return;
  $.getScript('/scripts/jquery.calendar.js', function() {
    cal.calendar();
  });
}
\--code

Jak to funguje?
===============

Když máme připravený DOM, jQuery spustí naši inicializační funkci pro kalendáře. Pokud na stránce žádné kalendáře nemáme, tak skončíme. Nemá cenu načítat script s kalendářem. Pokud na stránce, nějaké kalendáře jsou, tak načteme potřebný script a zaregistrujeme funkci, která se spustí po zavedení scriptu. V tomto případě obohatí stránku o pěkné kalendáře. :)

Zbavili jsme se tak blokujících čekání na načtení scriptů, načítáme pouze dva scripty, z toho první je jistě už v lokální cache prohlížeče. Na zbylé scripty nemusí prohlížeč čekat a stránka se vykreslí celkem rychle bez záseků. Jednotlivá vylepšení stránky se donačtou záhy. Uživatel nic nepozná, jen bude mít plynulejší prožitek.

A to je vše, milé děti.

</raw>
    <author>Aleš Roubíček</author>
    <published>2010-09-12T11:21:59.380</published>
    <url>asynchroni-nacitani-featur-v-jquery</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>jquery javascript</tags>
    <is-published>1</is-published>
    <edited>2010-09-15T16:34:00.503</edited>
  </article>
  <article>
    <id>396</id>
    <title>Můj pohled na F# se mění</title>
    <description>Krátké zamyšlení k mému postoji k jazyku F#</description>
    <html xml:space="preserve">
&lt;p&gt;Za posledních pár měsíců se mi celkem změnil pohled na F#. Ještě do
nedávna jsem si myslel, na co další jazyk, když C# zvládá funkcionální
paradigma taky obstojně?&lt;/p&gt;

&lt;p&gt;Ale pak jsem psal v C# pár aplikací, kde docházelo k masivnímu
přelívání dat a jejich transformaci. V podstatě jednoduchý funkcionální
kód jsem obaloval poměrně košatou objektovou strukturou. A pak jsem začal
číst knihu &lt;a
href="http://www.amazon.com/Expert-2-0-Experts-Voice-Syme/dp/1430224312"&gt;Expert
F# 2.0&lt;/a&gt; a měl pár pěkných &lt;em&gt;aha momentů&lt;/em&gt;. A začal jsem vidět,
jak jsem si mohl spoustu práce ušetřit…&lt;/p&gt;

&lt;p&gt;Teoreticky. :)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Za posledních pár měsíců se mi celkem změnil pohled na F#. Ještě do nedávna jsem si myslel, na co další jazyk, když C# zvládá funkcionální paradigma taky obstojně?

Ale pak jsem psal v C# pár aplikací, kde docházelo k masivnímu přelívání dat a jejich transformaci. V podstatě jednoduchý funkcionální kód jsem obaloval poměrně košatou objektovou strukturou. A pak jsem začal číst knihu "Expert F# 2.0":[book] a měl pár pěkných *aha momentů*. A začal jsem vidět, jak jsem si mohl spoustu práce ušetřit...

Teoreticky. :)

[book]: http://www.amazon.com/Expert-2-0-Experts-Voice-Syme/dp/1430224312</raw>
    <author>Aleš Roubíček</author>
    <published>2010-11-09T14:04:37.770</published>
    <url>muj-pohled-na-fsharp-se-meni</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>fsharp</tags>
    <is-published>1</is-published>
    <edited>2010-11-09T14:31:58.273</edited>
  </article>
  <article>
    <id>397</id>
    <title>Single Responsibility Principle in the wild</title>
    <description>Dneska jsme narazil na jeden příklad, který byl opět ukázkou špatného návrhu a tak mě inspiroval. Inspiroval k jednoduché ukázce, jak špatný návrh krapet vylepšit.</description>
    <html xml:space="preserve">
&lt;p&gt;Tak jsem se tak koukal na &lt;a
href="http://channel9.msdn.com/posts/Cloud-Cover-Episode-32-AppFabric-Caching"&gt;poslední
CloudCover&lt;/a&gt;, kde představovali novou službu Windows Azure AppFabric
Caching. Služba je to jistě zajímavá a je jednou z možností jak zajistit
&lt;em&gt;session state affinity&lt;/em&gt; v Azure. Ale proč o tom píšu.&lt;/p&gt;

&lt;p&gt;Součástí epizody byla i živá ukázka, jak přidat cachování do
existující aplikace.&lt;/p&gt;

&lt;blockquote&gt;
	&lt;p&gt;Teď to možná některé &lt;a href="http://www.nhforge.org/"&gt;NHibernate&lt;/a&gt;
	znalé veterány zaskočí, ale v Microsoftím světě ORM si o něčem jako
	2nd level cache můžete nechat zdát. Vůbec tam spoustu krásných věcí
	nemají, ale o tom třeba až jindy.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;No prostě tam měli repository (používat repository, tam kde je LINQ, je
už samo o sobě obskurní, ale budiž), která vypadala nějak tak:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class ProductsRepository : IProductsRepository {

  public List&amp;lt;string&amp;gt; GetProducts() {

    List&amp;lt;string&amp;gt; products = null;

    NorthwindEntities context = new NorthwindEntities();
    var query = from product in context.Products
                select product.ProductName;

    products = query.ToList();

    return products;
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Mno, měli tedy respository produktů, která vracela názvy všech produktů
přímo z databáze. No a pak se jali přidat cachování takového listu:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class ProductsRepository : IProductsRepository {

  DataCacheFactory dcf;

  public ProductsRepository() {
    dcf = new DataCacheFactory();
  }

  public List&amp;lt;string&amp;gt; GetProducts() {

    List&amp;lt;string&amp;gt; products = null;

    DataCache dc = dcf.GetDefaultCache();

    products = dc.Get("products");

    if (products != null) {
      return products;
    }

    NorthwindEntities context = new NorthwindEntities();
    var query = from product in context.Products
                select product.ProductName;

    products = query.ToList();

    dc.Put("products", products);

    return products;
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Úžasné! Jenže tím jsme porušili &lt;a
href="http://en.wikipedia.org/wiki/Single_responsibility_principle"&gt;princip
jediné zodpovědnosti&lt;/a&gt;. Teď se nám repository účastní hned na dvou
záležitostech – na své původní (načíst data z databáze) a nově na
cachování načtených dat. Takže to smrdí. &lt;strong&gt;It smels like
refactoring time!&lt;/strong&gt;&lt;/p&gt;

&lt;h3 id="toc-jak-na-to"&gt;Jak na to?&lt;/h3&gt;

&lt;p&gt;&lt;em&gt;Cachování je věc hodná vlastního aspektu.&lt;/em&gt; Když se podíváme
na výsledný kód, zjistíme, že jsme neudělali nic jiného než, že jsme
odekorovali načítání dat logikou pro cachování. Tudíž zvolíme vzor
&lt;strong&gt;dekorátor&lt;/strong&gt;! Repository vrátíme do původního stavu, protože
ten svůj účel splňuje a přidáme další třídu s jedinou
zodpovědností:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class CachedProductsRepository : IProductsRepository {

  const string ProductsKey = "products";

  readonly DataCacheFactory cacheFactory;
  readonly IProductsRepository repository;

  public CachedProductsRepository(DataCacheFactory cacheFactory, IProductsRepository repository) {
    this.cacheFactory = cacheFactory;
    this.repository = repository;
  }

  public List&amp;lt;string&amp;gt; GetProducts() {

    var cache = cacheFactory.GetDefaultCache();
    var products = cache.Get(ProductsKey);

    if (products == null) {
      products = repository.GetProducts();
      dc.Put(ProductsKey, products);
    }

    return products;
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;No a máme to! Dokonce si teď můžeme vybrat, kdy chceme používat cache
nebo sahat do databáze přímo. A to vše díky díky dodržování &lt;a
href="http://en.wikipedia.org/wiki/Open/closed_principle"&gt;Open/Closed
principle&lt;/a&gt; a jednoduché kompozici objektů, které dělají jen a pouze to,
co mají. :)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Tak jsem se tak koukal na "poslední CloudCover":[cloudcover], kde představovali novou službu Windows Azure AppFabric Caching. Služba je to jistě zajímavá a je jednou z možností jak zajistit *session state affinity* v Azure. Ale proč o tom píšu.

Součástí epizody byla i živá ukázka, jak přidat cachování do existující aplikace.

&gt; Teď to možná některé [nhibernate] znalé veterány zaskočí, ale v Microsoftím světě ORM si o něčem jako 2nd level cache můžete nechat zdát. Vůbec tam spoustu krásných věcí nemají, ale o tom třeba až jindy.

No prostě tam měli repository (používat repository, tam kde je LINQ, je už samo o sobě obskurní, ale budiž), která vypadala nějak tak:

/--code csharp
public class ProductsRepository : IProductsRepository {

  public List&lt;string&gt; GetProducts() {

    List&lt;string&gt; products = null;

    NorthwindEntities context = new NorthwindEntities();
    var query = from product in context.Products
                select product.ProductName;

    products = query.ToList();

    return products;
  }
}
\--code

Mno, měli tedy respository produktů, která vracela názvy všech produktů přímo z databáze. No a pak se jali přidat cachování takového listu:

/--code csharp
public class ProductsRepository : IProductsRepository {

  DataCacheFactory dcf;

  public ProductsRepository() {
    dcf = new DataCacheFactory();
  }

  public List&lt;string&gt; GetProducts() {

    List&lt;string&gt; products = null;

    DataCache dc = dcf.GetDefaultCache();

    products = dc.Get("products");

    if (products != null) {
      return products;
    }

    NorthwindEntities context = new NorthwindEntities();
    var query = from product in context.Products
                select product.ProductName;

    products = query.ToList();

    dc.Put("products", products);

    return products;
  }
}
\--code

Úžasné! Jenže tím jsme porušili "princip jediné zodpovědnosti":[srp]. Teď se nám repository účastní hned na dvou záležitostech - na své původní (načíst data z databáze) a nově na cachování načtených dat. Takže to smrdí. **It smels like refactoring time!**

Jak na to?
==========

*Cachování je věc hodná vlastního aspektu.* Když se podíváme na výsledný kód, zjistíme, že jsme neudělali nic jiného než, že jsme odekorovali načítání dat logikou pro cachování. Tudíž zvolíme vzor **dekorátor**! Repository vrátíme do původního stavu, protože ten svůj účel splňuje a přidáme další třídu s jedinou zodpovědností:

/--code csharp
public class CachedProductsRepository : IProductsRepository {

  const string ProductsKey = "products";

  readonly DataCacheFactory cacheFactory;
  readonly IProductsRepository repository;

  public CachedProductsRepository(DataCacheFactory cacheFactory, IProductsRepository repository) {
    this.cacheFactory = cacheFactory;
    this.repository = repository;
  }

  public List&lt;string&gt; GetProducts() {

    var cache = cacheFactory.GetDefaultCache();
    var products = cache.Get(ProductsKey);

    if (products == null) {
      products = repository.GetProducts();
      dc.Put(ProductsKey, products);
    }

    return products;
  }
}
\--code

No a máme to! Dokonce si teď můžeme vybrat, kdy chceme používat cache nebo sahat do databáze přímo. A to vše díky díky dodržování [ocp] a jednoduché kompozici objektů, které dělají jen a pouze to, co mají. :)

[cloudcover]: http://channel9.msdn.com/posts/Cloud-Cover-Episode-32-AppFabric-Caching
[nhibernate]: http://www.nhforge.org/ NHibernate
[ocp]: http://en.wikipedia.org/wiki/Open/closed_principle Open/Closed principle
[srp]: http://en.wikipedia.org/wiki/Single_responsibility_principle</raw>
    <author>Aleš Roubíček</author>
    <published>2010-11-20T13:31:55.940</published>
    <url>single-responsibility-principle-in-the-wild</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2010-11-20T15:57:41.303</edited>
  </article>
  <article>
    <id>398</id>
    <title>Pryč se stromečky!</title>
    <description>Malá předvánoční agitace za lepší svět. </description>
    <html xml:space="preserve">
&lt;p&gt;Blíží se Vánoce, čas stresu a shonu za nejdražšími Vánočními
dárky, pro naše nejdražší. Čas, kdy se ve velkém mordují kapři (navíc
na veřejnosti, no fůj!) a kácí se stromky. Ano, ty které potom ověsíme
nejrůznějšími koulemi a řetězy, aby pak několik týdnů opadávalo
jehličí a vůbec. O tomhle ale psát nechci. :)&lt;/p&gt;

&lt;p&gt;Dneska se podíváme na jiný úkaz. A to na problematiku zanořování
kódu, který ve výsledku vypadá jako stromečky. (Pokud jste takový kód
ještě neviděli, což pochybuju, tak ukázku najdete třeba tady v sekci &lt;a
href="http://blog.maartenballiauw.be/post/2009/05/20/ASPNET-MVC-Domain-Routing.aspx"&gt;Dark
Magic&lt;/a&gt;.)&lt;/p&gt;

&lt;h3 id="toc-v-cem-je-problem"&gt;V čem je problém?&lt;/h3&gt;

&lt;p&gt;Možná si říkáte, „co to ten Roubíček zase vymejšlí? Vždyť
takovej kód je přece v pořádku,“ (tj. dělá, to, co má.) „A navíc
nemusíme chodit do lesa, protože máme stromečky pořád na očích!“ To je
fakt. Jenže, ruku na srdce, dokážete odhadnout na první pohled, co takový
kód vlastně dělá? Moc asi ne. A proč? Protože &lt;strong&gt;pět&lt;/strong&gt;
úrovní zanoření (nepočítám namespace, class ani metodu) je už
trochu moc.&lt;/p&gt;

&lt;p&gt;Jak moc? No hrozně moc. Fakt! Ono se to totiž dá krásně změřit, např.
pomocí metriky &lt;a
href="http://en.wikipedia.org/wiki/Cyclomatic_complexity"&gt;Cyclomatic
complexity&lt;/a&gt;.&lt;/p&gt;

&lt;div&gt;&lt;img src="/data/obrazky/cyclomatic.png" alt="" /&gt;&lt;/div&gt;

&lt;p&gt;Když se podíváme na tuto metriku u ukázkového příkladu, zjistíme,
že metoda &lt;code&gt;GetRouteData&lt;/code&gt; dosahuje hodnoty &lt;strong&gt;17&lt;/strong&gt;. Co to
znamená? Když si přečtete odkazovaný popis metriky, dozvíte se také, že
její hodnota určuje míru možného výskytu chyb. Čím větší je
cyklomatická komplexita, tím více toho modul dělá a zvyšuje se riziko
přehlédnutých chyb. Doporučuje se mít komplexitu do deseti a tady tuto
hodnotu překračujeme takřka dvojnásobně.&lt;/p&gt;

&lt;blockquote&gt;
	&lt;p&gt;It smells like refactoring time!&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id="toc-refaktorovat-refaktorovat-refaktorovat"&gt;Refaktorovat, refaktorovat,
refaktorovat&lt;/h3&gt;

&lt;p&gt;Jednoduše jsme pomocí metriky odhalili kandidáta, kde budeme kácet
stromy. Když se podíváme pozorně na ukázkový příklad, můžeme si
všimnout bloků kódu, které začínají komentářem. Budu se opakovat, ale
&lt;a href="/weblog/361-nepiste-zbytecny-kod.aspx"&gt;nepište zbytečný kód&lt;/a&gt;!
Tohle jsou jasné samostatné metody. Použijeme tedy refaktoring &lt;code&gt;Extract
method&lt;/code&gt;. Po extrahování čtyř metod, už se nám metoda vejde na jednu
obrazovku a cyklomatická komplexita spadne na trojku. Takřka na jednu
šestinu!&lt;/p&gt;

&lt;p&gt;Huh. A to je teprve začátek.&lt;/p&gt;

&lt;p&gt;Po prvním kole vypadá výsledek asi tak:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public override RouteData GetRouteData(HttpContextBase httpContext) {
  // Build regex
  domainRegex = CreateRegex(Domain);
  pathRegex = CreateRegex(Url);
  // Request information
  string requestDomain;
  string requestPath;
  RequestInformation(httpContext, out requestDomain, out requestPath);
  // Match domain and route
  Match domainMatch = domainRegex.Match(requestDomain);
  Match pathMatch = pathRegex.Match(requestPath);
  // Route data
  RouteData data = null;
  if (domainMatch.Success &amp;amp;&amp;amp; pathMatch.Success) {
    data = new RouteData(this, RouteHandler);
    AddDefaultsFirst(data);
    IterateMatchingDomainGroups(domainMatch, data);
    IterateMatchingPathGroups(pathMatch, data);
  }
  return data;
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Není to žádná nádhera, ale je mnohem přehlednější, než originál.
A v řeči čísel:&lt;/p&gt;

&lt;div&gt;&lt;img src="/data/obrazky/cyclomatic-2.png" alt="" /&gt;&lt;/div&gt;

&lt;h3 id="toc-rozpletame-podminky"&gt;Rozplétáme podmínky&lt;/h3&gt;

&lt;p&gt;Tak, snížili jsme komplexitu metody, ale tiše nám narostla komplexita
třídy. Klidně můžeme pokračovat v cestě, to zvládneme později. Teď se
zaměříme na ty velký šestky. Na první pohled cyklus se spoustou
zanořených podmínek. Pryč s nimi! Teď přijde na řadu refaktoring
&lt;code&gt;Flatten Conditional&lt;/code&gt; a z vše objímajícího
&lt;code&gt;if&lt;/code&gt;u uděláme jen guarda. Dále tu mám dva zanořený
&lt;code&gt;if&lt;/code&gt;y? Proč, když je můžeme logicky spojit operátorem
&lt;code&gt;&amp;amp;&amp;amp;&lt;/code&gt;? Směle do toho! Pro změnu použijeme refaktoring
&lt;code&gt;Combine Conditionals&lt;/code&gt; a vytvoříme jednu dlouhou a ošklivou
podmínku…&lt;/p&gt;

&lt;p&gt;Čas na refaktoring &lt;code&gt;Extract method&lt;/code&gt; a podmínku pěkně
smysluplně pojmenovat. Po pár magických kombinacích kláves se nám
z týhle zrůdičky:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;private static void IterateMatchingPathGroups(Match pathMatch, RouteData data) {
  for (int i = 1; i &amp;lt; pathMatch.Groups.Count; i++) {
    Group group = pathMatch.Groups[i];
    if (group.Success) {
      string key = pathRegex.GroupNameFromNumber(i);
      if (!string.IsNullOrEmpty(key) &amp;amp;&amp;amp; !char.IsNumber(key, 0)) {
        if (!string.IsNullOrEmpty(group.Value)) {
          data.Values[key] = group.Value;
        }
      }
    }
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Stane opět poměrně snadno pochopitelný kód:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;private static void IterateMatchingPathGroups(Match pathMatch, RouteData data) {
  for (int i = 1; i &amp;lt; pathMatch.Groups.Count; i++) {
    Group group = pathMatch.Groups[i];
    if (IsNotMatch(group))
      continue;

    string key = pathRegex.GroupNameFromNumber(i);
    if (IsInvalidKeyOrValue(group, key))
      continue;

    data.Values[key] = group.Value;
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Navíc, když se teď na ten kód podíváme, zjistíme, že se ty původní
šestky (z kterých už jsou čtyřky) liší jen v tom, že používají
každá jinou členskou proměnou, naštěstí stejného typu. Tak jdeme zase
refaktorovat. :) Nejprve si tedy tuto proměnou uložíme lokálně na začátku
metody a ze zbytku extrahujeme metodu novou s jedním parametrem navíc.&lt;/p&gt;

&lt;p&gt;U druhý čtyřky už to dělat nemusíme, páč výsledný extrakt z té
první je plně vyhovující našim potřebám a tak ho zavoláme jen s jiným
parametrem. Ze dvou čtyřek máme jednu a dvě jedničky. A komplexita třídy
se nám vrátila k původní hodnotě. Ano, máme tu teď spoustu malých
metod, které ale mají jasný účel. A když se podíváme blíž, zjistíme,
že můžeme úplně v klidu některé z nich extrahovat no úplně nové
třídy. Ale to už je na jinou pohádku.&lt;/p&gt;

&lt;p&gt;Stromečky jsou totiž fuč. :)&lt;/p&gt;

&lt;p&gt;PS. Zmíněné refaktoringy a vizualizace metrik jsou součásti skvělého
produktu &lt;a
href="http://www.devexpress.com/Products/Visual_Studio_Add-in/Refactoring/"&gt;Refactor
Pro!&lt;/a&gt; nebo samotné refactoringy v neplacené verzi &lt;a
href="http://www.devexpress.com/Products/Visual_Studio_Add-in/CodeRushX/"&gt;Code
Rush Xpress&lt;/a&gt;.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Blíží se Vánoce, čas stresu a shonu za nejdražšími Vánočními dárky, pro naše nejdražší. Čas, kdy se ve velkém mordují kapři (navíc na veřejnosti, no fůj!) a kácí se stromky. Ano, ty které potom ověsíme nejrůznějšími koulemi a řetězy, aby pak několik týdnů opadávalo jehličí a vůbec. O tomhle ale psát nechci. :)

Dneska se podíváme na jiný úkaz. A to na problematiku zanořování kódu, který ve výsledku vypadá jako stromečky. (Pokud jste takový kód ještě neviděli, což pochybuju, tak ukázku najdete třeba tady v sekci [darkmagic].)

V čem je problém?
=================

Možná si říkáte, "co to ten Roubíček zase vymejšlí? Vždyť takovej kód je přece v pořádku," (tj. dělá, to, co má.) "A navíc nemusíme chodit do lesa, protože máme stromečky pořád na očích!" To je fakt. Jenže, ruku na srdce, dokážete odhadnout na první pohled, co takový kód vlastně dělá? Moc asi ne. A proč? Protože **pět** úrovní zanoření (nepočítám namespace, class ani metodu) je už trochu moc.

Jak moc? No hrozně moc. Fakt! Ono se to totiž dá krásně změřit, např. pomocí metriky [cyclomaticcomplexity].

[* /data/obrazky/cyclomatic.png *]

Když se podíváme na tuto metriku u ukázkového příkladu, zjistíme, že metoda  `GetRouteData` dosahuje hodnoty **17**. Co to znamená? Když si přečtete odkazovaný popis metriky, dozvíte se také, že její hodnota určuje míru možného výskytu chyb. Čím větší je cyklomatická komplexita, tím více toho modul dělá a zvyšuje se riziko přehlédnutých chyb. Doporučuje se mít komplexitu do deseti a tady tuto hodnotu překračujeme takřka dvojnásobně.

&gt; It smells like refactoring time!

Refaktorovat, refaktorovat, refaktorovat
=========================================

Jednoduše jsme pomocí metriky odhalili kandidáta, kde budeme kácet stromy. Když se podíváme pozorně na ukázkový příklad, můžeme si všimnout bloků kódu, které začínají komentářem. Budu se opakovat, ale "nepište zbytečný kód":[clanek(361)]! Tohle jsou jasné samostatné metody. Použijeme tedy refaktoring `Extract method`. Po extrahování čtyř metod, už se nám metoda vejde na jednu obrazovku a cyklomatická komplexita spadne na trojku. Takřka na jednu šestinu!

Huh. A to je teprve začátek.

Po prvním kole vypadá výsledek asi tak:

/--code csharp
public override RouteData GetRouteData(HttpContextBase httpContext) {
  // Build regex
  domainRegex = CreateRegex(Domain);
  pathRegex = CreateRegex(Url);
  // Request information
  string requestDomain;
  string requestPath;
  RequestInformation(httpContext, out requestDomain, out requestPath);
  // Match domain and route
  Match domainMatch = domainRegex.Match(requestDomain);
  Match pathMatch = pathRegex.Match(requestPath);
  // Route data
  RouteData data = null;
  if (domainMatch.Success &amp;&amp; pathMatch.Success) {
    data = new RouteData(this, RouteHandler);
    AddDefaultsFirst(data);
    IterateMatchingDomainGroups(domainMatch, data);
    IterateMatchingPathGroups(pathMatch, data);
  }
  return data;
}
\--

Není to žádná nádhera, ale je mnohem přehlednější, než originál. A v řeči čísel:

[* /data/obrazky/cyclomatic-2.png *]

Rozplétáme podmínky
===================

Tak, snížili jsme komplexitu metody, ale tiše nám narostla komplexita třídy. Klidně můžeme pokračovat v cestě, to zvládneme později. Teď se zaměříme na ty velký šestky. Na první pohled cyklus se spoustou zanořených podmínek. Pryč s nimi! Teď přijde na řadu refaktoring `Flatten Conditional` a z vše objímajícího `if`u uděláme jen guarda. Dále tu mám dva zanořený `if`y? Proč, když je můžeme logicky spojit operátorem `&amp;&amp;`? Směle do toho! Pro změnu použijeme refaktoring `Combine Conditionals` a vytvoříme jednu dlouhou a ošklivou podmínku…

Čas na refaktoring `Extract method` a podmínku pěkně smysluplně pojmenovat. Po pár magických kombinacích kláves se nám z týhle zrůdičky:

/--code csharp
private static void IterateMatchingPathGroups(Match pathMatch, RouteData data) {
  for (int i = 1; i &lt; pathMatch.Groups.Count; i++) {
    Group group = pathMatch.Groups[i];
    if (group.Success) {
      string key = pathRegex.GroupNameFromNumber(i);
      if (!string.IsNullOrEmpty(key) &amp;&amp; !char.IsNumber(key, 0)) {
        if (!string.IsNullOrEmpty(group.Value)) {
          data.Values[key] = group.Value;
        }
      }
    }
  }
}
\--code

Stane opět poměrně snadno pochopitelný kód:

/--code csharp
private static void IterateMatchingPathGroups(Match pathMatch, RouteData data) {
  for (int i = 1; i &lt; pathMatch.Groups.Count; i++) {
    Group group = pathMatch.Groups[i];
    if (IsNotMatch(group))
      continue;

    string key = pathRegex.GroupNameFromNumber(i);
    if (IsInvalidKeyOrValue(group, key))
      continue;

    data.Values[key] = group.Value;
  }
}
\--code

Navíc, když se teď na ten kód podíváme, zjistíme, že se ty původní šestky (z kterých už jsou čtyřky) liší jen v tom, že používají každá jinou členskou proměnou, naštěstí stejného typu. Tak jdeme zase refaktorovat. :) Nejprve si tedy tuto proměnou uložíme lokálně na začátku metody a ze zbytku extrahujeme metodu novou s jedním parametrem navíc.

U druhý čtyřky už to dělat nemusíme, páč výsledný extrakt z té první je plně vyhovující našim potřebám a tak ho zavoláme jen s jiným parametrem. Ze dvou čtyřek máme jednu a dvě jedničky. A komplexita třídy se nám vrátila k původní hodnotě. Ano, máme tu teď spoustu malých metod, které ale mají jasný účel. A když se podíváme blíž, zjistíme, že můžeme úplně v klidu některé z nich extrahovat no úplně nové třídy. Ale to už je na jinou pohádku.

Stromečky jsou totiž fuč. :)

PS. Zmíněné refaktoringy a vizualizace metrik jsou součásti skvělého produktu [refactorpro] nebo samotné refactoringy v neplacené verzi [coderushx].

[clanek(361)]: /weblog/361-nepiste-zbytecny-kod.aspx

[darkmagic]: http://blog.maartenballiauw.be/post/2009/05/20/ASPNET-MVC-Domain-Routing.aspx Dark Magic
[cyclomaticcomplexity]: http://en.wikipedia.org/wiki/Cyclomatic_complexity Cyclomatic complexity
[refactorpro]: http://www.devexpress.com/Products/Visual_Studio_Add-in/Refactoring/ Refactor Pro!
[coderushx]: http://www.devexpress.com/Products/Visual_Studio_Add-in/CodeRushX/ Code Rush Xpress
</raw>
    <author>Aleš Roubíček</author>
    <published>2010-12-21T16:44:43.483</published>
    <url>pryc-se-stromecky</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>refactoring</tags>
    <is-published>1</is-published>
    <edited>2010-12-21T18:57:00.877</edited>
  </article>
  <article>
    <id>399</id>
    <title>Pryč se stromečky! Nyní interaktivně.</title>
    <description>Včera jsme si předvedli jak pomocí několika základních refaktoringů snížit cyklomatickou komplexitu, zpřehlednit tak kód a snížit riziko výskytu chyb. Dnes se posuneme ještě o kousek dál a zbavíme se nadbytečného imperativního kódu.</description>
    <html xml:space="preserve">
&lt;p&gt;Včera jsme si &lt;a rel="bookmark" title="Pryč se stromečky!"
href="/weblog/398-pryc-se-stromecky.aspx"&gt;předvedli&lt;/a&gt; jak pomocí několika
základních refaktoringů snížit cyklomatickou komplexitu, zpřehlednit tak
kód a snížit riziko výskytu chyb. Dnes se posuneme ještě o kousek dál a
zbavíme se nadbytečného imperativního kódu.&lt;/p&gt;

&lt;h3 id="toc-linquj-linquj"&gt;LINQuj, LINQuj&lt;/h3&gt;

&lt;p&gt;Když jsem dorefaktoroval metodu &lt;code&gt;IterateMatchingPathGroups&lt;/code&gt; do
poslední verze s guardy, hned jsem viděl, že tohle je jasný LINQoký dotaz
přepsaný imperativně. Původně jsem ho chtěl přidat do včerejšího
článku, ale pak jsem zjistil, že nejde úplně o triviální dotaz a že to
nechám na pozorném čtenáři na rozvinutí v komentářích.&lt;/p&gt;

&lt;p&gt;Netrvalo dlouho a na twitteru mi psal &lt;a href="http://www.tomasp.net"&gt;Tomáš
Petříček&lt;/a&gt;, že by tato metoda šla přepsat pomocí LINQu. Inu,
funkcionální srdcař se nezapře. :) Tak mi to nedalo a píšu tenhle
druhej díl.&lt;/p&gt;

&lt;h3 id="toc-interaktivni-extenze-na-scenu"&gt;Interaktivní extenze na scénu!&lt;/h3&gt;

&lt;p&gt;Jak už jsem psal, nejde o úplně triviální LINQ dotaz, protože tu
potřebujeme mapovat dvě kolekce na sebe. Ve čtvrté verzi .net frameworku byl
přidán kombinátor &lt;code&gt;Zip&lt;/code&gt;, který dělá přesně to, co
potřebujeme. (Pokud používáte .net 3.5, najdete tento v knihovně
System.Interactive v rámci &lt;a
href="http://msdn.microsoft.com/en-us/devlabs/ee794896"&gt;Rx.net&lt;/a&gt;.) Tady je
výsledný kód, který si popíšeme dále:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;static void IterateMatchingGroups(Regex regex, Match match, RouteData data) {
  GroupCollection groups = match.Groups;
  string[] groupNames = regex.GetGroupNames();

  groups.Cast&amp;lt;Group&amp;gt;().
    Zip(groupNames, (group, name) =&amp;gt; new {
      Pair = new KeyValuePair&amp;lt;string, string&amp;gt;(name, group.Value),
      IsMatch = group.Success,
    }).
    Where(x =&amp;gt; x.IsMatch).
    Select(x =&amp;gt; x.Pair).
    Where(IsNamedKey).
    Where(IsNotEmptyValue).
    Do(SetRouteData(data));
}

static bool IsNamedKey(KeyValuePair&amp;lt;string, string&amp;gt; pair) {
  return !(string.IsNullOrEmpty(pair.Key) || char.IsNumber(pair.Key, 0));
}

static bool IsNotEmptyValue(KeyValuePair&amp;lt;string, string&amp;gt; pair) {
  return !string.IsNullOrEmpty(pair.Value);
}

static Action&amp;lt;KeyValuePair&amp;lt;string, string&amp;gt;&amp;gt; SetRouteData(RouteData data) {
  return pair =&amp;gt; data.Values[pair.Key] = pair.Value;
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Nejprve si připravíme vstupní kolekce skupin a jejich názvů. Protože
&lt;code&gt;GroupCollection&lt;/code&gt; implementuje pouze negenerické
&lt;code&gt;IEnumerable&lt;/code&gt; použijeme extenzi &lt;code&gt;Cast&amp;lt;TResult&amp;gt;&lt;/code&gt;,
která vytvoří generickou kolekci, nad kterou už se dají použít LINQ
kombinátory. Dále obě kolekce sezipujeme a vytvoříme si pomocný anonymní
objekt, který drží pár klíč-hodnota a informaci, zda byl
úspěšný match.&lt;/p&gt;

&lt;p&gt;Odfiltrujeme si neúspěšné matche a dál už potřebujeme jen pár
klíč-hodnota, tak si ho vyselectujeme. Odfiltrujeme páry, které nemají
klíč nebo je klíčem číslo, a pak ještě ty, které nemají hodnotu. Tím
jsme sémanticky nahradili guard podmínky z cyklu předchozí verze.
A dostali jsme se k tomu, co vlastně chceme udělat, tj. přidat nalezené
hodnoty do kolekce routovacích dat. K tomu slouží kombinátor
&lt;code&gt;Do&lt;/code&gt; z interaktivních extenzí.&lt;/p&gt;

&lt;p&gt;Pokud zrovna nechcete používat skvělou knihovnu Rx.net, můžete
kombinátor &lt;code&gt;Do&lt;/code&gt; nahradit zápisem &lt;code&gt;ToList().ForEach&lt;/code&gt; nebo
&lt;code&gt;AsParallel().ForAll&lt;/code&gt; z &lt;acronym
title="Task Parallel Library"&gt;TPL&lt;/acronym&gt;.&lt;/p&gt;

&lt;p&gt;A to je pro dnešek vše. Nějaká dotazy, výtky a tak? :)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Včera jsme si předvedli:[clanek(398)] jak pomocí několika základních refaktoringů snížit cyklomatickou komplexitu, zpřehlednit tak kód a snížit riziko výskytu chyb. Dnes se posuneme ještě o kousek dál a zbavíme se nadbytečného imperativního kódu.

LINQuj, LINQuj
==============

Když jsem dorefaktoroval metodu `IterateMatchingPathGroups` do poslední verze s guardy, hned jsem viděl, že tohle je jasný LINQoký dotaz přepsaný imperativně. Původně jsem ho chtěl přidat do včerejšího článku, ale pak jsem zjistil, že nejde úplně o triviální dotaz a že to nechám na pozorném čtenáři na rozvinutí v komentářích.

Netrvalo dlouho a na twitteru mi psal [tomasp], že by tato metoda šla přepsat pomocí LINQu. Inu, funkcionální srdcař se nezapře. :) Tak mi to nedalo a píšu tenhle druhej díl.

Interaktivní extenze na scénu!
==============================

Jak už jsem psal, nejde o úplně triviální LINQ dotaz, protože tu potřebujeme mapovat dvě kolekce na sebe. Ve čtvrté verzi .net frameworku byl přidán kombinátor `Zip`, který dělá přesně to, co potřebujeme. (Pokud používáte .net 3.5, najdete tento v knihovně System.Interactive v rámci [rxnet].) Tady je výsledný kód, který si popíšeme dále:

/--code csharp
static void IterateMatchingGroups(Regex regex, Match match, RouteData data) {
  GroupCollection groups = match.Groups;
  string[] groupNames = regex.GetGroupNames();

  groups.Cast&lt;Group&gt;().
    Zip(groupNames, (group, name) =&gt; new {
      Pair = new KeyValuePair&lt;string, string&gt;(name, group.Value),
      IsMatch = group.Success,
    }).
    Where(x =&gt; x.IsMatch).
    Select(x =&gt; x.Pair).
    Where(IsNamedKey).
    Where(IsNotEmptyValue).
    Do(SetRouteData(data));
}

static bool IsNamedKey(KeyValuePair&lt;string, string&gt; pair) {
  return !(string.IsNullOrEmpty(pair.Key) || char.IsNumber(pair.Key, 0));
}

static bool IsNotEmptyValue(KeyValuePair&lt;string, string&gt; pair) {
  return !string.IsNullOrEmpty(pair.Value);
}

static Action&lt;KeyValuePair&lt;string, string&gt;&gt; SetRouteData(RouteData data) {
  return pair =&gt; data.Values[pair.Key] = pair.Value;
}
\--code

Nejprve si připravíme vstupní kolekce skupin a jejich názvů. Protože `GroupCollection` implementuje pouze negenerické `IEnumerable` použijeme extenzi `Cast&lt;TResult&gt;`, která vytvoří generickou kolekci, nad kterou už se dají použít LINQ kombinátory. Dále obě kolekce sezipujeme a vytvoříme si pomocný anonymní objekt, který drží pár klíč-hodnota a informaci, zda byl úspěšný match.

Odfiltrujeme si neúspěšné matche a dál už potřebujeme jen pár klíč-hodnota, tak si ho vyselectujeme. Odfiltrujeme páry, které nemají klíč nebo je klíčem číslo, a pak ještě ty, které nemají hodnotu. Tím jsme sémanticky nahradili guard podmínky z cyklu předchozí verze. A dostali jsme se k tomu, co vlastně chceme udělat, tj. přidat nalezené hodnoty do kolekce routovacích dat. K tomu slouží kombinátor `Do` z interaktivních extenzí.

Pokud zrovna nechcete používat skvělou knihovnu Rx.net, můžete kombinátor `Do` nahradit zápisem `ToList().ForEach` nebo `AsParallel().ForAll` z TPL((Task Parallel Library)).

A to je pro dnešek vše. Nějaká dotazy, výtky a tak? :)

[clanek(398)]: /weblog/398-pryc-se-stromecky.aspx Pryč se stromečky .(Pryč se stromečky!){rel:bookmark}
[tomasp]: http://www.tomasp.net Tomáš Petříček
[rxnet]: http://msdn.microsoft.com/en-us/devlabs/ee794896 Rx.net</raw>
    <author>Aleš Roubíček</author>
    <published>2010-12-22T07:35:42.090</published>
    <url>pryc-se-stromecky-nyni-interaktivne</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>linq rx</tags>
    <is-published>1</is-published>
    <edited>2013-03-08T16:41:41.713</edited>
  </article>
  <article>
    <id>400</id>
    <title>K čemu je dobré refaktorovat cykly do LINQ dotazů?</title>
    <description>Všetšinou se totiž vyplatí abstrahovat z imperativního zápisu na deklarativní.</description>
    <html xml:space="preserve">
&lt;p&gt;V posledním zápichu jsem ukázal, jak &lt;a rel="bookmark"
title="Pryč se stromečky! Nyní interaktivně."
href="/weblog/399-pryc-se-stromecky-nyni-interaktivne.aspx"&gt;refaktorovat cyklus
na LINQ&lt;/a&gt;. Boris v komentářích poukázal na to, že výsledný kód
nemusí být zrovna optimální, co se týče konzumace zdrojů. Já myslím,
že je to malá cena, která je vyvážena obrovskou flexibilitou.&lt;/p&gt;

&lt;p&gt;Nejprve se vraťme k ukázkovému kódu. Ještě trochu jsem ho přepsal,
aby byl výsledek srozumitelnější:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;static void ParseRouteData(Regex regex, Match match, RouteData data) {
  var groups = match.Groups.Cast&amp;lt;Group&amp;gt;();
  var groupNames = regex.GetGroupNames();

  var matchingPairs =
    from item in groups.
      Zip(groupNames, (group, name) =&amp;gt; new {
        Pair = CreatePair(name, group.Value),
        IsMatch = group.Success,
      })
    where item.IsMatch &amp;amp;&amp;amp; IsValidKeyAndValue(item.Pair)
    select item.Pair;

  matchingPairs.Do(SetRouteData(data));
}

static KeyValuePair&amp;lt;string, string&amp;gt; CreatePair(string key, string value) {
  return new KeyValuePair&amp;lt;string, string&amp;gt;(key, value);
}

static bool IsValidKeyAndValue(KeyValuePair&amp;lt;string, string&amp;gt; pair) {
  return IsNamedKey(pair) &amp;amp;&amp;amp; IsNotEmptyValue(pair);
}

static bool IsNamedKey(KeyValuePair&amp;lt;string, string&amp;gt; pair) {
  return !(string.IsNullOrEmpty(pair.Key) || char.IsNumber(pair.Key, 0));
}

static bool IsNotEmptyValue(KeyValuePair&amp;lt;string, string&amp;gt; pair) {
  return !string.IsNullOrEmpty(pair.Value);
}

static Action&amp;lt;KeyValuePair&amp;lt;string, string&amp;gt;&amp;gt; SetRouteData(RouteData data) {
  return pair =&amp;gt; data.Values[pair.Key] = pair.Value;
}&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
	&lt;li&gt;Upravil jsem název funkce. Nyní už neiterujeme, ale po odhalení, co
	funkce vlastně dělá, můžeme říct, že parsuje routovací data. Odstínili
	jsme se od implementačního detailu. Jsme více deklarativní.&lt;/li&gt;

	&lt;li&gt;Změnil jsem lambda based zápis na query like zápis. Ten se stejně na
	lambda based zápis převede kompilátorem, ale odstraní se
	zbytečný šum.&lt;/li&gt;

	&lt;li&gt;Přibyly dvě další funkce. &lt;code&gt;CreatePair&lt;/code&gt; jsem zavedl pro
	zkrácení řádku, aby se nemuselo tady na blogu scrollovat doprava, ale opět
	nás odstiňuje od zbytečné informace (implementační detail).&lt;/li&gt;

	&lt;li&gt;Oddělil jsem dotaz a jeho samotné vykonání.&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id="toc-proc-tedy-linq"&gt;Proč tedy LINQ?&lt;/h3&gt;

&lt;p&gt;&lt;acronym title="Language INtegrated Query"&gt;LINQ&lt;/acronym&gt; nám umožňuje
zapisovat programy deklarativně. To znamená, že píšeme,
&lt;strong&gt;čeho&lt;/strong&gt; chceme dosáhnout, ne &lt;strong&gt;jak&lt;/strong&gt; toho chceme
dosáhnout. To je obrovská výhoda! Teď zapomeňme na to, že filtrujeme
jednotky vyparsovaných hodnot. Mějme jich tisíce nebo rovnou milióny! Pokud
potřebujeme výsledek rychle, jsme v imperativním případě namydlený. Sice
je výkonostně optimálnější než ten deklarativní, ale pouze
v případě, že máme k dispozici jediný stroj s jediným
jádrem CPU.&lt;/p&gt;

&lt;p&gt;Pokud máme jader víc nebo celý cluster, můžeme vykonání LINQ dotazu
distribuovat na více jader (pomocí &lt;acronym
title="Task Parallel Library"&gt;TPL&lt;/acronym&gt;) nebo do celého clusteru (pomocí
&lt;a href="http://research.microsoft.com/en-us/projects/dryadlinq/"&gt;Dryad&lt;/a&gt;).
Více jader je u dnešních počítačů už standard a tak mikrooptimalizace
jsou většinou ke škodě.&lt;/p&gt;

&lt;p&gt;Samozřejmě existují výjimky, jako jsou např. mobilní zařízení, kde
není výkonu nazbyt. Otázkou je, zda raději nepřenechat výpočetně
složité operace na serverech? ;)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">V posledním zápichu jsem ukázal, jak "refaktorovat cyklus na LINQ":[clanek(399)]. Boris v komentářích poukázal na to, že výsledný kód nemusí být zrovna optimální, co se týče konzumace zdrojů. Já myslím, že je to malá cena, která je vyvážena obrovskou flexibilitou.

Nejprve se vraťme k ukázkovému kódu. Ještě trochu jsem ho přepsal, aby byl výsledek srozumitelnější:

/--code csharp
static void ParseRouteData(Regex regex, Match match, RouteData data) {
  var groups = match.Groups.Cast&lt;Group&gt;();
  var groupNames = regex.GetGroupNames();

  var matchingPairs =
    from item in groups.
      Zip(groupNames, (group, name) =&gt; new {
        Pair = CreatePair(name, group.Value),
        IsMatch = group.Success,
      })
    where item.IsMatch &amp;&amp; IsValidKeyAndValue(item.Pair)
    select item.Pair;

  matchingPairs.Do(SetRouteData(data));
}

static KeyValuePair&lt;string, string&gt; CreatePair(string key, string value) {
  return new KeyValuePair&lt;string, string&gt;(key, value);
}

static bool IsValidKeyAndValue(KeyValuePair&lt;string, string&gt; pair) {
  return IsNamedKey(pair) &amp;&amp; IsNotEmptyValue(pair);
}

static bool IsNamedKey(KeyValuePair&lt;string, string&gt; pair) {
  return !(string.IsNullOrEmpty(pair.Key) || char.IsNumber(pair.Key, 0));
}

static bool IsNotEmptyValue(KeyValuePair&lt;string, string&gt; pair) {
  return !string.IsNullOrEmpty(pair.Value);
}

static Action&lt;KeyValuePair&lt;string, string&gt;&gt; SetRouteData(RouteData data) {
  return pair =&gt; data.Values[pair.Key] = pair.Value;
}
\--code

1. Upravil jsem název funkce. Nyní už neiterujeme, ale po odhalení, co funkce vlastně dělá, můžeme říct, že parsuje routovací data. Odstínili jsme se od implementačního detailu. Jsme více deklarativní.

2. Změnil jsem lambda based zápis na query like zápis. Ten se stejně na lambda based zápis převede kompilátorem, ale odstraní se zbytečný šum.

3. Přibyly dvě další funkce. `CreatePair` jsem zavedl pro zkrácení řádku, aby se nemuselo tady na blogu scrollovat doprava, ale opět nás odstiňuje od zbytečné informace (implementační detail).

4. Oddělil jsem dotaz a jeho samotné vykonání.

Proč tedy LINQ?
===============

LINQ((Language INtegrated Query)) nám umožňuje zapisovat programy deklarativně. To znamená, že píšeme, **čeho** chceme dosáhnout, ne **jak** toho chceme dosáhnout. To je obrovská výhoda! Teď zapomeňme na to, že filtrujeme jednotky vyparsovaných hodnot. Mějme jich tisíce nebo rovnou milióny! Pokud potřebujeme výsledek rychle, jsme v imperativním případě namydlený. Sice je výkonostně optimálnější než ten deklarativní, ale pouze v případě, že máme k dispozici jediný stroj s jediným jádrem CPU.

Pokud máme jader víc nebo celý cluster, můžeme vykonání LINQ dotazu distribuovat na více jader (pomocí TPL((Task Parallel Library))) nebo do celého clusteru (pomocí [dryad]). Více jader je u dnešních počítačů už standard a tak mikrooptimalizace jsou většinou ke škodě.

Samozřejmě existují výjimky, jako jsou např. mobilní zařízení, kde není výkonu nazbyt. Otázkou je, zda raději nepřenechat výpočetně složité operace na serverech? ;)

[clanek(399)]: /weblog/399-pryc-se-stromecky-nyni-interaktivne.aspx Pryč se stromečky! Nyní interaktivně. .(Pryč se stromečky! Nyní interaktivně.){rel:bookmark}
[dryad]: http://research.microsoft.com/en-us/projects/dryadlinq/ Dryad</raw>
    <author>Aleš Roubíček</author>
    <published>2010-12-26T07:30:48.117</published>
    <url>k-cemu-je-dobre-refaktorovat-cykly-do-linq-dotazu</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>linq</tags>
    <is-published>1</is-published>
    <edited>2011-06-12T12:05:43.437</edited>
  </article>
  <article>
    <id>401</id>
    <title>Volme správné názvy!</title>
    <description>Pár tipů, jak psát přehlednější kód, kterému rozumí i někdo jiný, než autor.</description>
    <html xml:space="preserve">
&lt;p&gt;Ovládat dokážeme pouze věci, které dokážeme pojmenovat. Pokud něco
dokážeme pojmenovat, můžeme se na to domluvit i s ostatními a komunikace
je počátkem vývoje. Nebo tak to nejspíš bylo u lidí. ;)&lt;/p&gt;

&lt;blockquote&gt;
	&lt;p&gt;“There are only two hard things in Computer Science: cache invalidation and
	naming things” [Phil Karlton]&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Ano jedním z nejtěžších problémů v softwarovém vývoji je
&lt;strong&gt;správně pojmenovat&lt;/strong&gt; věci. Ostatně to není problém pouze
softwarového vývoje. :) Přijít s dobrým jménem vyžaduje zkušenost a
dobré vyjadřovací schopnosti.&lt;/p&gt;

&lt;p&gt;Každý programátor dokáže napsat kus kódu, kterému rozumí počítač,
ale jen málo z nich dokáže napsat kód, kterému budou rozumět i lidé
(ať někdo jiný nebo po čase on sám). A volba správných názvů přímo
vede k dobrému porozumění kódu!&lt;/p&gt;

&lt;h3 id="toc-zakladni-pravidla-pro-psani-srozumitleneho-kodu"&gt;Základní pravidla
pro psaní srozumitleného kódu&lt;/h3&gt;

&lt;ol&gt;
	&lt;li&gt;Nepsat kód v jiném národním jazyce než je angličtina (většina
	programovacích jazyků má klíčová slova anglická).&lt;/li&gt;

	&lt;li&gt;Používat popisné názvy.&lt;/li&gt;

	&lt;li&gt;Nepoužívat kryptické kódování alá maďarská notace.&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id="toc-pravidla-pro-pojmenovani-promennych"&gt;Pravidla pro pojmenování
proměnných&lt;/h3&gt;

&lt;p&gt;Proměnná je předmět a tudíž by to měl její název reflektovat.
Nejčastěji by názvy proměnných měla být &lt;strong&gt;podstatná
jména&lt;/strong&gt; (případně s přívlastky.) Výjimkou jsou boolovské
proměnné a delegáty. Proměnné typu &lt;code&gt;bool&lt;/code&gt; by se měly dát
číst jako predikáty:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;bool isEnabled = false;
bool hasChildren = true;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Pro delegáty platí většinou pravidla stejná jako pro tvorbu názvů
metod (viz. dále.)&lt;/p&gt;

&lt;p&gt;Délka názvu proměnné by měla reflektovat scope v jakém se nachází.
Pokud mám proměnou v lambda výrazu, klidně může být jednopísmenková.
Např. &lt;code&gt;x =&amp;gt; x * x&lt;/code&gt;. Podobně je na tom proměnná pro index ve
smyčce nebo prvek &lt;code&gt;foreach&lt;/code&gt; cyklu. (Pokud tělo cyklu není delší
než 4 řádky.)&lt;/p&gt;

&lt;p&gt;V případě proměnných z působností v metodách bychom už měli
používat celá slova či popisná sousloví. Pokud máme proměnné
s &lt;strong&gt;větším polem působnosti&lt;/strong&gt;, jako jsou parametry metod nebo
členské proměnné, měly bychom je pojmenovat &lt;strong&gt;delším popisnějším
názvem&lt;/strong&gt;.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;readonly IArticlesRepository articlesRepository;&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id="toc-pravidla-pro-pojmenovani-metod"&gt;Pravidla pro pojmenování
metod&lt;/h3&gt;

&lt;p&gt;U metod je to přesně naopak než u proměnných. Metody vyjadřují
nějakou akci a proto by měly &lt;strong&gt;začínat slovesem&lt;/strong&gt;. Veřejné
metody by měly mít název &lt;strong&gt;krátký&lt;/strong&gt; a &lt;strong&gt;jasný&lt;/strong&gt;.
Jedno písmenkové metody patří možná tak akorát do globálního scope
(viz. jQuery ;) ale všichni víme, že globální scope je špatný, že ano?)
Proč krátké? Protože je pravděpodobné, že je budeme používat často a
nejspíš nejen my, ale i někdo jiný. Název však nesmí obsahovat
zbytečné implementační detaily (ty by měly být v dokumentačním
komentáři). Pěkným příkladem je třeba &lt;code&gt;File.Open&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Naproti tomu &lt;strong&gt;privátní metody&lt;/strong&gt; by měly mít
&lt;strong&gt;popisné názvy dlouhé i několik slov&lt;/strong&gt; nebo to může být
krátká věta. Nahrazují nám totiž rychle zastarávající komentáře.
Nebojte se často používat refactoring &lt;code&gt;Extract Method&lt;/code&gt; na menší
logické kusy kódu a pěkně je pojmenujte. Kód se vám bude číst
mnohem líp!&lt;/p&gt;

&lt;h3 id="toc-pravidla-pro-pojmenovani-trid"&gt;Pravidla pro pojmenování
tříd&lt;/h3&gt;

&lt;p&gt;Pro třídy platí podobná pravidla jako pro metody, akorát že třídy
jsou opět podstatná jména. Privátní třídy pojmenováváme popisně,
veřejné stručně a výstižně. U abstraktních tříd používáme
abstraktní jména. Potomci pak toto jméno rozšiřují o konkrétní
přívlastky.&lt;/p&gt;

&lt;h3 id="toc-zaver"&gt;Závěr&lt;/h3&gt;

&lt;p&gt;Volba správného jména je velice důležitá, protože, když se na váš
kód podíváte pozorně, zjistíte, že jde v podstatě o variace neustále
se opakujících konstrukcí a význam jim dodávají právě jména.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Ovládat dokážeme pouze věci, které dokážeme pojmenovat. Pokud něco dokážeme pojmenovat, můžeme se na to domluvit i s ostatními a komunikace je počátkem vývoje. Nebo tak to nejspíš bylo u lidí. ;)

&gt; “There are only two hard things in Computer Science: cache invalidation and naming things” [Phil Karlton]

Ano jedním z nejtěžších problémů v softwarovém vývoji je **správně pojmenovat** věci. Ostatně to není problém pouze softwarového vývoje. :) Přijít s dobrým jménem vyžaduje zkušenost a dobré vyjadřovací schopnosti.

Každý programátor dokáže napsat kus kódu, kterému rozumí počítač, ale jen málo z nich dokáže napsat kód, kterému budou rozumět i lidé (ať někdo jiný nebo po čase on sám). A volba správných názvů přímo vede k dobrému porozumění kódu!

Základní pravidla pro psaní srozumitleného kódu
===============================================

1. Nepsat kód v jiném národním jazyce než je angličtina (většina programovacích jazyků má klíčová slova anglická).
2. Používat popisné názvy.
3. Nepoužívat kryptické kódování alá maďarská notace.

Pravidla pro pojmenování proměnných
===================================

Proměnná je předmět a tudíž by to měl její název reflektovat. Nejčastěji by názvy proměnných měla být **podstatná jména** (případně s přívlastky.) Výjimkou jsou boolovské proměnné a delegáty. Proměnné typu `bool` by se měly dát číst jako predikáty:

/--code csharp
bool isEnabled = false;
bool hasChildren = true;
\--code

Pro delegáty platí většinou pravidla stejná jako pro tvorbu názvů metod (viz. dále.)

Délka názvu proměnné by měla reflektovat scope v jakém se nachází. Pokud mám proměnou v lambda výrazu, klidně může být jednopísmenková. Např. `x =&gt; x * x`. Podobně je na tom proměnná pro index ve smyčce nebo prvek `foreach` cyklu. (Pokud tělo cyklu není delší než 4 řádky.)

V případě proměnných z působností v metodách bychom už měli používat celá slova či popisná sousloví. Pokud máme proměnné s **větším polem působnosti**, jako jsou parametry metod nebo členské proměnné, měly bychom je pojmenovat **delším popisnějším názvem**.

/--code csharp
readonly IArticlesRepository articlesRepository;
\--code

Pravidla pro pojmenování metod
==============================

U metod je to přesně naopak než u proměnných. Metody vyjadřují nějakou akci a proto by měly **začínat slovesem**. Veřejné metody by měly mít název **krátký** a **jasný**. Jedno písmenkové metody patří možná tak akorát do globálního scope (viz. jQuery ;) ale všichni víme, že globální scope je špatný, že ano?) Proč krátké? Protože je pravděpodobné, že je budeme používat často a nejspíš nejen my, ale i někdo jiný. Název však nesmí obsahovat zbytečné implementační detaily (ty by měly být v dokumentačním komentáři). Pěkným příkladem je třeba `File.Open`.

Naproti tomu **privátní metody** by měly mít **popisné názvy dlouhé i několik slov** nebo to může být krátká věta. Nahrazují nám totiž rychle zastarávající komentáře. Nebojte se často používat refactoring `Extract Method` na menší logické kusy kódu a pěkně je pojmenujte. Kód se vám bude číst mnohem líp!

Pravidla pro pojmenování tříd
=============================

Pro třídy platí podobná pravidla jako pro metody, akorát že třídy jsou opět podstatná jména. Privátní třídy pojmenováváme popisně, veřejné stručně a výstižně. U abstraktních tříd používáme abstraktní jména. Potomci pak toto jméno rozšiřují o konkrétní přívlastky.

Závěr
=====

Volba správného jména je velice důležitá, protože, když se na váš kód podíváte pozorně, zjistíte, že jde v podstatě o variace neustále se opakujících konstrukcí a význam jim dodávají právě jména.
</raw>
    <author>Aleš Roubíček</author>
    <published>2011-04-08T14:59:43.163</published>
    <url>volme-spravne-nazvy</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>cleancode</tags>
    <is-published>1</is-published>
    <edited>2011-05-05T16:12:23.097</edited>
  </article>
  <article>
    <id>402</id>
    <title>Metriky kódu v Teamcity</title>
    <description>Jak počítat metriky dotnet assemblies v rámci buildu v Teamcity a vynášet je do grafů?</description>
    <html xml:space="preserve">
&lt;p&gt;&lt;a
href="http://www.microsoft.com/en-us/download/details.aspx?id=9422"&gt;http://www.microsoft.com/…details.aspx?…&lt;/a&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">
http://www.microsoft.com/en-us/download/details.aspx?id=9422</raw>
    <author>Aleš Roubíček</author>
    <published>2011-04-28T13:29:01.323</published>
    <url>metriky-kodu-v-teamcity</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>teamcity powershell metrics</tags>
    <is-published>0</is-published>
    <edited>2012-08-20T10:03:54.030</edited>
  </article>
  <article>
    <id>403</id>
    <title>Lepší události v C#</title>
    <description>Každý, do přišel do styku s jazykem C#, jistě ví, jak se s události v něm pracuje. A taky jistě může potvrdit, že to není žádná slast. Pojďme se podívat, jak definovat události v C# o něco lépe.</description>
    <html xml:space="preserve">
&lt;p&gt;Když se &lt;a
href="http://channel9.msdn.com/Shows/Going+Deep/Anders-Hejlsberg-Questions-and-Answers"&gt;nedávno
ptali Anderse Hejlsberga&lt;/a&gt; na to, co by nejradši v C# změnil nebo udělal
jinak, kdyby mohl, odpověděl, že by zrušil události. Přesněji, že by je
spojil s konceptem vlastností. Na první pohled jsou totiž vlastnosti a
události celkem podobné, ale na druhý zjistíte, že události mají
poměrně složitou syntaxi a vyžadují psát ne moc pěkný kód.&lt;/p&gt;

&lt;p&gt;Dřív (C# 1.0) to asi o moc líp udělat nešlo, ale dnes tomuto přání
můžeme plně vyhovět. Stačí události vystavovat jako vlastnosti typu
&lt;code&gt;IObservable&amp;lt;T&amp;gt;&lt;/code&gt;. Toto rozhraní je jednou z novinek &lt;acronym
title="Base Class Library"&gt;BCL&lt;/acronym&gt; .net 4.0 a hlavně reaktivních
extenzí (Rx.net).&lt;/p&gt;

&lt;p&gt;Pokud píšete nový kód, zvažte užití &lt;code&gt;IObservable&amp;lt;T&amp;gt;&lt;/code&gt;
namísto událostí. Např. &lt;a
href="http://msdn.microsoft.com/en-us/library/dd233189.aspx"&gt;F# má události
takto řešené nativně&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id="toc-ze-stareho-na-novy"&gt;Ze starého na nový&lt;/h3&gt;

&lt;p&gt;Vezměme si &lt;a
href="http://msdn.microsoft.com/en-us/library/aa645739(v=vs.71).aspx"&gt;ukázkovou
deklaraci události v C#&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;Dříve jsme museli definovat vlastní typ delegáta události:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public delegate void ChangedEventHandler(object sender, EventArgs e);&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Pak vystavit událost tohoto typu:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-csharp"&gt;public event ChangedEventHandler Changed;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;A nakonec někde v kódu událost odpálit:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-csharp"&gt;if (Changed != null)
  Changed(this, e);&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Nehledě na podivné přetížení operátoru pro zavěšení ovladače
události:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;List.Changed += new ChangedEventHandler(ListChanged);&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Nové verze jazyka a BCL nám přinesly mnohá usnadnění od
&lt;code&gt;EventHandler&amp;lt;TEventArgs&amp;gt;&lt;/code&gt;, přes automatického odvození typu
delegáta až po lambda výrazy. To však nic nezměnilo na samotné koncepci
událostí…&lt;/p&gt;

&lt;p&gt;A teď si to tedy přepišme na sjednocený model vlastností a událostí
s užitím &lt;code&gt;IObservable&amp;lt;T&amp;gt;&lt;/code&gt;:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;readonly Subject&amp;lt;Unit&amp;gt; changed = new Subject&amp;lt;Unit&amp;gt;();

public IObservable&amp;lt;Unit&amp;gt; Changed {
  get { return changed; }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;V kódu událost vyvoláme následovně:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-csharp"&gt;changed.OnNext(new Unit());&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;A ke zpracování události se přihlásíme takhle:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-csharp"&gt;List.Changed.Subscribe(ListChanged);&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Krom čistšího kódu (všimněte si absence defenzivního kódu a
přetěžování operátorů, které na první pohled nemusí být každému
jasné, co dělá) máme i spoustu dalších výhod, které přináší
reaktivní programování.&lt;/p&gt;

&lt;p&gt;PS. Třidy &lt;code&gt;Subject&amp;lt;T&amp;gt;&lt;/code&gt; a &lt;code&gt;Unit&lt;/code&gt; nejsou
součástí BCL, ale zmiňovaných Rx.net. Do projektu si je přidáte pomocí
&lt;strong&gt;nuget&lt;/strong&gt; příkazu &lt;code&gt;Install-Package Rx-Main&lt;/code&gt;.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Když se "nedávno ptali Anderse Hejlsberga":[anders] na to, co by nejradši v C# změnil nebo udělal jinak, kdyby mohl, odpověděl, že by zrušil události. Přesněji, že by je spojil s konceptem vlastností. Na první pohled jsou totiž vlastnosti a události celkem podobné, ale na druhý zjistíte, že události mají poměrně složitou syntaxi a vyžadují psát ne moc pěkný kód.

Dřív (C# 1.0) to asi o moc líp udělat nešlo, ale dnes tomuto přání můžeme plně vyhovět. Stačí události vystavovat jako vlastnosti typu `IObservable&lt;T&gt;`. Toto rozhraní je jednou z novinek BCL((Base Class Library)) .net 4.0 a hlavně reaktivních extenzí (Rx.net).

Pokud píšete nový kód, zvažte užití `IObservable&lt;T&gt;` namísto událostí. Např. "F# má události takto řešené nativně":[fsharp].

Ze starého na nový
==================

Vezměme si "ukázkovou deklaraci události v C#":[msdn]:

Dříve jsme museli definovat vlastní typ delegáta události:

/--code csharp
public delegate void ChangedEventHandler(object sender, EventArgs e);
\--code

Pak vystavit událost tohoto typu:

/--code csharp
public event ChangedEventHandler Changed;
\--code

A nakonec někde v kódu událost odpálit:

/--code csharp
if (Changed != null)
  Changed(this, e);
\--code

Nehledě na podivné přetížení operátoru pro zavěšení ovladače události:

/--code csharp
List.Changed += new ChangedEventHandler(ListChanged);
\--code

Nové verze jazyka a BCL nám přinesly mnohá usnadnění od `EventHandler&lt;TEventArgs&gt;`, přes automatického odvození typu delegáta až po lambda výrazy. To však nic nezměnilo na samotné koncepci událostí...

A teď si to tedy přepišme na sjednocený model vlastností a událostí s užitím `IObservable&lt;T&gt;`:

/--code csharp
readonly Subject&lt;Unit&gt; changed = new Subject&lt;Unit&gt;();

public IObservable&lt;Unit&gt; Changed {
  get { return changed; }
}
\--code

V kódu událost vyvoláme následovně:

/--code csharp
changed.OnNext(new Unit());
\--code

A ke zpracování události se přihlásíme takhle:

/--code csharp
List.Changed.Subscribe(ListChanged);
\--code

Krom čistšího kódu (všimněte si absence defenzivního kódu a přetěžování operátorů, které na první pohled nemusí být každému jasné, co dělá) máme i spoustu dalších výhod, které přináší reaktivní programování.

PS. Třidy `Subject&lt;T&gt;` a `Unit` nejsou součástí BCL, ale zmiňovaných Rx.net. Do projektu si je přidáte pomocí **nuget** příkazu `Install-Package Rx-Main`.

[msdn]: http://msdn.microsoft.com/en-us/library/aa645739(v=vs.71).aspx
[fsharp]: http://msdn.microsoft.com/en-us/library/dd233189.aspx
[anders]: http://channel9.msdn.com/Shows/Going+Deep/Anders-Hejlsberg-Questions-and-Answers</raw>
    <author>Aleš Roubíček</author>
    <published>2011-05-10T14:11:57.353</published>
    <url>lepsi-udalosti-v-csharp</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>csharp rx</tags>
    <is-published>1</is-published>
    <edited>2011-05-11T14:04:44.933</edited>
  </article>
  <article>
    <id>404</id>
    <title>Přepínání featur a větvení abstrakcí</title>
    <description>Jistě mi dáte za pravdu, že správa verzí rozsáhlého systému není žádná slast a je poměrně nákladná. Dnes si ukážeme dvě techniky, které by nám měli umožnit snížit náklady a zvýšit flexibilitu systému.</description>
    <html xml:space="preserve">
&lt;p&gt;Správa několika verzí aplikace vždy přináší komplexitu, která
zvyšuje náklady na vývoj i na údržbu. Běžnou praktikou je, že se
zdrojové kódy v repositoři větví (branching) v určitých Milestonech,
které se potom stabilizují a po releasu udržují, zatím co v hlavní větvi
(trunk, main) se pokračuje ve vývoji. S příchodem &lt;acronym
title="Distributed Version Control System"&gt;DVCS&lt;/acronym&gt; se rozmohlo lokální
větvení po featurách, čímž se různorodost verzí aplikace ještě víc
rozrostla.&lt;/p&gt;

&lt;p&gt;Naproti tomu tu máme agilní praktiky jako je Continuous Integration a
Continuous Delivery, které nám říkají, že všichni commitují často do
hlavní větve, čímž se předchází integračním problémům. Continuous
Delivery navíc říká, že „aplikace má pouze &lt;strong&gt;jedinou
verzi&lt;/strong&gt; – tu &lt;strong&gt;aktuální&lt;/strong&gt;.“ Jak to ale udělat, když
rozsah některých featur přesahuje rámec sprintu? Ano, můžeme udělat
feature branch, ale tím porušujeme pravidlo, že všechno je v hlavní
větvi! Poslední verze TeamCity sice podporuje workflow s personal buildy
vůči feature branchi, ale to je integrační smell.&lt;/p&gt;

&lt;h3 id="toc-branch-by-abstraction"&gt;Branch by abstraction&lt;/h3&gt;

&lt;p&gt;Existuje &lt;a
href="http://continuousdelivery.com/2011/05/make-large-scale-changes-incrementally-with-branch-by-abstraction/"&gt;lepší
řešení!&lt;/a&gt; Proč nevyužít technik &lt;acronym
title="Object Oriented Programming"&gt;OOP&lt;/acronym&gt; jako je polymorfismus a
&lt;acronym title="Inversion of Control"&gt;IoC&lt;/acronym&gt;? Je to krapet
složitější, než branchování v repositoři, ale zároveň nás to donutí
zamyslet se nad architekturou aplikace a ve výsledku bude IMO lepší.
V aplikaci můžeme mít nekolik implementací požadované funkcionality,
které jsou následně injektovány na základě konfigurace. Některé mohou
být stabilní a používat se v produkčním prostředí, zatímco
u vývojáře poběží aktuální edge implementace, na které se pracuje.&lt;/p&gt;

&lt;p&gt;Takže implementaci kódu máme vyřešenou, ale jak na to v uživatelském
rozhraní?&lt;/p&gt;

&lt;h3 id="toc-feature-toggles"&gt;Feature toggles&lt;/h3&gt;

&lt;p&gt;Pokud naše UI není přímo generováno aplikačním kódem, kde by se dala
využít předchozí technika, musíme sáhnout po nečem trochu jiném – &lt;a
href="http://martinfowler.com/bliki/FeatureToggle.html"&gt;přepínačích
featur&lt;/a&gt;. Začneme tím, že každá feature má svůj jedinečný
identifikátor. Každá featura je zařazena do uživatelského rozhraní
s tímto identifikátorem a na základě konfigurace je opět rozhodnuto, zda
dojde k jejímu zobrazení uživateli nebo ne. Takto se dají nejen snadno
odříznout nestabilní featury z produkčního prostředí, ale dá se to
využít i k takovým věcem, jako je A/B testování, čí postupné
spouštění featury do produkce, jak to znáte z oblíbených služeb jako je
Facebook nebo Twitter. ;)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Správa několika verzí aplikace vždy přináší komplexitu, která zvyšuje náklady na vývoj i na údržbu. Běžnou praktikou je, že se zdrojové kódy v repositoři větví (branching) v určitých Milestonech, které se potom stabilizují a po releasu udržují, zatím co v hlavní větvi (trunk, main) se pokračuje ve vývoji. S příchodem DVCS((Distributed Version Control System)) se rozmohlo lokální větvení po featurách, čímž se různorodost verzí aplikace ještě víc rozrostla.

Naproti tomu tu máme agilní praktiky jako je Continuous Integration a Continuous Delivery, které nám říkají, že všichni commitují často do hlavní větve, čímž se předchází integračním problémům. Continuous Delivery navíc říká, že "aplikace má pouze **jedinou verzi** - tu **aktuální**." Jak to ale udělat, když rozsah některých featur přesahuje rámec sprintu? Ano, můžeme udělat feature branch, ale tím porušujeme pravidlo, že všechno je v hlavní větvi! Poslední verze TeamCity sice podporuje workflow s personal buildy vůči feature branchi, ale to je integrační smell.

Branch by abstraction
==============

Existuje "lepší řešení!":[BBA] Proč nevyužít technik OOP((Object Oriented Programming)) jako je polymorfismus a IoC((Inversion of Control))? Je to krapet složitější, než branchování v repositoři, ale zároveň nás to donutí zamyslet se nad architekturou aplikace a ve výsledku bude IMO lepší. V aplikaci můžeme mít nekolik implementací požadované funkcionality, které jsou následně injektovány na základě konfigurace. Některé mohou být stabilní a používat se v produkčním prostředí, zatímco u vývojáře poběží aktuální edge implementace, na které se pracuje.

Takže implementaci kódu máme vyřešenou, ale jak na to v uživatelském rozhraní?

Feature toggles
===========

Pokud naše UI není přímo generováno aplikačním kódem, kde by se dala využít předchozí technika, musíme sáhnout po nečem trochu jiném - "přepínačích featur":[FeatureToggle]. Začneme tím, že každá feature má svůj jedinečný identifikátor. Každá featura je zařazena do uživatelského rozhraní s tímto identifikátorem a na základě konfigurace je opět rozhodnuto, zda dojde k jejímu zobrazení uživateli nebo ne. Takto se dají nejen snadno odříznout nestabilní featury z produkčního prostředí, ale dá se to využít i k takovým věcem, jako je A/B testování, čí postupné spouštění featury do produkce, jak to znáte z oblíbených služeb jako je Facebook nebo Twitter. ;)

[FeatureToggle]: http://martinfowler.com/bliki/FeatureToggle.html
[BBA]: http://continuousdelivery.com/2011/05/make-large-scale-changes-incrementally-with-branch-by-abstraction/</raw>
    <author>Aleš Roubíček</author>
    <published>2011-06-11T09:01:43.860</published>
    <url>prepinani-featur-a-vetveni-abstrakci</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>ci agile oop ioc</tags>
    <is-published>1</is-published>
    <edited>2011-06-11T09:05:41.093</edited>
  </article>
  <article>
    <id>405</id>
    <title>Nejsem schopný dopsat článek o Continuous Integration</title>
    <description>Je třeba si nalát čistého vína a přiznt si, že to nedokážu. Pokud se najde někdo lepší, kdo je schopný dovést článek do zdárrného konce, tady je k dispozici.</description>
    <html xml:space="preserve">
&lt;p&gt;Je třeba si to přiznat. Nedokážu vše. Např. nedokážu odpřednášet
nebo napsat článek o Continuous Integration. Je to škoda, protože si
myslím, že toho o tom víc celkem dost, dlouho to praktikuju a tak, ale
prostě je nad moje síly dát tomu lepší formu než konzultaci či
workshop.&lt;/p&gt;

&lt;p&gt;Každopádně jsem nad tím článkem strávil spoustu času a byla by
škoda, kdyby se nikdy nedostal k očím dychtivých čtenářů. Proto jsem se
rozhodl, že článek uvolním pod licencí Creative Commons, nabídnu ho ke
stažení, těm co jim nevadí špatná forma. A pokud se najde dobrá duše,
která se rozhodne článek dopsat/zeditovat a publikovat &lt;a
href="htp://zdrojak.cz"&gt;na zdrojáku&lt;/a&gt;, nechť tak učiní. Jen musí zachovat
licenci a uvést mé jméno jako spoluautora. :) Toť pro dnešek vše.&lt;/p&gt;

&lt;p&gt;Jo a tady je &lt;a
href="http://cid-bf922899c9fe1222.office.live.com/self.aspx/Public/Kontinu%C3%A1ln%C3%AD%20integrace.docx?sa=83070848"&gt;ten
zázrak&lt;/a&gt;.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Je třeba si to přiznat. Nedokážu vše. Např. nedokážu odpřednášet nebo napsat článek o Continuous Integration. Je to škoda, protože si myslím, že toho o tom víc celkem dost, dlouho to praktikuju a tak, ale prostě je nad moje síly dát tomu lepší formu než konzultaci či workshop.

Každopádně jsem nad tím článkem strávil spoustu času a byla by škoda, kdyby se nikdy nedostal k očím dychtivých čtenářů. Proto jsem se rozhodl, že článek uvolním pod licencí Creative Commons, nabídnu ho ke stažení, těm co jim nevadí špatná forma. A pokud se najde dobrá duše, která se rozhodne článek dopsat/zeditovat a publikovat "na zdrojáku":[htp://zdrojak.cz], nechť tak učiní. Jen musí zachovat licenci a uvést mé jméno jako spoluautora. :) Toť pro dnešek vše.

Jo a tady je "ten zázrak":[http://cid-bf922899c9fe1222.office.live.com/self.aspx/Public/Kontinu%C3%A1ln%C3%AD%20integrace.docx?sa=83070848].</raw>
    <author>Aleš Roubíček</author>
    <published>2011-06-14T07:50:45.570</published>
    <url>nejsem-schopny-dopsat-clanek-o-continuous-integration</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>ci</tags>
    <is-published>1</is-published>
    <edited>2011-06-14T07:53:58.273</edited>
  </article>
  <article>
    <id>406</id>
    <title>Refaktoring</title>
    <description>Poslední dobou se mi velmi často stává, že narážím na hlášky typu “od devíti refaktoruju a furt to nemá konce,” “refaktoring mi zabere asi tři dny, udělej mi na to task do backlogu” nebo „refaktoroval jsem to a nějak to přestalo fungovat.“ Tohle všechno j</description>
    <html xml:space="preserve">
&lt;p&gt;Poslední dobou se mi velmi často stává, že narážím na hlášky typu
“od devíti refaktoruju a furt to nemá konce,” “refaktoring mi zabere asi
tři dny, udělej mi na to task do backlogu” nebo „refaktoroval jsem to a
nějak to přestalo fungovat.“ Tohle všechno jsou lži, ať už plynoucí
z neznalosti, co to je refaktoring nebo trendy nadužívání tohoto slova
v nepatřičných situacích.&lt;/p&gt;

&lt;h3 id="toc-co-je-to-refaktoring"&gt;Co je to refaktoring?&lt;/h3&gt;

&lt;p&gt;&lt;a href="http://en.wikipedia.org/wiki/Code_refactoring"&gt;Refaktoring&lt;/a&gt; je
pojem, který je definován poměrně přesně. Je to krátká &lt;strong&gt;atomická
operace&lt;/strong&gt; nad kódem, která &lt;strong&gt;nemění jeho funkci&lt;/strong&gt;, pouze
&lt;strong&gt;strukturu&lt;/strong&gt;. Z definice jasně vyplývá, že věty z úvodu
jsou lži.&lt;/p&gt;

&lt;p&gt;Refaktoring patří k základní hygieně čistého kódu. Měli byste ho
používat neustále. Není to věc, kterou byste měli zahrnovat do plánů
jako něco extra, podobně jako testy, jsou jejich nedílnou součástí.
A sluší se je zahrnout do časových odhadů jednotlivých úkolů. Ne však
jako samostatné úkoly!&lt;/p&gt;

&lt;h3 id="toc-rikam-refaktoring-myslim-redesign"&gt;Říkám refaktoring, myslím
redesign&lt;/h3&gt;

&lt;p&gt;Refaktoring se stal trendy pojmem. Manažeři mu nerozumí a programátoři
se sním furt ohánějí. „Proč ti to trvalo tak dlouho?“ „Ještě jsem
musel udělat refaktoring tohodle a tamtoho.“ Jenže jak jsme si řekli
v definici, refaktoring je krátká operace! Velmi krátká, pokud máte dobré
nástroje, netrvá více než pár stisků kláves. Řádově trvá jednotky
sekund.&lt;/p&gt;

&lt;p&gt;Refaktoring má navíc tu vlastnost, že i když děláte velkou sérii –
provádíte redesign – můžete kdykoli přestat a aplikace stále funguje.
Ano, je to tak. Opět to vyplívá jasně z definice. Pokud ne, děláte jenom
redesign.&lt;/p&gt;

&lt;h3 id="toc-redesign"&gt;Redesign&lt;/h3&gt;

&lt;p&gt;„Musíme to přepsat.“ Ta slova nemají manažeři rádi. Znamená to
spoustu promarněných (z jejich pohledu – my přece víme, že se to musí
udělat a že se to vrátí) hodin/dní (někdy i měsíců a let) práce.
A tak se místo redesignování začalo „refaktrovat.“ Přestaňme si
lhát. I když třeba během redesignu použijeme nějaký ten refaktoring,
pořád je to redesign. Redesignovat můžeme přinejmenším dvěma
způsoby:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Hurá redesign, kdy se původní kód zahodí a napíše se to znova a
	občas se něco z toho původního copy&amp;amp;pastene. Tohle se často dnes
	nazývá refactoring. A většinou z toho vypadne podobná sračka, jako byla
	před tím, jen bude mít jiný tvar.&lt;/li&gt;

	&lt;li&gt;Můžeme postupně refaktorovat a časem se dostat k lepšímu designu. Ale
	nezapomínejte, vždycky tenhle proces můžete přerušit a aplikace funguje.
	Stačí, že změny jsou good enough. Váš kód nikdy nebude dokonalý.&lt;/li&gt;
&lt;/ol&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Poslední dobou se mi velmi často stává, že narážím na hlášky typu “od devíti refaktoruju a furt to nemá konce,” “refaktoring mi zabere asi tři dny, udělej mi na to task do backlogu” nebo „refaktoroval jsem to a nějak to přestalo fungovat.“ Tohle všechno jsou lži, ať už plynoucí z neznalosti, co to je refaktoring nebo trendy nadužívání  tohoto slova v nepatřičných situacích.

Co je to refaktoring?
=====================

Refaktoring:[http://en.wikipedia.org/wiki/Code_refactoring] je pojem, který je definován poměrně přesně. Je to krátká **atomická operace** nad kódem, která **nemění jeho funkci**, pouze **strukturu**. Z definice jasně vyplývá, že věty z úvodu jsou lži.

Refaktoring patří k základní hygieně čistého kódu. Měli byste ho používat neustále. Není to věc, kterou byste měli zahrnovat do plánů jako něco extra, podobně jako testy, jsou jejich nedílnou součástí. A sluší se je zahrnout do časových odhadů jednotlivých úkolů. Ne však jako samostatné úkoly!

Říkám refaktoring, myslím redesign
==================================

Refaktoring se stal trendy pojmem. Manažeři mu nerozumí a programátoři se sním furt ohánějí. „Proč ti to trvalo tak dlouho?“ „Ještě jsem musel udělat refaktoring tohodle a tamtoho.“ Jenže jak jsme si řekli v definici, refaktoring je krátká operace! Velmi krátká, pokud máte dobré nástroje, netrvá více než pár stisků kláves. Řádově trvá jednotky sekund.

Refaktoring má navíc tu vlastnost, že i když děláte velkou sérii - provádíte redesign – můžete kdykoli přestat a aplikace stále funguje. Ano, je to tak. Opět to vyplívá jasně z definice. Pokud ne, děláte jenom redesign.

Redesign
========

„Musíme to přepsat.“ Ta slova nemají manažeři rádi. Znamená to spoustu promarněných (z jejich pohledu - my přece víme, že se to musí udělat a že se to vrátí) hodin/dní (někdy i měsíců a let) práce. A tak se místo redesignování začalo „refaktrovat.“ Přestaňme si lhát. I když třeba během redesignu použijeme nějaký ten refaktoring, pořád je to redesign. Redesignovat můžeme přinejmenším dvěma způsoby:

1. Hurá redesign, kdy se původní kód zahodí a napíše se to znova a občas se něco z toho původního copy&amp;pastene. Tohle se často dnes nazývá refactoring. A většinou z toho vypadne podobná sračka, jako byla před tím, jen bude mít jiný tvar.
2. Můžeme postupně refaktorovat a časem se dostat k lepšímu designu. Ale nezapomínejte, vždycky tenhle proces můžete přerušit  a aplikace funguje. Stačí, že změny jsou good enough. Váš kód nikdy nebude dokonalý.
</raw>
    <author>Aleš Roubíček</author>
    <published>2011-07-23T09:31:11.890</published>
    <url>refaktoring</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>refactoring redesign cleancode</tags>
    <is-published>1</is-published>
    <edited>2011-07-23T09:33:29.120</edited>
  </article>
  <article>
    <id>407</id>
    <title>Repository je anti-pattern</title>
    <description>Z vrchu křupavé, vevnitř šťavnaté...</description>
    <html xml:space="preserve">
&lt;p&gt;Žádný vzor není špatný. Vezměme si chudáčka Singletona. Skvělý
vzor pro udržení jediné instance v požadovaném scope. Jenže pak se
dočtete, že &lt;a
href="http://zdrojak.root.cz/clanky/antipatterny-smradlavy-kod-a-peteruv-princip-v-it/nazory/18291/"&gt;Singleton
je neslučitelný s Dependency Inversion Principle&lt;/a&gt;. Opravdu? Jak to, že
používám &lt;a
href="http://en.wikipedia.org/wiki/Dependency_inversion_principle"&gt;DIP&lt;/a&gt;
i Singletonty už léta? On je problem někde jinde. U lidí co
nepřemýšlí. :) Fakt.&lt;/p&gt;

&lt;p&gt;Mějme třídu, kde se na pěti místech v jejím kódu vyskytuje
&lt;code&gt;HttpContext.Current&lt;/code&gt;. Opravdu je to problem Singletonu? Ale kdepak,
je to problem v užití, potažmo neschopností dělat čistý design. Přitom
stačí nadefinovat členskou proměnnou typu &lt;code&gt;HttpContext&lt;/code&gt; (lépe
&lt;code&gt;HttpContextBase&lt;/code&gt;) a tu si nechat naservírovat pomocí
konstruktoru.&lt;/p&gt;

&lt;p&gt;Volání &lt;code&gt;HttpContext.Current&lt;/code&gt; bude v aplikaci &lt;strong&gt;pouze na
jednom místě&lt;/strong&gt; – v &lt;a
href="http://blog.ploeh.dk/2011/07/28/CompositionRoot.aspx"&gt;Composition
rootu&lt;/a&gt; aplikace (popř. V konfiguraci IoC kontejneru.) Zbytkem aplikace nám
bude protékat právě tato instance.&lt;/p&gt;

&lt;p&gt;Doufám, že jsem na těchto pár řádcích dokázal, že Singleton není
anti-pattern. Že &lt;strong&gt;anti-pattern jsou programátoři.&lt;/strong&gt;&lt;/p&gt;

&lt;h3 id="toc-rikam-repository-myslim-data-mapper"&gt;Říkám repository, myslím
Data Mapper&lt;/h3&gt;

&lt;p&gt;A pomalu se dostáváme k jádru našeho problému. Vzory jsou tu od toho,
aby sjednotili slovník, aby každý hned věděl o čem se bavíme. Jenže
v případě &lt;a
href="http://martinfowler.com/eaaCatalog/repository.html"&gt;Repository&lt;/a&gt; to
došlo tak daleko, že lidé říkají Repository, ale 99 % myslí &lt;a
href="http://martinfowler.com/eaaCatalog/dataMapper.html"&gt;Data Mapper&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Repository nám schovává datový zdroj za rozhraní kolekce a umožňuje
nad ním spouštět &lt;a href="/weblog/377-domenove-dotazy.aspx"&gt;doménové
dotazy&lt;/a&gt;. Světe div se, v dotnetu už něco takového máme. Ano, je to
&lt;code&gt;IEnumerable&lt;/code&gt; a &lt;acronym
title="Language Integrated Query"&gt;LINQ&lt;/acronym&gt;!&lt;/p&gt;

&lt;p&gt;V praxi se však setkáme s repository, která přímo skládá SQL dotazy,
menežuje život entit a má tlusté rozhraní jako prase. Proč? Protože opět
selhaly schopnosti návrhu. Zde konkrétně &lt;a
href="http://en.wikipedia.org/wiki/Single_responsibility_principle"&gt;Single
Responsibility Principle&lt;/a&gt; a &lt;a
href="http://en.wikipedia.org/wiki/Interface_segregation_principle"&gt;Interface
Segregation Principle&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id="toc-tlusta-rozhrani"&gt;Tlustá rozhraní&lt;/h3&gt;

&lt;p&gt;Tlustá rozhraní u “Repository” vznikají z potřeby zapouzdřit často
používané dotazy do znovupoužitelné jednotky. Bohužel i v 21. století
je jednotkou znovupoužitelnosti procedura. A tak s každým novým dotazem
přidáme na rozhraní “Repository” další a další metodu. To nám
spokojeně roste a roste. A opět porušujeme Interface Segregation Principle,
Single Responsibility Principle a navíc i &lt;a
href="http://en.wikipedia.org/wiki/Open/closed_principle"&gt;Open Closed
Principle&lt;/a&gt; – a vytváříme &lt;a href="http://www.laputan.org/mud/"&gt;krásnou
kuličku sraček&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Třída, která toto rozhraní implementuje mívá nezřídka tisíc řádků
a dá se v nít “snadno orientovat” pomocí &lt;a
href="/weblog/398-pryc-se-stromecky.aspx"&gt;stromečků&lt;/a&gt;. Jenže, &lt;a
href="http://cleancoder.posterous.com/clean-code-episode-iii-contents-and-release-n"&gt;jak
praví Uncle Bob&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
	&lt;p&gt;“V každé velké metodě se schovávají malé třídy!”&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Ale málem bych zapomněl na &lt;a
href="http://en.wikipedia.org/wiki/Liskov_substitution_principle"&gt;Liskov
Substitution Principle&lt;/a&gt;. Určitě jste všichni někdy narazili na potřebu
cachovat. :)&lt;/p&gt;

&lt;h3 id="toc-dekorovanim-za-cistsi-kod"&gt;Dekorováním za čistší kód!&lt;/h3&gt;

&lt;p&gt;A tak, když dospějeme k závěru, že tenhle dotaz se provádí dost
často a přitom se data takřka nemění, budeme cachovat. První věc, co nás
napadne, je &lt;a
href="/weblog/397-single-responsibility-principle-in-the-wild.aspx"&gt;nasrat tu
cache přímo do &lt;em&gt;repository&lt;/em&gt;&lt;/a&gt;. &lt;em&gt;Tak to bude transparentí a nikde
to nemusím měnit.&lt;/em&gt; &lt;strong&gt;Au.&lt;/strong&gt; Lepším řešením je udělat
třídu se stejným rozhraním, která v konstruktoru přijímá to samé
rozhraní a potřebné metody odekoruje cachováním. Zbylé volá přímo na
dekorovaném objektu.&lt;/p&gt;

&lt;p&gt;Netvrdím, že jde o dokonalý návrh, ale jde rozhodně o mnohem čistší
řešení. A to vše díky dodržování principů &lt;a
href="http://en.wikipedia.org/wiki/SOLID_(object-oriented_design)"&gt;SOLIDní
architektury&lt;/a&gt;. Opakuju se tu o tom už léta, ale asi je to stale
potřeba. ;)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Žádný vzor není špatný. Vezměme si chudáčka Singletona. Skvělý vzor pro udržení jediné instance v požadovaném scope. Jenže pak se dočtete, že "Singleton je neslučitelný s Dependency Inversion Principle":[http://zdrojak.root.cz/clanky/antipatterny-smradlavy-kod-a-peteruv-princip-v-it/nazory/18291/]. Opravdu? Jak to, že používám DIP:[http://en.wikipedia.org/wiki/Dependency_inversion_principle] i Singletonty už léta? On je problem někde jinde. U lidí co nepřemýšlí. :) Fakt.

Mějme třídu, kde se na pěti místech v jejím kódu vyskytuje `HttpContext.Current`. Opravdu je to problem Singletonu? Ale kdepak, je to problem v užití, potažmo neschopností dělat čistý design. Přitom stačí nadefinovat členskou proměnnou typu `HttpContext` (lépe `HttpContextBase`) a tu si nechat naservírovat pomocí konstruktoru.

Volání `HttpContext.Current` bude v aplikaci **pouze na jednom místě** – v "Composition rootu":[http://blog.ploeh.dk/2011/07/28/CompositionRoot.aspx] aplikace (popř. V konfiguraci IoC kontejneru.) Zbytkem aplikace nám bude protékat právě tato instance.

Doufám, že jsem na těchto pár řádcích dokázal, že Singleton není anti-pattern. Že **anti-pattern jsou programátoři.**

Říkám repository, myslím Data Mapper
==============================

A pomalu se dostáváme k jádru našeho problému. Vzory jsou tu od toho, aby sjednotili slovník, aby každý hned věděl o čem se bavíme. Jenže v případě Repository:[http://martinfowler.com/eaaCatalog/repository.html] to došlo tak daleko, že lidé říkají Repository, ale 99 % myslí "Data Mapper":[http://martinfowler.com/eaaCatalog/dataMapper.html].

Repository nám schovává datový zdroj za rozhraní kolekce a umožňuje nad ním spouštět "doménové dotazy":[/weblog/377-domenove-dotazy.aspx]. Světe div se, v dotnetu už něco takového máme. Ano, je to `IEnumerable` a LINQ((Language Integrated Query))!

V praxi se však setkáme s repository, která přímo skládá SQL dotazy, menežuje život entit a má tlusté rozhraní jako prase. Proč? Protože opět selhaly schopnosti návrhu. Zde konkrétně "Single Responsibility Principle":[http://en.wikipedia.org/wiki/Single_responsibility_principle] a "Interface Segregation Principle":[http://en.wikipedia.org/wiki/Interface_segregation_principle].

Tlustá rozhraní
============

Tlustá rozhraní u “Repository” vznikají z potřeby zapouzdřit často používané dotazy do znovupoužitelné jednotky. Bohužel i v 21. století je jednotkou znovupoužitelnosti procedura. A tak s každým novým dotazem přidáme na rozhraní “Repository” další a další metodu. To nám spokojeně roste a roste. A opět porušujeme Interface Segregation Principle, Single Responsibility Principle a navíc i "Open Closed Principle":[http://en.wikipedia.org/wiki/Open/closed_principle] -- a vytváříme "krásnou kuličku sraček":[http://www.laputan.org/mud/].

Třída, která toto rozhraní implementuje mívá nezřídka tisíc řádků a dá se v nít “snadno orientovat” pomocí "stromečků":[/weblog/398-pryc-se-stromecky.aspx]. Jenže, "jak praví Uncle Bob":[http://cleancoder.posterous.com/clean-code-episode-iii-contents-and-release-n]:

&gt; “V každé velké metodě se schovávají malé třídy!”

Ale málem bych zapomněl na "Liskov Substitution Principle":[http://en.wikipedia.org/wiki/Liskov_substitution_principle]. Určitě jste všichni někdy narazili na potřebu cachovat. :)

Dekorováním za čistší kód!
=====================

A tak, když dospějeme k závěru, že tenhle dotaz se provádí dost často a přitom se data takřka nemění, budeme cachovat. První věc, co nás napadne, je "nasrat tu cache přímo do *repository*":[/weblog/397-single-responsibility-principle-in-the-wild.aspx]. *Tak to bude transparentí a nikde to nemusím měnit.* **Au.** Lepším řešením je udělat třídu se stejným rozhraním, která v konstruktoru přijímá to samé rozhraní a potřebné metody odekoruje cachováním. Zbylé volá přímo na dekorovaném objektu.

Netvrdím, že jde o dokonalý návrh, ale jde rozhodně o mnohem čistší řešení. A to vše díky dodržování principů "SOLIDní architektury":[http://en.wikipedia.org/wiki/SOLID_(object-oriented_design)]. Opakuju se tu o tom už léta, ale asi je to stale potřeba. ;)
</raw>
    <author>Aleš Roubíček</author>
    <published>2011-09-10T10:04:35.577</published>
    <url>repository-je-antipattern</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>solid architektura</tags>
    <is-published>1</is-published>
    <edited>2011-09-11T07:49:30.827</edited>
  </article>
  <article>
    <id>408</id>
    <title>ActionInterceptor pro ASP.NET MVC</title>
    <description>Taková malá ukázka toho, jak mít čistší kód v ASP.NET MVC pomocí AOP a Windsor kontejneru.</description>
    <html xml:space="preserve">
&lt;p&gt;V pátek jsem na twitteru &lt;a
href="http://twitter.com/alesroubicek/status/127324625041494017"&gt;publikoval&lt;/a&gt;
&lt;code&gt;ActionInterceptor&lt;/code&gt; a záhy jsem dostal &lt;a
href="http://twitter.com/#!/kolman/status/127326719358156800"&gt;reakci od Dana
Kolmana&lt;/a&gt;, „proč ne &lt;code&gt;ActionFilterAttribute&lt;/code&gt;?“ Sice jsem to na
twitteru &lt;a
href="http://twitter.com/alesroubicek/status/127327835063992320"&gt;shrnul&lt;/a&gt;, ale
klidně si to shrnu ještě jednou a obšírněji. Dělá mi to
totiž dobře.&lt;/p&gt;

&lt;h3 id="toc-action-filtry"&gt;Action Filtry&lt;/h3&gt;

&lt;p&gt;&lt;a
href="http://www.asp.net/mvc/tutorials/understanding-action-filters-cs"&gt;Action
filtry&lt;/a&gt; jsou – už od první verze ASP.NET MVC – způsobem, jak
rozšiřovat akce o znovupoužitelné aspekty. Můžete tak zabalit často
používané koncepty a jednoduše je aplikovat tam, kde je to třeba. Jenže
action filtry mají několik zásadních omezení:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Nepřijde mi úplně košer, aby atributy byly nositeli jednotky práce.
	Jejich úkolem je &lt;em&gt;poskytovat metadata, nikoli funkcionalitu&lt;/em&gt;.&lt;/li&gt;

	&lt;li&gt;Do verze 3 tu nebyla možnost injektovat závislosti, ve 3. verzi přibyl
	&lt;a
	href="http://bradwilson.typepad.com/blog/2010/10/service-location-pt5-idependencyresolver.html"&gt;service
	lokátor&lt;/a&gt; (&lt;code&gt;IDependencyResolver&lt;/code&gt;), který má k dokonalosti velmi
	daleko.&lt;/li&gt;

	&lt;li&gt;Pokud chci přidat aspekt, musím zasahovat do rozšiřovaného kódu.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Všechny tři body jsou pro mne velmi &lt;strong&gt;zásadní chyby
v návrhu&lt;/strong&gt; a použitelnosti. Jak je vyřešit?&lt;/p&gt;

&lt;h3 id="toc-action-interceptor"&gt;Action interceptor&lt;/h3&gt;

&lt;p&gt;Ve svých aplikacích spokojeně používám &lt;a
href="http://docs.castleproject.org/Windsor.MainPage.ashx"&gt;IoC kontejner
Castle.Windsor&lt;/a&gt;, který umožňuje snadno vkládat aspekty. Děje se tak
pomocí dynamicky vytvářených proxy nad dekorovanými objekty. Jak se má
aspekt chovat a kde aplikovat můžeme snadno popsat v objektu, který
implementuje rozhraní &lt;code&gt;IInterceptor&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Ze základního popisu to nemusí být zcela zřejmé, ale aspekty můžete
aplikovat pouze na virtuální metody. Proto když chcete přidávat aspekt do
vašich kontrolerů musíte sáhnout k tomu, že všechny akce budou
&lt;code&gt;virtual&lt;/code&gt; (což je IMO nesmysl) nebo prostě využijete již
existující extension pointy, které MVC framework nabízí. Kupodivu jsou to
známé metody, které se objevují i v Action filterech. Implementace Action
interceptoru bude tedy vypadat následovně:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;using System;
using System.Linq;
using System.Web.Mvc;
using Castle.DynamicProxy;

public abstract class ActionInterceptor : IInterceptor, IActionFilter, IResultFilter {

 public void Intercept(IInvocation invocation) {
    switch (invocation.Method.Name) {
      case "OnActionExecuting":
        Intercept(invocation, OnActionExecuting);
        break;
      case "OnActionExecuted":
        Intercept(invocation, OnActionExecuted);
        break;
      case "OnResultExecuting":
        Intercept(invocation, OnResultExecuting);
        break;
      case "OnResultExecuted":
        Intercept(invocation, OnResultExecuted);
        break;
    }
    invocation.Proceed();
  }

  void Intercept&amp;lt;TContext&amp;gt;(IInvocation invocation, Action&amp;lt;TContext&amp;gt; action) {
    action(invocation.Arguments.First() as TContext);
  }

  public virtual void OnActionExecuting(ActionExecutingContext filterContext) {

  }

  public virtual void OnActionExecuted(ActionExecutedContext filterContext) {

  }

  public virtual void OnResultExecuting(ResultExecutingContext filterContext) {

  }

  public virtual void OnResultExecuted(ResultExecutedContext filterContext) {

  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Užití je pak už pouhé podědění a přepsání patřičné metody
podobně jako u Action filtrů.&lt;/p&gt;

&lt;h3 id="toc-aplikace-aspektu"&gt;Aplikace aspektu&lt;/h3&gt;

&lt;p&gt;Takovýto aspekt můžeme aplikovat několika způsoby. Nejpřímější
cestou, bez nutnosti modifikovat cíl aspektu, je konfigurace kontejneru:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;Component.
  For&amp;lt;LoggingInterceptor&amp;gt;().
  Lifestyle.Transient,

Component.
  For&amp;lt;HomeController&amp;gt;().
  Lifestyle.Transient.
  Interceptors&amp;lt;LoggingInterceptor&amp;gt;()&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;A jedem. :)&lt;/p&gt;

&lt;p&gt;Další možností je aplikovat interceptor podobně jako action filtr –
pomocí atributu:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;[Authorization]
public class HomeController : System.Web.Mvc.Controller {

}

public class AuthorizationAttribute : Castle.Core.InterceptorAttribute {
  public AuthorizationAttribute()
    : base(typeof(AuthorizationInterceptor)) {
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Každý ze způsobů užití má své přednosti. Konfiguraci kontejneru
používám tehdy, když potřebuji přidat dočasné nebo velice obecné
aspekty. Naopak, pokud potřebuji explicitně vyjádřit nějaký koncept
(autorizaci, invalidaci cache apod.), který má být při čtení controlleru
zřejmý, použiji atributy.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">V pátek jsem na twitteru publikoval:[http://twitter.com/alesroubicek/status/127324625041494017] `ActionInterceptor` a záhy jsem dostal "reakci od Dana Kolmana":[http://twitter.com/#!/kolman/status/127326719358156800], "proč ne `ActionFilterAttribute`?" Sice jsem to na twitteru shrnul:[http://twitter.com/alesroubicek/status/127327835063992320], ale klidně si to shrnu ještě jednou a obšírněji. Dělá mi to totiž dobře.

Action Filtry
========

"Action filtry":[http://www.asp.net/mvc/tutorials/understanding-action-filters-cs] jsou - už od první verze ASP.NET MVC - způsobem, jak rozšiřovat akce o znovupoužitelné aspekty. Můžete tak zabalit často používané koncepty a jednoduše je aplikovat tam, kde je to třeba. Jenže action filtry mají několik zásadních omezení:

1. Nepřijde mi úplně košer, aby atributy byly nositeli jednotky práce. Jejich úkolem je *poskytovat metadata, nikoli funkcionalitu*.
2. Do verze 3 tu nebyla možnost injektovat závislosti, ve 3. verzi přibyl "service lokátor":[http://bradwilson.typepad.com/blog/2010/10/service-location-pt5-idependencyresolver.html] (`IDependencyResolver`), který má k dokonalosti velmi daleko.
3. Pokud chci přidat aspekt, musím zasahovat do rozšiřovaného kódu.

Všechny tři body jsou pro mne velmi **zásadní chyby v návrhu** a použitelnosti. Jak je vyřešit?

Action interceptor
===========

Ve svých aplikacích spokojeně používám "IoC kontejner Castle.Windsor":[http://docs.castleproject.org/Windsor.MainPage.ashx], který umožňuje snadno vkládat aspekty. Děje se tak pomocí dynamicky vytvářených proxy nad dekorovanými objekty. Jak se má aspekt chovat a kde aplikovat můžeme snadno popsat v objektu, který implementuje rozhraní `IInterceptor`.

Ze základního popisu to nemusí být zcela zřejmé, ale aspekty můžete aplikovat pouze na virtuální metody. Proto když chcete přidávat aspekt do vašich kontrolerů musíte sáhnout k tomu, že všechny akce budou `virtual` (což je IMO nesmysl) nebo prostě využijete již existující extension pointy, které MVC framework nabízí. Kupodivu jsou to známé metody, které se objevují i v Action filterech. Implementace Action interceptoru bude tedy vypadat následovně:

/--code csharp
using System;
using System.Linq;
using System.Web.Mvc;
using Castle.DynamicProxy;

public abstract class ActionInterceptor : IInterceptor, IActionFilter, IResultFilter {

 public void Intercept(IInvocation invocation) {
    switch (invocation.Method.Name) {
      case "OnActionExecuting":
        Intercept(invocation, OnActionExecuting);
        break;
      case "OnActionExecuted":
        Intercept(invocation, OnActionExecuted);
        break;
      case "OnResultExecuting":
        Intercept(invocation, OnResultExecuting);
        break;
      case "OnResultExecuted":
        Intercept(invocation, OnResultExecuted);
        break;
    }
    invocation.Proceed();
  }

  void Intercept&lt;TContext&gt;(IInvocation invocation, Action&lt;TContext&gt; action) {
    action(invocation.Arguments.First() as TContext);
  }

  public virtual void OnActionExecuting(ActionExecutingContext filterContext) {

  }

  public virtual void OnActionExecuted(ActionExecutedContext filterContext) {

  }

  public virtual void OnResultExecuting(ResultExecutingContext filterContext) {

  }

  public virtual void OnResultExecuted(ResultExecutedContext filterContext) {

  }
}
\--code

Užití je pak už pouhé podědění a přepsání patřičné metody podobně jako u Action filtrů.

Aplikace aspektu
===========

Takovýto aspekt můžeme aplikovat několika způsoby. Nejpřímější cestou, bez nutnosti modifikovat cíl aspektu, je konfigurace kontejneru:

/--code csharp
Component.
  For&lt;LoggingInterceptor&gt;().
  Lifestyle.Transient,

Component.
  For&lt;HomeController&gt;().
  Lifestyle.Transient.
  Interceptors&lt;LoggingInterceptor&gt;()
\--code

A jedem. :)

Další možností je aplikovat interceptor podobně jako action filtr - pomocí atributu:

/--code csharp
[Authorization]
public class HomeController : System.Web.Mvc.Controller {

}

public class AuthorizationAttribute : Castle.Core.InterceptorAttribute {
  public AuthorizationAttribute()
    : base(typeof(AuthorizationInterceptor)) {
  }
}
\--code

Každý ze způsobů užití má své přednosti. Konfiguraci kontejneru používám tehdy, když potřebuji přidat dočasné nebo velice obecné aspekty. Naopak, pokud potřebuji explicitně vyjádřit nějaký koncept (autorizaci, invalidaci cache apod.), který má být při čtení controlleru zřejmý, použiji atributy.
</raw>
    <author>Aleš Roubíček</author>
    <published>2011-10-23T10:19:28.777</published>
    <url>actioninterceptor-pro-asp-net-mvc</url>
    <category>ASP.NET 2.0</category>
    <keywords></keywords>
    <tags>aspnetmvc windsor aop</tags>
    <is-published>1</is-published>
    <edited>2011-10-24T07:05:00.417</edited>
  </article>
  <article>
    <id>409</id>
    <title>Produktivita s CoffeeScriptem?</title>
    <description>Jednorázová investice do kvalitních nástrojů je efektivnější než učit se nový jazyk, který má špatný ekosystém.</description>
    <html xml:space="preserve">
&lt;p&gt;CoffeeScript může zvýšit produktivitu pouze v případě že JavaScript
píšete v primitivním editoru typu Notepad. Kdo to s produktivitou
v JavaScriptu myslí vážně, investuje pár tisícovek do pořádného IDE
s podporou doplňování kódu, type hintingu, refactoringu a integrovaného
test runneru.&lt;/p&gt;

&lt;p&gt;Kvalitní nástroje jsou něco, co CoffeeScript ještě dlouho mít nebude.
A kvalitní nástroje jsou to, co opravdu zvyšuje vaši produktivitu, ne
obskurní syntaxe.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">CoffeeScript může zvýšit produktivitu pouze v případě že JavaScript píšete v primitivním editoru typu Notepad. Kdo to s produktivitou v JavaScriptu myslí vážně, investuje pár tisícovek do pořádného IDE s podporou doplňování kódu, type hintingu, refactoringu a integrovaného test runneru.

Kvalitní nástroje jsou něco, co CoffeeScript ještě dlouho mít nebude. A kvalitní nástroje jsou to, co opravdu zvyšuje vaši produktivitu, ne obskurní syntaxe.</raw>
    <author>Aleš Roubíček</author>
    <published>2011-11-13T09:10:29.420</published>
    <url>produktivita-s-coffeescriptem</url>
    <category>Webdesign</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2011-11-13T09:10:29.437</edited>
  </article>
  <article>
    <id>410</id>
    <title>O vymýšlení kola</title>
    <description>a tak jak to vlastně bylo...</description>
    <html xml:space="preserve">
&lt;p&gt;V pátek jsem si utvítl, že „Psát virtuální distribuovanej file
systém je challenge.“ a hned jsem dostal reakce, že jsem další v řadě a
že znova vymýšlím kolo a další parafráze mých výroků.&lt;/p&gt;

&lt;p&gt;Jak to tedy je? :)&lt;/p&gt;

&lt;h3 id="toc-challenge-pro-vas"&gt;Challenge pro vás&lt;/h3&gt;

&lt;p&gt;Ukažte mi implementaci &lt;code&gt;VirtualPathProvider&lt;/code&gt;u, který má
správně vyřešené cachování a škáluje přes více než jeden webový
front-end.&lt;/p&gt;

&lt;p&gt;Když se vám to povede, veřejně mě můžete prohlásit za hlupáka,
který neumí hledat a znovu vynalézá kolo. Když se vám to nepovede,
můžete se mě snažit uplatit, abych vám prozradil pikantní podrobnosti.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">V pátek jsem si utvítl, že "Psát virtuální distribuovanej file systém je challenge." a hned jsem dostal reakce, že jsem další v řadě a že znova vymýšlím kolo a další parafráze mých výroků.

Jak to tedy je? :)

Challenge pro vás
=================

Ukažte mi implementaci `VirtualPathProvider`u, který má správně vyřešené cachování a škáluje přes více než jeden webový front-end.

Když se vám to povede, veřejně mě můžete prohlásit za hlupáka, který neumí hledat a znovu vynalézá kolo. Když se vám to nepovede, můžete se mě snažit uplatit, abych vám prozradil pikantní podrobnosti.</raw>
    <author>Aleš Roubíček</author>
    <published>2011-11-15T13:48:38.447</published>
    <url>o-vymysleni-kola</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2011-11-15T13:49:05.040</edited>
  </article>
  <article>
    <id>411</id>
    <title>CZpodcast</title>
    <description>Filemon a Dagi si mě pozvali na slovíčko do CZpodcastu, abychom si popovídali o vývoji jak ho vidím já.</description>
    <html xml:space="preserve">
&lt;p&gt;&lt;a href="http://www.jirifabian.net/"&gt;Filemon&lt;/a&gt; a &lt;a
href="http://www.dagblog.cz/"&gt;Dagi&lt;/a&gt; si mě pozvali &lt;a
href="http://java.cz/article/cz-podcast-57-pokec-s-alesem-roubickem-o-windows-azure-code-retreat-a"&gt;na
slovíčko do CZpodcastu&lt;/a&gt;, abychom si popovídali o vývoji jak ho
vidím já.&lt;/p&gt;

&lt;p&gt;Pokud vás to zajímá, můžete &lt;a
href="http://s3-eu-west-1.amazonaws.com/czpodcast-1/czpodcast57.mp3"&gt;přiložit
své ucho sem&lt;/a&gt;.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Filemon:[http://www.jirifabian.net/] a Dagi:[http://www.dagblog.cz/] si mě pozvali "na slovíčko do CZpodcastu":[http://java.cz/article/cz-podcast-57-pokec-s-alesem-roubickem-o-windows-azure-code-retreat-a], abychom si popovídali o vývoji jak ho vidím já.

Pokud vás to zajímá, můžete "přiložit své ucho sem":[http://s3-eu-west-1.amazonaws.com/czpodcast-1/czpodcast57.mp3].</raw>
    <author>Aleš Roubíček</author>
    <published>2011-11-26T08:59:21.740</published>
    <url>czpodcast</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <tags>podcast azure coderetreat agile</tags>
    <is-published>1</is-published>
    <edited>2011-11-26T09:01:24.107</edited>
  </article>
  <article>
    <id>412</id>
    <title>Trénujete na Code Retreat?</title>
    <description>Již za týden se koná první velký český Code Retreat v Praze. Je na čase trénovat!</description>
    <html xml:space="preserve">
&lt;p&gt;Již za týden se koná akce, do které jsem tak trochu namočený, Global
Day of Code Retreat. My se snažíme připravit jedno &lt;a
href="http://coderetreat.cz"&gt;místečko v Praze&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Ačkoli má akce za cíl vás vytrénovat v lepší vývojáře, je dobré
abyste na něj přišli trochu připravení. :) Určitě si přečtěte &lt;a
href="http://en.wikipedia.org/wiki/Conway's_Game_of_Life"&gt;pravidla
problému&lt;/a&gt;, který se bude celý den znova a znova implementovat. Ale
nezůstaňte pouze u čtení, zamyslete se nad tím, jak danou úlohu
naimplementovat. Nebojte se a jděte ještě dál a vážně tu vaši ideu
i zhmotněte!&lt;/p&gt;

&lt;p&gt;Dalším krokem jak se na akci připravit, je zacvičit si nějakou tu katu
v kódování. Zkuste třeba oblíbenou &lt;a
href="http://codingdojo.org/cgi-bin/wiki.pl?KataBowling"&gt;bowling game&lt;/a&gt; nebo
&lt;a href="http://katas.softwarecraftsmanship.org/?p=80"&gt;string calculator&lt;/a&gt;.
Procvičíte si tak TDD i nástroje, které budete používat.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Již za týden se koná akce, do které jsem tak trochu namočený, Global Day of Code Retreat. My se snažíme připravit jedno "místečko v Praze":[http://coderetreat.cz].

Ačkoli má akce za cíl vás vytrénovat v lepší vývojáře, je dobré abyste na něj přišli trochu připravení. :) Určitě si přečtěte "pravidla problému":[http://en.wikipedia.org/wiki/Conway's_Game_of_Life], který se bude celý den znova a znova implementovat. Ale nezůstaňte pouze u čtení, zamyslete se nad tím, jak danou úlohu naimplementovat. Nebojte se a jděte ještě dál a vážně tu vaši ideu i zhmotněte!

Dalším krokem jak se na akci připravit, je zacvičit si nějakou tu katu v kódování. Zkuste třeba oblíbenou "bowling game":[http://codingdojo.org/cgi-bin/wiki.pl?KataBowling] nebo "string calculator":[http://katas.softwarecraftsmanship.org/?p=80]. Procvičíte si tak TDD i nástroje, které budete používat. </raw>
    <author>Aleš Roubíček</author>
    <published>2011-11-26T09:19:00.510</published>
    <url>trenujete-na-code-retreat</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>coderetreat</tags>
    <is-published>1</is-published>
    <edited>2011-12-27T09:16:32.257</edited>
  </article>
  <article>
    <id>413</id>
    <title>K čemu vlastně TDD?</title>
    <description>Malé zamyšlení, k čemu vlastně to TDD je dobré.</description>
    <html xml:space="preserve">
&lt;p&gt;Na proběhnuvším &lt;a href="http://coderetreat.cz/"&gt;CodeRetreatu&lt;/a&gt; jsme se
a pány Kolmanem a Augustýnem balivi o tom k čemu vlastně je &lt;acronym
title="Test Driven Development"&gt;TDD&lt;/acronym&gt;, jaký má přínos?&lt;/p&gt;

&lt;p&gt;Michal argumentoval tím, že dělá testable design a testy píše potom a
že je s tím cajk, že nevidí důvod, proč dělat TDD. S Danem jsme
nahazovali okřídleané pravdy o výhodách TDD, které Michal zašlapal.
A tak jsme nenašli správnou argumentaci. A já o tom musel přemýšlet.
Přece tam musí být nějakej zásadní rozdíl!&lt;/p&gt;

&lt;p&gt;A on je. Ta největší devíza TDD je &lt;strong&gt;iterativní přístup
k vývoji.&lt;/strong&gt; Pakliže se držíte nějaké agilní metodiky a jednou za
iteraci máte funkční produkt, který může jít potenciálně do produkce.
S TDD jste v takovém stavu takřka každou chvíli (po dokončení kolečka
Red-Green-Refactor). Kdykoli za vámi někdo přijde, že chce vidět jak na tom
jste, tak nemusíte říkat „těd to nejde, zrovna mám něco rozdělanýho a
nefunguje to.“ S TDD vám aplikace funguje takřka pořád. Sice nemá
všechny požadované vlastnosti, ale &lt;strong&gt;je funkční.&lt;/strong&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Na proběhnuvším CodeRetreatu:[http://coderetreat.cz/] jsme se a pány Kolmanem a Augustýnem balivi o tom k čemu vlastně je TDD((Test Driven Development)), jaký má přínos?

Michal argumentoval tím, že dělá testable design a testy píše potom a že je s tím cajk, že nevidí důvod, proč dělat TDD. S Danem jsme nahazovali okřídleané pravdy o výhodách TDD, které Michal zašlapal. A tak jsme nenašli správnou argumentaci. A já o tom musel přemýšlet. Přece tam musí být nějakej zásadní rozdíl!

A on je. Ta největší devíza TDD je **iterativní přístup k vývoji.** Pakliže se držíte nějaké agilní metodiky a jednou za iteraci máte funkční produkt, který může jít potenciálně do produkce. S TDD jste v takovém stavu takřka každou chvíli (po dokončení kolečka Red-Green-Refactor). Kdykoli za vámi někdo přijde, že chce vidět jak na tom jste, tak nemusíte říkat "těd to nejde, zrovna mám něco rozdělanýho a nefunguje to." S TDD vám aplikace funguje takřka pořád. Sice nemá všechny požadované vlastnosti, ale **je funkční.**</raw>
    <author>Aleš Roubíček</author>
    <published>2011-12-18T13:09:35.873</published>
    <url>k-cemu-vlastne-tdd</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>tdd</tags>
    <is-published>1</is-published>
    <edited>2011-12-18T13:34:11.247</edited>
  </article>
  <article>
    <id>414</id>
    <title>Strava pro vaše oči, uši a mozek</title>
    <description>Pár tipů na velmi zajímavá videa s problematikou funkcionálního programování.</description>
    <html xml:space="preserve">
&lt;p&gt;Už je tomu nějakej ten pátek, co jsem &lt;a
href="http://blog.think-forth.com/"&gt;Marianovi&lt;/a&gt; slíbil, že napíšu článek
s videama, o kterých si myslím, že jsou velmi dobrá na procvičování
funkcionálního programování a abstraktního myšlení vůbec. Tak
tady jsou:&lt;/p&gt;

&lt;h3 id="toc-minlinq"&gt;MinLINQ&lt;/h3&gt;

&lt;p&gt;První z nich ukazuje implementaci LINQ operátorů pomocí funkcionální
kompozice tří základních operátorů Ana, Bind a Cata:&lt;/p&gt;

&lt;iframe style="height:288px;width:512px;display:block"
src="http://channel9.msdn.com/Shows/Going+Deep/Bart-De-Smet-MinLINQ-The-Essence-of-LINQ/player?w=512&amp;amp;h=288"
frameborder="0" scrolling="no"&gt;&lt;/iframe&gt;

&lt;h3 id="toc-rx-pod-kapotou"&gt;Rx pod kapotou&lt;/h3&gt;

&lt;p&gt;Další se zabývá velice zajímavými koncepty asynchroního a
konkurenčního přístupu v reaktivních extenzích:&lt;/p&gt;

&lt;iframe style="height:288px;width:512px;display:block"
src="http://channel9.msdn.com/Shows/Going+Deep/E2E-Erik-Meijer-and-Wes-Dyer-Reactive-Framework-Rx-Under-the-Hood-1-of-2/player?w=512&amp;amp;h=288"
frameborder="0" scrolling="no"&gt;&lt;/iframe&gt;

&lt;iframe style="height:288px;width:512px;display:block"
src="http://channel9.msdn.com/Shows/Going+Deep/E2E-Erik-Meijer-and-Wes-Dyer-Reactive-Framework-Rx-Under-the-Hood-2-of-2/player?w=512&amp;amp;h=288"
frameborder="0" scrolling="no"&gt;&lt;/iframe&gt;

&lt;h3 id="toc-design-programovacich-jazyku"&gt;Design programovacích jazyků&lt;/h3&gt;

&lt;p&gt;Poněkud starší video o tom, jak se vaří programovací jazyky, s lidmi,
kteří je opravdu navrhují. Erik Meijer je jedním z mistrů Haskellu a mimo
jiné i mozkem za LINQ a Rx ve světě dotnetu. Gilad Bracha je toho času
součástí týmu tvořícího &lt;a href="http://www.dartlang.org/"&gt;Dart&lt;/a&gt;.
A Mads je v teamu tvořící C#. Takže samí zajímaví lidé se zajímavými
pohledy na jazyky.&lt;/p&gt;

&lt;iframe style="height:288px;width:512px;display:block"
src="http://channel9.msdn.com/Shows/Going+Deep/Erik-Meijer-Gilad-Bracha-Mads-Torgersen-Perspectives-on-Programming-Language-Design-and-Evolution/player?w=512&amp;amp;h=288"
frameborder="0" scrolling="no"&gt;&lt;/iframe&gt;

&lt;h3 id="toc-fukcionalni-programovani"&gt;Fukcionální programování&lt;/h3&gt;

&lt;p&gt;Další video s Erikem „you know“ Meijerem. :) Také staršího data,
ale to na kvalitě neubírá, představuje koncepty funkcionálního
programování v dotnetu.&lt;/p&gt;

&lt;iframe style="height:288px;width:512px;display:block"
src="http://channel9.msdn.com/Shows/Going+Deep/Erik-Meijer-Functional-Programming/player?w=512&amp;amp;h=288"
frameborder="0" scrolling="no"&gt;&lt;/iframe&gt;

&lt;p&gt;A komu to přijde málo a má chuť (a čas) se do funkcionálního
programování opravdu obout, tak doporučuju celou &lt;a
href="http://channel9.msdn.com/search?term=Functional+Programming+Fundamentals&amp;amp;type=Shows"&gt;13 dílnou
serii Erikových lekcí&lt;/a&gt;. Často jsou ukázky v Haskellu, ale tady jde
o koncepty a nakonec není od věci podívat se i na jiný programovací
jazyk, že.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Už je tomu nějakej ten pátek, co jsem Marianovi:[http://blog.think-forth.com/] slíbil, že napíšu článek s videama, o kterých si myslím, že jsou velmi dobrá na procvičování funkcionálního programování a abstraktního myšlení vůbec. Tak tady jsou:

MinLINQ
=======

První z nich ukazuje implementaci LINQ operátorů pomocí funkcionální kompozice tří základních operátorů Ana, Bind a Cata:


&lt;iframe style="height:288px;width:512px;display:block" src="http://channel9.msdn.com/Shows/Going+Deep/Bart-De-Smet-MinLINQ-The-Essence-of-LINQ/player?w=512&amp;h=288" frameBorder="0" scrolling="no" &gt;&lt;/iframe&gt;

Rx pod kapotou
==========

Další se zabývá velice zajímavými koncepty asynchroního a konkurenčního přístupu v reaktivních extenzích:

&lt;iframe style="height:288px;width:512px;display:block" src="http://channel9.msdn.com/Shows/Going+Deep/E2E-Erik-Meijer-and-Wes-Dyer-Reactive-Framework-Rx-Under-the-Hood-1-of-2/player?w=512&amp;h=288" frameBorder="0" scrolling="no" &gt;&lt;/iframe&gt;
&lt;iframe style="height:288px;width:512px;display:block" src="http://channel9.msdn.com/Shows/Going+Deep/E2E-Erik-Meijer-and-Wes-Dyer-Reactive-Framework-Rx-Under-the-Hood-2-of-2/player?w=512&amp;h=288" frameBorder="0" scrolling="no" &gt;&lt;/iframe&gt;

Design programovacích jazyků
===================

Poněkud starší video o tom, jak se vaří programovací jazyky, s lidmi, kteří je opravdu navrhují. Erik Meijer je jedním z mistrů Haskellu a mimo jiné i mozkem za LINQ a Rx ve světě dotnetu. Gilad Bracha je toho času součástí týmu tvořícího Dart:[http://www.dartlang.org/]. A Mads je v teamu tvořící C#. Takže samí zajímaví lidé se zajímavými pohledy na jazyky.

&lt;iframe style="height:288px;width:512px;display:block" src="http://channel9.msdn.com/Shows/Going+Deep/Erik-Meijer-Gilad-Bracha-Mads-Torgersen-Perspectives-on-Programming-Language-Design-and-Evolution/player?w=512&amp;h=288" frameBorder="0" scrolling="no" &gt;&lt;/iframe&gt;

Fukcionální programování
=================

Další video s Erikem "you know" Meijerem. :) Také staršího data, ale to na kvalitě neubírá, představuje koncepty funkcionálního programování v dotnetu.

&lt;iframe style="height:288px;width:512px;display:block" src="http://channel9.msdn.com/Shows/Going+Deep/Erik-Meijer-Functional-Programming/player?w=512&amp;h=288" frameBorder="0" scrolling="no" &gt;&lt;/iframe&gt;

A komu to přijde málo a má chuť (a čas) se do funkcionálního programování opravdu obout, tak doporučuju celou "13 dílnou serii Erikových lekcí":[http://channel9.msdn.com/search?term=Functional+Programming+Fundamentals&amp;type=Shows]. Často jsou ukázky v Haskellu, ale tady jde o koncepty a nakonec není od věci podívat se i na jiný programovací jazyk, že.</raw>
    <author>Aleš Roubíček</author>
    <published>2011-12-25T09:26:59.807</published>
    <url>strava-pro-vase-oci-usi-a-mozek</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>linq video</tags>
    <is-published>1</is-published>
    <edited>2011-12-25T10:35:57.957</edited>
  </article>
  <article>
    <id>415</id>
    <title>Tři přikázání TDD</title>
    <description>TDD není tak těžké jako život, stačí mu pouze tři přikázání.</description>
    <html xml:space="preserve">
&lt;p&gt;Volně přeloženo z knihy &lt;a
href="http://www.amazon.com/Clean-Coder-Conduct-Professional-Programmers/dp/0137081073"&gt;The
Clean Coder&lt;/a&gt;&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Nenapíšeš řádky produkčního kódu, aniž bys měl
	padající test.&lt;/li&gt;

	&lt;li&gt;Nenapíšeš řádky testovacího kódu, pokud již nejsou aktuální
	řádky schopné projít (nezkompilovatelný kód také neprojde).&lt;/li&gt;

	&lt;li&gt;Nenapíšeš řádky produkčního kódu, které nejsou nezbytně nutné,
	aby prošel aktuálně padající test.&lt;/li&gt;
&lt;/ol&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Volně přeloženo z knihy "The Clean Coder":[http://www.amazon.com/Clean-Coder-Conduct-Professional-Programmers/dp/0137081073]

1. Nenapíšeš řádky produkčního kódu, aniž bys měl padající test.
2. Nenapíšeš řádky testovacího kódu, pokud již nejsou aktuální řádky schopné projít (nezkompilovatelný kód také neprojde).
3. Nenapíšeš řádky produkčního kódu, které nejsou nezbytně nutné, aby prošel aktuálně padající test.</raw>
    <author>Aleš Roubíček</author>
    <published>2011-12-25T14:29:10.877</published>
    <url>tri-prikazani-tdd</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>tdd</tags>
    <is-published>1</is-published>
    <edited>2011-12-25T14:29:10.893</edited>
  </article>
  <article>
    <id>416</id>
    <title>Nový blog, který stojí za pozornost</title>
    <description>Nestává se často, že by v dnešní době vznikaly nové kvalitní české blogy se zajímavým obsahem. Ale teď se to stalo...</description>
    <html xml:space="preserve">
&lt;p&gt;Nestává se často, že by v dnešní době vznikaly nové kvalitní
české blogy se zajímavým obsahem. Ale teď se to stalo…&lt;/p&gt;

&lt;p&gt;Tohle opravdu stojí za pozornost! &lt;a
href="http://blog.think-forth.com/"&gt;THINK FORTH!&lt;/a&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Nestává se často, že by v dnešní době vznikaly nové kvalitní české blogy se zajímavým obsahem. Ale teď se to stalo...

Tohle opravdu stojí za pozornost! "THINK FORTH!":[http://blog.think-forth.com/]</raw>
    <author>Aleš Roubíček</author>
    <published>2012-03-02T19:39:03.943</published>
    <url>novy-blog-ktery-stoji-za-pozornost</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2012-03-02T19:39:04.007</edited>
  </article>
  <article>
    <id>417</id>
    <title>Texy.js - první dojmy</title>
    <description>První dojmy a reakce na čerstvě rozběhnutý projekt.</description>
    <html xml:space="preserve">
&lt;p&gt;Posledních pár týdnů jsem koketoval s myšlenkou zase se pokusit
o vlastní implementaci Texy!, abych jí mohl pohodlnějš používat na svých
projektech. &lt;a href="http://texynet.codeplex.com/"&gt;Texy.net&lt;/a&gt; sice funguje,
ale má své neduhy. &lt;a
href="http://rarous.net/weblog/64-texy-web-service-ws.aspx"&gt;Texy WS&lt;/a&gt; jsem
používal na několika projektech, ale zas jí chybí pořádné API. Proto
jsem chtěl něco nativního. Portovat to ale do C# už se mi nechtělo.
Rozhodoval jsem se mezi implementací v F# nebo v JavaScriptu.&lt;/p&gt;

&lt;h3 id="toc-vyhral-javascript"&gt;Vyhrál JavaScript&lt;/h3&gt;

&lt;p&gt;JavaScript je dneska všude a ať budu svůj další projekt chtít psát
v čemkoli je velká pravděpodobnost, že &lt;a
href="https://github.com/rarous/Texy.js"&gt;Texy.js&lt;/a&gt; využiju. Tak, jako před
lety bylo pro původní Texy! PHP jasnou volbou – PHP bylo na většině
serverů, dnes je jasnou volbou JavaScript. Běží jak v browseru, což může
mnoho věcí, co se dají s Texy! dělat, zpříjemnit, tak na serverech –
ať už v podobě Node.js nebo implementací pro VM.&lt;/p&gt;

&lt;p&gt;JavaScript je navíc jazyk, který dokáže psát/číst kde kdo. Je velká
šance, že se do &lt;a href="https://github.com/rarous/Texy.js"&gt;otevřeného
vývoje&lt;/a&gt; zapojí další lidé, kteří nejsou nutně sběhlí v F# nebo
dotnetu. Navíc je JavaScript celkem pěkným jazykem, ikdyž si to lidé často
nemyslí. Rozhodl jsem se psát to v ECMA Scriptu 5, řídit vývoj pomocí TDD
a držet čistý kód. Zároveň se nebojím toho, že někdo objeví moji
chybu, proto když píšu tak i často pushuju. Čím dřív někdo chybu
objeví, tím líp. Chyby děláme všichni, důležité je na to přijít co
nejdříve.&lt;/p&gt;

&lt;p&gt;JavaScript není objektovým jazykem, ale zato je slušným funkcionálním
jazykem, proto v kódu zatím moc typů nenajdete, spíš hodně funkcí. Měla
by to být taková skládačka jednoduchých a čistých funkcí. Texy.js chce
být minimalistická a neexpanzivní.&lt;/p&gt;

&lt;h3 id="toc-borkuv-boj"&gt;Borkův boj&lt;/h3&gt;

&lt;p&gt;Od začátku dostávám od @borekb spoustu dotazů, ale vzhledem k našim
opačným biorytmům se moc nestřetáváme, abych mohli vést kvalitní dialog.
:) Tady se pokusím osvětlit několik jeho dotazů.&lt;/p&gt;

&lt;p&gt;Texy.js píšu ve &lt;a href="http://www.jetbrains.com/webstorm/"&gt;WebStormu&lt;/a&gt;
a pro běh testů požívám &lt;a
href="http://code.google.com/p/js-test-driver/"&gt;JsTestDriver&lt;/a&gt;, který je
součástí poslední verze. Projekt zatím není moc contributors friendly,
protože jsem na něm trávil zatím jen pár hodin minulý víkend. A v tomto
omezeném čase jsem chtěl mít připravenou nějakou funkčnost nad kterou se
dá dál stavět a nezaobírat se věcma, jako je chybějící README s návody
jak si pustit testy. IMO by toho měl být každý vývojář schopnej –
Google je náš kamarád. Časem, až bude projekt víc stable, se tyhle věci
jistě doplní. Už jsem se zmiňoval, že přijímám příspěvky? ;) Ano
i README je hodnotným příspěvkem!&lt;/p&gt;

&lt;p&gt;Texy.js píšu tak, že si čtu &lt;a href="https://github.com/dg/texy"&gt;Texy! na
githubu&lt;/a&gt; a přemýšlím, co tím chtěl básník říct. Když na něco
příjdu, napíšu na to test a snažím se ho naimplementovat. Ikdyž mám
jiný názor na to, jak by měl vypadat srozumitelný kód a jak dělat návrh,
snažím se držet původních myšlenek a produkovat na 99,999 % stejné
výsledky. Ta mírná odchylka není zaokrouhlovací chybou, jen se mi tam
nechce cpát ten reklamní komentář.&lt;/p&gt;

&lt;p&gt;Texy! vnitřně pracuje s UTF-8, využívá speciální znaky apod. Chci co
nejvíc použít myšlenky (a někdy i kód) z původní implementace, proto
Texy.js taky vnitřně pracuje v UTF-8. JavaScript nic pořádnýho na práci
s různými kódováními nemá, proto jsem zaintegroval kus chytrého kódu,
který převádí UTF-16 na UTF-8 a zase zpátky. Jo, není to moc clean code.
Je to dost low level, ale taková už práce s kódováním je…&lt;/p&gt;

&lt;p&gt;Odpověď na otázku, proč Texy.js nahrazuje A se stříškou je snadná:
Soft Hyphen (alias &lt;code&gt;&amp;amp;shy;&lt;/code&gt;) se v UTF-16 zapisuje jako
&lt;code&gt;\u00AD&lt;/code&gt;, ale v UTF-8 jsou to dva byty &lt;code&gt;\xC2\xAD&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;To je prozatím odemě vše. Pokud máte dotazy nebo názory, nebojte se je
napsat do komentářů. Pokud máte nápady na vylepšení, nebojte se udělat
fork a poslat pull-request. Pokud bude dobrý, zaintegrujeme. Pokud ne, určitě
vám napíšu, co se mi nezdálo. :) Pokud máte zájem o nějakou featuru,
pošlete pull-request s padajícím testem.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Posledních pár týdnů jsem koketoval s myšlenkou zase se pokusit o vlastní implementaci Texy!, abych jí mohl pohodlnějš používat na svých projektech. [texynet] sice funguje, ale má své neduhy. [texyws] jsem používal na několika projektech, ale zas jí chybí pořádné API. Proto jsem chtěl něco nativního. Portovat to ale do C# už se mi nechtělo. Rozhodoval jsem se mezi implementací v F# nebo v JavaScriptu.

Vyhrál JavaScript
===========

JavaScript je dneska všude a ať budu svůj další projekt chtít psát v čemkoli je velká pravděpodobnost, že [texyjs] využiju. Tak, jako před lety bylo pro původní Texy! PHP jasnou volbou - PHP bylo na většině serverů, dnes je jasnou volbou JavaScript. Běží jak v browseru, což může mnoho věcí, co se dají s Texy! dělat, zpříjemnit, tak na serverech - ať už v podobě Node.js nebo implementací pro VM.

JavaScript je navíc jazyk, který dokáže psát/číst kde kdo. Je velká šance, že se do "otevřeného vývoje":[texyjs] zapojí další lidé, kteří nejsou nutně sběhlí v F# nebo dotnetu. Navíc je JavaScript celkem pěkným jazykem, ikdyž si to lidé často nemyslí. Rozhodl jsem se psát to v ECMA Scriptu 5, řídit vývoj pomocí TDD  a držet čistý kód. Zároveň se nebojím toho, že někdo objeví moji chybu, proto když píšu tak i často pushuju. Čím dřív někdo chybu objeví, tím líp. Chyby děláme všichni, důležité je na to přijít co nejdříve.

JavaScript není objektovým jazykem, ale zato je slušným funkcionálním jazykem, proto v kódu zatím moc typů nenajdete, spíš hodně funkcí.  Měla by to být taková skládačka jednoduchých a čistých funkcí. Texy.js chce být minimalistická a neexpanzivní.

Borkův boj
========

Od začátku dostávám od @borekb spoustu dotazů, ale vzhledem k našim opačným biorytmům se moc nestřetáváme, abych mohli vést kvalitní dialog. :) Tady se pokusím osvětlit několik jeho dotazů.

Texy.js píšu ve WebStormu:[webstorm] a pro běh testů požívám [jstestdriver], který je součástí poslední verze. Projekt zatím není moc contributors friendly, protože jsem na něm trávil zatím jen pár hodin minulý víkend. A v tomto omezeném čase jsem chtěl mít připravenou nějakou funkčnost nad kterou se dá dál stavět a nezaobírat se věcma, jako je chybějící README s návody jak si pustit testy. IMO by toho měl být každý vývojář schopnej - Google je náš kamarád. Časem, až bude projekt víc stable, se tyhle věci jistě doplní. Už jsem se zmiňoval, že přijímám příspěvky? ;) Ano i README je hodnotným příspěvkem!

Texy.js píšu tak, že si čtu "Texy! na githubu":[texygithub] a přemýšlím, co tím chtěl básník říct. Když na něco příjdu, napíšu na to test a snažím se ho naimplementovat. Ikdyž mám jiný názor na to, jak by měl vypadat srozumitelný kód a jak dělat návrh, snažím se držet původních myšlenek a produkovat na 99,999 % stejné výsledky. Ta mírná odchylka není zaokrouhlovací chybou, jen se mi tam nechce cpát ten reklamní komentář.

Texy! vnitřně pracuje s UTF-8, využívá speciální znaky apod. Chci co nejvíc použít myšlenky (a někdy i kód) z původní implementace, proto Texy.js taky vnitřně pracuje v UTF-8. JavaScript nic pořádnýho na práci s různými kódováními nemá, proto jsem zaintegroval kus chytrého kódu, který převádí UTF-16 na UTF-8 a zase zpátky. Jo, není to moc clean code. Je to dost low level, ale taková už práce s kódováním je...

Odpověď na otázku, proč Texy.js nahrazuje A se stříškou je snadná: Soft Hyphen (alias  `&amp;shy;`) se v UTF-16 zapisuje jako `\u00AD`, ale v UTF-8 jsou to dva byty `\xC2\xAD`.

To je prozatím odemě vše. Pokud máte dotazy nebo názory, nebojte se je napsat do komentářů. Pokud máte nápady na vylepšení, nebojte se udělat fork a poslat pull-request. Pokud bude dobrý, zaintegrujeme. Pokud ne, určitě vám napíšu, co se mi nezdálo. :) Pokud máte zájem o nějakou featuru, pošlete pull-request s padajícím testem.

[texyjs]: https://github.com/rarous/Texy.js Texy.js
[texygithub]: https://github.com/dg/texy
[texyws]: http://rarous.net/weblog/64-texy-web-service-ws.aspx Texy WS
[texynet]: http://texynet.codeplex.com/ Texy.net
[webstorm]: http://www.jetbrains.com/webstorm/
[jstestdriver]: http://code.google.com/p/js-test-driver/ JsTestDriver</raw>
    <author>Aleš Roubíček</author>
    <published>2012-03-11T09:37:51.527</published>
    <url>texy-js-prvni-dojmy</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>texy js</tags>
    <is-published>1</is-published>
    <edited>2012-03-11T09:45:24.913</edited>
  </article>
  <article>
    <id>418</id>
    <title>Co je špatně se Service Locatorem?</title>
    <description>No, právě. Záleží z jakého úhlu pohledu se na to koukáme...</description>
    <html xml:space="preserve">
&lt;p&gt;Service Locator je obecný návrhový vzor, který dodává jeho uživatelům
instance požadovaných služeb. Existuje několik variant implementace tohoto
vzoru a dokonce jsou od něj odvozeny i další specifcké vzory.&lt;/p&gt;

&lt;h3 id="toc-singleton"&gt;Singleton&lt;/h3&gt;

&lt;p&gt;Nejjednodušší implementaci service locatoru zná asi každý, kdo kdy
s návrhovými vzory koketoval – je jím starý známý Singleton! Krom
toho, že Singleton svou vnitřní implementací zajišťuje garantovaný
lifetime instance, tak tuto instanci i poskytuje – typicky pomocí statické
vlastnosti &lt;code&gt;Instance&lt;/code&gt; v horších jazycích pak &lt;acronym
title="nebudu říkat metoda, protože statická metod je IMO nesmysl"&gt;funkcí&lt;/acronym&gt;
&lt;code&gt;getInstance()&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id="toc-abstract-factory"&gt;Abstract Factory&lt;/h3&gt;

&lt;p&gt;Další z častých implementací service locatoru je Factory, jde
o další konkrétnější odvozeninu vzoru, která má semantiku nejen
instance dodávat, ale i vytvářet. V důslednějších variantách má
factory na starosti i řádnou destrukci vytvořeného objektu. Já to
nazývám „šrotovným“. :) Factory většinou vytváří nové instance
pomocí metody &lt;code&gt;Create()&lt;/code&gt; nebo nějaké její variace.&lt;/p&gt;

&lt;h3 id="toc-genericky-service-locator"&gt;Generický Service Locator&lt;/h3&gt;

&lt;p&gt;Další častou implementací je obecný service locator v mnoha
aplikacích/fra­meworcích taky přezdívaný jako &lt;code&gt;Registry&lt;/code&gt; nebo
&lt;code&gt;Kernel&lt;/code&gt; a podobně. Základním rozhraním většiny IoC kontejnerů
je právě takovýto service locator. Většinou instance dostaneme zavoláním
metody &lt;code&gt;GetInstance()&lt;/code&gt; nebo &lt;code&gt;Resolve()&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Jak vidíte, vzory jsou to známé, celkem běžně užívané, narážíme
na ně denně. Tak co je špatně? Proč někdo používá označení Service
Locator pejorativně?&lt;/p&gt;

&lt;h3 id="toc-usage-pattern"&gt;Usage pattern&lt;/h3&gt;

&lt;p&gt;Service locator totiž není jen návrhovým vzorem, ale i &lt;strong&gt;vzorem
užití.&lt;/strong&gt; A tady narazíme na jádro pudla. Vezměme si mou oblíbenou
ukázku se Singletonem. Tento vzor jal se býti častován anti-patternem. Je to
snad, kvůli tomu, že by to byl špatný návrhový vzor? Myslím, že ne.
Tento vzor se spojil v lidských hlavách se vzorem užití, který &lt;strong&gt;je
špatný&lt;/strong&gt;!&lt;/p&gt;

&lt;p&gt;Ruku na srdce, kolikrát ve svém kódu voláte, třeba
&lt;code&gt;HttpContext.Current&lt;/code&gt; místo toho, abyste si ho nechali injektovat
konstruktorem?&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class SomeWebFoo {
  public void DoWork() {
    // code
    if (HttpContext.Current.IsDebuggingEnabled) {
    // code
  }
}

public class BetterWebFoo {
  readonly HttpContextBase httpContext;

  public BetterWebFoo(HttpContextBase httpContext) {
    this.httpContext = httpContext;
  }

  public void DoWork() {
    // code
    if (httpContext.IsDebuggingEnabled) {
    // code
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;První třída používá Service Locator usage pattern, druhá inversion of
control. V prvním případě skrytě přistupujeme přes statickou vlastnost
(globální proměnná) k instanci konkrétního typu. Druhá třída svou
závislost veřejně deklaruje, ale je jí navíc jedno, jaký konkrétní typ
dostane – závisí pouze na abstrakci. Proč je první třída ve většině
případů horší nechám už na vás. Určitě na to přijdete. ;)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Service Locator je obecný návrhový vzor, který dodává jeho uživatelům instance požadovaných služeb. Existuje několik variant implementace tohoto vzoru a dokonce jsou od něj odvozeny i další specifcké vzory.

Singleton
=======

Nejjednodušší implementaci service locatoru zná asi každý, kdo kdy s návrhovými vzory koketoval - je jím starý známý Singleton! Krom toho, že Singleton svou vnitřní implementací zajišťuje garantovaný lifetime instance, tak tuto instanci i poskytuje - typicky pomocí statické vlastnosti `Instance` v horších jazycích pak funkcí((nebudu říkat metoda, protože statická metod je IMO nesmysl)) `getInstance()`.

Abstract Factory
===========

Další z častých implementací service locatoru je Factory, jde o další konkrétnější odvozeninu vzoru, která má semantiku nejen instance dodávat, ale i vytvářet. V důslednějších variantách má factory na starosti i řádnou destrukci vytvořeného objektu. Já to nazývám "šrotovným". :) Factory většinou vytváří nové instance pomocí metody `Create()` nebo nějaké její variace.

Generický Service Locator
================

Další častou implementací je obecný service locator v mnoha aplikacích/frameworcích taky přezdívaný jako `Registry` nebo `Kernel` a podobně. Základním rozhraním většiny IoC kontejnerů je právě takovýto service locator. Většinou instance dostaneme zavoláním metody `GetInstance()` nebo `Resolve()`.

Jak vidíte, vzory jsou to známé, celkem běžně užívané, narážíme na ně denně. Tak co je špatně? Proč někdo používá označení Service Locator pejorativně?

Usage pattern
==========

Service locator totiž není jen návrhovým vzorem, ale i **vzorem užití.** A tady narazíme na jádro pudla. Vezměme si mou oblíbenou ukázku se Singletonem. Tento vzor jal se býti častován anti-patternem. Je to snad, kvůli tomu, že by to byl špatný návrhový vzor? Myslím, že ne. Tento vzor se spojil v lidských hlavách se vzorem užití, který **je špatný**!

Ruku na srdce, kolikrát ve svém kódu voláte, třeba `HttpContext.Current` místo toho, abyste si ho nechali injektovat konstruktorem?

/--code csharp
public class SomeWebFoo {
  public void DoWork() {
    // code
    if (HttpContext.Current.IsDebuggingEnabled) {
    // code
  }
}

public class BetterWebFoo {
  readonly HttpContextBase httpContext;

  public BetterWebFoo(HttpContextBase httpContext) {
    this.httpContext = httpContext;
  }

  public void DoWork() {
    // code
    if (httpContext.IsDebuggingEnabled) {
    // code
  }
}
\--code

První třída používá Service Locator usage pattern, druhá inversion of control. V prvním případě skrytě přistupujeme přes statickou vlastnost (globální proměnná) k instanci konkrétního typu. Druhá třída svou závislost veřejně deklaruje, ale je jí navíc jedno, jaký konkrétní typ dostane - závisí pouze na abstrakci. Proč je první třída ve většině případů horší nechám už na vás. Určitě na to přijdete. ;)
</raw>
    <author>Aleš Roubíček</author>
    <published>2012-04-16T17:56:13.617</published>
    <url>co-je-spatne-se-service-locatorem</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>patterns</tags>
    <is-published>1</is-published>
    <edited>2012-04-16T18:03:51.257</edited>
  </article>
  <article>
    <id>419</id>
    <title>Jak párovat a nezbláznit se z toho?</title>
    <description></description>
    <html xml:space="preserve">
&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve"></raw>
    <author>Aleš Roubíček</author>
    <published>2012-04-24T15:31:31.517</published>
    <url>jak-parovat-a-nezblaznit-se-z-toho</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>pairprogramming xp</tags>
    <is-published>0</is-published>
    <edited>2012-04-24T15:31:31.520</edited>
  </article>
  <article>
    <id>420</id>
    <title>Unit testování v F#</title>
    <description>Spouštění a psaní testů v F# 3.0 je celkem snadné, po pár prvních zaškobrtnutích. :) </description>
    <html xml:space="preserve">
&lt;p&gt;Začít s unit testování v F# je cekem snadné. Stačí si vytvořit
&lt;code&gt;Class Library&lt;/code&gt; a do ní zareferencovat váš oblíbený testovací
framework. Ten můj je xUnit.net a jak se ukazuje má to i své výhody.&lt;/p&gt;

&lt;h3 id="toc-xunit-net-ve-visual-studiu-2012"&gt;xUnit.net ve Visual Studiu
2012&lt;/h3&gt;

&lt;p&gt;Vítanou novinkou nového Visual Studia je podpora i jiných testovacích
frameworků než je MsTest. Takže prvním krokem je přidat xUnit provider do
Visual Studia 2012. Otevřete si &lt;code&gt;Extensions and Updates&lt;/code&gt;
(&lt;code&gt;Ctrl+Q&lt;/code&gt; &lt;code&gt;exte&lt;/code&gt; &lt;code&gt;Enter&lt;/code&gt;) a v Online sekci
dejte vyhledat &lt;code&gt;xUnit&lt;/code&gt;. Nainstalujet si &lt;em&gt;xUnit.net runner for
Visual Studio 2012&lt;/em&gt;. Restartujte Studio.&lt;/p&gt;

&lt;p&gt;Nyní můžeme spouštět xUnit.net testy přímo ve Visual Studiu pomocí
zkratky &lt;code&gt;Ctrl+R, T&lt;/code&gt;. Doporučuju si zobrazit okno &lt;em&gt;Test
Explorer&lt;/em&gt;.&lt;/p&gt;

&lt;h3 id="toc-fsunit-a-xunit"&gt;FsUnit a xUnit&lt;/h3&gt;

&lt;p&gt;Takže máme přidanou podporu pro test runner. Teď ještě přidat samotný
testovací framework a když už jsme u toho i krapet lepší assertovací
framework. Takže si vytvoříme nový projekt typu &lt;em&gt;Class Library&lt;/em&gt;.
Otevřeme si &lt;em&gt;Package Manager Console&lt;/em&gt; (využijte &lt;code&gt;Ctrl+Q&lt;/code&gt;) a
doinstalujeme si nuget balíček. Vzhledem k vyřešeným závislostem stačí
napsat &lt;code&gt;Install-Package FsUnit.Xunit&lt;/code&gt; a jsme skoro ready. Skoro.
FsUnit referencuje &lt;code&gt;FSharp.Core 4.0.0.0&lt;/code&gt;, ale aktuální verze je
&lt;code&gt;FSharp.Core 4.3.0.0&lt;/code&gt;, proto do konzole napíšeme ještě
&lt;code&gt;Add-BindingRedirect *název projektu*&lt;/code&gt;, který zajistí
přesměrování na používanou verzi. No a můžeme psát! :)&lt;/p&gt;

&lt;p&gt;Co se mi líbí na xUnit.net, je že nemusíte dekorovat testovací třídy a
podobné nesmysle. Prostě si vytvoříme modul a rovnou píšeme testy:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-fsharp"&gt;module Tests.``ukázka xUnit a FsUnit``

open Xunit
open FsUnit.Xunit

[&amp;lt;Fact&amp;gt;]
let ``Test tautologie`` ()=
    assert true

[&amp;lt;Fact&amp;gt;]
let ``Test tautologie v xUnit`` ()=
    Asset.True true

[&amp;lt;Fact&amp;gt;]
let ``Test tautologie v FsUnit`` ()=
    true |&amp;gt; should be True&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;První věc, co by vás měla zaujmout, je zápis názvů testovacích metod
a modulů pomocí přirozeného jazyka. To je úžasná vlastnost F#, která
zpřehledňuje testy. Další poznatek: F# má funkci &lt;code&gt;assert&lt;/code&gt;, což
je alias pro &lt;code&gt;System.Diagnostics.Debug.Assert()&lt;/code&gt;, občas se může
hodit. Druhý test používá klasické asserty z xUnit.net. Třetí používá
DSL FsUnit.&lt;/p&gt;

&lt;p&gt;Tak s chutí do testování!&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Začít s unit testování v F# je cekem snadné. Stačí si vytvořit `Class Library` a do ní zareferencovat váš oblíbený testovací framework. Ten můj je xUnit.net a jak se ukazuje má to i své výhody.

xUnit.net ve Visual Studiu 2012
===================

Vítanou novinkou nového Visual Studia je podpora i jiných testovacích frameworků než je MsTest. Takže prvním krokem je přidat xUnit provider do Visual Studia 2012. Otevřete si `Extensions and Updates` (`Ctrl+Q` `exte` `Enter`) a v Online sekci dejte vyhledat `xUnit`. Nainstalujet si *xUnit.net runner for Visual Studio 2012*. Restartujte Studio.

Nyní můžeme spouštět xUnit.net testy přímo ve Visual Studiu pomocí zkratky `Ctrl+R, T`. Doporučuju si zobrazit okno *Test Explorer*.

FsUnit a xUnit
=========

Takže máme přidanou podporu pro test runner. Teď ještě přidat samotný testovací framework a když už jsme u toho i krapet lepší assertovací framework. Takže si vytvoříme nový projekt typu *Class Library*. Otevřeme si *Package Manager Console* (využijte `Ctrl+Q`) a doinstalujeme si nuget balíček. Vzhledem k vyřešeným závislostem stačí napsat `Install-Package FsUnit.Xunit` a jsme skoro ready. Skoro. FsUnit referencuje `FSharp.Core 4.0.0.0`, ale aktuální verze je `FSharp.Core 4.3.0.0`, proto do konzole napíšeme ještě `Add-BindingRedirect *název projektu*`, který zajistí přesměrování na používanou verzi. No a můžeme psát! :)

Co se mi líbí na xUnit.net, je že nemusíte dekorovat testovací třídy a podobné nesmysle. Prostě si vytvoříme modul a rovnou píšeme testy:

/--code fsharp
module Tests.``ukázka xUnit a FsUnit``

open Xunit
open FsUnit.Xunit

[&lt;Fact&gt;]
let ``Test tautologie`` ()=
    assert true

[&lt;Fact&gt;]
let ``Test tautologie v xUnit`` ()=
    Asset.True true

[&lt;Fact&gt;]
let ``Test tautologie v FsUnit`` ()=
    true |&gt; should be True
\--code

První věc, co by vás měla zaujmout, je zápis názvů testovacích metod a modulů pomocí přirozeného jazyka. To je úžasná vlastnost F#, která zpřehledňuje testy. Další poznatek: F# má funkci `assert`, což je alias pro `System.Diagnostics.Debug.Assert()`, občas se může hodit. Druhý test používá klasické asserty z xUnit.net. Třetí používá DSL FsUnit.

Tak s chutí do testování!</raw>
    <author>Aleš Roubíček</author>
    <published>2012-06-05T10:47:28.137</published>
    <url>unit-testovani-v-fsharp</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>xunit fsharp fsunit vs2012</tags>
    <is-published>1</is-published>
    <edited>2012-06-05T11:28:57.907</edited>
  </article>
  <article>
    <id>421</id>
    <title>Pravidla jednoduchého návrhu</title>
    <description>Čtyři pravidla jednoduché návrhu.</description>
    <html xml:space="preserve">
&lt;p&gt;Volně přeloženo z knihy &lt;a
href="http://www.amazon.com/Extreme-Programming-Explained-Embrace-Change/dp/0201616416"&gt;Extreme
Programming Explained&lt;/a&gt;&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Systém (kód i testy) musí jasně vyjadřoval všechny vaše
	záměry.&lt;/li&gt;

	&lt;li&gt;Systém nesmí obsahovat duplicitní kód.&lt;/li&gt;

	&lt;li&gt;Systém by měl mít nejmenší možný počet tříd.&lt;/li&gt;

	&lt;li&gt;Systém by měl mít nejmenší možný počet metod.&lt;/li&gt;
&lt;/ol&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Volně přeloženo z knihy "Extreme Programming Explained":[http://www.amazon.com/Extreme-Programming-Explained-Embrace-Change/dp/0201616416]

1. Systém (kód i testy) musí jasně vyjadřoval všechny vaše záměry.
2. Systém nesmí obsahovat duplicitní kód.
3. Systém by měl mít nejmenší možný počet tříd.
4. Systém by měl mít nejmenší možný počet metod.</raw>
    <author>Aleš Roubíček</author>
    <published>2012-06-09T12:59:32.310</published>
    <url>pravidla-jednoducheho-navrhu</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>xp design</tags>
    <is-published>1</is-published>
    <edited>2012-06-09T12:59:55.573</edited>
  </article>
  <article>
    <id>422</id>
    <title>Je povoleno psát kód dvakrát</title>
    <description>Ve světe pragmatických programátorů vládné všudepřítomné sucho. Někdy až příliš velké sucho.</description>
    <html xml:space="preserve">
&lt;p&gt;Ve světe pragmatických programátorů vládné všudepřítomné sucho
(&lt;acronym title="Don't Repeat Yourself"&gt;DRY&lt;/acronym&gt;), které rozlévají, kam
až oko dohlédne. Jenže aplikovat jakoukoli poučku bez rozmyslu je cesta do
sraček. :)&lt;/p&gt;

&lt;p&gt;Již nějakou dobu si dopřávám odpočinku a mám dost času přemýšlet.
Přemýšlím i tom, kde děláme jako vývojáři chybu. Proč je většina
kódu špatná? Vždyť se snažíme ho udržovat čistý, trávíme týdny
refaktorováním, jen aby byl kód fit, a hlavně se neopakujeme! Ano,
neopakujeme, neopakujeme, neopak…&lt;/p&gt;

&lt;blockquote&gt;
	&lt;p&gt;Repetitio mater studiorum&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Tak určitě a je v tom pěkný bordel.&lt;/p&gt;

&lt;p&gt;Už se vám určitě stalo, že jste celý den, dva něco psali, pak jste
o to blbou náhodou přišli. Zálohy žádný. Co teď? Musíte to napsat
znovu. A najednou vám to zabere jen hodinu nebo tři, ale ne celý den.
Dokonce jste s výsledkem možná spokojenější. Čím to, sakra, je?&lt;/p&gt;

&lt;p&gt;&lt;a
href="http://blog.8thlight.com/dave-moore/2012/06/20/what-do-developers-do-all-day.html"&gt;Vývojařina
není psaní kódu!&lt;/a&gt; Jde o mix zkoumání problému, hledání jeho &lt;span
title="ano, více"&gt;možných řešení&lt;/span&gt;, návrh výsledného řešení,
samotná realizace a následné ověření. No, zní to trochu jako vodopád,
ale někteří lidé potřebují sekvenční schema. Jiní na poslední tři
(někdy i na všechny) použijí &lt;acronym
title="Test Driven Development"&gt;TDD&lt;/acronym&gt;.&lt;/p&gt;

&lt;p&gt;Když, děláme &lt;a href="http://coderetreat.cz/"&gt;CodeReatreaty&lt;/a&gt;, tak
první session je určená právě na zkoumání problému a hledání možných
řešení. Každý by se nad problémem měl zamyslet, dekomponovat ho na
podproblémy a zkusit najít obrysy schůdné cesty. Na víc mu čas stejně
nezbyde. Vzhledem k tomu, že je tam dalších 10, 15 lidí, kteří zkoumají
ten samý problém a každý má jiný pohled na věc, vznikne z toho
zajímavý den, proplněný různými implementacemi stejného problému. Kód
se za každou session zahazuje a začíná se vždy načisto. Nové nápady, jak
psát lepší kód, nejsou zadušeny starou implementací.&lt;/p&gt;

&lt;p&gt;Důležité je se naučit zahazovat &lt;span
title="můj kód nemůže být nikdy špatný, vždyť jsem ho psal já"&gt;špatný
kód&lt;/span&gt;. Opakovat se, psát ho znovu.&lt;/p&gt;

&lt;p&gt;Většina softwaru trpí tím, že programátoři jsou spokojeni, když
najdou jedno fungující řešení a jdou od válu. Celý den lepili kousíčky
různě vygooglenýho kódu, aby vyřešili problém a teď by to měli
&lt;strong&gt;zahodit? Ano!&lt;/strong&gt; Víte, tohleto googlení a lepení je právě
&lt;strong&gt;průzkumná fáze&lt;/strong&gt;, kdy se tepreve učíte a &lt;strong&gt;nic
dobrého z toho nevyleze&lt;/strong&gt;. Pokud průzkumnou fází projdete
s řešením, víte, že tudy cesta vede. Vraťte se na začátek a začněte
se kochat. :) Sedněte si s někým do páru a použijte v klidu osvědčené
techniky.&lt;/p&gt;

&lt;p&gt;Kent Beck říká něco takového:&lt;/p&gt;

&lt;blockquote&gt;
	&lt;p&gt;Není nic špatného na tom psát kód sám a bez testů, pokud zrovna
	zkoumáte zajímavý problém a hledáte, zda má vůbec řešení. Jakmile to
	řešení najdete, ok, víte, že cesta tudy vede. Smažte ten kód, sežente si
	partnera a napište to společně pomocí TDD.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;A já s ním naprosto souhlasím.&lt;/p&gt;

&lt;p&gt;A vám, &lt;span title="zdravím Dušane"&gt;teď probliklo hlavou&lt;/span&gt;, „ale
můj PM s tím souhlasit nebude. Vždyť všechno píšu dvakrát, sežere to
mnohem víc času.“ Kdepak! Pokud se shodnem na tom, že když píšeme kód
podruhé, píšeme ho rychleji a lépe, tak to znamená, že příští
průzkumničení bude díky menším překážkám rychlejší! Ve výsledku
budete trávit možná stejně času, možná o málo víc, nad stejnými
úkoly jako dřív, ale budete mít &lt;em&gt;mnohem&lt;/em&gt; –
&lt;strong&gt;mnohem&lt;/strong&gt; – kvalitnější software. Nebo snad chcete dál
odevzdávat makety a prototypy?&lt;/p&gt;

&lt;p&gt;Pište kód dvakrát, ale nezanechávejte duplicity!&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Ve světe pragmatických programátorů vládné všudepřítomné sucho (DRY((Don't Repeat Yourself))), které rozlévají, kam až oko dohlédne. Jenže aplikovat jakoukoli poučku bez rozmyslu je cesta do sraček. :)

Již nějakou dobu si dopřávám odpočinku a mám dost času přemýšlet. Přemýšlím i tom, kde děláme jako vývojáři chybu. Proč je většina kódu špatná? Vždyť se snažíme ho udržovat čistý, trávíme týdny refaktorováním, jen aby byl kód fit, a hlavně se neopakujeme! Ano, neopakujeme, neopakujeme, neopak...

&gt; Repetitio mater studiorum

Tak určitě a je v tom pěkný bordel.

Už se vám určitě stalo, že jste celý den, dva něco psali, pak jste o to blbou náhodou přišli. Zálohy žádný. Co teď? Musíte to napsat znovu. A najednou vám to zabere jen hodinu nebo tři, ale ne celý den. Dokonce jste s výsledkem možná spokojenější. Čím to, sakra, je?

"Vývojařina není psaní kódu!":[http://blog.8thlight.com/dave-moore/2012/06/20/what-do-developers-do-all-day.html] Jde o mix zkoumání problému, hledání jeho "možných řešení .(ano, více)", návrh výsledného řešení, samotná realizace a následné ověření. No, zní to trochu jako vodopád, ale někteří lidé potřebují sekvenční schema. Jiní na poslední tři (někdy i na všechny) použijí TDD((Test Driven Development)).

Když, děláme CodeReatreaty:[http://coderetreat.cz/], tak první session je určená právě na zkoumání problému a hledání možných řešení. Každý by se nad problémem měl zamyslet, dekomponovat ho na podproblémy a zkusit najít obrysy schůdné cesty. Na víc mu čas stejně nezbyde. Vzhledem k tomu, že je tam dalších 10, 15 lidí, kteří zkoumají ten samý problém a každý má jiný pohled na věc, vznikne z toho zajímavý den, proplněný různými implementacemi stejného problému. Kód se za každou session zahazuje a začíná se vždy načisto. Nové nápady, jak psát lepší kód, nejsou zadušeny starou implementací.

Důležité je se naučit zahazovat "špatný kód .(můj kód nemůže být nikdy špatný, vždyť jsem ho psal já)". Opakovat se, psát ho znovu.

Většina softwaru trpí tím, že programátoři jsou spokojeni, když najdou jedno fungující řešení a jdou od válu. Celý den lepili kousíčky různě vygooglenýho kódu, aby vyřešili problém a teď by to měli **zahodit? Ano!** Víte, tohleto googlení a lepení je právě **průzkumná fáze**, kdy se tepreve učíte a **nic dobrého z toho nevyleze**. Pokud průzkumnou fází projdete s řešením, víte, že tudy cesta vede. Vraťte se na začátek a začněte se kochat. :) Sedněte si s někým do páru a použijte v klidu osvědčené techniky.

Kent Beck říká něco takového:

&gt; Není nic špatného na tom psát kód sám a bez testů, pokud zrovna zkoumáte zajímavý problém a hledáte, zda má vůbec řešení. Jakmile to řešení najdete, ok, víte, že cesta tudy vede. Smažte ten kód, sežente si partnera a napište to společně pomocí TDD.

A já s ním naprosto souhlasím.

A vám, "teď probliklo hlavou .(zdravím Dušane)", "ale můj PM s tím souhlasit nebude. Vždyť všechno píšu dvakrát, sežere to mnohem víc času." Kdepak! Pokud se shodnem na tom, že když píšeme kód podruhé, píšeme ho rychleji a lépe, tak to znamená, že příští průzkumničení bude díky menším překážkám rychlejší! Ve výsledku budete trávit možná stejně času, možná o málo víc, nad stejnými úkoly jako dřív, ale budete mít *mnohem* - **mnohem** - kvalitnější software. Nebo snad chcete dál odevzdávat makety a prototypy?

Pište kód dvakrát, ale nezanechávejte duplicity!
</raw>
    <author>Aleš Roubíček</author>
    <published>2012-06-25T10:52:22.627</published>
    <url>je-povoleno-psat-kod-dvakrat</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>xp tdd</tags>
    <is-published>1</is-published>
    <edited>2012-06-25T12:05:56.167</edited>
  </article>
  <article>
    <id>423</id>
    <title>Proč nemám rád CoffeeScript</title>
    <description>Muselo to ven. :)</description>
    <html xml:space="preserve">
&lt;p&gt;Nepopírám, že CoffeeScript má některé featury, které jsou zajímavé.
Pro mně je však nepřehledný. &lt;a
href="http://estejs.tumblr.com/post/29175863516/why-coffeescript"&gt;Dan ve svém
blogu píše&lt;/a&gt; pár důvodů, proč CoffeeScript ano:&lt;/p&gt;

&lt;blockquote&gt;
	&lt;dl&gt;
		&lt;dt&gt;My arguments for CoffeeScript&lt;/dt&gt;

		&lt;dd&gt;reduction of noise in code, indenting is enough, we don’t need (), {}
		and ;&lt;/dd&gt;

		&lt;dd&gt;enforces consistent code style&lt;/dd&gt;

		&lt;dd&gt;beautiful class definition&lt;/dd&gt;

		&lt;dd&gt;less typing = less typos&lt;/dd&gt;

		&lt;dd&gt;+zilion little big details&lt;/dd&gt;
	&lt;/dl&gt;
&lt;/blockquote&gt;

&lt;p&gt;Zajímavé. Tohle jsou vlastně moje body, proč CoffeeScript ne. :)&lt;/p&gt;

&lt;h3 id="toc-1-redukce-sumu"&gt;1. Redukce šumu&lt;/h3&gt;

&lt;p&gt;Šum považuju za špatný, ovšem. C-like jazyky jsou plné šumu, který
CoffeeScript zdánlivě odstraňuje. Jenže zdání klame. CoffeeScrit je plný
„bílého šumu“, který je stejně špatný jako každý jiný šum. Náš
mozek je z mnoha hodin matematiky zvyklý na matematická znaménka, dokáže
s nimi pracovat mnohem lépe než se slovy. Správně vložená
závorka/operátor je dobro.&lt;/p&gt;

&lt;h3 id="toc-2-jednotny-styl"&gt;2. Jednotný styl&lt;/h3&gt;

&lt;p&gt;Někdo preferuje potlačení idividualit, preferuje uniformitu, jiný nikoli.
Jenže ani v případě CoffeeScriptu není konzistence nikterak závratná.
Tam, kde skončili náboženské boje o závorky, tam nastoupili boje
o odsazování. Někdo preferuje taby, jiný mezery. Další sází kód do
tabulkového layoutu. Stejnej shit.&lt;/p&gt;

&lt;h3 id="toc-3-definice-tridy"&gt;3. Definice třídy&lt;/h3&gt;

&lt;p&gt;Třídy v JavaScriptu nejsou! Je to prototypový jazyk. Tak to kurva už
přijměte. ;) Pokud ale fakt třídy nutně potřebujete, použijte &lt;a
href="http://code.google.com/p/traceur-compiler/"&gt;Traceur&lt;/a&gt;, což je
překladač z ECMAScriptu 6. BTW &lt;a
href="http://blog.jetbrains.com/webide/2012/04/webstorm-4-0-in-harmony-with-ecmascript/"&gt;Webstorm
ho má&lt;/a&gt; od verze 4 integrovaný.&lt;/p&gt;

&lt;h3 id="toc-4-mene-psani"&gt;4. Méně psaní&lt;/h3&gt;

&lt;p&gt;No, vsadim se, že s CodeRushem a Intellisense toho napíšu mnohem mnohem
míň a s menší chybovostí než v CoffeeScriptu. (Platí jak pro C# tak pro
JavaScript. Ostatně asi i pro WebStorm. :))&lt;/p&gt;

&lt;h3 id="toc-5-a-ty-detaily"&gt;5. A ty detaily&lt;/h3&gt;

&lt;p&gt;Jak se říká tisíckrát nic umořilo vola. Jak byl Dan z počátku ke
CoffeeScriptu skeptický, mně celkem nadchl. Naopak, jak jsem postupně viděl
spoustu drobných detailů, ztratil u mně zájem a podporu. Což je celkem
zajímavý, protože něco podobnýho &lt;a
href="http://rarous.net/weblog/396-muj-pohled-na-fsharp-se-meni.aspx"&gt;už jsem
před tím taky zažil, ale obráceně…&lt;/a&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Nepopírám, že CoffeeScript má některé featury, které jsou zajímavé. Pro mně je však nepřehledný. "Dan ve svém blogu píše":[http://estejs.tumblr.com/post/29175863516/why-coffeescript] pár důvodů, proč CoffeeScript ano:

&gt; My arguments for CoffeeScript:
&gt;  * reduction of noise in code, indenting is enough, we don’t need (), {} and ;
&gt;  * enforces consistent code style
&gt;  * beautiful class definition
&gt;  * less typing = less typos
&gt;  * +zilion little big details

Zajímavé. Tohle jsou vlastně moje body, proč CoffeeScript ne. :)

1. Redukce šumu
============

Šum považuju za špatný, ovšem. C-like jazyky jsou plné šumu, který CoffeeScript zdánlivě odstraňuje. Jenže zdání klame. CoffeeScrit je plný "bílého šumu", který je stejně špatný jako každý jiný šum. Náš mozek je z mnoha hodin matematiky zvyklý na matematická znaménka, dokáže s nimi pracovat mnohem lépe než se slovy. Správně vložená závorka/operátor je dobro.

2. Jednotný styl
===========

Někdo preferuje potlačení idividualit, preferuje uniformitu, jiný nikoli. Jenže ani v případě CoffeeScriptu není konzistence nikterak závratná. Tam, kde skončili náboženské boje o závorky, tam nastoupili boje o odsazování. Někdo preferuje taby, jiný mezery. Další sází kód do tabulkového layoutu. Stejnej shit.

3. Definice třídy
============

Třídy v JavaScriptu nejsou! Je to prototypový jazyk. Tak to kurva už přijměte. ;) Pokud ale fakt třídy nutně potřebujete, použijte Traceur:[http://code.google.com/p/traceur-compiler/], což je překladač z ECMAScriptu 6. BTW "Webstorm ho má":[http://blog.jetbrains.com/webide/2012/04/webstorm-4-0-in-harmony-with-ecmascript/] od verze 4 integrovaný.

4. Méně psaní
=========

No, vsadim se, že s CodeRushem a Intellisense toho napíšu mnohem mnohem míň a s menší chybovostí než v CoffeeScriptu. (Platí jak pro C# tak pro JavaScript. Ostatně asi i pro WebStorm. :))

5. A ty detaily
=========

Jak se říká tisíckrát nic umořilo vola. Jak byl Dan z počátku ke CoffeeScriptu skeptický, mně celkem nadchl. Naopak, jak jsem postupně viděl spoustu drobných detailů, ztratil u mně zájem a podporu. Což je celkem zajímavý, protože něco podobnýho "už jsem před tím taky zažil, ale obráceně...":[http://rarous.net/weblog/396-muj-pohled-na-fsharp-se-meni.aspx]</raw>
    <author>Aleš Roubíček</author>
    <published>2012-08-11T09:26:11.903</published>
    <url>proc-nemam-rad-coffeescript</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2012-08-11T09:39:02.690</edited>
  </article>
  <article>
    <id>424</id>
    <title>Vlastní transformace konfiguračních souborů</title>
    <description>Jedna z pozitivních věcí, se kterou přišel publikační nástroj ve VS 2010, byla automatizovaná transformace web.configu podle zvolené build konfigurace.</description>
    <html xml:space="preserve">
&lt;p&gt;Jedna z pozitivních věcí, se kterou přišel publikační nástroj ve VS
2010, byla automatizovaná transformace &lt;code&gt;web.config&lt;/code&gt;u podle zvolené
build konfigurace. Od začátku jsem ji úspěšně používal, jak na Tropu,
tak později i na Webmiu, při automatizovaném deploymentu do
dev/staging/pro­duction prostředí. Používal jsem k tomu &lt;a
href="https://github.com/rarous/WebTools/blob/master/Deployment.ps1"&gt;jednoduchý
PowerShell&lt;/a&gt; script, který vyčistí projekt, sbuildí ho ve vybrané
konfiguraci, včetně transformace web.configu, vytvoří MsDeploy balíček a
pošle ho na cílový server. Je pravda, že pro Azure se používá jiný
balíčkovací systém, ale princip je stejný.&lt;/p&gt;

&lt;p&gt;Tohle všechno je super, pokud máte jednu nebo málo cílových instancí.
Pokud máme víc produkčních deloyovacích konfigurací, je zbytečné
vytvářet pro každou i build konfiguraci, která může být pro všechny
stejná. A tím se pomalu dostáváme k potřebě oddělit transformace
konfiguračního souboru od build konfigurací.&lt;/p&gt;

&lt;h3 id="toc-transformace"&gt;Transformace&lt;/h3&gt;

&lt;p&gt;Transformace konfiguračního souboru jsou zdánlivě zapečené do webového
projektu. Dokonce jsem do některých konzolovek linkoval
&lt;code&gt;WebApplication.target&lt;/code&gt;, abych mohl transformovat i
&lt;code&gt;app.config&lt;/code&gt;. Přitom je to samostatný MsBuild task:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;UsingTask TaskName="TransformXml"
    AssemblyFile="$(MSBuildExtensionsPath)\Microsoft\VisualStudio\v10.0\Web\Microsoft.Web.Publishing.Tasks.dll"/&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Ovšem, psát build script v XML, je tak neproduktivní a nehodné
21. století. Vytvoříme si jen jednoduchý znovupoužitelný wrapper, který
budeme volat z &lt;a href="https://github.com/psake/psake"&gt;psake&lt;/a&gt; nebo jiného
vhodnějšího buildovacího DSL.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;Project ToolsVersion="4.0" DefaultTargets="Transform" xmlns="http://schemas.microsoft.com/developer/msbuild/2003"&amp;gt;
    &amp;lt;UsingTask TaskName="TransformXml" AssemblyFile="$(MSBuildExtensionsPath)\Microsoft\VisualStudio\v10.0\Web\Microsoft.Web.Publishing.Tasks.dll"/&amp;gt;
    &amp;lt;Target Name="Transform"&amp;gt;
        &amp;lt;TransformXml Source="$(Source)" Transform="$(Transform)" Destination="$(Destination)" /&amp;gt;
    &amp;lt;/Target&amp;gt;
&amp;lt;/Project&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Pak už si jen připravíme pomocnou funkci, která nám tenhle scrtipt
zavolá a můžeme jet:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-powershell"&gt;function Transform-Config {
    param([string] $source, [string] $transform, [string] $destination = '')
    if (-not $destination) { $destination = $source; }
    Exec { MsBuild TransformHelper.build /p:Source=$source /p:Transform=$transform /p:Destination=$destination.tmp }
    Remove-Item $destination -force
    Rename-Item "$destination.tmp" $destination -force
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Parametr &lt;code&gt;$destination&lt;/code&gt; je volitelný, pokud není zadaný
přepíše se zdrojový soubor.&lt;/p&gt;

&lt;h3 id="toc-pouziti-v-praxi"&gt;Použití v praxi&lt;/h3&gt;

&lt;p&gt;Ve výsledku tohle používám pro transformace configu pro různé instance.
V aplikaci mám složku &lt;code&gt;Configurations&lt;/code&gt; kde jsou jednotlivé
transformace &lt;code&gt;web.instance.config&lt;/code&gt;, kde instance je proměnná. Pokud
potřebuju rychle přepnout na jinou instance napíšu do konzoly:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-powershell"&gt;.\psake.ps1 TransformConfig –properties @{ instance = 'instance' }&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;A mám switchnuto. &lt;code&gt;TransformConfig&lt;/code&gt; je task v psake scriptu,
který volá výše vytvořenou funkci. Při balíčkování se dá využít
běžných transformací jako &lt;code&gt;Web.Release.config&lt;/code&gt;, který nastaví
konfiguraci pro běh v ostrém prostředí v kombinaci s vlastními
transformacemi pro různé instance. Mám tak oddělená nastavení specifická
pro prostředí od těch, která specifikují konfiguraci instance.&lt;/p&gt;

&lt;p&gt;Samozřejmě se to dá využít i na &lt;code&gt;app.config&lt;/code&gt; nebo jakékoli
jiné XML. To už záleží jen na vaší představivosti. :)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Jedna z pozitivních věcí, se kterou přišel publikační nástroj ve VS 2010, byla automatizovaná transformace `web.config`u podle zvolené build konfigurace. Od začátku jsem ji úspěšně používal, jak na Tropu, tak později i na Webmiu, při automatizovaném deploymentu do dev/staging/production prostředí. Používal jsem k tomu "jednoduchý PowerShell":[ https://github.com/rarous/WebTools/blob/master/Deployment.ps1] script, který vyčistí projekt, sbuildí ho ve vybrané konfiguraci, včetně transformace web.configu, vytvoří MsDeploy balíček a pošle ho na cílový server. Je pravda, že pro Azure se používá jiný balíčkovací systém, ale princip je stejný.

Tohle všechno je super, pokud máte jednu nebo málo cílových instancí. Pokud máme víc produkčních deloyovacích konfigurací, je zbytečné vytvářet pro každou i build konfiguraci, která může být pro všechny stejná. A tím se pomalu dostáváme k potřebě oddělit transformace konfiguračního souboru od build konfigurací.

Transformace
============
Transformace konfiguračního souboru jsou zdánlivě zapečené do webového projektu. Dokonce jsem do některých konzolovek linkoval `WebApplication.target`, abych mohl transformovat i `app.config`. Přitom je to samostatný MsBuild task:

/--code xml
&lt;UsingTask TaskName="TransformXml"
    AssemblyFile="$(MSBuildExtensionsPath)\Microsoft\VisualStudio\v10.0\Web\Microsoft.Web.Publishing.Tasks.dll"/&gt;
\--code

Ovšem, psát build script v XML, je tak neproduktivní a nehodné 21. století. Vytvoříme si jen jednoduchý znovupoužitelný wrapper, který budeme volat z psake:[https://github.com/psake/psake] nebo jiného vhodnějšího buildovacího DSL.

/--code xml
&lt;Project ToolsVersion="4.0" DefaultTargets="Transform" xmlns="http://schemas.microsoft.com/developer/msbuild/2003"&gt;
    &lt;UsingTask TaskName="TransformXml" AssemblyFile="$(MSBuildExtensionsPath)\Microsoft\VisualStudio\v10.0\Web\Microsoft.Web.Publishing.Tasks.dll"/&gt;
    &lt;Target Name="Transform"&gt;
        &lt;TransformXml Source="$(Source)" Transform="$(Transform)" Destination="$(Destination)" /&gt;
    &lt;/Target&gt;
&lt;/Project&gt;
\--code

Pak už si jen připravíme pomocnou funkci, která nám tenhle scrtipt zavolá a můžeme jet:

/--code powershell
function Transform-Config {
    param([string] $source, [string] $transform, [string] $destination = '')
    if (-not $destination) { $destination = $source; }
    Exec { MsBuild TransformHelper.build /p:Source=$source /p:Transform=$transform /p:Destination=$destination.tmp }
    Remove-Item $destination -force
    Rename-Item "$destination.tmp" $destination -force
}
\--code

Parametr `$destination` je volitelný, pokud není zadaný přepíše se zdrojový soubor.

Použití v praxi
===============
Ve výsledku tohle používám pro transformace configu pro různé instance. V aplikaci mám složku `Configurations` kde jsou jednotlivé transformace `web.instance.config`, kde instance je proměnná. Pokud potřebuju rychle přepnout na jinou instance napíšu do konzoly:

/--code powershell
.\psake.ps1 TransformConfig –properties @{ instance = 'instance' }
\--code

A mám switchnuto. `TransformConfig` je task v psake scriptu, který volá výše vytvořenou funkci. Při balíčkování se dá využít běžných transformací jako `Web.Release.config`, který nastaví konfiguraci pro běh v ostrém prostředí v kombinaci s vlastními transformacemi pro různé instance. Mám tak oddělená nastavení specifická pro prostředí od těch, která specifikují konfiguraci instance.

Samozřejmě se to dá využít i na `app.config` nebo jakékoli jiné XML. To už záleží jen na vaší představivosti. :)</raw>
    <author>Aleš Roubíček</author>
    <published>2012-08-17T11:29:28.133</published>
    <url>vlastni-transformace-konfiguracnich-souboru</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>psake</tags>
    <is-published>1</is-published>
    <edited>2012-08-17T14:42:15.563</edited>
  </article>
  <article>
    <id>425</id>
    <title>Testy konvencí s xUnit.net</title>
    <description>V každé dobře navržené aplikaci by se měly dodržovat nějaké konvence, které nám umožní psát flexibilní a dopředně kompatibilní kód, který není třeba často měnit.;</description>
    <html xml:space="preserve">
&lt;p&gt;V každé dobře navržené aplikaci by se měly dodržovat nějaké
konvence, které nám umožní psát flexibilní a dopředně kompatibilní
kód, který není třeba často měnit. Je vhodné mít tyto konvence někde
zdokumentované. Nejlépe pak formou spustitelných tes­tů.&lt;/p&gt;

&lt;h3 id="toc-ukazka-z-praxe"&gt;Ukázka z praxe&lt;/h3&gt;

&lt;p&gt;Zrovna teď řešim messaging za pomocí Rhino.ESB a narazil jsem na
potřebu, aby všechny zprávy měly bezparametrický konstruktor a stejně tak
i jejich vlastnosti. Jal jsem se psát test a vypadlo mi něco takového:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;[Fact]
public void MessagesShouldHaveParameterlessContructor()
{
    var asm = typeof(Message).Assembly;
    var query = from type in asm.GetTypes()
                where type.Namespace == typeof(Message).Namespace
                select type;

    Assert.True(query.All(HasDefaultConstructor));
}

static bool HasDefaultConstructor(Type type)
{
    return type.GetConstructor(Type.EmptyTypes) != null;
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Super, projdu všechny typy z namespace, kde sídlí zprávy, a zjistím,
jestli mají bezparametrický konstruktor. Pokud to všechny zprávy splňují,
není problém. Jenže, když jedna tuto konvenci nesplní, jak ji rychle
najít? Můžeme přidat nějaký druh výpisu na konzoli, jakou zprávu zrovna
testujeme, ale to už porušujeme hned několik doporučení, jak psát &lt;acronym
title="Readable, Trust-worthy, Maintainable"&gt;RTM&lt;/acronym&gt; testy.&lt;/p&gt;

&lt;p&gt;Lepším řešením je využít toho, co nám nabízí framework. Nejde
o nic jiného než data driven test. Na to má xUnit.net &lt;code&gt;Theory&lt;/code&gt;.
Uděláme lehký refactoring a z jednoho ne moc říkajícího testu uděláme
serii kokrétních testů, kde hezky uvidíme, které zprávy byly
testovány:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public static IEnumerable&amp;lt;object[]&amp;gt; MessageTypes
{
    get
    {
        var asm = typeof(Message).Assembly;
        var query = from type in asm.GetTypes()
                    where type.Namespace == typeof(Message).Namespace
                    select new object[] { type };
        return query;
    }
}

[Theory]
[PropertyData("MessageTypes")]
public void MessagesShouldHaveParameterlessContructor(Type type)
{
    Assert.True(HasDefaultConstructor(type));
}

static bool HasDefaultConstructor(Type type)
{
    return type.GetConstructor(Type.EmptyTypes) != null;
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Vidíte, ani to moc nebolelo a máme future-proof testy, které nám
ohlídají potřeby frameworků a zároveň mají velkou vypovídací hodnotu.
Když se podívám na výsledek testů, tak hned vidím, která třída konvenci
nedodržuje.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">V každé dobře navržené aplikaci by se měly dodržovat nějaké konvence, které nám umožní psát flexibilní a dopředně kompatibilní kód, který není třeba často měnit. Je vhodné mít tyto konvence někde zdokumentované. Nejlépe pak formou spustitelných testů.

Ukázka z praxe
==============

Zrovna teď řešim messaging za pomocí Rhino.ESB  a narazil jsem na potřebu, aby všechny zprávy měly bezparametrický konstruktor a stejně tak i jejich vlastnosti. Jal jsem se psát test a vypadlo mi něco takového:

/--code csharp
[Fact]
public void MessagesShouldHaveParameterlessContructor()
{
    var asm = typeof(Message).Assembly;
    var query = from type in asm.GetTypes()
                where type.Namespace == typeof(Message).Namespace
                select type;

    Assert.True(query.All(HasDefaultConstructor));
}

static bool HasDefaultConstructor(Type type)
{
    return type.GetConstructor(Type.EmptyTypes) != null;
}
\--code

Super, projdu všechny typy z namespace, kde sídlí zprávy, a zjistím, jestli mají bezparametrický konstruktor. Pokud to všechny zprávy splňují, není problém. Jenže, když jedna tuto konvenci nesplní, jak ji rychle najít? Můžeme přidat nějaký druh výpisu na konzoli, jakou zprávu zrovna testujeme, ale to už porušujeme hned několik doporučení, jak psát RTM((Readable, Trust-worthy, Maintainable)) testy.

Lepším řešením je využít toho, co nám nabízí framework. Nejde o nic jiného než data driven test. Na to má xUnit.net `Theory`. Uděláme lehký refactoring a z jednoho ne moc říkajícího testu uděláme serii kokrétních testů, kde hezky uvidíme, které zprávy byly testovány:

/--code csharp
public static IEnumerable&lt;object[]&gt; MessageTypes
{
    get
    {
        var asm = typeof(Message).Assembly;
        var query = from type in asm.GetTypes()
                    where type.Namespace == typeof(Message).Namespace
                    select new object[] { type };
        return query;
    }
}

[Theory]
[PropertyData("MessageTypes")]
public void MessagesShouldHaveParameterlessContructor(Type type)
{
    Assert.True(HasDefaultConstructor(type));
}

static bool HasDefaultConstructor(Type type)
{
    return type.GetConstructor(Type.EmptyTypes) != null;
}
\--code

Vidíte, ani to moc nebolelo a máme future-proof testy, které nám ohlídají potřeby frameworků a zároveň mají velkou vypovídací hodnotu. Když se podívám na výsledek testů, tak hned vidím, která třída konvenci nedodržuje.
</raw>
    <author>Aleš Roubíček</author>
    <published>2012-08-23T11:21:12.133</published>
    <url>testy-konvenci-s-xunit-net</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>xunit</tags>
    <is-published>1</is-published>
    <edited>2012-08-23T11:26:43.183</edited>
  </article>
  <article>
    <id>426</id>
    <title>Pár slintů o Windows Phone 7</title>
    <description>Pořád vídám nářky na WP7, jak si ho někdo nemůže customizovat, vrtat se v tom, neběží mu 5 aplikací najednou, 20 widgetů na home screenu. Jak je nudný a uzavřený. </description>
    <html xml:space="preserve">
&lt;p&gt;Pořád vídám nářky na WP7, jak si ho někdo nemůže customizovat, vrtat
se v tom, neběží mu 5 aplikací najednou, 20 widgetů na home screenu. Jak
je nudný a uzavřený.&lt;/p&gt;

&lt;p&gt;Úplně celý já, proto mi vyhovuje. Nechci se v tom vrtat, nechci, aby
telefon neustále vyžadoval/strhával mou pozornost. Nepotřebuju hromadu
zbytečných aplikací. Ty důležité tam jsou a stejně je používám jen
občas, když je potřebuju.&lt;/p&gt;

&lt;p&gt;Pro mně je důležitý, aby to dobře hrálo MP3, podporovalo playlisty a
SmartDJ taky není k zahození. Posílat fotky přímo na FB a vidět fotky
ostatních přímo na dlaždicích je fajn. Stejně tak změny statusů. &lt;em&gt;Put
people in front&lt;/em&gt; je způsob jakým mám customizovanej telefon. A to mi
žádná jiná platforma nejen nenabízí, ale ani neumožňuje.&lt;/p&gt;

&lt;p&gt;To, že moje Omnie 7 nepůjde upgradovat na WP8. No a co? Ten telefon je dva
roky starej, 8GB storage mi už stejně nestačí, takže budu upgradovat tak
jako tak (ale ne kvůli SW). Když jsem si ji kupoval, netušil, jsem, že už
nevytáhnu foťák, tak se něco lepšího bude hodit…&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Pořád vídám nářky na WP7, jak si ho někdo nemůže customizovat, vrtat se v tom, neběží mu 5 aplikací najednou, 20 widgetů na home screenu. Jak je nudný a uzavřený.

Úplně celý já, proto mi vyhovuje. Nechci se v tom vrtat, nechci, aby telefon neustále vyžadoval/strhával mou pozornost. Nepotřebuju hromadu zbytečných aplikací. Ty důležité tam jsou a stejně je používám jen občas, když je potřebuju.

Pro mně je důležitý, aby to dobře hrálo MP3, podporovalo playlisty a SmartDJ taky není k zahození. Posílat fotky přímo na FB a vidět fotky ostatních přímo na dlaždicích je fajn. Stejně tak změny statusů. *Put people in front* je způsob jakým mám customizovanej telefon. A to mi žádná jiná platforma nejen nenabízí, ale ani neumožňuje.

To, že moje Omnie 7 nepůjde upgradovat na WP8. No a co? Ten telefon je dva roky starej, 8GB storage mi už stejně nestačí, takže budu upgradovat tak jako tak (ale ne kvůli SW). Když jsem si ji kupoval, netušil, jsem, že už nevytáhnu foťák, tak se něco lepšího bude hodit...</raw>
    <author>Aleš Roubíček</author>
    <published>2012-08-30T10:26:13.693</published>
    <url>par-slintu-o-windows-phone-7</url>
    <category>Jen tak</category>
    <keywords></keywords>
    <tags>wp7</tags>
    <is-published>1</is-published>
    <edited>2012-08-30T10:26:13.720</edited>
  </article>
  <article>
    <id>427</id>
    <title>Deploytime feature toggles</title>
    <description>Často se při vývoji setkáme s potřebou některé featury zapínat a vypínat dle potřeby. Malá ukázka, jak to vypínat featury při deployi.</description>
    <html xml:space="preserve">
&lt;p&gt;Často se při vývoji setkáme s potřebou některé featury zapínat a
vypínat dle potřeby. Pokud děláme službu, tak se jistě hodí zainvestovat
do systému &lt;a
href="http://rarous.net/weblog/404-prepinani-featur-a-vetveni-abstrakci.aspx"&gt;feature
toggles&lt;/a&gt;, které jde zapínat/vypínat on-line nejlépe z administrativního
rozhraní.&lt;/p&gt;

&lt;p&gt;Možnost výběru omezeného okruhu uživatelů a nebo vzorků podle
nějakého kritéria jistě také není na škodu. Dá se tak dělat postupný
deployment a featuru testovat na omezeném vzorku uživatelů, ale taky se to
může hodit při A/B testování. Možnost z produkce stáhnout
nefunkční/spadlou featuru bez nutného redeploye také ocení asi každý.
Feature toggles jsou dobro. :)&lt;/p&gt;

&lt;p&gt;Ale co my, co zrovna neděláme služby a deployujeme k různým
zákazníkům, různé featury, nás se to netýká? Ale ano. Koukneme se na
jednu z možných technik deploytime feature toggles.&lt;/p&gt;

&lt;p&gt;Deploytime feature toggles jsou méně flexibilní, každá změna vyžaduje
redeploy aplikace. Na druhou stranu nás můžou ochránit před nechtěným
užíváním featur, které zákazník nemá zakoupené a náhodou objevil, jak
se k nim dostat. Jak tedy na to?&lt;/p&gt;

&lt;h3 id="toc-msdeploy"&gt;MSDeploy&lt;/h3&gt;

&lt;p&gt;Začnu předpokladem, že deployment neděláte ručně přes FTP (SSH,
VPN/RD) nebo E-mail. Teď neposlouchám…&lt;/p&gt;

&lt;p&gt;Ok. :) Dobře takže každý používá nějakou automatizaci deploye,
nejlépe tu, kterou mu poskytuje jeho platforma. Ve Visual Studiu/IIS7 je
nástroj zvaný MsDeploy, který slouží nejen k balíčkování, konfiguraci
a deploymentu na webový server. Umí toho celkem dost, ale nám bude zatím
stačit schopnost vytvářet deployovací balíčky. Je to taková ta funkce,
která se skrývá v kontextové nabídce webového projektu pod názvem
&lt;code&gt;Build Deployment Package&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id="toc-feature-toggles"&gt;Feature Toggles&lt;/h3&gt;

&lt;p&gt;Pro deploytime feature toggles nebudeme vymýšlet nějaké složitosti a
využijeme to, co nám platforma nabízí. Využijeme integraci s MsBuildem.
Já vím, psát deployovací scripty v XML je špatné, ale tohle je tak
snadné, že to snad zvládne každý. Jdeme trošku pod povrch, takže
zamávejte dialogům a GUI a zapněte si svůj oblíbený XML editor a otevřete
si projektový soubor webového projektu (nebo prostě dejte &lt;code&gt;Unload
Project&lt;/code&gt; a pak &lt;code&gt;Edit *FooBar*.csproj&lt;/code&gt; přes kontextovou
nabídku nad projektem). Taky vám začalo být srdce rychleji? :)&lt;/p&gt;

&lt;p&gt;Dalším předpokladem je, že vývojová verze obsahuje všechny featury a
toggles slouží jen k odebírání. Proto si nadefinujeme vlastnosti, které
budou sloužit jako příznak pro odebrání featury.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;PropertyGroup&amp;gt;
  &amp;lt;RemoveFoo Condition=" '$(RemoveFoo)'=='' "&amp;gt;false&amp;lt;/RemoveFoo&amp;gt;
  &amp;lt;RemoveBar Condition=" '$(RemoveBar)'=='' "&amp;gt;false&amp;lt;/RemoveBar&amp;gt;
&amp;lt;/PropertyGroup&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;V aplikaci máme dvě featury &lt;code&gt;Foo&lt;/code&gt; a &lt;code&gt;Bar&lt;/code&gt;.
&lt;strong&gt;Foo&lt;/strong&gt; je featura, která je třeba jednou ASPX stránkou.
&lt;strong&gt;Bar&lt;/strong&gt; je pro změnu složena z controlleru a sady
jeho views.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;PropertyGroup&amp;gt;
  &amp;lt;ExcludeFilesFromDeployment Condition=" '$(RemoveFoo)' == 'true' "&amp;gt;
      $(ExcludeFilesFromDeployment);Foo.aspx&amp;lt;/ExcludeFilesFromDeployment&amp;gt;
  &amp;lt;ExcludeFoldersFromDeployment Condition=" '$(RemoveBar)' == 'true' "&amp;gt;
      $(ExcludeFoldersFromDeployment);Views\Bar&amp;lt;/ExcludeFoldersFromDeployment&amp;gt;
&amp;lt;/PropertyGroup&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;ExcludeFilesFromDeployment&lt;/code&gt; a
&lt;code&gt;ExcludeFoldersFromDeployment&lt;/code&gt; jsou extension pointy pro
balíčkovací target, kde můžete říct, co nemá být součástí
výsledného balíčku. Můžete tak odebírat nejen stránky, ale i styly,
scripty, assemblies… Prostě, co zrovna nepotřebujete. V ukázce používám
&lt;code&gt;Conditional&lt;/code&gt; atribut, kde se ptáme na hodnotu vlastností
definovaných výše. Navíc, díky zanořené referenci
&lt;code&gt;$(ExcludeFilesFromDeployment);&lt;/code&gt; můžete mít takových toggles
kolik potřebujete a hezky se poskládají podle konfigurace.&lt;/p&gt;

&lt;p&gt;Dost bylo hrabání se v XML a přejděme k té hezčí práci. :)
K příkazové řádce.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;msbuild FooBar.csproj /t:Package /p:RemoveFoo=true&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Vypínání jednotlivých featur v balíčku řídíme pomocí parametrů
MsBuildu, zde konkrétně máme vypnutou featuru &lt;em&gt;Foo&lt;/em&gt;. S příchodem
deployovacích profilů ve VS 2012, to možná půjde udělat ještě líp, ale
to jsem zatím nezkoumal.&lt;/p&gt;

&lt;h3 id="toc-zaver"&gt;Závěr&lt;/h3&gt;

&lt;p&gt;Tohle samozřejmě funguje jen na fyzické odebírání featur z aplikace.
Pokud potřebujete i logické odebírání, můžete k tomu využít třeba &lt;a
href="http://rarous.net/weblog/424-vlastni-transformace-konfiguracnich-souboru.aspx"&gt;vlastní
transformace konfigurace&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Příjemné deployování!&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Často se při vývoji setkáme s potřebou některé featury zapínat a vypínat dle potřeby. Pokud děláme službu, tak se jistě hodí zainvestovat do systému "feature toggles":[http://rarous.net/weblog/404-prepinani-featur-a-vetveni-abstrakci.aspx], které jde zapínat/vypínat on-line nejlépe z administrativního rozhraní.

Možnost výběru omezeného okruhu uživatelů a nebo vzorků  podle nějakého kritéria jistě také není na škodu. Dá se tak dělat postupný deployment a featuru testovat na omezeném vzorku uživatelů, ale taky se to může hodit při A/B testování. Možnost z produkce stáhnout nefunkční/spadlou featuru bez nutného redeploye také ocení asi každý. Feature toggles jsou dobro. :)

Ale co my, co zrovna neděláme služby a deployujeme k různým zákazníkům, různé featury, nás se to netýká? Ale ano. Koukneme se na jednu z možných technik deploytime feature toggles.

Deploytime feature toggles jsou méně flexibilní, každá změna vyžaduje redeploy aplikace. Na druhou stranu nás můžou ochránit před nechtěným užíváním featur, které zákazník nemá zakoupené a náhodou objevil, jak se k nim dostat. Jak tedy na to?

MSDeploy
========

Začnu předpokladem, že deployment neděláte ručně přes FTP (SSH, VPN/RD) nebo E-mail. Teď neposlouchám...

Ok. :) Dobře takže každý používá nějakou automatizaci deploye, nejlépe tu, kterou mu poskytuje jeho platforma. Ve Visual Studiu/IIS7 je nástroj zvaný MsDeploy, který slouží nejen k balíčkování, konfiguraci a deploymentu na webový server. Umí toho celkem dost, ale nám bude zatím stačit schopnost vytvářet deployovací balíčky. Je to taková ta funkce, která se skrývá v kontextové nabídce webového projektu pod názvem `Build Deployment Package`.

Feature Toggles
===============

Pro deploytime feature toggles nebudeme vymýšlet nějaké složitosti a využijeme to, co nám platforma nabízí. Využijeme integraci s MsBuildem. Já vím, psát deployovací scripty v XML je špatné, ale tohle je tak snadné, že to snad zvládne každý. Jdeme trošku pod povrch, takže zamávejte dialogům a GUI a zapněte si svůj oblíbený XML editor a otevřete si projektový soubor webového projektu (nebo prostě dejte `Unload Project` a pak `Edit *FooBar*.csproj` přes kontextovou nabídku nad projektem). Taky vám začalo být srdce rychleji? :)

Dalším předpokladem je, že vývojová verze obsahuje všechny featury a toggles slouží jen k odebírání. Proto si nadefinujeme vlastnosti, které budou sloužit jako příznak pro odebrání featury.

/--code xml
&lt;PropertyGroup&gt;
  &lt;RemoveFoo Condition=" '$(RemoveFoo)'=='' "&gt;false&lt;/RemoveFoo&gt;
  &lt;RemoveBar Condition=" '$(RemoveBar)'=='' "&gt;false&lt;/RemoveBar&gt;
&lt;/PropertyGroup&gt;
\--code

V aplikaci máme dvě featury `Foo` a `Bar`. **Foo** je featura, která je třeba jednou ASPX stránkou. **Bar** je pro změnu složena z controlleru a sady jeho views.

/--code xml
&lt;PropertyGroup&gt;
  &lt;ExcludeFilesFromDeployment Condition=" '$(RemoveFoo)' == 'true' "&gt;
      $(ExcludeFilesFromDeployment);Foo.aspx&lt;/ExcludeFilesFromDeployment&gt;
  &lt;ExcludeFoldersFromDeployment Condition=" '$(RemoveBar)' == 'true' "&gt;
      $(ExcludeFoldersFromDeployment);Views\Bar&lt;/ExcludeFoldersFromDeployment&gt;
&lt;/PropertyGroup&gt;
\--code

`ExcludeFilesFromDeployment` a `ExcludeFoldersFromDeployment` jsou extension pointy pro balíčkovací target, kde můžete říct, co nemá být součástí výsledného balíčku. Můžete tak odebírat nejen stránky, ale i styly, scripty, assemblies... Prostě, co zrovna nepotřebujete. V ukázce používám `Conditional` atribut, kde se ptáme na hodnotu vlastností definovaných výše. Navíc, díky zanořené referenci `$(ExcludeFilesFromDeployment);` můžete mít takových toggles kolik potřebujete a hezky se poskládají podle konfigurace.

Dost bylo hrabání se v XML a přejděme k té hezčí práci. :) K příkazové řádce.

/--code
msbuild FooBar.csproj /t:Package /p:RemoveFoo=true
\--code

Vypínání jednotlivých featur v balíčku řídíme pomocí parametrů MsBuildu, zde konkrétně máme vypnutou featuru *Foo*. S příchodem deployovacích profilů ve VS 2012, to možná půjde udělat ještě líp, ale to jsem zatím nezkoumal.

Závěr
=====

Tohle samozřejmě funguje jen na fyzické odebírání featur z aplikace. Pokud potřebujete i logické odebírání, můžete k tomu využít třeba "vlastní transformace konfigurace":[http://rarous.net/weblog/424-vlastni-transformace-konfiguracnich-souboru.aspx].

Příjemné deployování!</raw>
    <author>Aleš Roubíček</author>
    <published>2012-08-30T12:38:43.723</published>
    <url>deploytime-feature-toggles</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>deployment</tags>
    <is-published>1</is-published>
    <edited>2012-08-31T09:33:04.960</edited>
  </article>
  <article>
    <id>428</id>
    <title>Inversion of Control</title>
    <description>Zapomeňte na Dependency injection, osvoboďte svou mysl od nepodstatných detailů a ochutnejte nirvánu v podobě IoC.</description>
    <html xml:space="preserve">
&lt;p&gt;Inversion of Control je princip, který při psaní svých softwérů
uplatňuji zhruba 5 let. Nikdy o něm nějak do hloubky neuvažuju, prostě je
to způsob jakým software píšu. Nepotřebuju nikoho přesvědčovat, že
zrovna ten můj způsob je nejlepší. Poznají to sami. :) Na začátku jsem
pouze potřeboval opustit svou komfotní zónu a přestat být
control freak.&lt;/p&gt;

&lt;p&gt;Je úžasný, že umíte injektovat závislosti, ale k čemu je vám to
dobrý, když netušíte, k čemu je vám to dobrý? ;) Když používáte DI,
říká vám něco vzor dekorátor, strategy nebo třeba adaptér? Jestli ne
nebo ano, ale nepoužíváte je, serte na DI. „Testovatelnost!“ říkáte?
Hmm, existují i jiné techniky a třeba vás ani nebudou tak bolet.&lt;/p&gt;

&lt;h3 id="toc-vitejte-ve-svete-za-zrcadlem"&gt;Vítejte ve světě za zrcadlem&lt;/h3&gt;

&lt;p&gt;Důležité je udělat ten první krok. Obrátit své myšlení naruby. Pak
přestat řešit detaily. Pro to, abych udělal tohle potřebuju něco, co umí
tohle a tohle. Jak to dělá? Koho to zajímá? Jak se to ke mně dostane? Koho
to zajímá? Je to opravdu důležité? Ne, neni. Důležité je, co dělá
váš kus kódu, jakou má business value. Čím víc se snaží menežovat,
místo aby něco dělal, tím horší ten kód je. To je fakt. Smiřte se
s tím.&lt;/p&gt;

&lt;p&gt;Moje práce spočívá v tom, že vytvářím různobarvené kousíčky
lega. Pak přiložím návod. Ne nějak přesný (zapomeňte na XML, NEON, YAML,
JSON a já nevím co ještě), jen řeknu, že červené dvouřadové lištičky
jsou támhle v té krabičce, popřípadě se některé můžou ještě válet
pod postelí. Nechme stroj ať nás překvapí. Stroj netrpí přehnanou
potřebou se kreativně vyjádřit a umí táhnout na branku. Většinou má
lepší výsledky než lidi.&lt;/p&gt;

&lt;p&gt;A když mu něco chybí, nebojí se ozvat, nesnaží se to nějak
zaplácnout něčím, co tam nepatří. Nebojí se ranit mé city a řekne,
„tohle jsi posral.“ Cajk. Můžeme jít dál. :) Abyste mohli dosáhnou
nirvány, potřebujete dobrý type systém, nebo Ruby. Všechno ostatní je jen
nepovedené napodobování, jak Dan rád říká &lt;em&gt;Cargo Cult&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Metafora s legem patří @renestein, já si jí jen drze
ukradl.&lt;/em&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Inversion of Control je princip, který při psaní svých softwérů uplatňuji zhruba 5 let. Nikdy o něm nějak do hloubky neuvažuju, prostě je to způsob jakým software píšu. Nepotřebuju nikoho přesvědčovat, že zrovna ten můj způsob je nejlepší. Poznají to sami. :) Na začátku jsem pouze potřeboval opustit svou komfotní zónu a přestat být control freak.

Je úžasný, že umíte injektovat závislosti, ale k čemu je vám to dobrý, když netušíte, k čemu je vám to dobrý? ;) Když používáte DI, říká vám něco vzor dekorátor, strategy nebo třeba adaptér? Jestli ne nebo ano, ale nepoužíváte je, serte na DI. "Testovatelnost!" říkáte? Hmm, existují i jiné techniky a třeba vás ani nebudou tak bolet.

Vítejte ve světě za zrcadlem
============================

Důležité je udělat ten první krok. Obrátit své myšlení naruby. Pak přestat řešit detaily. Pro to, abych udělal tohle potřebuju něco, co umí tohle a tohle. Jak to dělá? Koho to zajímá? Jak se to ke mně dostane? Koho to zajímá? Je to opravdu důležité? Ne, neni. Důležité je, co dělá váš kus kódu, jakou má business value. Čím víc se snaží menežovat, místo aby něco dělal, tím horší ten kód je. To je fakt. Smiřte se s tím.

Moje práce spočívá v tom, že vytvářím různobarvené kousíčky lega. Pak přiložím návod. Ne nějak přesný (zapomeňte na XML, NEON, YAML, JSON a já nevím co ještě), jen řeknu, že červené dvouřadové lištičky jsou támhle v té krabičce, popřípadě se některé můžou ještě válet pod postelí. Nechme stroj ať nás překvapí. Stroj netrpí přehnanou potřebou se kreativně vyjádřit a umí táhnout na branku. Většinou má lepší výsledky než lidi.

A když mu něco chybí, nebojí se ozvat, nesnaží se to nějak zaplácnout něčím, co tam nepatří. Nebojí se ranit mé city a řekne, "tohle jsi posral." Cajk. Můžeme jít dál. :) Abyste mohli dosáhnou nirvány, potřebujete dobrý type systém, nebo Ruby. Všechno ostatní je jen nepovedené napodobování, jak Dan rád říká *Cargo Cult*.

*Metafora s legem patří @renestein, já si jí jen drze ukradl.*</raw>
    <author>Aleš Roubíček</author>
    <published>2012-09-27T11:29:29.253</published>
    <url>inversion-of-control</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>ioc</tags>
    <is-published>1</is-published>
    <edited>2012-09-27T13:37:31.560</edited>
  </article>
  <article>
    <id>429</id>
    <title>Test Driven Development - příběh nezbedného vývojáře</title>
    <description>Uff to jsem se zas rozepsal. :)</description>
    <html xml:space="preserve">
&lt;p&gt;Lukáš napsal spot &lt;a
href="http://blog.krecan.net/2012/10/04/pokud-jde-kod-spatne-otestovat-je-spatne-navrzeny/"&gt;Pokud
jde kód špatně otestovat, je špatně navržený&lt;/a&gt;, který mě donutil se
zamyslet (&lt;a href="http://rarous.net/clanek/413-k-cemu-vlastne-tdd.aspx"&gt;občas
to dělám&lt;/a&gt;). Zmyslet se nad tím, proč je u nás málo článků o TDD.
Je to věc, která souvisí s přesvědčením. Obecně panuje přesvědčení,
že psaní testů je práce navíc, že to prodlužuje dobu dodání, že je to
peklo a nuda. Takové přesvědčení je hluboce zakořeněné a je velmi
nebezpečné.&lt;/p&gt;

&lt;p&gt;V podstatě to vypovídá o povaze takových stoupenců. Jsou to lidé,
kteří jsou spokojení s tím co dělají, jsou to dříči. Nevadí jim
opakovat dokola stále stejné chyby. Nevadí jim sedět v práci dlouho do
noci, dělat víkendy nebo si tahat práci domů. Práce, kterou dělají je
složitá a oni za to dostávají slušně zaplaceno. Tak to je. Proč něco
měnit? Upřímně, já nevím.&lt;/p&gt;

&lt;p&gt;Netvrdím, že všechen kód píšu tak, že si na něj nejdřív vytvořím
testy. On je to i nesmysl. Někteří považují za &lt;a
href="http://rarous.net/clanek/415-tri-prikazani-tdd.aspx"&gt;TDD&lt;/a&gt; to, že
napíšou 100 testů a k nim kód a mají hotovo. Blbost. Tohle je stejně
špatný přístup jako nakreslit si to nejdřív v UML. Potřeba tvořit
velkolepá díla do našeho řemesla nepatří. Musíme se naučit spokojit
s málem. Pak možná zjistíme, že ty malé kousky, které dávají smysl, se
dají &lt;a
href="http://rarous.net/clanek/428-inversion-of-control.aspx"&gt;zázračně
propojit&lt;/a&gt; a najednou máme velký celek, který je často kvalitnější a
funguje.&lt;/p&gt;

&lt;p&gt;Nedílnou součástí dobrého návrhu je i prototypování. &lt;a
href="http://rarous.net/clanek/422-je-povoleno-psat-kod-dvakrat.aspx"&gt;Prototypování
je cesta&lt;/a&gt; jak prozkoumávat průchozí uličky. Důležité u prototypu je,
že ten nikdy nejde do produkce. &lt;strong&gt;Nikdy!&lt;/strong&gt; Ano, stálo to čas,
ale získali jsme cenné zkušenosti. Teď je na čase sepsat si itinerář
bodů, které chceme na cestě potkat a podle něj začít psát první testy a
implementovat kód, který jimi prochází. &lt;a
href="http://blog.kolman.cz/2012/04/tdd-as-if-you-meant-it.html"&gt;Po malých
krůčcích.&lt;/a&gt; Kochat se a hlavně uklízet za sebou. Na &lt;a
href="http://rarous.net/clanek/406-refaktoring.aspx"&gt;refactoring&lt;/a&gt; je čas
v každém okamžiku. A vězte, že i když nevidíte, že by se něco dalo
refactorovat, neznamená to, že by to nešlo.&lt;/p&gt;

&lt;p&gt;Je důležité mít každou chvilku funkční kód. Je to neskutečně
povzbuzující a člověk nepropadá často zoufalství. Má to obrovský dopad
na produktivitu. Zoufalí lidé dělají zoufalé věci. Uchylují se pak snadno
k prasečinkám a celé snažení posílají v prdel. Neježe pak nestíhají
termíny, ale dodávají nekvalitní produkty. Spirála smrti. To, že
chvátáte, neznamená, že jdete rychle. Určitě ne k cíli. Věřte mi, sám
jsem si to několikrát prožil.&lt;/p&gt;

&lt;h3 id="toc-muj-pribeh"&gt;Můj příběh&lt;/h3&gt;

&lt;p&gt;Můj kód není dokonalý. Obsahuje chyby. Do produkce jsem hodněkrát
nechal nasadit nefungující kód. Neotestovaný kód. V důsledku toho se
třeba na celém Atlase ztratily všechny obrázky u zpráv. To není malá
chyba. Je to celkem průser a taky nálepka, která se špatně strhává. To
byl pro mne bod zlomu. Začal jsem se zajímat o to, jak něčemu takovému
předejít. Hehe, ale pak přišla registrace do Atlasu Firem. Měl jsem měsíc
na to, abych udělal nad technologií, která byla teprve v plenkách, produkt.
To byla obrovská bolest. Neskutečné záseky. Jednou jsme se Steidou seděli
nad pomalejma javascriptama do dvou do rána v kanclu. A zase to byl fail.
Sice se to stihlo a běželo to, ale byly tam chyby a s tím kódem se nedalo
dělat vůbec nic. Tam probíhala magie.&lt;/p&gt;

&lt;p&gt;V podstatě stejný kus kódu jsem za nedlouho psal znovu – registrace
odkazů do katalogu. Tentokrát řízený pomocí testů. Trvalo to asi stejně,
možná o týden o dva dýl (testovat jsem se teprve učil, s tím
i inversion of control a MVP pattern). Kód obsahoval asi jednu chybu. A &lt;a
href="https://gist.github.com/2836140"&gt;za výsledek se ani po pěti letech
nestydím&lt;/a&gt;. Mám k němu spousty výhrad, to ano, ale byl to dobrý kód.
Pak jsem pomocí TDD psal i novou prezentační část, která tahala data jak
ze starého katalogu, tak z nové technologie a věci, které jsem se na
registraci naučil se mi náramně hodili.&lt;/p&gt;

&lt;p&gt;Pak jsem trochu ztratil důslednost a začal testovat až potom. Byl jsem
přesvědčenej, že dokážu dělat dobrej testovatelnej design i bez psaní
testů předem. Taky jsem nechtěl nejdřív vytvářet ty šílený mocky.
Hloupý jsem byl. Ano, testování je práce navíc a trvá to dýl. S tímhle
přístupem rozhodně.&lt;/p&gt;

&lt;p&gt;Přeskočím šedé období zamazané popelem a nedůsledností, přeskočím
čtyři roky až do Hradeckého &lt;a href="http://coderetreat.cz"&gt;Code
Retreatu&lt;/a&gt;. To byl můj první Code Retreat, kde jsem byl jako plnohodnotný
účastník. Už na GDCR jsem si &lt;a
href="https://gist.github.com/3897226"&gt;pěkně zapároval s Danem Kolmanem
v F#&lt;/a&gt;. Tam jsem zjistil, jak může vést TDD k zajímavému poznání a
naučit se jazyk, který ještě moc neovládám. Zpátky do Hradce. Měl jsem
tu možnost dělat dvě session v páru s Marianem. První session jsem byl
dost mimo a docela ztracenej, ale pomalu se mi začínalo otevírat myšlení.
Druhá session už byla fajn a celkem nám to šlo.&lt;/p&gt;

&lt;p&gt;Pak jsem se rozhodl, že se musím vrátit k počátkům a přečetl si &lt;a
href="http://www.amazon.com/Test-Driven-Development-By-Example/dp/0321146530"&gt;TDD
by Example od Kenta Becka&lt;/a&gt;. Najednou jsem viděl, kde jsme s Marianem
dělali chyby, naučil jsem se mnoha triků a hlavně osvobodil svou mysl.
Přístupů k TDD existuje mnoho a každý z nich může být vhodný na jiný
problém. Někdy je dobré držet se malých krůčků a být v krátké
smyčce zpětné vazby (no to je dobré pořád), někdy ale můžu být ty
krůčky klidně větší, ale až když se naučíte dělat ty malé. To máte
jako když se učíte násobit.&lt;/p&gt;

&lt;p&gt;Dneska píšu službu, která nemá zatím klienta. Skládá se z několika
subsystémů a já vím že funguje, ikdyž jsem to zatím pořádně
nezkoušel. :) Tuhle důvěru mi ale dodává 250 unit testů a
60 integračních testů. Volím různé strategie. Někdy píšu čistě TDD,
někdy prototypuju. Prototyp mi pak slouží jako vzor pro TDD, protože už
vím, co chci udělat. Díky unit testům mám zhruba 90% code coverage. Je to
díky filtrům. Protože mám z CC vyloučené věci jako adaptery kódu
třetí strany, composition rooty a podobné. To jsou věci, který mi pokrývaj
Integrační testy nebo jdou ověřit spuštěním služby.&lt;/p&gt;

&lt;p&gt;Jsem v celkem raný fázi vývoje a tohle mi umožňuje věci měnit. Testy
se mi neboří, protože nejsou zaměřený na detaily, ale na chování. Proto
můžu věci měnit a hned (do 10 sekund) vím, jestli jsem něco nepodělal.
Ještě před pár týdny jsem měl CC kolem 40 %. A tak jsem začal kód
přestrukturovávat tak, aby se coverage zvedla. Žádná honba za spoustou
testů. Tímhle způsobem jsem se dostal na 60 %. Pak jsem začal dopisovat
testy tam, kde chyběly. Bylo potřeba upravit návrh, protože ty věci nešly
moc dobře otestovat. Samozřejmě jsem odhalil několik chyb a vyloženejch
blbostí. Ale teď mám 90% CC, méně chyb, lepší návrh a mnohem větší
sebevědomí a vůli věci měnit.&lt;/p&gt;

&lt;p&gt;Dopřejte to i sobě. Zasloužíte si to!&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Lukáš napsal spot "Pokud jde kód špatně otestovat, je špatně navržený":[http://blog.krecan.net/2012/10/04/pokud-jde-kod-spatne-otestovat-je-spatne-navrzeny/], který mě donutil se zamyslet ("občas to dělám":[http://rarous.net/clanek/413-k-cemu-vlastne-tdd.aspx]). Zmyslet se nad tím, proč je u nás málo článků o TDD. Je to věc, která souvisí s přesvědčením. Obecně panuje přesvědčení, že psaní testů je práce navíc, že to prodlužuje dobu dodání, že je to peklo a nuda. Takové přesvědčení je hluboce zakořeněné a je velmi nebezpečné.

V podstatě to vypovídá o povaze takových stoupenců. Jsou to lidé, kteří jsou spokojení s tím co dělají, jsou to dříči. Nevadí jim opakovat dokola stále stejné chyby. Nevadí jim sedět v práci dlouho do noci, dělat víkendy nebo si tahat práci domů. Práce, kterou dělají je složitá a oni za to dostávají slušně zaplaceno. Tak to je. Proč něco měnit? Upřímně, já nevím.

Netvrdím, že všechen kód píšu tak, že si na něj nejdřív vytvořím testy. On je to i nesmysl. Někteří považují za TDD:[http://rarous.net/clanek/415-tri-prikazani-tdd.aspx] to, že napíšou 100 testů a k nim kód a mají hotovo. Blbost. Tohle je stejně špatný přístup jako nakreslit si to nejdřív v UML. Potřeba tvořit velkolepá díla do našeho řemesla nepatří. Musíme se naučit spokojit s málem. Pak možná zjistíme, že ty malé kousky, které dávají smysl, se dají "zázračně propojit":[http://rarous.net/clanek/428-inversion-of-control.aspx] a najednou máme velký celek, který je často kvalitnější a funguje.

Nedílnou součástí dobrého návrhu je i prototypování. "Prototypování je cesta":[http://rarous.net/clanek/422-je-povoleno-psat-kod-dvakrat.aspx] jak prozkoumávat průchozí uličky. Důležité u prototypu je, že ten nikdy nejde do produkce. **Nikdy!** Ano, stálo to čas, ale získali jsme cenné zkušenosti. Teď je na čase sepsat si itinerář bodů, které chceme na cestě potkat a podle něj začít psát první testy a implementovat kód, který jimi prochází. "Po malých krůčcích.":[http://blog.kolman.cz/2012/04/tdd-as-if-you-meant-it.html] Kochat se a hlavně uklízet za sebou. Na refactoring:[http://rarous.net/clanek/406-refaktoring.aspx] je čas v každém okamžiku. A vězte, že i když nevidíte, že by se něco dalo refactorovat, neznamená to, že by to nešlo.

Je důležité mít každou chvilku funkční kód. Je to neskutečně povzbuzující a člověk nepropadá často zoufalství. Má to obrovský dopad na produktivitu. Zoufalí lidé dělají zoufalé věci. Uchylují se pak snadno k prasečinkám a celé snažení posílají v prdel. Neježe pak nestíhají termíny, ale dodávají nekvalitní produkty. Spirála smrti. To, že chvátáte, neznamená, že jdete rychle. Určitě ne k cíli. Věřte mi, sám jsem si to několikrát prožil.

Můj příběh
========

Můj kód není dokonalý. Obsahuje chyby. Do produkce jsem hodněkrát nechal nasadit nefungující kód. Neotestovaný kód. V důsledku toho se třeba na celém Atlase ztratily všechny obrázky u zpráv. To není malá chyba. Je to celkem průser a taky nálepka, která se špatně strhává. To byl pro mne bod zlomu. Začal jsem se zajímat o to, jak něčemu takovému předejít. Hehe, ale pak přišla registrace do Atlasu Firem. Měl jsem měsíc na to, abych udělal nad technologií, která byla teprve v plenkách, produkt. To byla obrovská bolest. Neskutečné záseky. Jednou jsme se Steidou seděli nad pomalejma javascriptama do dvou do rána v kanclu. A zase to byl fail. Sice se to stihlo a běželo to, ale byly tam chyby a s tím kódem se nedalo dělat vůbec nic. Tam probíhala magie.

V podstatě stejný kus kódu jsem za nedlouho psal znovu - registrace odkazů do katalogu. Tentokrát řízený pomocí testů. Trvalo to asi stejně, možná o týden o dva dýl (testovat jsem se teprve učil, s tím i inversion of control a MVP pattern). Kód obsahoval asi jednu chybu. A "za výsledek se ani po pěti letech nestydím":[https://gist.github.com/2836140]. Mám k němu spousty výhrad, to ano, ale byl to dobrý kód. Pak jsem pomocí TDD psal i novou prezentační část, která tahala data jak ze starého katalogu, tak z nové technologie a věci, které jsem se na registraci naučil se mi náramně hodili.

Pak jsem trochu ztratil důslednost a začal testovat až potom. Byl jsem přesvědčenej, že dokážu dělat dobrej testovatelnej design i bez psaní testů předem. Taky jsem nechtěl nejdřív vytvářet ty šílený mocky. Hloupý jsem byl. Ano, testování je práce navíc a trvá to dýl. S tímhle přístupem rozhodně.

Přeskočím šedé období zamazané popelem a nedůsledností, přeskočím čtyři roky až do Hradeckého "Code Retreatu":[http://coderetreat.cz]. To byl můj první Code Retreat, kde jsem byl jako plnohodnotný účastník. Už na GDCR jsem si "pěkně zapároval s Danem Kolmanem v F#":[https://gist.github.com/3897226]. Tam jsem zjistil, jak může vést TDD k zajímavému poznání a naučit se jazyk, který ještě moc neovládám. Zpátky do Hradce. Měl jsem tu možnost dělat dvě session v páru s Marianem. První session jsem byl dost mimo a docela ztracenej, ale pomalu se mi začínalo otevírat myšlení. Druhá session už byla fajn a celkem nám to šlo.

Pak jsem se rozhodl, že se musím vrátit k počátkům a přečetl si "TDD by Example od Kenta Becka":[http://www.amazon.com/Test-Driven-Development-By-Example/dp/0321146530]. Najednou jsem viděl, kde jsme s Marianem dělali chyby, naučil jsem se mnoha triků a hlavně osvobodil svou mysl. Přístupů k TDD existuje mnoho a každý z nich může být vhodný na jiný problém. Někdy je dobré držet se malých krůčků a být v krátké smyčce zpětné vazby (no to je dobré pořád), někdy ale můžu být ty krůčky klidně větší, ale až když se naučíte dělat ty malé. To máte jako když se učíte násobit.

Dneska píšu službu, která nemá zatím klienta. Skládá se z několika subsystémů a já vím že funguje, ikdyž jsem to zatím pořádně nezkoušel. :) Tuhle důvěru mi ale dodává 250 unit testů a 60 integračních testů. Volím různé strategie. Někdy píšu čistě TDD, někdy prototypuju. Prototyp mi pak slouží jako vzor pro TDD, protože už vím, co chci udělat. Díky unit testům mám zhruba 90% code coverage. Je to díky filtrům. Protože mám z CC vyloučené věci jako adaptery kódu třetí strany, composition rooty a podobné. To jsou věci, který mi pokrývaj Integrační testy nebo jdou ověřit spuštěním služby.

Jsem v celkem raný fázi vývoje a tohle mi umožňuje věci měnit. Testy se mi neboří, protože nejsou zaměřený na detaily, ale na chování. Proto můžu věci měnit a hned (do 10 sekund) vím, jestli jsem něco nepodělal. Ještě před pár týdny jsem měl CC kolem 40 %. A tak jsem začal kód přestrukturovávat tak, aby se coverage zvedla. Žádná honba za spoustou testů.  Tímhle způsobem jsem se dostal na 60 %. Pak jsem začal dopisovat testy tam, kde chyběly. Bylo potřeba upravit návrh, protože ty věci nešly moc dobře otestovat. Samozřejmě jsem odhalil několik chyb a vyloženejch blbostí. Ale teď mám 90% CC, méně chyb, lepší návrh a mnohem větší sebevědomí a vůli věci měnit.

Dopřejte to i sobě. Zasloužíte si to!</raw>
    <author>Aleš Roubíček</author>
    <published>2012-10-06T08:52:31.963</published>
    <url>test-driven-development-pribeh-nezbedneho-vyvojare</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>tdd</tags>
    <is-published>1</is-published>
    <edited>2012-10-16T07:16:15.023</edited>
  </article>
  <article>
    <id>430</id>
    <title>Continuous Delivery - CZ podcast 69</title>
    <description>Skoro po roce jsem byl opět hostem CZ podcastu. Tentokrát jsme se bavili o Continuous Delivery.</description>
    <html xml:space="preserve">
&lt;p&gt;Když pár týdnů nazpět, vyhlásilo @czpodcast call to action na téma &lt;a
href="http://java.cz/article/czpodcast-continuous-delivery"&gt;continuous
delivery&lt;/a&gt;, trapně jsem se obratem ozval. Rok se pomalu s rokem sešel a už
jsem zase seděl ve Vendavo s @_dagi a @jirifabian, bohužel nikdo další se
asi nepřihlásil, tak jsme si dali 69 ve třech. Jak to nakonec dopadlo si
můžete &lt;a
href="http://s3-eu-west-1.amazonaws.com/czpodcast-1/czpodcast69.mp3"&gt;poslechnout&lt;/a&gt; sami.&lt;/p&gt;

&lt;p&gt;Dost věcí, co jsme tam probírali jste si už tady na blogu mohli &lt;a
href="http://rarous.net/weblog/405-nejsem-schopny-dopsat-clanek-o-continuous-integration.aspx"&gt;trochu
přečíst&lt;/a&gt;. Nebo &lt;a
href="http://rarous.net/weblog/394-continuous-delivery.aspx"&gt;slyšet na
WebExpu&lt;/a&gt;. Samozřejmě jsem opět klouzal po povrchu.&lt;/p&gt;

&lt;p&gt;Pokud si myslíte, že je to nějak kontroverzní nebo nenasaditelná
praktika, vězte, že většinu o čem jsem tam mluvil mám ověřenou
v praxi. Ať už jde o mainline vývoj, automatizaci buildu, testování
i deploymentu, včetně &lt;a
href="http://rarous.net/weblog/404-prepinani-featur-a-vetveni-abstrakci.aspx"&gt;feature
toggles a větvení abstrakcí&lt;/a&gt;. To jsou věci, které nejen propaguju, ale
i prakticku uplatňuju. ;)&lt;/p&gt;

&lt;p&gt;A vám v tom taky nic nebrání. Pouze lenost (pohodlnost to být
nemůže). Tak šup, čím dneska začnete?&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Když pár týdnů nazpět, vyhlásilo @czpodcast call to action na téma "continuous delivery":[http://java.cz/article/czpodcast-continuous-delivery], trapně jsem se obratem ozval. Rok se pomalu s rokem sešel a už jsem zase seděl ve Vendavo s @_dagi a @jirifabian, bohužel nikdo další se asi nepřihlásil, tak jsme si dali 69 ve třech. Jak to nakonec dopadlo si můžete poslechnout:[http://s3-eu-west-1.amazonaws.com/czpodcast-1/czpodcast69.mp3] sami.

Dost věcí, co jsme tam probírali jste si už tady na blogu mohli "trochu přečíst":[http://rarous.net/weblog/405-nejsem-schopny-dopsat-clanek-o-continuous-integration.aspx]. Nebo "slyšet na WebExpu":[http://rarous.net/weblog/394-continuous-delivery.aspx]. Samozřejmě jsem opět klouzal po povrchu.

Pokud si myslíte, že je to nějak kontroverzní nebo nenasaditelná praktika, vězte, že většinu o čem jsem tam mluvil mám ověřenou v praxi. Ať už jde o mainline vývoj, automatizaci buildu, testování i deploymentu, včetně "feature toggles a větvení abstrakcí":[http://rarous.net/weblog/404-prepinani-featur-a-vetveni-abstrakci.aspx]. To jsou věci, které nejen propaguju, ale i prakticku uplatňuju. ;)

A vám v tom taky nic nebrání. Pouze lenost (pohodlnost to být nemůže). Tak šup, čím dneska začnete?</raw>
    <author>Aleš Roubíček</author>
    <published>2012-10-09T09:09:01.727</published>
    <url>continuous-delivery-cz-podcast-69</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>ci</tags>
    <is-published>1</is-published>
    <edited>2012-10-09T09:11:50.877</edited>
  </article>
  <article>
    <id>431</id>
    <title>DIP, IoC a DI - díl první</title>
    <description>První motivační díl z úžasného osvětového cyklu zaměřeného na rozbíjení zkostnatělých mítů a jiných blbostí.</description>
    <html xml:space="preserve">
&lt;p&gt;Zmatení pojmů je úžasná věc. Něco si myslíte a tak řeknete něco, co
vás napadne jako první. A většinou je to blbost. Ale lidi se to naučili
tolerovat, protože stejný blbosti děláme všichni. Nakonec si nikdo
nerozumí, ale všichni dělaj, jako že jo. Nechtěj vypadat jako blbci.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Disclaimer:&lt;/strong&gt; &lt;em&gt;Článek si neklade za cíl se do někoho
navážet, někoho ranit nebo zesměšňovat. Klade si za cíl otevřít otázky
nad obecně přijímanými pravdami.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Dependency Inversion Principle, Inversion of Control a Dependency Injection
mají tolik vzájemně společných slov, že musí být i blbci jasné, že
spolu úzce souvisí. A přitom je to blbost. Existují jistá místa, kde se
můžou vzájemně dotýkat, ale vůbec to tak nemusí být.&lt;/p&gt;

&lt;p&gt;Začněme jednoduchým příkladem z praxe. Běžně začneme tak, že si
vytvoříme rozhraní pro repository &lt;code&gt;IRepository&amp;lt;TEntity&amp;gt;&lt;/code&gt; a
prdneme ho do projektu/namespace &lt;code&gt;MyAwesomeApp.Data&lt;/code&gt;. To je jasný,
repository přece patří do datový vrstvy! Ne asi. Pak si uděláme
konkrétní implementace jako &lt;code&gt;MyAwesomeApp.Data.ArticleRepository :
IRepository&amp;lt;Article&amp;gt;&lt;/code&gt; a podobně. Každá si v konstruktoru
vytvoří &lt;code&gt;DataContext&lt;/code&gt;, který se nějak nakonfiguruje. Ten pak
obalíme svejma metodama a spokojeně rozšiřujeme rozhraní třídy
s každým dalším dotazem…&lt;/p&gt;

&lt;p&gt;Pak si někde přečteme, že testovatelnost, DI a tak, a tak teda uděláme
přetížení konstruktoru, který bude brát &lt;code&gt;DataContext&lt;/code&gt; odněkud
z venku, ale abychom nechodili moc daleko, to venku bude původní
přetížení, který jen zavolá tohle nové. Poor men's DI ve své
nejčistší formě.&lt;/p&gt;

&lt;p&gt;Pro jistotu se zeptám: Vidíte tu nějaký Inversion of Control nebo
uplatnění Dependency Inversion Principle? Houby s octem! DI s nimi tedy
určitě nesouvisí. Pokud vám někdo tvrdí, že IoC je obecný princip a DI
je jeho konkrétní implementace, neříká pravdu. :)&lt;/p&gt;

&lt;p&gt;Ok, pokračujeme dál. Vytvoříme si ten doménovej model. Vlastně to jsou
jedna k jedný entity z databáze, ale who cares? Je třeba si z checklistu
odškrtnout další zkratku začínající na D. Taková malá úlitba OO
bohům. Na to si vytvoříme novej projekt
&lt;code&gt;MyAwesomeApp.BusinessLogic&lt;/code&gt;, aby bylo jasný, že děláme ten
business a má to nějakou logiku. Sem krom entit z databáze nasereme taky
všemožný &lt;a href="/weblog/331-proc-jsou-staticke-helpery-zlo.aspx"&gt;statický
helpery&lt;/a&gt; a podobně, co zrovna budeme potřebovat znovu použít. No a
protože některý helpery budou potřebovat naše entity ukládat do databáze
a taky se na ně dotazovat, tak z nich uděláme teda instanční třídy a
necháme si nainjektovat nějaký repository. Třeba tak:
&lt;code&gt;PublishingManager(ArticleRepository repository)&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Držíme se dependency injection. No a proto, aby nám vůbec šla ta
repository nainjectovat, přidáme referenci na naši datovou vrstvu. Tak
určitě. Jak jinak byste to chtěli přece řešit?&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Zmatení pojmů je úžasná věc. Něco si myslíte a tak řeknete něco, co vás napadne jako první. A většinou je to blbost. Ale lidi se to naučili tolerovat, protože stejný blbosti děláme všichni. Nakonec si nikdo nerozumí, ale všichni dělaj, jako že jo. Nechtěj vypadat jako blbci.

**Disclaimer:** *Článek si neklade za cíl se do někoho navážet, někoho ranit nebo zesměšňovat. Klade si za cíl otevřít otázky nad obecně přijímanými pravdami.*

Dependency Inversion Principle, Inversion of Control a Dependency Injection mají tolik vzájemně společných slov, že musí být i blbci jasné, že spolu úzce souvisí. A přitom je to blbost. Existují jistá místa, kde se můžou vzájemně dotýkat, ale vůbec to tak nemusí být.

Začněme jednoduchým příkladem z praxe. Běžně začneme tak, že si vytvoříme rozhraní pro repository `IRepository&lt;TEntity&gt;` a prdneme ho do projektu/namespace `MyAwesomeApp.Data`. To je jasný, repository přece patří do datový vrstvy! Ne asi. Pak si uděláme konkrétní implementace jako `MyAwesomeApp.Data.ArticleRepository : IRepository&lt;Article&gt;` a podobně. Každá si v konstruktoru vytvoří `DataContext`, který se nějak nakonfiguruje. Ten pak obalíme svejma metodama a spokojeně rozšiřujeme rozhraní třídy s každým dalším dotazem...

Pak si někde přečteme, že testovatelnost, DI a tak, a tak teda uděláme přetížení konstruktoru, který bude brát `DataContext` odněkud z venku, ale abychom nechodili moc daleko, to venku bude původní přetížení, který jen zavolá tohle nové. Poor men's DI ve své nejčistší formě.

Pro jistotu se zeptám: Vidíte tu nějaký Inversion of Control nebo uplatnění Dependency Inversion Principle? Houby s octem! DI s nimi tedy určitě nesouvisí. Pokud vám někdo tvrdí, že IoC je obecný princip a DI je jeho konkrétní implementace, neříká pravdu. :)

Ok, pokračujeme dál. Vytvoříme si ten doménovej model. Vlastně to jsou jedna k jedný entity z databáze, ale who cares? Je třeba si z checklistu odškrtnout další zkratku začínající na D. Taková malá úlitba OO bohům. Na to si vytvoříme novej projekt `MyAwesomeApp.BusinessLogic`, aby bylo jasný, že děláme ten business a má to nějakou logiku. Sem krom entit z databáze nasereme taky všemožný "statický helpery":[/weblog/331-proc-jsou-staticke-helpery-zlo.aspx] a podobně, co zrovna budeme potřebovat znovu použít. No a protože některý helpery budou potřebovat naše entity ukládat do databáze a taky se na ně dotazovat, tak z nich uděláme teda instanční třídy a necháme si nainjektovat nějaký repository. Třeba tak: `PublishingManager(ArticleRepository repository)`.

Držíme se dependency injection. No a proto, aby nám vůbec šla ta repository nainjectovat, přidáme referenci na naši datovou vrstvu. Tak určitě. Jak jinak byste to chtěli přece řešit?</raw>
    <author>Aleš Roubíček</author>
    <published>2012-10-26T12:54:19.593</published>
    <url>dip-ioc-a-di-dil-prvni</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2012-10-26T14:07:51.627</edited>
  </article>
  <article>
    <id>432</id>
    <title>DIP, IoC a DI - díl druhý</title>
    <description>V motivačním díle jsme se pustili do vytváření sprasené architektury, dle nejlepšího uvážení, držíce se chytrých pouček. Teď si ukážeme, co bylo špatně.</description>
    <html xml:space="preserve">
&lt;p&gt;&lt;a
href="http://rarous.net/weblog/431-dip-ioc-a-di-dil-prvni.aspx"&gt;V minulém
díle&lt;/a&gt; jsem si začal pohrávat s myšlenkou, že to, jak nedokážeme
sdělovat to, co chceme říct, ovlivňuje schopnost chápat těch, kterým
myšlenky směřujeme. Řešením je jistě dialog, ve kterém se snažíme
dobrat k podstatě sdělení, ale v kódu a asi i na blogu dialog nějak
pokulhává.&lt;/p&gt;

&lt;p&gt;Minule jsme se snažil naznačit, že i když se snažíme dodržovat
domněle správné postupy a poučky, tak se stejně dostaneme do potíží.
Čím to je? Vždyť nám to šlo tak hezky, proč to bylo špatně?&lt;/p&gt;

&lt;p&gt;Snažil jsem se také dokázat, že dependency injection nemá nic
společnýho s DIP nebo IoC. Doufám, že vám v mnohých případech
zatrnulo. Takže jsme ve stavu, kdy máme v aplikaci DI, ale po DIP nebo IoC
ani památky. Teď se vrátím k poslednímu kroku, kde jsme zavedli závislost
doménového modelu na datové vrstvě.&lt;/p&gt;

&lt;p&gt;Všimněte si, že vrstva, která by měla mít vyšší úroveň abstrakce
si vytváří závislost na celkem konkrétní datové vrstvě. Když bychom
aplikovali IoC, museli bychom změnit konstruktor našeho publikačního
manažera na něco takového: &lt;code&gt;PublishingManager(IRepository&amp;lt;Article&amp;gt;
repository)&lt;/code&gt;. Tím jsme zavedli závislost na abstrakci (všimněte si,
že nám nějak zmizely konkrétní dotazy z ArticleRepo­sitory), naše
třída už nemá znalost, jaká implementace repository bude za běhu
doručena. Ale stále jsme nezavedli DIP!&lt;/p&gt;

&lt;p&gt;Vždyť DIP je obecný princip. IoC je přeci vzor, podle kterého se DIP
dosáhne a DI je jeho konkrétní implementací. Nebo to dost často někde čtu
nebo slýchám. Jak to, že teda mám zavedenou DI, mám zavedený IoC, ale po
DIP ani památky? Že by to všechno bylo jinak?&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">"V minulém díle":[http://rarous.net/weblog/431-dip-ioc-a-di-dil-prvni.aspx] jsem si začal pohrávat s myšlenkou, že to, jak nedokážeme sdělovat to, co chceme říct, ovlivňuje schopnost chápat těch, kterým myšlenky směřujeme. Řešením je jistě dialog, ve kterém se snažíme dobrat k podstatě sdělení, ale v kódu a asi i na blogu dialog nějak pokulhává.

Minule jsme se snažil naznačit, že i když se snažíme dodržovat domněle správné postupy a poučky, tak se stejně dostaneme do potíží. Čím to je? Vždyť nám to šlo tak hezky, proč to bylo špatně?

Snažil jsem se také dokázat, že dependency injection nemá nic společnýho s DIP nebo IoC. Doufám, že vám v mnohých případech zatrnulo. Takže jsme ve stavu, kdy máme v aplikaci DI, ale po DIP nebo IoC ani památky. Teď se vrátím k poslednímu kroku, kde jsme zavedli závislost doménového modelu na datové vrstvě.

Všimněte si, že vrstva, která by měla mít vyšší úroveň abstrakce si vytváří závislost na celkem konkrétní datové vrstvě. Když bychom aplikovali IoC, museli bychom změnit konstruktor našeho publikačního manažera na něco takového: `PublishingManager(IRepository&lt;Article&gt; repository)`. Tím jsme zavedli závislost na abstrakci (všimněte si, že nám nějak zmizely konkrétní dotazy z ArticleRepository), naše třída už nemá znalost, jaká implementace repository bude za běhu doručena. Ale stále jsme nezavedli DIP!

Vždyť DIP je obecný princip. IoC je přeci vzor, podle kterého se DIP dosáhne a DI je jeho konkrétní implementací. Nebo to dost často někde čtu nebo slýchám. Jak to, že teda mám zavedenou DI, mám zavedený IoC, ale po DIP ani památky? Že by to všechno bylo jinak?</raw>
    <author>Aleš Roubíček</author>
    <published>2012-10-26T14:47:16.777</published>
    <url>dip-ioc-a-di-dil-druhy</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2012-10-26T15:09:30.603</edited>
  </article>
  <article>
    <id>433</id>
    <title>DIP, IoC a DI - díl třetí</title>
    <description>Závěrečný díl trošku sporné série o rosporech v zažitých technikách a obecných poučkách, jak dělat inverzi injekcí.</description>
    <html xml:space="preserve">
&lt;p&gt;Vidíte, vidíte? Máme za sebou dva krátké spoty plné nezodpovězených
otázek. Nahlodaly vás aspoň trošku? Vyřešili jste některé? Dobře.
Pojďme dál.&lt;/p&gt;

&lt;p&gt;V minulém díle jsme se zbavili závislosti na konkrétní implementaci
repository a zavedli tak Inversion of Control (ok, taky zjednodušuju, ale
základní rozdíl IoC od DI je v abstrakci). Ovšem pořád jsme nedosáhli
DIP. „Jak to,“ ptáte se? No důvod je celkem prostý. Tu největší chybu
jsme udělali hned na začátku. &lt;strong&gt;Začali jsme datovou
vrstvou!&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Všimněte si, že naše doménová vrstva má stále závislost na té
datové, i když jsme zavedli abstrakci a jakoby neznáme konkrétní
implementaci. Problém je v tom, že abstrakce nepatří do vrstvy, kde je
implementována. &lt;code&gt;IRepository&amp;lt;TEntity&amp;gt;&lt;/code&gt; nepatří do
&lt;code&gt;MyAwesomeApp.Data&lt;/code&gt;, ale do „business layeru“. Kdybychom dělali
top-down design, samozřejmě by nám to z toho vylezlo samo. Ale protože jsme
byli chytřejší a stavěli „od spoda“ (bottom-up), dostali jsme se celkem
do potíží…&lt;/p&gt;

&lt;p&gt;Takže, když uděláme tuhle malou změnu, tedy že přesuneme
&lt;code&gt;IRepository&amp;lt;TEntity&amp;gt;&lt;/code&gt; z data do business layeru, otočíme
závislosti. Nyní, už doménová vrstva nezávisí na datové, ale naopak.
Datová vrstva se nám stala plug-inem. A konečně máme i DIP!&lt;/p&gt;

&lt;h3 id="toc-top-down-design"&gt;Top-down design&lt;/h3&gt;

&lt;p&gt;Ještě bych se rád zastavil u jedné konfůznosti a tou je top-down
design. Tj. design kdy začneme od shora a pokračujeme dolu. Jenže kde je to
nahoře? Když si vybavíte běžná schémata tradiční třívrstvé aplikace,
tak nahoře máte UI vrstvu, pod ní business vrstvu a pod ní vrstvu datovou.
Tak je to jasný, ne? Top-down design začneme od UI vrstvy! Rovnou si dám
facku, že jsem to vůbec napsal. &lt;em&gt;plesk&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Tak zase špatně. Ve skutečnosti je nahoře vrstva s největší
abstrakcí. Což by měla být asi ta doménová vrstva. :) UI i data jsou
detaily, hodně konkrétní! Dneska máme běžné, že jedna a ta samá
business vrstva žije za obrázkama na iPhonu, Androidu, Windows Phonu,
desktopových i webových aplikací. Ano, ta samá. protože BL je to, co
dělá vaši aplikaci aplikací. Je jedno, na jakým systému běží, jak
přistupuje k datům, jakým způsobem data prezentuje.&lt;/p&gt;

&lt;p&gt;Abstrakce nám pomáhá odkládat řešení detailů do doby, kdy to bude
nezbytné. Pomáhá nám být agilní a umožňuje nám pružně reagovat na
změny požadavků. A změna je jedinou jistotou, na kterou se můžeme
v naší branži spolehnout. Žádné smlouvy vás před ní neochrání.
A nebraňme se ji, však jsme přece vývojáři.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Vidíte, vidíte? Máme za sebou dva krátké spoty plné nezodpovězených otázek. Nahlodaly vás aspoň trošku? Vyřešili jste některé? Dobře. Pojďme dál.

V minulém díle jsme se zbavili závislosti na konkrétní implementaci repository a zavedli tak Inversion of Control (ok, taky zjednodušuju, ale základní rozdíl IoC od DI je v abstrakci). Ovšem pořád jsme nedosáhli DIP. "Jak to," ptáte se? No důvod je celkem prostý. Tu největší chybu jsme udělali hned na začátku. **Začali jsme datovou vrstvou!**

Všimněte si, že naše doménová vrstva má stále závislost na té datové, i když jsme zavedli abstrakci a jakoby neznáme konkrétní implementaci. Problém je v tom, že abstrakce nepatří do vrstvy, kde je implementována. `IRepository&lt;TEntity&gt;` nepatří do `MyAwesomeApp.Data`, ale do "business layeru". Kdybychom dělali top-down design, samozřejmě by nám to z toho vylezlo samo. Ale protože jsme byli chytřejší a stavěli "od spoda" (bottom-up), dostali jsme se celkem do potíží...

Takže, když uděláme tuhle malou změnu, tedy že přesuneme `IRepository&lt;TEntity&gt;` z data do business layeru, otočíme závislosti. Nyní, už doménová vrstva nezávisí na datové, ale naopak. Datová vrstva se nám stala plug-inem. A konečně máme i DIP!

Top-down design
===============

Ještě bych se rád zastavil u jedné konfůznosti a tou je top-down design. Tj. design kdy začneme od shora a pokračujeme dolu. Jenže kde je to nahoře? Když si vybavíte běžná schémata tradiční třívrstvé aplikace, tak nahoře máte UI vrstvu, pod ní business vrstvu a pod ní vrstvu datovou. Tak je to jasný, ne? Top-down design začneme od UI vrstvy! Rovnou si dám facku, že jsem to vůbec napsal. *plesk*

Tak zase špatně. Ve skutečnosti je nahoře vrstva s největší abstrakcí. Což by měla být asi ta doménová vrstva. :) UI i data jsou detaily, hodně konkrétní! Dneska máme běžné, že jedna a ta samá business vrstva žije za obrázkama na iPhonu, Androidu, Windows Phonu, desktopových i webových aplikací. Ano, ta samá. protože BL je to, co dělá vaši aplikaci aplikací. Je jedno, na jakým systému běží, jak přistupuje k datům, jakým způsobem data prezentuje.

Abstrakce nám pomáhá odkládat řešení detailů do doby, kdy to bude nezbytné. Pomáhá nám být agilní a umožňuje nám pružně reagovat na změny požadavků. A změna je jedinou jistotou, na kterou se můžeme v naší branži spolehnout. Žádné smlouvy vás před ní neochrání. A nebraňme se ji, však jsme přece vývojáři.</raw>
    <author>Aleš Roubíček</author>
    <published>2012-10-26T21:20:00</published>
    <url>dip-ioc-a-di-dil-treti</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2012-10-26T21:19:04.027</edited>
  </article>
  <article>
    <id>434</id>
    <title>Technologický radar</title>
    <description>Technology radar sleduji již nějaký ten rok. Srovnávám si sním svůj pohled na to, co vypadá perspektivně a co ne. Často se dost shodujeme, občas rozcházíme. Ale takový je život. Já tu vypíchnu věci, který mě překvapily nebo zaskočily.</description>
    <html xml:space="preserve">
&lt;p&gt;&lt;a
href="http://devblog.cz/2012/10/thoughtworks-technology-radar-2012-10/"&gt;Miro se
na devblogu trošku rozepsal&lt;/a&gt; o tom, co ho zaujalo &lt;a
href="http://www.thoughtworks.com/articles/technology-radar-october-2012"&gt;v poslední
vydání Technology Radaru&lt;/a&gt; a na závěr vyzval k reakci. Tož tady je
ta má.&lt;/p&gt;

&lt;p&gt;Technology radar sleduji již nějaký ten rok. Srovnávám si sním svůj
pohled na to, co vypadá perspektivně a co ne. Často se dost shodujeme, občas
rozcházíme. Ale takový je život. Já tu vypíchnu věci, který mě
překvapily nebo zaskočily.&lt;/p&gt;

&lt;h3 id="toc-nedelejte-feature-banching"&gt;Nědělejte feature banching&lt;/h3&gt;

&lt;p&gt;S tímhle se ztotožňuji a preferuji chytřejší návrh, který umožňuje
pružné nasazování featur změnou konfigurace a podle potřeby i za běhu.
U služeb nebo produktů se tedy branchování vyhýbejte. Ale jak už to tak
bývá, existují výjimky, kde se tato praktika naopak hodí. Jednou z nich
jsou pull-requesty do OSS. Zde patří k etice odklonovat, odbranchovat a pak
až dělat změny.&lt;/p&gt;

&lt;h3 id="toc-micro-sluzby"&gt;Micro služby&lt;/h3&gt;

&lt;p&gt;Tahle technika souvisí s předchozím bodem na úrovni komponent. Místo
komponent máme malé nezávislé služby, které spolu spolupracují.
Umožňuje to rozpadnout velké aplikace na dílčí služby, které se samy
o sobě lépe udržují i vyvýjí. Zajímavé je, že ESB je naproti tomu
v hold. Z mého pohledu micro služby s ESB souvisí a nebo jsem jen zatim
nenašel lepší způsob provázání micro služeb.&lt;/p&gt;

&lt;h3 id="toc-automatizace-vyvojarske-infrastruktury"&gt;Automatizace vývojářské
infrastruktury&lt;/h3&gt;

&lt;p&gt;Tohle je technika, kterou mi přineslo Continuous delivery. Na Webmiu jsme ji
celkem slušně prověřili a dneska si bez ní nedovedu představit, že bych
mohl pracovat. Rozhodně ne efektivně. Což pro změnu zase souvisí
s následujícím bo­dem:&lt;/p&gt;

&lt;h3 id="toc-rake-pro-automatizaci-java-i-net"&gt;Rake pro automatizaci Java i
.net&lt;/h3&gt;

&lt;p&gt;S tímhle bodem bych byl schopnej souhlasit u projektu, kde je zapotřebí
buildit i na jiných platformách, než jsou Windows. Jako mackař, bych občas
uvítal, možnost dělat všechno v MacOS a nemuset do Parallels. Nadruhou
stranu mi syntaxe Psake a fakt, že má za sebou kompletní PowerShell, vyhovuje
tak, že to jsem schopný skousnout. :)&lt;/p&gt;

&lt;p&gt;Takže tady se držím Psake, s kterým automatizuju nejem integrační
build, ale i vývojářskou infrastrukturu. Jednoduchá syntaxe, mocný shell,
snadná dokumentace scriptu, značná vyspělost tohoto nástroje a dostupnost
na všech windows jsou pro mě jednoznačná plus.&lt;/p&gt;

&lt;h3 id="toc-angular-a-knockout"&gt;Angular a Knockout&lt;/h3&gt;

&lt;p&gt;U mě jasně hraje prim AngularJS. Můj přístup k vývoji aplikací je
s ním velmi kompatibilní. Naproti tomu KO vychází ze zmetku MVVM, který
vychází z nepochopení MVC/MVP. Dále je vidět, že autor je webem
nepolíbený a všechno co dělá to akorát zdůrazňuje. Viz neprefixovaný
&lt;code&gt;data-bind&lt;/code&gt; atribut, syntaxe v něm použitá, vlastní
„elementy“ definované pomocí komentářů a další podobná zvěrstva.
Jo, jsou to detaily, ale pro ortodoxního webaře nepřekonatelný. :)&lt;/p&gt;

&lt;h3 id="toc-meteor-js-a-dart"&gt;Meteor.js a Dart&lt;/h3&gt;

&lt;p&gt;Meteor je v sekci hold a s tím souhlasím. Zatím tento framework ve mně
vyvolává spíš rozpaky než nadšení. Dart se taky drží v holdu. Mě Dart
zajímá z pohledu language designu a iženýringu, proč, co a jak dělaj. Ale
že bych ho v následujích letech měl používat si nedovedu
představit…&lt;/p&gt;

&lt;h3 id="toc-f"&gt;F#&lt;/h3&gt;

&lt;p&gt;Bohužel F# se na radaru moc nepohnul (stále trial) a myslím, že je to
škoda. Doufám, že se to do příště změní, přesto, že Microsoft má F#
spíš jako inkubátor zajímavých věcí (generics, type inference, async,
type providers, immutable), který pak flákne do mainstreamových jazyků jako
C# a VB. Mnozí si myslí, že jeho budoucnost a případné rozšíření je na
Monu. MonoDevelop už má stabilní language binging, který si člověk nemusí
ručně buildit. Mono má &lt;code&gt;fsc&lt;/code&gt; i &lt;code&gt;fsi&lt;/code&gt; v základní
distribuci.&lt;/p&gt;

&lt;p&gt;F# je čistý jazyk, ve kterém jdou složité koncepty vyjadřovat
jednoduše. Netrpí obskurní alegorickou dekorativností a při blbé
inicializaci fieldu přes kontruktor nemusím psát třikrát stejný kód (sice
ho za mě píše CodeRush, ale pořád je ve zdrojácích). V práci pořád
C#, ale osobní projekty rozhodně v F#.&lt;/p&gt;

&lt;h3 id="toc-nuget"&gt;NuGet&lt;/h3&gt;

&lt;p&gt;Na předchozím projektu jsme NuGet používali pouze pro správu externích
závislostí. Aktuálně ho používám i interně pro balíčkování
komponent a tvorbu různých konfigurací produktu. K tomuhle tématu se snad
ještě vrátím v samostatném spo­tu.&lt;/p&gt;

&lt;h3 id="toc-konfigurace-v-dns"&gt;Konfigurace v DNS&lt;/h3&gt;

&lt;p&gt;Na tohle se musim podívat blíž. Mám tušení, že to brzy použiju a snad
se k tomu vrátím i tady na blogu. :)&lt;/p&gt;

&lt;h3 id="toc-zaver"&gt;Závěr&lt;/h3&gt;

&lt;p&gt;Tak to je můj zkrácený pohled na technologický radar. Jak ho
vidíte vy?&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">"Miro se na devblogu trošku rozepsal":[http://devblog.cz/2012/10/thoughtworks-technology-radar-2012-10/] o tom, co ho zaujalo "v poslední vydání Technology Radaru":[http://www.thoughtworks.com/articles/technology-radar-october-2012] a na závěr vyzval k reakci. Tož tady je ta má.

Technology radar sleduji již nějaký ten rok. Srovnávám si sním svůj pohled na to, co vypadá perspektivně a co ne. Často se dost shodujeme, občas rozcházíme. Ale takový je život. Já tu vypíchnu věci, který mě překvapily nebo zaskočily.

Nědělejte feature banching
=================

S tímhle se ztotožňuji a preferuji chytřejší návrh, který umožňuje pružné nasazování featur změnou konfigurace a podle potřeby i za běhu. U služeb nebo produktů se tedy branchování vyhýbejte. Ale jak už to tak bývá, existují výjimky, kde se tato praktika naopak hodí. Jednou z nich jsou pull-requesty do OSS. Zde patří k etice odklonovat, odbranchovat a pak až dělat změny.

Micro služby
=========

Tahle technika souvisí s předchozím bodem na úrovni komponent. Místo komponent máme malé nezávislé služby, které spolu spolupracují. Umožňuje to rozpadnout velké aplikace na dílčí služby, které se samy o sobě lépe udržují i vyvýjí. Zajímavé je, že ESB je naproti tomu v hold. Z mého pohledu micro služby s ESB souvisí a nebo jsem jen zatim nenašel lepší způsob provázání micro služeb.

Automatizace vývojářské infrastruktury
=========================

Tohle je technika, kterou mi přineslo Continuous delivery. Na Webmiu jsme ji celkem slušně prověřili a dneska si bez ní nedovedu představit, že bych mohl pracovat. Rozhodně ne efektivně. Což pro změnu zase souvisí s následujícím bodem:

Rake pro automatizaci Java i .net
====================

S tímhle bodem bych byl schopnej souhlasit u projektu, kde je zapotřebí buildit i na jiných platformách, než jsou Windows. Jako mackař, bych občas uvítal, možnost dělat všechno v MacOS a nemuset do Parallels. Nadruhou stranu mi syntaxe Psake a fakt, že má za sebou kompletní PowerShell, vyhovuje tak, že to jsem schopný skousnout. :)

Takže tady se držím Psake, s kterým automatizuju nejem integrační build, ale i vývojářskou infrastrukturu. Jednoduchá syntaxe, mocný shell, snadná dokumentace scriptu, značná vyspělost tohoto  nástroje a dostupnost na všech windows jsou pro mě jednoznačná plus.

Angular a Knockout
=============

U mě jasně hraje prim AngularJS. Můj přístup k vývoji aplikací je s ním velmi kompatibilní. Naproti tomu KO vychází ze zmetku MVVM, který vychází z nepochopení MVC/MVP. Dále je vidět, že autor je webem nepolíbený a všechno co dělá to akorát zdůrazňuje. Viz neprefixovaný `data-bind` atribut, syntaxe v něm použitá, vlastní "elementy" definované pomocí komentářů a další podobná zvěrstva. Jo, jsou to detaily, ale pro ortodoxního webaře nepřekonatelný. :)

Meteor.js a Dart
==========

Meteor je v sekci hold a s tím souhlasím. Zatím tento framework ve mně vyvolává spíš rozpaky než nadšení. Dart se taky drží v holdu. Mě Dart zajímá z pohledu language designu a iženýringu, proč, co a jak dělaj. Ale že bych ho v následujích letech měl používat si nedovedu představit...

== F#

Bohužel F# se na radaru moc nepohnul (stále trial) a myslím, že je to škoda. Doufám, že se to do příště změní, přesto, že Microsoft má F# spíš jako inkubátor zajímavých věcí (generics, type inference, async, type providers, immutable), který pak flákne do mainstreamových jazyků jako C# a VB. Mnozí si myslí, že jeho budoucnost a případné rozšíření je na Monu. MonoDevelop už má stabilní language binging, který si člověk nemusí ručně buildit. Mono má `fsc` i `fsi` v základní distribuci.

F# je čistý jazyk, ve kterém jdou složité koncepty vyjadřovat jednoduše. Netrpí obskurní alegorickou dekorativností a při blbé inicializaci fieldu přes kontruktor nemusím psát třikrát stejný kód (sice ho za mě píše CodeRush, ale pořád je ve zdrojácích). V práci pořád C#, ale osobní projekty rozhodně v F#.

NuGet
=====

Na předchozím projektu jsme NuGet používali pouze pro správu externích závislostí. Aktuálně ho používám i interně pro balíčkování komponent a tvorbu různých konfigurací produktu. K tomuhle tématu se snad ještě vrátím v samostatném spotu.

Konfigurace v DNS
============

Na tohle se musim podívat blíž. Mám tušení, že to brzy použiju a snad se k tomu vrátím i tady na blogu. :)

Závěr
====

Tak to je můj zkrácený pohled na technologický radar. Jak ho vidíte vy?</raw>
    <author>Aleš Roubíček</author>
    <published>2012-10-31T10:07:08.620</published>
    <url>technologicky-radar</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2012-10-31T10:14:28.737</edited>
  </article>
  <article>
    <id>435</id>
    <title>Statické třídy</title>
    <description>Dnes se půjdeme poprat se statickýma třídama. </description>
    <html xml:space="preserve">
&lt;p&gt;Často se setkávám s celkem nepěkným nešvarem, kterým je
hrůzostrašné pojmenování &lt;strong&gt;statická třída.&lt;/strong&gt; Tenhle
problém se dotýká především C# vývojářů a trochu zasahuje i do Javy.
Když se podíváte na na ASP.NET, tak tam to je jedna statická třída vedle
druhý. Celý framework jsou nudle statických APIs a Singletonů. Co je na tom
tak špatnýho?&lt;/p&gt;

&lt;h3 id="toc-co-je-to-staticka-trida"&gt;Co je to statická třída?&lt;/h3&gt;

&lt;p&gt;Tak v první řadě je to blbost. Statická třída je špatné
pojmenování pro koncept obecně známý jako &lt;strong&gt;modul.&lt;/strong&gt;
A nemusíme chodit zrovna daleko. Naši nechtění &lt;a
href="http://msdn.microsoft.com/en-us/library/aaxss7da.aspx"&gt;bratia z VB.NET
tento koncept mají&lt;/a&gt; pojmenovaný správně. ;) Modul by ideálně měl být
souborem čistých funkcí. V ideálním (funkcionálním) světě bez
vedlejších efektů ale nežijeme a tak dochází k ovlivňování vnějšího
světa a v modulu máme i nějaké ty procedury. S tím se ještě
dá žít.&lt;/p&gt;

&lt;h3 id="toc-singleton"&gt;Singleton&lt;/h3&gt;

&lt;p&gt;Problém nastává, když začneme do našich modulů cpát stav, tak jak
jsme zvyklí u objektů. Tento koncept máme také již dávno zmapovaný a
pojmenovaný. Ano, jde o debilní (nechtěl jsme psát naivní) implementaci
Singletonu. Například Scala má pro singleton podporu přímo na úrovni
jazyka. Jenže na rozdíl od statické třídy může implementovat rozhraní.
Tudíž je to celkem dobrý koncept slučitelný s OO principy. Ne však
statická třída.&lt;/p&gt;

&lt;p&gt;Statická třída se nechová polymorfně (aka dynamic dispatch). Statická
třída nemůže implementovat rozhraní. Statická třída dost často brání
konkurenci a je těžké u nich dosáhnout mezivláknové bezpečnosti. Takže
statickou třídu jako náhradu singletonu nebrat! :)&lt;/p&gt;

&lt;h3 id="toc-mixin"&gt;Mixin&lt;/h3&gt;

&lt;p&gt;Další možné uplatnění statické třídy je definice extenzních metod.
Pokud jsou extenze opravdu pouze rozšířením rozhraní pomocí čistých
funkcí, vše je ok. Ale netahejte tam žádný stav, jinak se vracíme zpátky
k předchozímu bodu, a hledání takových chyb je snad ještě
vypečenější.&lt;/p&gt;

&lt;h3 id="toc-fluent-api"&gt;Fluent API&lt;/h3&gt;

&lt;p&gt;Statické třídy můžeme využívat jako syntaktické vstupní body pro
plynulá rozhraní. Jde jen o syntaktický cukr v DSL. Pokud jsou pocukrovaná
API dostupná i běžnými OO přístupy, pak je vše ok. Ale bacha ať
nedopadnete jako ASP.NET, kde alternativy neexistují a pak jste
pěkně v…&lt;/p&gt;

&lt;h3 id="toc-modul"&gt;Modul&lt;/h3&gt;

&lt;p&gt;Posledním užitím, které mě teď napadá (protože mám slabou
představivost na zrůdnosti), je již na začátku zmiňovaný modul.
Z pohledu funkcionálního přístupu je modul soubor funkcí, které operují
nad stejnými datovými strukturami. V lepších jazycích se dají moduly
otvírat a pak můžeme jejich funkce používat jako kostrukty jazyka. Ale to
bychom po C# chtěli už moc. Vlatně proč? Vžyť to umí i Java. ;)&lt;/p&gt;

&lt;h3 id="toc-zaver"&gt;Závěr&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;static class&lt;/code&gt; je jen implementační detail několika různých
konstruktů a proto by se v našem vyjadřování tento pojem neměl často
vyskytovat. Raději zmiňujte koncept, který máte konkrétně na mysli. Budou
vám rozumět jak programátoři z jiných jazyků, tak bude i snadněji
pochopitelné o co konkrétně vám jde. A nezapomeňte statická třída
není typ a už vůbec ne objekt. ;)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Často se setkávám s celkem nepěkným nešvarem, kterým je hrůzostrašné pojmenování **statická třída.**  Tenhle problém se dotýká především C# vývojářů a trochu zasahuje i do Javy. Když se podíváte na na ASP.NET, tak tam to je jedna statická třída vedle druhý. Celý framework jsou nudle statických APIs a Singletonů. Co je na tom tak špatnýho?

Co je to statická třída?
===================

Tak v první řadě je to blbost. Statická třída je špatné pojmenování pro koncept obecně známý jako **modul.** A nemusíme chodit zrovna daleko. Naši nechtění "bratia z VB.NET tento koncept mají":[http://msdn.microsoft.com/en-us/library/aaxss7da.aspx] pojmenovaný správně. ;) Modul by ideálně měl být souborem čistých funkcí. V ideálním (funkcionálním) světě bez vedlejších efektů ale nežijeme a tak dochází k ovlivňování vnějšího světa a v modulu máme i nějaké ty procedury. S tím se ještě dá žít.

Singleton
========

Problém nastává, když začneme do našich modulů cpát stav, tak jak jsme zvyklí u objektů. Tento koncept máme také již dávno zmapovaný a pojmenovaný. Ano, jde o debilní (nechtěl jsme psát naivní) implementaci Singletonu. Například Scala má pro singleton podporu přímo na úrovni jazyka. Jenže na rozdíl od statické třídy může implementovat rozhraní. Tudíž je to celkem dobrý koncept slučitelný s OO principy. Ne však statická třída.

Statická třída se nechová polymorfně (aka dynamic dispatch). Statická třída nemůže implementovat rozhraní. Statická třída dost často brání konkurenci a je těžké u nich dosáhnout mezivláknové bezpečnosti. Takže statickou třídu jako náhradu singletonu nebrat! :)

Mixin
=====

Další možné uplatnění statické třídy je definice extenzních metod. Pokud jsou extenze opravdu pouze rozšířením rozhraní pomocí čistých funkcí, vše je ok. Ale netahejte tam žádný stav, jinak se vracíme zpátky k předchozímu bodu, a hledání takových chyb je snad ještě vypečenější.

Fluent API
=========

Statické třídy můžeme využívat jako syntaktické vstupní body pro plynulá rozhraní. Jde jen o syntaktický cukr v DSL. Pokud jsou pocukrovaná API dostupná i běžnými OO přístupy, pak je vše ok. Ale bacha ať nedopadnete jako ASP.NET, kde alternativy neexistují a pak jste pěkně v...

Modul
======

Posledním užitím, které mě teď napadá (protože mám slabou představivost na zrůdnosti), je již na začátku zmiňovaný modul. Z pohledu funkcionálního přístupu je modul soubor funkcí, které operují nad stejnými datovými strukturami. V lepších jazycích se dají moduly otvírat a pak můžeme jejich funkce používat jako kostrukty jazyka. Ale to bychom po C# chtěli už moc. Vlatně proč? Vžyť to umí i Java. ;)

Závěr
======

`static class` je jen implementační detail několika různých konstruktů a proto by se v našem vyjadřování tento pojem neměl často vyskytovat. Raději zmiňujte koncept, který máte konkrétně na mysli. Budou vám rozumět jak programátoři z jiných jazyků, tak bude i snadněji pochopitelné o co konkrétně vám jde. A nezapomeňte statická třída není typ a už vůbec ne objekt. ;)
</raw>
    <author>Aleš Roubíček</author>
    <published>2012-12-01T08:39:42.370</published>
    <url>staticke-tridy</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2012-12-01T08:49:17.570</edited>
  </article>
  <article>
    <id>436</id>
    <title>Tak ještě jenou: Nepište zbytečný kód</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Každý napsaný kus kódu není žádný poklad, ale ve skutečnosti je to
náklad. Náklad na vytvoření, náklad na udržování a případná
překážka k dalšímu vývoji. Kód by měl být, co nejjednodušší, ale
nesmí tím trpět srozumitelnost.&lt;/p&gt;

&lt;h3 id="toc-explicitni-modifikatory-viditelnosti"&gt;Explicitní modifikátory
viditelnosti&lt;/h3&gt;

&lt;h3 id="toc-explicitni-this"&gt;Explicitní this&lt;/h3&gt;

&lt;h3 id="toc-explicitni-typove-sablony"&gt;Explicitní typové šablony&lt;/h3&gt;

&lt;h3 id="toc-explicitni-typy"&gt;Explicitní typy&lt;/h3&gt;

&lt;h3 id="toc-madarske-notace"&gt;Maďarské notace&lt;/h3&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Každý napsaný kus kódu není žádný poklad, ale ve skutečnosti je to náklad. Náklad na vytvoření, náklad na udržování a případná překážka k dalšímu vývoji. Kód by měl být, co nejjednodušší, ale nesmí tím trpět srozumitelnost.

Explicitní modifikátory viditelnosti
====================================


Explicitní this
===============

Explicitní typové šablony
=========================

Explicitní typy
===============

Maďarské notace
===============</raw>
    <author>Aleš Roubíček</author>
    <published>2012-12-20T09:49:25.913</published>
    <url>nepiste-zbytecny-kod-2</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>0</is-published>
    <edited>2012-12-20T13:06:05.207</edited>
  </article>
  <article>
    <id>437</id>
    <title>CI tip: Neočekávejte</title>
    <description>Malá ukázka toho, jak si s CI usnadňovat život.</description>
    <html xml:space="preserve">
&lt;p&gt;Jednou z dobrých praktik v Continuous Integration je, nemít žádná
očekávání. Repository musí obsahovat vše, co vývojář potřebuje
k bezproblémovému vývoji. Ok, minimální subset jako OS a SDK
předpokládat můžeme. Ale nic nám nebrání v tom, připravit script,
který potřebná SDK a nástroje nainstaluje a nastaví.&lt;/p&gt;

&lt;h3 id="toc-maly-priklad-z-praxe"&gt;Malý příklad z praxe&lt;/h3&gt;

&lt;p&gt;Vezměme si reálný scénář. V teamu máme lokální nuget server, kde
jsou k dispozici balíčky s interními komponentami. Pro správný chod musí
mít každý nastavenou adresu lokálního serveru ve zdrojích ve svém Visual
Studiu, každý nový vývojář si to musí nastavit. Jinak se balíčky
neaktualizují. Kde takovou informaci udržovat? Má být ve wiki, kterou nikdo
nečte? Má být v &lt;code&gt;readme&lt;/code&gt; souboru v repository? Nejlepší je
najít automatické řešení, na které už nikdo nemusí myslet!&lt;/p&gt;

&lt;p&gt;NuGet například umožňuje &lt;a
href="http://blog.cincura.net/233131-using-per-solutionproject-nuget-package-sources-in-visual-studio/"&gt;definovat
vlastní zdroje v konfiguračním souboru&lt;/a&gt;, který se vztahuje k projektu.
Jednou do repository přidáte tento soubor a máte vystaráno. Všichni kdo si
otevřou projekt mají již vlastní zdroj balíčků nakonfigurovaný, aniž by
museli něco řešit. A to jen pro aktuální projekt. Takže je to řešení
nejen nevyžadující aktivitu, ale je i celkem čisté. Win win situace.&lt;/p&gt;

&lt;p&gt;A navíc to funguje i na integračním serveru, protože ten je taky
součástí teamu. ;)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Jednou z dobrých praktik v Continuous Integration je, nemít žádná očekávání. Repository musí obsahovat vše, co vývojář potřebuje k bezproblémovému vývoji. Ok, minimální subset jako OS a SDK předpokládat můžeme. Ale nic nám nebrání v tom, připravit script, který potřebná SDK a nástroje nainstaluje a nastaví.

Malý příklad z praxe
====================

Vezměme si reálný scénář. V teamu máme lokální nuget server, kde jsou k dispozici balíčky s interními komponentami. Pro správný chod musí mít každý nastavenou adresu lokálního serveru ve zdrojích ve svém Visual Studiu, každý nový vývojář si to musí nastavit. Jinak se balíčky neaktualizují. Kde takovou informaci udržovat? Má být ve wiki, kterou nikdo nečte? Má být v `readme` souboru v repository? Nejlepší je najít automatické řešení, na které už nikdo nemusí myslet!

NuGet například umožňuje "definovat vlastní zdroje v konfiguračním souboru":[http://blog.cincura.net/233131-using-per-solutionproject-nuget-package-sources-in-visual-studio/], který se vztahuje k projektu. Jednou do repository přidáte tento soubor a máte vystaráno. Všichni kdo si otevřou projekt mají již vlastní zdroj balíčků nakonfigurovaný, aniž by museli něco řešit. A to jen pro aktuální projekt. Takže je to řešení nejen nevyžadující aktivitu, ale je i celkem čisté. Win win situace.

A navíc to funguje i na integračním serveru, protože ten je taky součástí teamu. ;)

</raw>
    <author>Aleš Roubíček</author>
    <published>2013-01-03T12:11:06.957</published>
    <url>ci-tip-neocekavejte</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>ci nuget</tags>
    <is-published>1</is-published>
    <edited>2013-01-03T12:11:34.870</edited>
  </article>
  <article>
    <id>438</id>
    <title>Alessio Busta - Vesper</title>
    <description>Po delší době nějaká ta hudba k tanci i poslechu.</description>
    <html xml:space="preserve">
&lt;p&gt;Po delší době nějaká ta hudba k tanci i poslechu. Back to basics.&lt;/p&gt;

&lt;div class="haudio"&gt;
	&lt;ol&gt;
		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Pink Floyd&lt;/span&gt; — &lt;span
		class="title"&gt;Is There Anybody Out There?&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Ame&lt;/span&gt; — &lt;span
		class="title"&gt;Rej&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Christian Smith&lt;/span&gt; — &lt;span
		class="title"&gt;Cinnamon&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Oliver Huntemann&lt;/span&gt; — &lt;span
		class="title"&gt;Decks &amp;amp; The City&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Marc Romboy&lt;/span&gt; &amp;amp; &lt;span
		class="contributor"&gt;Stephan Bodzin&lt;/span&gt; — &lt;span class="title"&gt;Atlas –
		Gui Boratto Remix&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Christian Smith&lt;/span&gt; — &lt;span
		class="title"&gt;Flyertalk&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Cirez D&lt;/span&gt; — &lt;span
		class="title"&gt;Teaser – Oliver Huntemann Remix&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Paperclip People&lt;/span&gt; — &lt;span
		class="title"&gt;4 My Pepz – Dubfire Rework&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Jesper Dahlback&lt;/span&gt; — &lt;span
		class="title"&gt;Alright&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Sasha&lt;/span&gt; — &lt;span
		class="title"&gt;Smoke Cone&lt;/span&gt;&lt;/li&gt;

		&lt;li class="item"&gt;&lt;span class="contributor"&gt;Udo Kier&lt;/span&gt; feat. &lt;span
		class="contributor"&gt;Nicolette Krebitz&lt;/span&gt; — &lt;span
		class="title"&gt;Prayer – Gui Boratto Mix&lt;/span&gt;&lt;/li&gt;
	&lt;/ol&gt;

	&lt;p&gt;&lt;span class="category"&gt;dj set&lt;/span&gt; &lt;span class="contributor"&gt;Alessio
	Busta&lt;/span&gt; – &lt;span class="title"&gt;Vesper&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;!--[if !IE]&gt; --&gt;
 			&lt;object type="application/x-shockwave-flash"
data="//www.mixcloud.com/media/swf/player/mixcloudLoader.swf?feed=http%3A%2F%2Fwww.mixcloud.com%2Falessiobusta%2Fvesper%2F&amp;amp;embed_uuid=1be44f82-16ff-46ff-94f0-7b28c82493e8&amp;amp;stylecolor=&amp;amp;embed_type=widget_standard"
width="100%" height="160"&gt;
 			&lt;!-- &lt;![endif]--&gt;
 			&lt;!--[if IE]&gt;
			&lt;object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
			  codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"
			  width="100%" height="160"&gt;
			  &lt;param name="movie" value="//www.mixcloud.com/media/swf/player/mixcloudLoader.swf?feed=http%3A%2F%2Fwww.mixcloud.com%2Falessiobusta%2Fvesper%2F&amp;amp;embed_uuid=1be44f82-16ff-46ff-94f0-7b28c82493e8&amp;amp;stylecolor=&amp;amp;embed_type=widget_standard" /&gt;
			&lt;!--&gt;&lt;!--dgx--&gt;
&lt;param name="loop" value="true" /&gt;

&lt;param name="menu" value="false" /&gt;

&lt;param name="allowfullscreen" value="true" /&gt;

&lt;param name="flashvars" value="" /&gt;
 			&lt;/object&gt;
 			&lt;!-- &lt;![endif]--&gt;
&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Po delší době nějaká ta hudba k tanci i poslechu. Back to basics.

/--div .[haudio]
1. "Pink Floyd .[contributor]" — "Is There Anybody Out There? .[title]" .[item]
2. "Ame .[contributor]" — "Rej .[title]" .[item]
3. "Christian Smith .[contributor]" — "Cinnamon .[title]" .[item]
4. "Oliver Huntemann .[contributor]" — "Decks &amp; The City .[title]" .[item]
5. "Marc Romboy .[contributor]" &amp; "Stephan Bodzin .[contributor]" — "Atlas - Gui Boratto Remix .[title]" .[item]
6. "Christian Smith .[contributor]" — "Flyertalk .[title]" .[item]
7. "Cirez D .[contributor]" — "Teaser - Oliver Huntemann Remix .[title]" .[item]
8. "Paperclip People .[contributor]" — "4 My Pepz - Dubfire Rework .[title]" .[item]
9. "Jesper Dahlback .[contributor]" — "Alright .[title]" .[item]
10. "Sasha .[contributor]" — "Smoke Cone .[title]" .[item]
10. "Udo Kier .[contributor]" feat. "Nicolette Krebitz .[contributor]" — "Prayer - Gui Boratto Mix .[title]" .[item]

"dj set .[category]" "Alessio Busta .[contributor]" - "Vesper .[title]"
\--div

{{flash: //www.mixcloud.com/media/swf/player/mixcloudLoader.swf?feed=http%3A%2F%2Fwww.mixcloud.com%2Falessiobusta%2Fvesper%2F&amp;embed_uuid=1be44f82-16ff-46ff-94f0-7b28c82493e8&amp;stylecolor=&amp;embed_type=widget_standard, 100%, 160 }}</raw>
    <author>alessio busta</author>
    <published>2013-01-23T09:38:53.020</published>
    <url>alessio-busta-vesper</url>
    <category>Muzika</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2013-01-23T09:39:45.810</edited>
  </article>
  <article>
    <id>439</id>
    <title>CodeRush - editor na steroidech</title>
    <description>Borek měl pár pěkných výtek, k editoru kódu ve Visual Studiu. Jsou to veci nepříjemné, ale já si je díky CodeRushi neuvědomuju. Proč? Čtěte dál.</description>
    <html xml:space="preserve">
&lt;p&gt;V čem &lt;a
href="http://devblog.cz/2013/02/co-mi-vadi-na-visual-studiu/"&gt;musím s Borkem
souhlasit&lt;/a&gt; je, že Visual Studio má opravdu debilní editor kódu. Jenže je
to věc, kterou si uvědomuju pouze ve chvílích, kdy sedím před studiem,
které nemá nainstalovaný &lt;a
href="http://www.devexpress.com/Products/Visual_Studio_Add-in/Coding_Assistance/index.xml"&gt;CodeRush&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;CodeRush toho podobně jako ořezávátko umí celkem hodně, ale v čem
opravdu vyniká je editace kódu.&lt;/p&gt;

&lt;p&gt;K Borkovým bodům:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;code&gt;Shift+Enter&lt;/code&gt; duplikuje řádky a navíc skočí na symbol,
	který je aktuálně v rozporu a je třeba ho upravit.&lt;/li&gt;

	&lt;li&gt;samotná reindentace je pro mě jen poloviční řešení, používám vždy
	reformát &lt;code&gt;Ctrl+K,D&lt;/code&gt;, abych udržoval kód konzistentní s coding
	standardem.&lt;/li&gt;

	&lt;li&gt;na přesouvání řádku &lt;a
	href="http://code.google.com/p/dxcorecommunityplugins/wiki/DX_MoveCode"&gt;existuje
	plugin&lt;/a&gt;, nepoužívám.&lt;/li&gt;

	&lt;li&gt;&lt;a
	href="http://www.devexpress.com/Products/Visual_Studio_Add-in/Coding_Assistance/clipboard_tools.xml"&gt;Smart
	Copy&lt;/a&gt;, řeší odsazování i formátování, navíc má kontextovou
	citlivost. Když zkopíruju deklaraci fieldu a vložím ji do konstruktoru,
	vloží se jeho inicializace apod.&lt;/li&gt;

	&lt;li&gt;mazání řádků funguje přes &lt;code&gt;Shift+Delete&lt;/code&gt;&lt;/li&gt;

	&lt;li&gt;&lt;code&gt;Ctrl+click&lt;/code&gt; je značně neefektivní způsob navigace. VS umí
	&lt;code&gt;F12&lt;/code&gt; pro skok na deklaraci, CR přidává &lt;code&gt;Tab&lt;/code&gt; pro
	navigaci po symbolech, &lt;code&gt;Shift+F12&lt;/code&gt; pro seznam všech referencí
	v solution a &lt;code&gt;Ctrl+Alt+N&lt;/code&gt; pro kontextovou navigaci (potomci,
	předkové, implementace, přetížení…).&lt;/li&gt;

	&lt;li&gt;Na místo poslední editace mě přenese &lt;code&gt;Esc&lt;/code&gt; (pakliže
	refactoring zanechal značku nebo jsem si značku vložil sám pomocí
	&lt;code&gt;Alt+Home&lt;/code&gt;). Značky fungují na principu zásobníku. Přidávat lze
	i permanentní značky pod číslem, pakliže někam skáčete pravidelně.
	(&lt;code&gt;Ctrl+Alt+číslo&lt;/code&gt; pro vložení značky, &lt;code&gt;Atl+číslo&lt;/code&gt;
	pro skok na značku.&lt;/li&gt;

	&lt;li&gt;přehledy brzdí, důležitá je &lt;a
	href="http://www.devexpress.com/Products/Visual_Studio_Add-in/Coding_Assistance/navigation_tools.xml"&gt;rychlá
	kontextová navigace&lt;/a&gt;. &lt;code&gt;Ctrl+Alt+F&lt;/code&gt; pro soubory,
	&lt;code&gt;Ctrl+Alt+.&lt;/code&gt; pro naposledy použité soubory a
	&lt;code&gt;Ctrl+Shift+Q&lt;/code&gt; pro navigaci po memberech.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Něco na víc:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;code&gt;Alt+←/→&lt;/code&gt; funguje podobně jako &lt;code&gt;Ctrl+←/→&lt;/code&gt;
	akorát i po jednotlivých slovech v camel/PascalCase symbolech. Stejně tak
	funguje &lt;code&gt;Alt&lt;/code&gt; ve spojení s klávesami &lt;code&gt;Shift&lt;/code&gt; a
	&lt;code&gt;Delete&lt;/code&gt; pro výběr, či smazáni textu.&lt;/li&gt;

	&lt;li&gt;&lt;code&gt;Ctrl+&lt;/code&gt;&lt;code&gt;`&lt;/code&gt; pro refactoring.&lt;/li&gt;

	&lt;li&gt;&lt;code&gt;F2&lt;/code&gt; neskutečně rychlý inline Rename.&lt;/li&gt;

	&lt;li&gt;historie schránky&lt;/li&gt;

	&lt;li&gt;&lt;a
	href="http://www.devexpress.com/Products/Visual_Studio_Add-in/Coding_Assistance/automatic_code_generation.xml"&gt;inteligentní
	šablony&lt;/a&gt;&lt;/li&gt;

	&lt;li&gt;smart semicolon&lt;/li&gt;

	&lt;li&gt;zen coding&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;…a spousta dalších věcí, ke kterým se dostanem třeba jindy.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">V čem "musím s Borkem souhlasit":[http://devblog.cz/2013/02/co-mi-vadi-na-visual-studiu/] je, že Visual Studio má opravdu debilní editor kódu. Jenže je to věc, kterou si uvědomuju pouze ve chvílích, kdy sedím před studiem, které nemá nainstalovaný CodeRush:[http://www.devexpress.com/Products/Visual_Studio_Add-in/Coding_Assistance/index.xml].

CodeRush toho podobně jako ořezávátko umí celkem hodně, ale v čem opravdu vyniká je editace kódu.

K Borkovým bodům:

* `Shift+Enter` duplikuje řádky a navíc skočí na symbol, který je aktuálně v rozporu a je třeba ho upravit.
* samotná reindentace je pro mě jen poloviční řešení, používám vždy reformát `Ctrl+K,D`, abych udržoval kód konzistentní s coding standardem.
* na přesouvání řádku "existuje plugin":[http://code.google.com/p/dxcorecommunityplugins/wiki/DX_MoveCode], nepoužívám.
* "Smart Copy":[http://www.devexpress.com/Products/Visual_Studio_Add-in/Coding_Assistance/clipboard_tools.xml], řeší odsazování i formátování, navíc má kontextovou citlivost. Když zkopíruju deklaraci fieldu a vložím ji do konstruktoru, vloží se jeho inicializace apod.
* mazání řádků funguje přes `Shift+Delete`
* `Ctrl+click` je značně neefektivní způsob navigace. VS umí `F12` pro skok na deklaraci, CR přidává `Tab` pro navigaci po symbolech, `Shift+F12` pro seznam všech referencí v solution a `Ctrl+Alt+N` pro kontextovou navigaci (potomci, předkové, implementace, přetížení...).
* Na místo poslední editace mě přenese `Esc` (pakliže refactoring zanechal značku nebo jsem si značku vložil sám pomocí `Alt+Home`). Značky fungují na principu zásobníku. Přidávat lze i permanentní značky pod číslem, pakliže někam skáčete pravidelně. (`Ctrl+Alt+číslo` pro vložení značky, `Atl+číslo` pro skok na značku.
* přehledy brzdí, důležitá je "rychlá kontextová navigace":[http://www.devexpress.com/Products/Visual_Studio_Add-in/Coding_Assistance/navigation_tools.xml]. `Ctrl+Alt+F` pro soubory, `Ctrl+Alt+.` pro naposledy použité soubory a `Ctrl+Shift+Q` pro navigaci po memberech.

Něco na víc:

* `Alt+←/→` funguje podobně jako `Ctrl+←/→` akorát i po jednotlivých slovech v camel/PascalCase symbolech. Stejně tak funguje `Alt` ve spojení s klávesami `Shift` a `Delete` pro výběr, či smazáni textu.
* `Ctrl+```` pro refactoring.
* `F2` neskutečně rychlý inline Rename.
* historie schránky
* "inteligentní šablony":[http://www.devexpress.com/Products/Visual_Studio_Add-in/Coding_Assistance/automatic_code_generation.xml]
* smart semicolon
* zen coding

...a spousta dalších věcí, ke kterým se dostanem třeba jindy.</raw>
    <author>Aleš Roubíček</author>
    <published>2013-02-15T10:18:53.813</published>
    <url>coderush-editor-na-steroidech</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>CodeRush</tags>
    <is-published>1</is-published>
    <edited>2013-02-15T16:22:58.790</edited>
  </article>
  <article>
    <id>440</id>
    <title>Funkcionální přístup ke kolekcím</title>
    <description>Dneska zabrousíme do vod funkcionálních a ukážeme si implementaci některých důležitých funkcí vyššího řádu.</description>
    <html xml:space="preserve">
&lt;p&gt;Když vidíte začátečníka pracovat s kolekcemi, často se setkáte
s tím, že možností první volby je iterace pomocí cyklů a změna stavu.
Díky tomu máme spoustu rozbitých aplikací. Ruku na srdce, kdo z vás nemá
ve své codebase něco podobného:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;var list = new List();
foreach (var item in someCollection) {
  // ... some work
  list.Add(item);
}
return list;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Nádhera! :)&lt;/p&gt;

&lt;p&gt;Zapomeňte na cykly a mutace, kdo se v tom má vyznat a hledat chyby? Buďte
deklarativní.&lt;/p&gt;

&lt;h3 id="toc-disclaimer"&gt;Disclaimer&lt;/h3&gt;

&lt;p&gt;Následující řádky používají techniku obvyklou ve funkcionálních
jazycích – rekurzi. Je dost možné, že váš jazyk nemá podporu na
úrovni kompilátoru pro rekurzi (tail recursion se optimalizuje tak, že se
přepíše na cyklus) a může docházet k tomu, že vám bude přetékat
zásobník. V první řadě vždy musíte vědět, co děláte. Ale to platí
obecně o všem v programování. C# optimalizovat rekurzi neumí, přesto
můžete používat funkcionální koncepty, např. LINQ, který je
implementovaný pomocí iterátorů. Následující ukázky budou v F#, který
rekurzi optimalizovat umí.&lt;/p&gt;

&lt;p&gt;Všechny ukázky si můžete vyzkoušet přímo ve vašem prohlížeči na
webu &lt;a href="http://www.tryfsharp.org/create/rarous/HigherOrderListOps.fsx"&gt;Try
F#&lt;/a&gt;. Jednotlivé ukázky stačí označit a stisknout
&lt;code&gt;Ctrl+Enter&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Článek vychází z &lt;a
href="http://matt.might.net/articles/higher-order-list-operations/"&gt;Higher-order
list operations&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id="toc-rekurze"&gt;Rekurze&lt;/h3&gt;

&lt;p&gt;Když zjistíte, že cykly ne, většinou přejdete na rekurzi. Častou
chybou však je, že píšete příliš mnoho kódu. Proč? Protože vám třeba
chybí znalosti o knihovnách nebo konstruktech jazyka, které nám umožní
psát kódu méně. Pojďme si ukázat, jak psát kódu méně a jak některé
knihovní funkce vlastně fungují.&lt;/p&gt;

&lt;h3 id="toc-pricitani-jedne"&gt;Přičítání jedné&lt;/h3&gt;

&lt;p&gt;Máme za úkol napsat funkci, která projde seznam čísel a přičte ke
každému prvku jedničku. V implementaci použijeme datovou strukturu spojový
seznam (v C# spíše než &lt;code&gt;LinkedList&amp;lt;T&amp;gt;&lt;/code&gt; použijeme
&lt;code&gt;ImmutableList&amp;lt;T&amp;gt;&lt;/code&gt; z NuGet balíčku
&lt;code&gt;Microsoft.Bcl.Immutable&lt;/code&gt;) a využijeme rekurze:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-fsharp"&gt;let rec add1 lst =
    if List.isEmpty lst then []
    else (List.head lst) + 1 :: add1 (List.tail lst)

add1 [1; 2; 3]&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Že jde o rekurzivní funkci nám říká klíčové slovo &lt;code&gt;rec&lt;/code&gt;.
Funguje to tak, že vezmu první prvek seznamu a přičtu k němu jedničku,
ten pak připojím k seznamu (operátor &lt;code&gt;::&lt;/code&gt;), který se spočítá
obdobně ze zbytku vstupního seznamu. Pokud je seznam prázdný (nebo jsme
došli na konec – každý spojový seznam končí prázdným polem),
vrátíme prázdný seznam. Tím se nám rekurze ukončí.&lt;/p&gt;

&lt;h3 id="toc-odcitani-jedne"&gt;Odčítání jedné&lt;/h3&gt;

&lt;p&gt;Obdobně naimplementujeme i odčítání:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-fsharp"&gt;let rec sub1 lst =
    if List.isEmpty lst then []
    else (List.head lst) - 1 :: sub1 (List.tail lst)

sub1 [1; 2; 3]&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Ok, máme funkcionální datovou strukturu, máme rekurzi, je to už teda
funkcionální kód?&lt;/p&gt;

&lt;p&gt;Tak určitě ne.&lt;/p&gt;

&lt;h3 id="toc-knihovni-funkce"&gt;Knihovní funkce&lt;/h3&gt;

&lt;p&gt;Další častou chybou je používání podmínek a ukecaného kódu vůbec.
Navíc když se na obě funkce podíváme blíže, zjistíme, že to jsou
v podstatě duplicity a jediné, co je odlišuje, je operace sčítání nebo
odčítání. Když se oprostíme od implementačních detailů, zjistíme, že
neděláme nic jiného než mapování. A tak jde kód přepsat do
jednodušší podoby:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-fsharp"&gt;let inc x = x + 1
let dec x = x - 1

List.map inc [1; 2; 3]
List.map dec [1; 2; 3]&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Nejprve jsme si definovali pomocné funkce pro inkrementaci a dekrementaci
prvku a pak použili knihovní funkci &lt;code&gt;List.map&lt;/code&gt;, která projde
všechny prvky seznamu a na každý aplikuje předanou funkci (v C# je obdobou
&lt;code&gt;Enumerable.Select&lt;/code&gt;). Důležitým detailem, který nemusí být na
první pohled zřejmý, je, že nedojde k úpravě předaného seznamu, ale
k vytvoření seznamu nového.&lt;/p&gt;

&lt;h3 id="toc-high-order-function"&gt;High order function&lt;/h3&gt;

&lt;p&gt;Jak bychom takovou funkci &lt;code&gt;map&lt;/code&gt; naimplementovali? Zkusíme to
pomocí jednoduché generalizace našich funkcí &lt;code&gt;add1&lt;/code&gt; a
&lt;code&gt;sub1&lt;/code&gt;. Už jsme si říkali, že se liší jen v operaci
přičtení/odečtení jedničky. Takže z našich funkcí vytvoříme funkci
vyššího řádu:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-fsharp"&gt;let rec map f lst =
    if List.isEmpty lst then []
    else f(List.head lst)::map f (List.tail lst)

map inc [1 .. 3]&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Funkce vyššího řádu se vyznačují tím, že jako parametr přijímají
jinou funkci, která definuje, co se uvnitř bude dít (obdoba vzoru strategie
z objektového světa). Funkce je takřka stejná jako naše konkrétní
ukázky. Jediný rozdíl je, že nyní aplikujeme předanou funkci na první
prvek seznamu a pak už je to stejný. Teď tedy máme funkci vyššího řádu,
ale pořád je toho kódu zbytečně moc.&lt;/p&gt;

&lt;h3 id="toc-pattern-matching"&gt;Pattern matching&lt;/h3&gt;

&lt;p&gt;Další skvělou vlastností mnoha funkcionálních jazyků je &lt;em&gt;pattern
matching&lt;/em&gt; – volba výsledku na základě strukturální podobnosti. Naši
&lt;code&gt;map&lt;/code&gt; funkci můžeme hezky zjednodušit na:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-fsharp"&gt;let rec mapMatch f lst =
    match lst with
    | [] -&amp;gt; []
    | head::tail -&amp;gt; f head::mapMatch f tail

mapMatch dec [1 .. 3]&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Kód je de facto stejný jako v předchozím případě, jen nám zmizelo
volání knihovních funkcí &lt;code&gt;List.isEmpty&lt;/code&gt;, &lt;code&gt;List.head&lt;/code&gt; a
&lt;code&gt;List.tail&lt;/code&gt; a místo nich máme vzory. Prázdný seznam se mapuje na
prázdný seznam, seznam s nějakým prvkem se dle vzoru rozdělí na
&lt;code&gt;head&lt;/code&gt; a &lt;code&gt;tail&lt;/code&gt;. Na &lt;code&gt;head&lt;/code&gt; se aplikuje funkce a
nový &lt;code&gt;tail&lt;/code&gt; se vypočítá rekurzí.&lt;/p&gt;

&lt;h3 id="toc-list-comprehension"&gt;List comprehension&lt;/h3&gt;

&lt;p&gt;Možná jste si všimli, že jsem v ukázkách najednou přestal psát
&lt;code&gt;[1; 2; 3;]&lt;/code&gt; pro vytvoření seznamu tří čísel, ale přešel
k zápisu &lt;code&gt;[1 .. 3]&lt;/code&gt;. Funkcionální jazyky mívají pro kolekce
větší pochopení a tak nezvládají jen tupé vyjmenování prvků, ale
rozumí i složitějším konstrukcím pro vytvoření seznamu (platí i pro
pole a sekvence). Zde byl použit operátor rozsahu &lt;code&gt;..&lt;/code&gt;. Ve
skutečnosti můžeme jít mnohem dál a aplikovat třeba rovnou
i mapování:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-fsharp"&gt;[for x in 1 .. 3 -&amp;gt; x + 1]&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Výsledek je stejný jako v předchozích příkladech. Kód je minimální.
Myšlenka zřejmá.&lt;/p&gt;

&lt;h3 id="toc-filtrovani-kolekci"&gt;Filtrování kolekcí&lt;/h3&gt;

&lt;p&gt;Další možností, kde můžeme využít funkce vyššího řádu a
pokusíme se zbavit podmínek, je filtrování kolekcí. Funkce
&lt;code&gt;filter&lt;/code&gt; vrací prvky ze vstupního pole, které splňují předaný
predikát:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-fsharp"&gt;let even x = x % 2 = 0

let rec filter p lst =
    if List.isEmpty lst then []
    elif p (List.head lst) then List.head lst::filter p (List.tail lst)
    else filter p (List.tail lst)

filter even [1 .. 10]&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Nejprve jsme si definovali predikát pro sudá čísla, který budeme
používat i v dalších ukázkách, a pak funkci &lt;code&gt;filter&lt;/code&gt;
implementovanou pomocí podmínek a knihovních funkcí (F# má samozřejmě
funkci &lt;code&gt;List.filter&lt;/code&gt; již implementovanou, v C# ji hledejte pod
názvem &lt;code&gt;Enumerable.Where&lt;/code&gt;). Filtr je o něco složitější než
mapování, protože se musíme rozhodnout, které prvky chceme a které ne. Ty
prvky, které splňují predikát připojíme před zbytek počítaného
seznamu. Pokud prvek predikát nesplňuje, pokračuje dál ve výpočtu seznamu.
U prázdného seznamu ukončíme rekurzi.&lt;/p&gt;

&lt;p&gt;S využitím pattern matchingu kód vypadá následovně:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-fsharp"&gt;let rec filterMatch p lst =
    match lst with
    | [] -&amp;gt; []
    | hd::tl when p hd -&amp;gt; hd::filterMatch p tl
    | hd::tl -&amp;gt; filterMatch p tl

filterMatch even [1 .. 10]&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Pěkné, že? A ještě ukázka s &lt;em&gt;list comprehension&lt;/em&gt;:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-fsharp"&gt;[for x in 1 .. 10 do if even x then yield x]&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Všimněte si, že zde se nám šipka &lt;code&gt;-&amp;gt;&lt;/code&gt; z ukázky pro
mapování změnila na &lt;code&gt;do ... yield&lt;/code&gt;. Schválně si to zkuste, že
jde o stejný kód. Tady už bohužel kompaktní zápis nefunguje, protože tam
potřebujeme vložit filtrovací podmínku.&lt;/p&gt;

&lt;h3 id="toc-agregace-kolekci"&gt;Agregace kolekcí&lt;/h3&gt;

&lt;p&gt;Další častou operací, kterou se seznamy můžeme dělat, je jejich
agregace. Ve funkcionálních jazycích se často můžeme potkat s funkcí
&lt;code&gt;fold&lt;/code&gt; (v C# &lt;code&gt;Enumerable.Aggregate&lt;/code&gt;):&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-fsharp"&gt;let rec foldr cons nil lst =
    match lst with
    | [] -&amp;gt; nil
    | hd::tl -&amp;gt; cons hd (foldr cons nil tl)

foldr (+) 0 [1 .. 4]&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Parametr &lt;code&gt;cons&lt;/code&gt; je konstrukční funkce výsledku,
&lt;code&gt;nil&lt;/code&gt; reprezentuje prázdný prvek.&lt;/p&gt;

&lt;p&gt;A ještě &lt;em&gt;tail recursive&lt;/em&gt; varianta pro efektivnější zpracování
kompilátorem:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-fsharp"&gt;let rec foldl cons nil lst =
    match lst with
    | [] -&amp;gt; nil
    | hd::tl -&amp;gt; foldl cons (cons hd nil) tl

foldl (+) 0 [1 .. 4]&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id="toc-zipovani"&gt;Zipování&lt;/h3&gt;

&lt;p&gt;Další velice důležitou funkcí je &lt;code&gt;zip&lt;/code&gt;, která vezme dva
seznamy a vytvoří z nich jeden tvořený dvojicemi, podobně jako zip
u vaší bundy.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-fsharp"&gt;let rec zip lst1 lst2 =
    match lst1, lst2 with
    | [], [] -&amp;gt; []
    | hd1::tl1, hd2::tl2 -&amp;gt; (hd1, hd2)::zip tl1 tl2

zip [1 .. 3] ['a' .. 'c']&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Žádný velký objev. :) Novinkou je matchování na více prvků a
zavedení n-tic (tuples). Zip je velice šikovná funkce. Schválně jestli vás
napadne nějaké rozumné užití. Nebojte se o něj podělit třeba
v komentářích.&lt;/p&gt;

&lt;p&gt;Také si všimněte, že tu mícháme jabka (&lt;code&gt;int&lt;/code&gt;) s hruškama
(&lt;code&gt;char&lt;/code&gt;) a vše funguje. Není to tím, že by F# byl slabě typový,
ale tím, že naše funkce jsou plně generické! Schválně si zkuste
v předchozích ukázkách změnit vstupní data.&lt;/p&gt;

&lt;h3 id="toc-rozepnuti"&gt;Rozepnutí&lt;/h3&gt;

&lt;p&gt;Opakem zipování je &lt;code&gt;unzip&lt;/code&gt;, která nám ze seznamu dvojic
udělá dva seznamy prvků. A protože nám tato funkce vrací dva seznamy,
začíná to být trochu tricky:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-fsharp"&gt;let rec unzip lst =
    match lst with
    | [] -&amp;gt; ([], [])
    | (x, y)::tl -&amp;gt;
        let (xs, ys) = unzip tl
        (x::xs, y::ys)

unzip [(1, 'a'); (2, 'b'); (3, 'c')]&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Taková nepěkná věc je, že si musíme začít pamatovat výsledek
rekurzivního volání, se kterým dále pracujeme. Všimněte si také, že F#
umí rozpadnout n-tici do samostatných chlívečků. Nebudu říkat
proměnných, protože &lt;code&gt;let&lt;/code&gt; vazba je neměnná.&lt;/p&gt;

&lt;h3 id="toc-continuation"&gt;Continuation&lt;/h3&gt;

&lt;p&gt;Co bychom to byly za funkcionáře, kdybychom nechali takové imperativní
přiřazování v naší jinak čisté implementaci? Jak se jen zbavit
přiřazení? Co třeba za pomocí continuation? Nic vám to neříká? Co
třeba callback? Ten už jistě znáte. :)&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-fsharp"&gt;let rec unzipk k lst =
    match lst with
    | [] -&amp;gt; k [] []
    | (x, y)::tl -&amp;gt; unzipk (fun xs ys -&amp;gt; k (x::xs) (y::ys)) tl

unzipk (fun xs ys -&amp;gt; xs) [(1, 'a'); (2, 'b'); (3, 'c')]&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;V této formě musí uživatel funkce přidat callback, ale na druhou stranu
si může vybírat, co vlastně chce za výsledek. Funkcionální kompozice
je mocná.&lt;/p&gt;

&lt;h3 id="toc-partitioning"&gt;Partitioning&lt;/h3&gt;

&lt;p&gt;Partitioning je něco jako filtrování, jen nám opět vrací dva seznamy.
Jeden s pozitivními výsledky a druhý s negativními:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-fsharp"&gt;let rec partition p lst =
    match lst with
    | [] -&amp;gt; ([], [])
    | hd::tl -&amp;gt;
        let (ins, outs) = partition p tl
        if p hd then (hd::ins, outs)
        else (ins, hd::outs)

partition even [1 .. 10]&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Implementace je dost podobná unzipování, jen teď máme na vstupu pouze
jeden prvek a rozhodujeme se, do kterého seznamu ho zařadíme. A opět
můžeme implementaci udělat pomocí continuation:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-fsharp"&gt;let rec partitionk p k lst =
    match lst with
    | [] -&amp;gt; (k [] [])
    | hd::tl -&amp;gt; partitionk p (fun ins outs -&amp;gt;
                                if p hd then k (hd::ins) outs
                                else k ins (hd::outs)) tl

partitionk even (fun evens odds -&amp;gt; evens) [1 .. 10]&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id="toc-zaver"&gt;Závěr&lt;/h3&gt;

&lt;p&gt;Ukázali jsme si, jak si ušetřit spoustu práce pomocí funkcionálního
přístupu ke kolekcím. Implementace jednotlivých funkcí je jen ukázkou, jak
snadno se dají takové věci implementovat a rychlým průletem, co všechno F#
umí. Sice jsme se jen sklouzli po povrchu, ale jako základ je to celkem
slušný, ne? :)&lt;/p&gt;

&lt;p&gt;Zkuste si pohrát &lt;a
href="http://www.tryfsharp.org/create/rarous/HigherOrderListOps.fsx"&gt;se
spustitelnými ukázkami&lt;/a&gt;. Zkuste mapování a filtrování implementovat
pomocí continuation. Zkuste si třeba &lt;code&gt;filter&lt;/code&gt; implementovat pomocí
&lt;code&gt;partition&lt;/code&gt;. Většina kombinátorů lze totiž implementovat pomocí
pouhých tří základních, ale k tomu zase třeba jindy.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Když vidíte začátečníka pracovat s kolekcemi, často se setkáte s tím, že možností první volby je iterace pomocí cyklů a změna stavu. Díky tomu máme spoustu rozbitých aplikací. Ruku na srdce, kdo z vás nemá ve své codebase něco podobného:

/--code csharp
var list = new List();
foreach (var item in someCollection) {
  // ... some work
  list.Add(item);
}
return list;
\--code

Nádhera! :)

Zapomeňte na cykly a mutace, kdo se v tom má vyznat a hledat chyby? Buďte deklarativní.

Disclaimer
==========

Následující řádky používají techniku obvyklou ve funkcionálních jazycích - rekurzi. Je dost možné, že váš jazyk nemá podporu na úrovni kompilátoru pro rekurzi (tail recursion se optimalizuje tak, že se přepíše na cyklus) a může docházet k tomu, že vám bude přetékat zásobník. V první řadě vždy musíte vědět, co děláte. Ale to platí obecně o všem v programování. C# optimalizovat rekurzi neumí, přesto můžete používat funkcionální koncepty, např. LINQ, který je implementovaný pomocí iterátorů. Následující ukázky budou v F#, který rekurzi optimalizovat umí.

Všechny ukázky si můžete vyzkoušet přímo ve vašem prohlížeči na webu "Try F#":[http://www.tryfsharp.org/create/rarous/HigherOrderListOps.fsx]. Jednotlivé ukázky stačí označit a stisknout `Ctrl+Enter`.

Článek vychází z "Higher-order list operations":[http://matt.might.net/articles/higher-order-list-operations/].

Rekurze
=======

Když zjistíte, že cykly ne, většinou přejdete na rekurzi. Častou chybou však je, že píšete příliš mnoho kódu. Proč? Protože vám třeba chybí znalosti o knihovnách nebo konstruktech jazyka, které nám umožní psát kódu méně. Pojďme si ukázat, jak psát kódu méně a jak některé knihovní funkce vlastně fungují.

Přičítání jedné
===============

Máme za úkol napsat funkci, která projde seznam čísel a přičte ke každému prvku jedničku. V implementaci použijeme datovou strukturu spojový seznam (v C# spíše než `LinkedList&lt;T&gt;` použijeme `ImmutableList&lt;T&gt;` z NuGet balíčku `Microsoft.Bcl.Immutable`) a využijeme rekurze:

/--code fsharp
let rec add1 lst =
    if List.isEmpty lst then []
    else (List.head lst) + 1 :: add1 (List.tail lst)

add1 [1; 2; 3]
\--code

Že jde o rekurzivní funkci nám říká klíčové slovo `rec`. Funguje to tak, že vezmu první prvek seznamu a přičtu k němu jedničku, ten pak připojím k seznamu (operátor `::`), který se spočítá obdobně ze zbytku vstupního seznamu. Pokud je seznam prázdný (nebo jsme došli na konec - každý spojový seznam končí prázdným polem), vrátíme prázdný seznam. Tím se nám rekurze ukončí.

Odčítání jedné
==============

Obdobně naimplementujeme i odčítání:

/--code fsharp
let rec sub1 lst =
    if List.isEmpty lst then []
    else (List.head lst) - 1 :: sub1 (List.tail lst)

sub1 [1; 2; 3]
\--code

Ok, máme funkcionální datovou strukturu, máme rekurzi, je to už teda funkcionální kód?

Tak určitě ne.

Knihovní funkce
===============

Další častou chybou je používání podmínek a ukecaného kódu vůbec. Navíc když se na obě funkce podíváme blíže, zjistíme, že to jsou v podstatě duplicity a jediné, co je odlišuje, je operace sčítání nebo odčítání. Když se oprostíme od implementačních detailů, zjistíme, že neděláme nic jiného než mapování. A tak jde kód přepsat do jednodušší podoby:

/--code fsharp
let inc x = x + 1
let dec x = x - 1

List.map inc [1; 2; 3]
List.map dec [1; 2; 3]
\--code

Nejprve jsme si definovali pomocné funkce pro inkrementaci a dekrementaci prvku a pak použili knihovní funkci `List.map`, která projde všechny prvky seznamu a na každý aplikuje předanou funkci (v C# je obdobou `Enumerable.Select`). Důležitým detailem, který nemusí být na první pohled zřejmý, je, že nedojde k úpravě předaného seznamu, ale k vytvoření seznamu nového.

High order function
===================

Jak bychom takovou funkci `map` naimplementovali? Zkusíme to pomocí jednoduché generalizace našich funkcí `add1` a `sub1`. Už jsme si říkali, že se liší jen v operaci přičtení/odečtení jedničky. Takže z našich funkcí vytvoříme funkci vyššího řádu:

/--code fsharp
let rec map f lst =
    if List.isEmpty lst then []
    else f(List.head lst)::map f (List.tail lst)

map inc [1 .. 3]
\--code

Funkce vyššího řádu se vyznačují tím, že jako parametr přijímají jinou funkci, která definuje, co se uvnitř bude dít (obdoba vzoru strategie z objektového světa). Funkce je takřka stejná jako naše konkrétní ukázky. Jediný rozdíl je, že nyní aplikujeme předanou funkci na první prvek seznamu a pak už je to stejný. Teď tedy máme funkci vyššího řádu, ale pořád je toho kódu zbytečně moc.

Pattern matching
================

Další skvělou vlastností mnoha funkcionálních jazyků je *pattern matching* - volba výsledku na základě strukturální podobnosti. Naši `map` funkci můžeme hezky zjednodušit na:

/--code fsharp
let rec mapMatch f lst =
    match lst with
    | [] -&gt; []
    | head::tail -&gt; f head::mapMatch f tail

mapMatch dec [1 .. 3]
\--code

Kód je de facto stejný jako v předchozím případě, jen nám zmizelo volání knihovních funkcí `List.isEmpty`, `List.head` a `List.tail` a místo nich máme vzory. Prázdný seznam se mapuje na prázdný seznam, seznam s nějakým prvkem se dle vzoru rozdělí na `head` a `tail`. Na `head` se aplikuje funkce a nový `tail` se vypočítá rekurzí.

List comprehension
==================

Možná jste si všimli, že jsem v ukázkách najednou přestal psát `[1; 2; 3;]` pro vytvoření seznamu tří čísel, ale přešel k zápisu `[1 .. 3]`. Funkcionální jazyky mívají pro kolekce větší pochopení a tak nezvládají jen tupé vyjmenování prvků, ale rozumí i složitějším konstrukcím pro vytvoření seznamu (platí i pro pole a sekvence). Zde byl použit operátor rozsahu `..`. Ve skutečnosti můžeme jít mnohem dál a aplikovat třeba rovnou i mapování:

/--code fsharp
[for x in 1 .. 3 -&gt; x + 1]
\--code

Výsledek je stejný jako v předchozích příkladech. Kód je minimální. Myšlenka zřejmá.

Filtrování kolekcí
==================

Další možností, kde můžeme využít funkce vyššího řádu a pokusíme se zbavit podmínek, je filtrování kolekcí. Funkce `filter` vrací prvky ze vstupního pole, které splňují předaný predikát:

/--code fsharp
let even x = x % 2 = 0

let rec filter p lst =
    if List.isEmpty lst then []
    elif p (List.head lst) then List.head lst::filter p (List.tail lst)
    else filter p (List.tail lst)

filter even [1 .. 10]
\--code

Nejprve jsme si definovali predikát pro sudá čísla, který budeme používat i v dalších ukázkách, a pak funkci `filter` implementovanou pomocí podmínek a knihovních funkcí (F# má samozřejmě funkci `List.filter` již implementovanou, v C# ji hledejte pod názvem `Enumerable.Where`). Filtr je o něco složitější než mapování, protože se musíme rozhodnout, které prvky chceme a které ne. Ty prvky, které splňují predikát připojíme před zbytek počítaného seznamu. Pokud prvek predikát nesplňuje, pokračuje dál ve výpočtu seznamu. U prázdného seznamu ukončíme rekurzi.

S využitím pattern matchingu kód vypadá následovně:

/--code fsharp
let rec filterMatch p lst =
    match lst with
    | [] -&gt; []
    | hd::tl when p hd -&gt; hd::filterMatch p tl
    | hd::tl -&gt; filterMatch p tl

filterMatch even [1 .. 10]
\--code

Pěkné, že? A ještě ukázka s *list comprehension*:

/--code fsharp
[for x in 1 .. 10 do if even x then yield x]
\--code

Všimněte si, že zde se nám šipka `-&gt;` z ukázky pro mapování změnila na `do ... yield`. Schválně si to zkuste, že jde o stejný kód. Tady už bohužel kompaktní zápis nefunguje, protože tam potřebujeme vložit filtrovací podmínku.

Agregace kolekcí
================

Další častou operací, kterou se seznamy můžeme dělat, je jejich agregace. Ve funkcionálních jazycích se často můžeme potkat s funkcí `fold` (v C# `Enumerable.Aggregate`):

/--code fsharp
let rec foldr cons nil lst =
    match lst with
    | [] -&gt; nil
    | hd::tl -&gt; cons hd (foldr cons nil tl)

foldr (+) 0 [1 .. 4]
\--code

Parametr `cons` je konstrukční funkce výsledku, `nil` reprezentuje prázdný prvek.

A ještě *tail recursive* varianta pro efektivnější zpracování kompilátorem:

/--code fsharp
let rec foldl cons nil lst =
    match lst with
    | [] -&gt; nil
    | hd::tl -&gt; foldl cons (cons hd nil) tl

foldl (+) 0 [1 .. 4]
\--code


Zipování
========

Další velice důležitou funkcí je `zip`, která vezme dva seznamy a vytvoří z nich jeden tvořený dvojicemi, podobně jako zip u vaší bundy.

/--code fsharp
let rec zip lst1 lst2 =
    match lst1, lst2 with
    | [], [] -&gt; []
    | hd1::tl1, hd2::tl2 -&gt; (hd1, hd2)::zip tl1 tl2

zip [1 .. 3] ['a' .. 'c']
\--code

Žádný velký objev. :) Novinkou je matchování na více prvků a zavedení n-tic (tuples). Zip je velice šikovná funkce. Schválně jestli vás napadne nějaké rozumné užití. Nebojte se o něj podělit třeba v komentářích.

Také si všimněte, že tu mícháme jabka (`int`) s hruškama (`char`) a vše funguje. Není to tím, že by F# byl slabě typový, ale tím, že naše funkce jsou plně generické! Schválně si zkuste v předchozích ukázkách změnit vstupní data.

Rozepnutí
=========

Opakem zipování je `unzip`, která nám ze seznamu dvojic udělá dva seznamy prvků. A protože nám tato funkce vrací dva seznamy, začíná to být trochu tricky:

/--code fsharp
let rec unzip lst =
    match lst with
    | [] -&gt; ([], [])
    | (x, y)::tl -&gt;
        let (xs, ys) = unzip tl
        (x::xs, y::ys)

unzip [(1, 'a'); (2, 'b'); (3, 'c')]
\--code

Taková nepěkná věc je, že si musíme začít pamatovat výsledek rekurzivního volání, se kterým dále pracujeme. Všimněte si také, že F# umí rozpadnout n-tici do samostatných chlívečků. Nebudu říkat proměnných, protože `let` vazba je neměnná.

Continuation
============

Co bychom to byly za funkcionáře, kdybychom nechali takové imperativní přiřazování v naší jinak čisté implementaci? Jak se jen zbavit přiřazení? Co třeba za pomocí continuation? Nic vám to neříká? Co třeba callback? Ten už jistě znáte. :)

/--code fsharp
let rec unzipk k lst =
    match lst with
    | [] -&gt; k [] []
    | (x, y)::tl -&gt; unzipk (fun xs ys -&gt; k (x::xs) (y::ys)) tl

unzipk (fun xs ys -&gt; xs) [(1, 'a'); (2, 'b'); (3, 'c')]
\--code

V této formě musí uživatel funkce přidat callback, ale na druhou stranu si může vybírat, co vlastně chce za výsledek. Funkcionální kompozice je mocná.

Partitioning
============

Partitioning je něco jako filtrování, jen nám opět vrací dva seznamy. Jeden s pozitivními výsledky a druhý s negativními:

/--code fsharp
let rec partition p lst =
    match lst with
    | [] -&gt; ([], [])
    | hd::tl -&gt;
        let (ins, outs) = partition p tl
        if p hd then (hd::ins, outs)
        else (ins, hd::outs)

partition even [1 .. 10]
\--code

Implementace je dost podobná unzipování, jen teď máme na vstupu pouze jeden prvek a rozhodujeme se, do kterého seznamu ho zařadíme. A opět můžeme implementaci udělat pomocí continuation:

/--code fsharp
let rec partitionk p k lst =
    match lst with
    | [] -&gt; (k [] [])
    | hd::tl -&gt; partitionk p (fun ins outs -&gt;
                                if p hd then k (hd::ins) outs
                                else k ins (hd::outs)) tl

partitionk even (fun evens odds -&gt; evens) [1 .. 10]
\--code

Závěr
=====

Ukázali jsme si, jak si ušetřit spoustu práce pomocí funkcionálního přístupu ke kolekcím. Implementace jednotlivých funkcí je jen ukázkou, jak snadno se dají takové věci implementovat a rychlým průletem, co všechno F# umí. Sice jsme se jen sklouzli po povrchu, ale jako základ je to celkem slušný, ne? :)

Zkuste si pohrát "se spustitelnými ukázkami":[http://www.tryfsharp.org/create/rarous/HigherOrderListOps.fsx]. Zkuste mapování a filtrování implementovat pomocí continuation. Zkuste si třeba `filter` implementovat pomocí `partition`. Většina kombinátorů lze totiž implementovat pomocí pouhých tří základních, ale k tomu zase třeba jindy.

</raw>
    <author>Aleš Roubíček</author>
    <published>2013-03-07T07:34:49.233</published>
    <url>funkcionalni-pristup-ke-kolekcim</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>fsharp</tags>
    <is-published>1</is-published>
    <edited>2013-03-24T17:11:29.583</edited>
  </article>
  <article>
    <id>441</id>
    <title>Jeden balíček na všechno</title>
    <description>Taková historka ze života, jak jsem potřeboval vytvořit WebDeploy balíček, kterej nedeployuje jen Web.</description>
    <html xml:space="preserve">
&lt;p&gt;„Jak to vypadá s tím balíčkem pro Honzu?“ „V pohodě,
v podstatě je připravenej, jen tam přidám, aby se generovala rovnou
i databáze a nainstalovala windows service…“ Tak určitě. Já vůl.
Prej jen…&lt;/p&gt;

&lt;p&gt;Nakonec to bylo o dost těžší než jsem čekal. Scénář, který jsem si
představoval, zdál se být chvíli i nemožný. Ale vždyť to musí jít!
Wizard to dokáže, tak proč bych to neměl dokázat já? Zakopanej pes byl
nakonec v neštědře zdokumentované featůře.&lt;/p&gt;

&lt;p&gt;Již pár let používám k deployování webových aplikací MsDeploy (aka
Web Deployment Tools). Většinou je peklo jen s tím, nastavit cílový
server, aby vše běhalo jak má. Tedy hlavně nastavení nejrůznějších
práv. To už se naštěstí za tu dobu změnilo a stačí jen &lt;a
href="http://www.iis.net/learn/publish/using-web-deploy/powershell-scripts-for-automating-web-deploy-setup"&gt;spustit
pár PowerShellových scriptů&lt;/a&gt;. Mám automatizovaný deploy jak webu,
databáze, tak i instalaci windows služeb. Jinak mi to ani moje závislost na
Continuous Delivery nedovolí.&lt;/p&gt;

&lt;p&gt;Jenže jedna věc je mít sadu scriptů pro stroj a druhá věc je mít
instalační balíček, který je bez problémů schopný nasadit člověk. Ano,
mohl by dostat sadu scriptů a hromadu souborů, se kterýma ty scripty
pracují, ale potenciální možnost zanesení chyby je vysoká. A komfort
velmi nízký.&lt;/p&gt;

&lt;h3 id="toc-prvni-pokus"&gt;První pokus&lt;/h3&gt;

&lt;p&gt;Nejprve jsem se snažil nasynchronizovat jednotlivé kroky do cílového
balíčku. Nejprve jsem přes &lt;code&gt;MsBuild /t:Package&lt;/code&gt; vytvořil
balíček s webem. Databázové schema verzujeme pomocí databázového
projektu ve Visual Studiu a tak pro deploy používám již zastaralý
&lt;code&gt;dbSqlPackage&lt;/code&gt; provider. Tak jsem se ho snažil &lt;code&gt;sync&lt;/code&gt;nout
do balíčku. Povedlo se, ale manifest v balíčku obsahoval, jen deploy
databáze. Uáááá. Už jsem pomalu propadal beznaději a přemýšlel o tom,
jak napíšu uživatelsky přívětivý script. To aby UX nepřišlo
na úbytě.&lt;/p&gt;

&lt;blockquote class="twitter-tweet"&gt;
	&lt;p&gt;featury, který potřebuju, jsou vždycky nejmíň zdokumentovaný…&lt;/p&gt;
	— Aleš Roubíček (@alesroubicek) &lt;a
	href="https://twitter.com/alesroubicek/status/314035271136059392"&gt;March 19,
	2013&lt;/a&gt;&lt;/blockquote&gt;

&lt;p&gt;Popravdě, koho z vás by napadlo, že &lt;a
href="http://technet.microsoft.com/en-us/library/dd568976(v=ws.10).aspx"&gt;tohleto
může vést k cíli&lt;/a&gt;? Mně to trvalo asi hodinu. A docvaklo mi to až
díky &lt;a
href="http://stackoverflow.com/questions/5408585/msdeploy-remoting-executing-manifest-twice"&gt;tomuhle
nešťastníkovi&lt;/a&gt;.&lt;/p&gt;

&lt;blockquote class="twitter-tweet"&gt;
	&lt;p&gt;Po tom, co už jsem skoro nedoufal, přišel malý aha moment a jsem zase na
	stopě… :)&lt;/p&gt;
	— Aleš Roubíček (@alesroubicek) &lt;a
	href="https://twitter.com/alesroubicek/status/314023743024418817"&gt;March 19,
	2013&lt;/a&gt;&lt;/blockquote&gt;

&lt;h3 id="toc-jak-na-to"&gt;Jak na to?&lt;/h3&gt;

&lt;p&gt;Základem je nevytvářet balíček rovnou, ale vytvořit si nejprve
manifest, který obsahuje jednotlivé kroky deploymentu. Ten můj vypadá
nějak tak:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;sitemanifest&amp;gt;
  &amp;lt;dbDacFx path='$dbSource' /&amp;gt;
  &amp;lt;runCommand path='$presync' waitInterval='30000'/&amp;gt;
  &amp;lt;dirPath path='$winSource' /&amp;gt;
  &amp;lt;runCommand path='$postsync' waitInterval='30000'/&amp;gt;
  &amp;lt;IisApp path='$webSource' managedRuntimeVersion='v4.0'/&amp;gt;
  &amp;lt;setAcl path='$webSource' setAclResourceType='Directory'/&amp;gt;
  &amp;lt;setAcl path='$webSource' setAclResourceType='Directory' setAclUser='anonymousAuthenticationUser'/&amp;gt;
&amp;lt;/sitemanifest&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Můžete si povšimnout, že je parametrizovaný. To proto, že ho generuju
v build scriptu pro konkrétní implementační projekt.&lt;/p&gt;

&lt;p&gt;&lt;code&gt;$dbSource&lt;/code&gt; je cesta k &lt;code&gt;dacpac&lt;/code&gt; souboru, který je
výstupem databázového projektu.&lt;br /&gt;
&lt;code&gt;$winSource&lt;/code&gt; je cesta k &lt;code&gt;bin&lt;/code&gt; adresáři windows
služby.&lt;br /&gt;
&lt;code&gt;$webSource&lt;/code&gt; je cesta k &lt;code&gt;PackageTmp&lt;/code&gt; adresáři, kde je
připravená webová aplikace.&lt;/p&gt;

&lt;p&gt;A konečně &lt;code&gt;$presync&lt;/code&gt; a &lt;code&gt;$postsync&lt;/code&gt; jsou cesty
k vygenerovaným &lt;code&gt;cmd&lt;/code&gt; souborům, které se spustí na cílovém
stroji. PreSync zastaví a odinstaluje již běžící službu:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;net stop Svc_$instance
$installUtil /u /name=Svc_$instance $destPath\$instance\Svc.exe&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;PostSync nainstaluje novou verzi a tu následně spustí:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$installUtil /name=Svc_$instance $destPath\$instance\Svc.exe
net start Svc_$instance&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Opět jsou generované scriptem pro konkrétní instance.&lt;/p&gt;

&lt;p&gt;Tím mám připravený manifest a všechno, co potřebuju pro úspěšné
vytvoření balíčku. Nyní už jen stačí balíček vygenerovat:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-powershell"&gt;$source = "manifest=$manifest"
$dest = "package=$pkgLocation"

exec { msdeploy -verb:sync -source:$source -dest:$dest }&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Kde &lt;code&gt;$manifest&lt;/code&gt; je cesta k vygenerovanému manifestu a
&lt;code&gt;$pkgLocation&lt;/code&gt; je cesta, kde najdu vygenerovaný balíček. No a to
je celá magie. Ani to moc nebolelo, když už se ví jak na to. :)&lt;/p&gt;

&lt;p&gt;Teď už jen zbývá umožnit Honzovi vyplnit konfigurační údaje pro
konkrétní servery…&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">"Jak to vypadá s tím balíčkem pro Honzu?" "V pohodě, v podstatě je připravenej, jen tam přidám, aby se generovala rovnou i databáze a nainstalovala windows service..." Tak určitě. Já vůl. Prej jen...

Nakonec to bylo o dost těžší než jsem čekal. Scénář, který jsem si představoval, zdál se být chvíli i nemožný. Ale vždyť to musí jít! Wizard to dokáže, tak proč bych to neměl dokázat já? Zakopanej pes byl nakonec v neštědře zdokumentované featůře.

Již pár let používám k deployování webových aplikací MsDeploy (aka Web Deployment Tools). Většinou je peklo jen s tím, nastavit cílový server, aby vše běhalo jak má. Tedy hlavně nastavení nejrůznějších práv. To už se naštěstí za tu dobu změnilo a stačí jen "spustit pár PowerShellových scriptů":[http://www.iis.net/learn/publish/using-web-deploy/powershell-scripts-for-automating-web-deploy-setup]. Mám automatizovaný deploy jak webu, databáze, tak i instalaci windows služeb. Jinak mi to ani moje závislost na Continuous Delivery nedovolí.

Jenže jedna věc je mít sadu scriptů pro stroj a druhá věc je mít instalační balíček, který je bez problémů schopný nasadit člověk. Ano, mohl by dostat sadu scriptů a hromadu souborů, se kterýma ty scripty pracují, ale potenciální možnost zanesení chyby je vysoká. A komfort velmi nízký.

První pokus
===========

Nejprve jsem se snažil nasynchronizovat jednotlivé kroky do cílového balíčku. Nejprve jsem přes `MsBuild /t:Package` vytvořil balíček s webem. Databázové schema verzujeme pomocí databázového projektu ve Visual Studiu a tak pro deploy používám již zastaralý `dbSqlPackage` provider. Tak jsem se ho snažil `sync`nout do balíčku. Povedlo se, ale manifest v balíčku obsahoval, jen deploy databáze. Uáááá. Už jsem pomalu propadal beznaději a přemýšlel o tom, jak napíšu uživatelsky přívětivý script. To aby UX nepřišlo na úbytě.

&lt;blockquote class="twitter-tweet"&gt;&lt;p&gt;featury, který potřebuju, jsou vždycky nejmíň zdokumentovaný...&lt;/p&gt;&amp;mdash; Aleš Roubíček (@alesroubicek) &lt;a href="https://twitter.com/alesroubicek/status/314035271136059392"&gt;March 19, 2013&lt;/a&gt;&lt;/blockquote&gt;

Popravdě, koho z vás by napadlo, že "tohleto může vést k cíli":[http://technet.microsoft.com/en-us/library/dd568976(v=ws.10).aspx]? Mně to trvalo asi hodinu. A docvaklo mi to až díky "tomuhle nešťastníkovi":[http://stackoverflow.com/questions/5408585/msdeploy-remoting-executing-manifest-twice].

&lt;blockquote class="twitter-tweet"&gt;&lt;p&gt;Po tom, co už jsem skoro nedoufal, přišel malý aha moment a jsem zase na stopě... :)&lt;/p&gt;&amp;mdash; Aleš Roubíček (@alesroubicek) &lt;a href="https://twitter.com/alesroubicek/status/314023743024418817"&gt;March 19, 2013&lt;/a&gt;&lt;/blockquote&gt;

Jak na to?
==========

Základem je nevytvářet balíček rovnou, ale vytvořit si nejprve manifest, který obsahuje jednotlivé kroky deploymentu. Ten můj vypadá nějak tak:

/--code xml
&lt;sitemanifest&gt;
  &lt;dbDacFx path='$dbSource' /&gt;
  &lt;runCommand path='$presync' waitInterval='30000'/&gt;
  &lt;dirPath path='$winSource' /&gt;
  &lt;runCommand path='$postsync' waitInterval='30000'/&gt;
  &lt;IisApp path='$webSource' managedRuntimeVersion='v4.0'/&gt;
  &lt;setAcl path='$webSource' setAclResourceType='Directory'/&gt;
  &lt;setAcl path='$webSource' setAclResourceType='Directory' setAclUser='anonymousAuthenticationUser'/&gt;
&lt;/sitemanifest&gt;
\--code

Můžete si povšimnout, že je parametrizovaný. To proto, že ho generuju v build scriptu pro konkrétní implementační projekt.

`$dbSource` je cesta k `dacpac` souboru, který je výstupem databázového projektu.
 `$winSource` je cesta k `bin` adresáři windows služby.
 `$webSource` je cesta k `PackageTmp` adresáři, kde je připravená webová aplikace.

A konečně `$presync` a `$postsync` jsou cesty k vygenerovaným `cmd` souborům, které se spustí na cílovém stroji. PreSync zastaví a odinstaluje již běžící službu:

/--code
net stop Svc_$instance
$installUtil /u /name=Svc_$instance $destPath\$instance\Svc.exe
\--code

PostSync nainstaluje novou verzi a tu následně spustí:

/--code
$installUtil /name=Svc_$instance $destPath\$instance\Svc.exe
net start Svc_$instance
\--code

Opět jsou generované scriptem pro konkrétní instance.

Tím mám připravený manifest a všechno, co potřebuju pro úspěšné vytvoření balíčku. Nyní už jen stačí balíček vygenerovat:

/--code powershell
$source = "manifest=$manifest"
$dest = "package=$pkgLocation"

exec { msdeploy -verb:sync -source:$source -dest:$dest }
\--code

Kde `$manifest` je cesta k vygenerovanému manifestu a `$pkgLocation` je cesta, kde najdu vygenerovaný balíček. No a to je celá magie. Ani to moc nebolelo, když už se ví jak na to. :)

Teď už jen zbývá umožnit Honzovi vyplnit konfigurační údaje pro konkrétní servery...</raw>
    <author>Aleš Roubíček</author>
    <published>2013-03-20T07:06:23.547</published>
    <url>jeden-balicek-na-vsechno</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>msdeploy</tags>
    <is-published>1</is-published>
    <edited>2013-03-20T10:34:45.227</edited>
  </article>
  <article>
    <id>442</id>
    <title>Parametrizace balíčku</title>
    <description>Balíček k nasazení je připravený, ale je potřeba ho ještě nakonfigurovat. Jedna možnost je projít ručně konfigurační soubory na file systému...</description>
    <html xml:space="preserve">
&lt;p&gt;Balíček &lt;a href="/weblog/441-jeden-balicek-na-vsechno.aspx"&gt;je připravený
k nasazení&lt;/a&gt;, ale je potřeba ho ještě nakonfigurovat. Jedna možnost je
projít ručně konfigurační soubory na file systému… Počkat, kam se to
vlastně nahrálo!?&lt;/p&gt;

&lt;p&gt;Pokud vezmete balíček tak, jak byl, a nainstalujete ho přes IIS manager,
dostanete možnost vyplnit pár vydedukovaných parametrů:&lt;/p&gt;

&lt;div&gt;&lt;img
src="http://content.screencast.com/users/rarous/folders/Jing/media/94830720-0673-43cc-88e2-b4998a8643c8/2013-03-20_1024.png"
alt="" /&gt;&lt;/div&gt;

&lt;p&gt;Tak jako dobrý, ale je tam spousta duplicit a co je to &lt;strong&gt;Parameter
1&lt;/strong&gt;? Moc uživatelsky příjemné to teda není. Navíc, když to
potvrdíme a pokračujeme dál, tak to spadne na instalaci windows služby.
Proč? Protože ve scriptu je jiná cesta ke službě než kam se ve výsledku
nakopírovala. Problémy, jen samé problémy. Naštěstí jdou snadno
vyřešit.&lt;/p&gt;

&lt;h3 id="toc-parameters-xml"&gt;Parameters.xml&lt;/h3&gt;

&lt;p&gt;MS Deploy naštěstí umí &lt;a
href="http://technet.microsoft.com/en-us/library/dd569084(v=ws.10).aspx"&gt;definovat
a následně i nastavovat parametry&lt;/a&gt;. Můžeme to udělat buď pomocí
parametrů z příkazové řádky nebo pomocí XML souboru s definicí
parametrů. Já zvolil druhou variantu:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-markup"&gt;&amp;lt;parameters&amp;gt;
  &amp;lt;parameter tags='IisApp' defaultValue='MultiConnector\$instance' name='IIS Web Application Name'&amp;gt;
    &amp;lt;parameterEntry kind='ProviderPath' scope='IisApp'
      match='^$($webSource.Replace(`"\`", `"\\`").Replace(`".`", `"\.`"))$'/&amp;gt;
    &amp;lt;parameterEntry kind='ProviderPath' scope='setAcl'
      match='^$($webSource.Replace(`"\`", `"\\`").Replace(`".`", `"\.`"))$'/&amp;gt;
  &amp;lt;/parameter&amp;gt;
  &amp;lt;parameter tags='WinSvc' defaultValue='$destPath\$instance' name='Windows service path'&amp;gt;
    &amp;lt;parameterEntry kind='ProviderPath' scope='dirPath'
      match='^$($winSource.Replace(`"\`", `"\\`").Replace(`".`", `"\.`"))$'/&amp;gt;
    &amp;lt;parameterEntry kind='TextFile' scope='Presync\.cmd$'
      match='$($destPath.Replace(`"\`", `"\\`").Replace(`".`", `"\.`"))\\$instance'/&amp;gt;
    &amp;lt;parameterEntry kind='TextFile' scope='Postsync\.cmd$'
      match='$($destPath.Replace(`"\`", `"\\`").Replace(`".`", `"\.`"))\\$instance'/&amp;gt;
  &amp;lt;/parameter&amp;gt;
  &amp;lt;parameter tags='SqlConnectionString' defaultValue='$connString' name='Connection String'
      description='MultiConnector Connection String used in web.config by the application to access the database.'&amp;gt;
    &amp;lt;parameterEntry kind='XmlFile' scope='Web\.config$'
      match='//connectionStrings/add[@name=`"MultiConnector`"]/@connectionString'/&amp;gt;
    &amp;lt;parameterEntry kind='XmlFile' scope='Svc\.exe\.config$'
      match='//connectionStrings/add[@name=`"MultiConnector`"]/@connectionString'/&amp;gt;
    &amp;lt;parameterEntry kind='ProviderPath' scope='dbDacFx'
      match='^$($dbSource.Replace(`"\`", `"\\`").Replace(`".`", `"\.`"))$'/&amp;gt;
  &amp;lt;/parameter&amp;gt;
&amp;lt;/parameters&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;V UI jsou definována políčka pro tři parametry.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Nastavuje název webové aplikace v IIS&lt;/li&gt;

	&lt;li&gt;Nastavuje cestu k windows service&lt;/li&gt;

	&lt;li&gt;Nastavuje connection string aplikace&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Tyto parametry jsou použity na několika místech (zbavili jsem se duplicit
v UI). Například cesta k windows service se aktualizuje i ve
vygenerovaných &lt;code&gt;cmd&lt;/code&gt; souborech a tak se nám úspěšně nainstaluje
windows služba i když změníme cestu k ní. Connection string určuje, kam
se nadeployuje DB a aktualizuje se jak ve webové aplikaci, tak ve windows
službě.&lt;/p&gt;

&lt;p&gt;Při volání MsDeploy pro tvorbu balíčku z manifextu, přidáme
následující parametr a máme vystaráno:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;-declareParamFile:$paramFile&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;A výsledek vypadá nějak tak:&lt;/p&gt;

&lt;div&gt;&lt;img
src="http://content.screencast.com/users/rarous/folders/Jing/media/8a8f1b3b-2bb5-499d-8aef-782e7e1f08ff/2013-03-21_1200.png"
alt="" /&gt;&lt;/div&gt;

&lt;p&gt;A máme uživatelsky přívětivý balíček, který nasadí databázi, web
i windows službu, která se nainstaluje a rovnou i spustí. Life's good,
dokonce i pro deployment specialisty. ;)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Balíček "je připravený k nasazení":[/weblog/441-jeden-balicek-na-vsechno.aspx], ale je potřeba ho ještě nakonfigurovat. Jedna možnost je projít ručně konfigurační soubory na file systému... Počkat, kam se to vlastně nahrálo!?

Pokud vezmete balíček tak, jak byl, a nainstalujete ho přes IIS manager, dostanete možnost vyplnit pár vydedukovaných parametrů:

[* http://content.screencast.com/users/rarous/folders/Jing/media/94830720-0673-43cc-88e2-b4998a8643c8/2013-03-20_1024.png *]

Tak jako dobrý, ale je tam spousta duplicit a co je to **Parameter 1**? Moc uživatelsky příjemné to teda není. Navíc, když to potvrdíme a pokračujeme dál, tak to spadne na instalaci windows služby. Proč? Protože ve scriptu je jiná cesta ke službě než kam se ve výsledku nakopírovala. Problémy, jen samé problémy. Naštěstí jdou snadno vyřešit.

Parameters.xml
==============

MS Deploy naštěstí umí "definovat a následně i nastavovat parametry":[http://technet.microsoft.com/en-us/library/dd569084(v=ws.10).aspx]. Můžeme to udělat buď pomocí parametrů z příkazové řádky nebo pomocí XML souboru s definicí parametrů. Já zvolil druhou variantu:

/--code xml
&lt;parameters&gt;
  &lt;parameter tags='IisApp' defaultValue='MultiConnector\$instance' name='IIS Web Application Name'&gt;
    &lt;parameterEntry kind='ProviderPath' scope='IisApp'
      match='^$($webSource.Replace(`"\`", `"\\`").Replace(`".`", `"\.`"))$'/&gt;
    &lt;parameterEntry kind='ProviderPath' scope='setAcl'
      match='^$($webSource.Replace(`"\`", `"\\`").Replace(`".`", `"\.`"))$'/&gt;
  &lt;/parameter&gt;
  &lt;parameter tags='WinSvc' defaultValue='$destPath\$instance' name='Windows service path'&gt;
    &lt;parameterEntry kind='ProviderPath' scope='dirPath'
      match='^$($winSource.Replace(`"\`", `"\\`").Replace(`".`", `"\.`"))$'/&gt;
    &lt;parameterEntry kind='TextFile' scope='Presync\.cmd$'
      match='$($destPath.Replace(`"\`", `"\\`").Replace(`".`", `"\.`"))\\$instance'/&gt;
    &lt;parameterEntry kind='TextFile' scope='Postsync\.cmd$'
      match='$($destPath.Replace(`"\`", `"\\`").Replace(`".`", `"\.`"))\\$instance'/&gt;
  &lt;/parameter&gt;
  &lt;parameter tags='SqlConnectionString' defaultValue='$connString' name='Connection String'
      description='MultiConnector Connection String used in web.config by the application to access the database.'&gt;
    &lt;parameterEntry kind='XmlFile' scope='Web\.config$'
      match='//connectionStrings/add[@name=`"MultiConnector`"]/@connectionString'/&gt;
    &lt;parameterEntry kind='XmlFile' scope='Svc\.exe\.config$'
      match='//connectionStrings/add[@name=`"MultiConnector`"]/@connectionString'/&gt;
    &lt;parameterEntry kind='ProviderPath' scope='dbDacFx'
      match='^$($dbSource.Replace(`"\`", `"\\`").Replace(`".`", `"\.`"))$'/&gt;
  &lt;/parameter&gt;
&lt;/parameters&gt;
\--code

V UI jsou definována políčka pro tři parametry.

1. Nastavuje název webové aplikace v IIS
2. Nastavuje cestu k windows service
3. Nastavuje connection string aplikace

Tyto parametry jsou použity na několika místech (zbavili jsem se duplicit v UI). Například cesta k windows service se aktualizuje i ve vygenerovaných `cmd` souborech a tak se nám úspěšně nainstaluje  windows služba i když změníme cestu k ní. Connection string určuje, kam se nadeployuje DB a aktualizuje se jak ve webové aplikaci, tak ve windows službě.

Při volání MsDeploy pro tvorbu balíčku z manifextu, přidáme následující parametr a máme vystaráno:

/--code
-declareParamFile:$paramFile
\--code

A výsledek vypadá nějak tak:

[* http://content.screencast.com/users/rarous/folders/Jing/media/8a8f1b3b-2bb5-499d-8aef-782e7e1f08ff/2013-03-21_1200.png *]

A máme uživatelsky přívětivý balíček, který nasadí databázi, web i windows službu, která se nainstaluje a rovnou i spustí. Life's good, dokonce i pro deployment specialisty. ;)</raw>
    <author>Aleš Roubíček</author>
    <published>2013-03-21T11:40:57.403</published>
    <url>parametrizace-balicku</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>msdeploy</tags>
    <is-published>1</is-published>
    <edited>2013-03-21T13:50:44.420</edited>
  </article>
  <article>
    <id>443</id>
    <title>Traits v C#</title>
    <description>Jak na implementaci traits v C#.</description>
    <html xml:space="preserve">
&lt;p&gt;Poměrně užtečným konceptem v programovacích jazycích je trait.
Můžete ho znát třeba ze Scaly, nebo se brzy objeví v PHP. Tyto jazyky
mají pro traits prvotřídní podporu. Tedy, mají traits jako jazykový
konstrukt. C# nic takového nemá. Nebo jo?&lt;/p&gt;

&lt;h3 id="toc-co-je-to-trait"&gt;Co je to trait?&lt;/h3&gt;

&lt;p&gt;Trait je něco jako rozhraní. Umožňuje tedy vícenásobnou
„dědičnost“. Narozdíl od rozhraní, má však maximální možnou
implementaci. Když se podíváme do dokumentace Scaly na malý příklad:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-scala"&gt;trait Similarity {
  def isSimilar(x: Any): Boolean
  def isNotSimilar(x: Any): Boolean = !isSimilar(x)
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Můžeme si všimnout, že trait obsahuje dvě metody, z toho jedna je
abstraktní a druhá implementovaná pomocí té první. Koheze metod je
důležitou vlastností traits. Ostatně by to tak mělo být i u definice
rozhraní.&lt;/p&gt;

&lt;h3 id="toc-jak-na-to-v-c"&gt;Jak na to v C#?&lt;/h3&gt;

&lt;p&gt;Není vám ten koncept trochu povědomý? Ne? A co třeba LINQ? Stačí,
abyste implementovali metodu &lt;code&gt;GetEnumerator&lt;/code&gt; a zbytek máte for free.
Můžeme se tedy inspirovat u LINQu a podobně implementovat i
&lt;code&gt;Similarity&lt;/code&gt;:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;interface ISimilarity&amp;lt;T&amp;gt; {
  bool IsSimilar(T other);
}

static class Similarity {
  public static bool IsNotSimilar&amp;lt;T&amp;gt;(this ISimilarity&amp;lt;T&amp;gt; @this, T other) {
    return !@this.IsSimilar(other);
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Kód sice není tak úsporný, jako v jazycích s prvotřídní podporou,
ale funguje to a to je důležitý! :)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Poměrně užtečným konceptem v  programovacích jazycích je trait. Můžete ho znát třeba ze Scaly, nebo se brzy objeví v PHP. Tyto jazyky mají pro traits prvotřídní podporu. Tedy, mají traits jako jazykový konstrukt. C# nic takového nemá. Nebo jo?

Co je to trait?
=========

Trait je něco jako rozhraní. Umožňuje tedy vícenásobnou "dědičnost". Narozdíl od rozhraní, má však maximální možnou implementaci. Když se podíváme do dokumentace Scaly na malý příklad:

/--code scala
trait Similarity {
  def isSimilar(x: Any): Boolean
  def isNotSimilar(x: Any): Boolean = !isSimilar(x)
}
\--code

Můžeme si všimnout, že trait obsahuje dvě metody, z toho jedna je abstraktní a druhá implementovaná pomocí té první. Koheze metod je důležitou vlastností traits. Ostatně by to tak mělo být i u definice rozhraní.

Jak na to v C#?
==========

Není vám ten koncept trochu povědomý? Ne? A co třeba LINQ? Stačí, abyste implementovali metodu `GetEnumerator` a zbytek máte for free. Můžeme se tedy inspirovat u LINQu a podobně implementovat i `Similarity`:

/--code csharp
interface ISimilarity&lt;T&gt; {
  bool IsSimilar(T other);
}

static class Similarity {
  public static bool IsNotSimilar&lt;T&gt;(this ISimilarity&lt;T&gt; @this, T other) {
    return !@this.IsSimilar(other);
  }
}
\--code

Kód sice není tak úsporný, jako v jazycích s prvotřídní podporou, ale funguje to a to je důležitý! :)</raw>
    <author>Aleš Roubíček</author>
    <published>2013-03-23T08:34:39.990</published>
    <url>traits-v-csharp</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2013-03-23T08:39:59.550</edited>
  </article>
  <article>
    <id>444</id>
    <title>Manifest Nejen Objektově Orientovaného Vývoje</title>
    <description>Volný překlad manifestu Nejen Objektově Orientovaného Vývoje.</description>
    <html xml:space="preserve">
&lt;p&gt;Narazil jsem na velmi zajímavý &lt;a href="http://notonlyoo.org/"&gt;manifest
Nejen objektově orientovaného vývoje&lt;/a&gt; a myslím, že by neměl ujít
pozornosti ani tady v československu.&lt;/p&gt;

&lt;h3 id="toc-preklad-manifestu"&gt;Překlad Manifestu&lt;/h3&gt;

&lt;p&gt;Objevujeme lepší způsoby vývoje software tím, že jej tvoříme a
pomáháme při jeho tvorbě ostatním. Při této práci jsme dospěli
k těmto hodnotám:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;strong&gt;Funkce a typy&lt;/strong&gt; před třídami&lt;/li&gt;

	&lt;li&gt;&lt;strong&gt;Čistota&lt;/strong&gt; před mutacemi&lt;/li&gt;

	&lt;li&gt;&lt;strong&gt;Kompozice&lt;/strong&gt; před dědičností&lt;/li&gt;

	&lt;li&gt;&lt;strong&gt;Funkce vyššího řádu&lt;/strong&gt; před &lt;em&gt;method
	dispatch&lt;/em&gt;&lt;/li&gt;

	&lt;li&gt;&lt;strong&gt;Option&lt;/strong&gt; před &lt;code&gt;null&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Tak jest, přestože je v bodech napravo hodnota (kromě &lt;code&gt;null&lt;/code&gt;),
bodů nalevo si ceníme více.&lt;/p&gt;

&lt;h3 id="toc-principy"&gt;Principy&lt;/h3&gt;

&lt;p&gt;Ctíme následující principy:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Učení se vícero paradigmat nám umožňuje lepší řešení
	problémů.&lt;/li&gt;

	&lt;li&gt;Používáme nejvhodnější paradigmata pro daný problém, nejen ta,
	která aktuálně ovládáme.&lt;/li&gt;

	&lt;li&gt;Upřednostňujeme přemýšlení nad nejlepším řešením problému před
	slepým následováním &lt;em&gt;best practice&lt;/em&gt;, směrnic, vzorů a
	frameworků.&lt;/li&gt;

	&lt;li&gt;Upřednostňujeme reprezentaci invariant na úrovni typů před
	reprezentací na úrovni hodnot.&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Narazil jsem na velmi zajímavý "manifest Nejen objektově orientovaného vývoje":[http://notonlyoo.org/] a myslím, že by neměl ujít pozornosti ani tady v československu.

Překlad Manifestu
===========

Objevujeme lepší způsoby vývoje software tím,
že jej tvoříme a pomáháme při jeho tvorbě ostatním.
Při této práci jsme dospěli k těmto hodnotám:

* **Funkce a typy** před třídami
* **Čistota** před mutacemi
* **Kompozice** před dědičností
* **Funkce vyššího řádu** před *method dispatch*
* **Option** před `null`

Tak jest, přestože je v bodech napravo hodnota (kromě `null`), bodů nalevo si ceníme více.

Principy
======

Ctíme následující principy:

* Učení se vícero paradigmat nám umožňuje lepší řešení problémů.
* Používáme nejvhodnější paradigmata pro daný problém, nejen ta, která aktuálně ovládáme.
* Upřednostňujeme přemýšlení nad nejlepším řešením problému před slepým následováním *best practice*, směrnic, vzorů a frameworků.
* Upřednostňujeme reprezentaci invariant na úrovni typů před reprezentací na úrovni hodnot.</raw>
    <author>Aleš Roubíček</author>
    <published>2013-03-25T14:01:23.110</published>
    <url>manifest-nejen-objektove-orientovaneho-vyvoje</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2013-03-25T20:26:05.853</edited>
  </article>
  <article>
    <id>445</id>
    <title>Asynchronní vs. paralelní zpracování úloh</title>
    <description>Dnes se podíváme na zoubek asynchronnímu a paralelnímu zpracování.</description>
    <html xml:space="preserve">
&lt;p&gt;S příchodem &lt;code&gt;async/await&lt;/code&gt; do C# 5.0 se nám v různých APIs
objevily asynchronní metody, které vracejí &lt;code&gt;Task&lt;/code&gt; nebo
&lt;code&gt;Task&amp;lt;T&amp;gt;&lt;/code&gt; a jejich název je vybaven kouzelným postfixem
&lt;code&gt;Async&lt;/code&gt;. Jde o takzvaný &lt;a
href="http://msdn.microsoft.com/en-us/library/hh873175.aspx"&gt;Task-based
Asynchronous Pattern (TAP)&lt;/a&gt;. A protože je postavený na datové struktuře
&lt;code&gt;Task&lt;/code&gt; může svádět k vlastním implementacím, které nejsou tak
říkajíc &lt;em&gt;zrovna optimální&lt;/em&gt;.&lt;/p&gt;

&lt;blockquote class="twitter-tweet"&gt;
	&lt;p&gt;That's an &lt;a href="https://twitter.com/search/%23async"&gt;#async&lt;/a&gt;
	implementation! Not! &lt;a href="http://t.co/sHBSxhfthj"
	title="http://ow.ly/jjzrf"&gt;ow.ly/jjzrf&lt;/a&gt; &lt;a
	href="https://twitter.com/search/%23sqlite"&gt;#sqlite&lt;/a&gt;&lt;/p&gt;
	— Jiri Cincura (@cincura_net) &lt;a
	href="https://twitter.com/cincura_net/status/315067029021413376"&gt;March 22,
	2013&lt;/a&gt;&lt;/blockquote&gt;

&lt;p&gt;Začneme malou ukázkou z praxe. V předchozím tweetu Jirka ukazuje na
„asynchronní“ implementaci metody &lt;code&gt;ToFirstAsync()&lt;/code&gt; ze
SQLite:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public Task&amp;lt;T&amp;gt; ToFirstAsync ()
{
  return Task&amp;lt;T&amp;gt;.Factory.StartNew(() =&amp;gt; {
    using (((SQLiteConnectionWithLock)_innerQuery.Connection).Lock ()) {
      return _innerQuery.ToFirst ();
    }
  });
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Co je na ní špatného?&lt;/p&gt;

&lt;p&gt;Když pominu maďarské podtržítko, mezery před závorkama, zbytečné
složené závorky a vůbec… Zkrátka vidíme ukázkový pokus o implementaci
TAP pomocí &lt;a href="http://msdn.microsoft.com/en-us/library/dd460717.aspx"&gt;Task
Parallel Library (TPL)&lt;/a&gt;. A to je &lt;strong&gt;špatně&lt;/strong&gt;. Ve skutečnosti
nejde o asynchronní operaci, ale o operaci odpálenou na jiném threadu.&lt;/p&gt;

&lt;h3 id="toc-asynchronni-vs-paralelni"&gt;Asynchronní vs. paralelní&lt;/h3&gt;

&lt;p&gt;Nejprve bychom si asi měli ujasnit, jaký rozdíl je mezi asynchronním a
paralelním zpracováním, protože to stále většině lidí není jasné.
Ano, i já se v tom občas ztrácím, ale snažím se. :)&lt;/p&gt;

&lt;p&gt;Představte si dlouhotrvajících operaci. Řekněme takovou, která není
přímo spojená s výpočtem (CPU-bounded), ale takovou, která si šahá na
některé ze vstupně/výstupních zařízení (IO-bounded). Tak tedy vězte,
že asynchronní operace je taková, která běží v tomto zařízení. Pokud
třeba čteme z disku, databáze nebo z cloudu, pošleme požadavek na
zařízení a &lt;strong&gt;nečekáme na odpověď&lt;/strong&gt; přímo, ale necháme
zařízení &lt;strong&gt;ať se nám ozve samo&lt;/strong&gt;, až bude jeho odpověď
připravená. Mezi tím se může aplikace věnovat jiným úlohám. Žádná
vlákna zde není třeba zmiňovat.&lt;/p&gt;

&lt;p&gt;Pokud zadáme úlohu ke zpracování jinému vláknu, zavádíme konkurenci.
Ukázka výše odstartuje nový Task, který se s největší
pravděpodobností spustí na jiném threadu a záhy ho zamkne. Sice neblokuje
vlákno, ze kterého operaci voláme, ale blokujeme vlákno jiné. Jaký je
účel? A náklady na synchronizaci?&lt;/p&gt;

&lt;p&gt;Paralelizace je vhodná tam, kde máme &lt;strong&gt;výpočetně náročné
operace&lt;/strong&gt; a dají se rozdělit na několik kroků, které mohou běžet
konkurenčně. Tj. nesdílí stav a slouží třeba jako mezivýsledky
v nějakém větším výpočtu. Typickým příkladem může být Map/Reduce.
Mapování může běžet paralelně, redukce pak proběhne po doběhnutí
mapování, případně může také probíhat paralelně v nějakých
clusterech dat.&lt;/p&gt;

&lt;p&gt;Tak, snad je to už jasné. :)&lt;/p&gt;

&lt;p&gt;Dalším velkým rozdílem je, že paralelizace zpracování je
implementační detail, a ten by jako takový neměl prosakovat do APIs. Pokud
tedy uvidíte metodu, která vrací &lt;code&gt;Task&lt;/code&gt; nebo
&lt;code&gt;Task&amp;lt;T&amp;gt;&lt;/code&gt; a v její implementaci je &lt;code&gt;Task.Run&lt;/code&gt;
potažmo starší verze &lt;code&gt;Task.Factory.StartNew&lt;/code&gt;, považujte to
za smell.&lt;/p&gt;

&lt;h3 id="toc-taky-jsem-ji-mel"&gt;Taky jsem ji měl&lt;/h3&gt;

&lt;p&gt;Popravdě, taky jsem takovou metodu měl. Zjednodušeně vypadala asi
nějak tak:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;class Client : ConsumerOf&amp;lt;Message&amp;gt; {
  readonly ManualResetEvent sync = new ManualResetEvent(false);

  public Task&amp;lt;Result&amp;gt; QueryAsync(Request request) {
    return Task.Factory.StartNew(() =&amp;gt; {
      SendQuery(request.ToQuery());
      sync.Wait();
      return Result;
    });
  }

  public void Consume(Message msg) {
    sync.Set();
    Result = msg.ToResult();
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Jak vidíte, spouští se tu nový Task, který odešle dotaz a čeká na
odpověď. Dotaz i odpověď jsou zprávy cestující po service busu.
Všimněte si &lt;em&gt;synchronizace&lt;/em&gt; (sic!) pomocí signální události.
Navenek se to tváří jako asynchronní, ale je to celkem pěkně drahá
sranda. Jak to udělat opravdu asynchronně?&lt;/p&gt;

&lt;h3 id="toc-lepsi-reseni"&gt;Lepší řešení&lt;/h3&gt;

&lt;p&gt;Klíčem k úspěchu je využití třídy
&lt;code&gt;TaskCompletionSource&lt;/code&gt;:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;class Client : ConsumerOf&amp;lt;Message&amp;gt; {
  readonly TaskCompletionSource tcs = new TaskCompletionSource();

  public Task&amp;lt;Result&amp;gt; QueryAsync(Request request) {
    SendQuery(request.ToQuery());
    return tcs.Task;
  }

  public void Consume(Message msg) {
    tcs.TrySetResult(msg.ToResult());
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Task nevytváříme pomocí &lt;code&gt;TaskScheduler&lt;/code&gt;u, který ho alokuje
někde na ThreadPoolu, ale pomocí &lt;code&gt;TaskCompletionSource&lt;/code&gt;. Result se
nastaví ve chvíli, kdy přijde odpověď. Nepotřebujeme žádné semafory,
vše funguje pěkně asynchronně. Můžeme snadno přidat řešení chybových
stavů, timeout nebo cancellation. Dle potřeb a celkem levně.&lt;/p&gt;

&lt;h3 id="toc-zaver"&gt;Závěr&lt;/h3&gt;

&lt;p&gt;Asynchronní APIs má cenu vystavovat pouze u IO operací. Výpočetně
náročné operace můžeme vnitřně paralelizovat, ale nikdy tento detail
nezveřejňujeme v APIs. Pro asynchronní operace nepoužíváme
&lt;code&gt;TaskFactory&lt;/code&gt; ani synchronizační objekty, ale
&lt;code&gt;TaskCompletionSource&lt;/code&gt;. Já už si to budu pamatovat. Doufám, že
i vy. :)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">S příchodem `async/await` do C# 5.0 se nám v různých APIs objevily asynchronní metody, které vracejí `Task` nebo `Task&lt;T&gt;` a jejich název je vybaven kouzelným postfixem `Async`. Jde o takzvaný "Task-based Asynchronous Pattern (TAP)":[http://msdn.microsoft.com/en-us/library/hh873175.aspx]. A protože je postavený na datové struktuře `Task` může svádět k vlastním implementacím, které nejsou tak říkajíc *zrovna optimální*.

&lt;blockquote class="twitter-tweet"&gt;&lt;p&gt;That's an &lt;a href="https://twitter.com/search/%23async"&gt;#async&lt;/a&gt; implementation! Not! &lt;a href="http://t.co/sHBSxhfthj" title="http://ow.ly/jjzrf"&gt;ow.ly/jjzrf&lt;/a&gt; &lt;a href="https://twitter.com/search/%23sqlite"&gt;#sqlite&lt;/a&gt;&lt;/p&gt;&amp;mdash; Jiri Cincura (@cincura_net) &lt;a href="https://twitter.com/cincura_net/status/315067029021413376"&gt;March 22, 2013&lt;/a&gt;&lt;/blockquote&gt;

Začneme malou ukázkou z praxe. V předchozím tweetu Jirka ukazuje na "asynchronní" implementaci metody `ToFirstAsync()` ze SQLite:

/--code csharp
public Task&lt;T&gt; ToFirstAsync ()
{
  return Task&lt;T&gt;.Factory.StartNew(() =&gt; {
    using (((SQLiteConnectionWithLock)_innerQuery.Connection).Lock ()) {
      return _innerQuery.ToFirst ();
    }
  });
}
\--code

Co je na ní špatného?

Když pominu maďarské podtržítko, mezery před závorkama, zbytečné složené závorky a vůbec... Zkrátka vidíme ukázkový pokus o implementaci TAP pomocí "Task Parallel Library (TPL)":[http://msdn.microsoft.com/en-us/library/dd460717.aspx]. A to je **špatně**. Ve skutečnosti nejde o asynchronní operaci, ale o operaci odpálenou na jiném threadu.

Asynchronní vs. paralelní
=========================

Nejprve bychom si asi měli ujasnit, jaký rozdíl je mezi asynchronním a paralelním zpracováním, protože to stále většině lidí není jasné. Ano, i já se v tom občas ztrácím, ale snažím se. :)

Představte si dlouhotrvajících operaci. Řekněme takovou, která není přímo spojená s výpočtem (CPU-bounded), ale takovou, která si šahá na některé ze vstupně/výstupních zařízení (IO-bounded).
Tak tedy vězte, že asynchronní operace je taková, která běží v tomto zařízení. Pokud třeba čteme z disku, databáze nebo z cloudu, pošleme požadavek na zařízení a **nečekáme na odpověď** přímo, ale necháme zařízení **ať se nám ozve samo**, až bude jeho odpověď připravená. Mezi tím se může aplikace věnovat jiným úlohám. Žádná vlákna zde není třeba zmiňovat.

Pokud zadáme úlohu ke zpracování jinému vláknu, zavádíme konkurenci. Ukázka výše odstartuje nový Task, který se s největší pravděpodobností spustí na jiném threadu a záhy ho zamkne. Sice neblokuje vlákno, ze kterého operaci voláme, ale blokujeme vlákno jiné. Jaký je účel? A náklady na synchronizaci?

Paralelizace je vhodná tam, kde máme **výpočetně náročné operace** a dají se rozdělit na několik kroků, které mohou běžet konkurenčně. Tj. nesdílí stav a slouží třeba jako mezivýsledky v nějakém větším výpočtu. Typickým příkladem může být Map/Reduce. Mapování může běžet paralelně, redukce pak proběhne po doběhnutí mapování, případně může také probíhat paralelně v nějakých clusterech dat.

Tak, snad je to už jasné. :)

Dalším velkým rozdílem je, že paralelizace zpracování je implementační detail, a ten by jako takový neměl prosakovat do APIs. Pokud tedy uvidíte metodu, která vrací `Task` nebo `Task&lt;T&gt;` a v její implementaci je `Task.Run` potažmo starší verze `Task.Factory.StartNew`, považujte to za smell.

Taky jsem ji měl
================

Popravdě, taky jsem takovou metodu měl. Zjednodušeně vypadala asi nějak tak:

/--code csharp
class Client : ConsumerOf&lt;Message&gt; {
  readonly ManualResetEvent sync = new ManualResetEvent(false);

  public Task&lt;Result&gt; QueryAsync(Request request) {
    return Task.Factory.StartNew(() =&gt; {
      SendQuery(request.ToQuery());
      sync.Wait();
      return Result;
    });
  }

  public void Consume(Message msg) {
    sync.Set();
    Result = msg.ToResult();
  }
}
\--code

Jak vidíte, spouští se tu nový Task, který odešle dotaz a čeká na odpověď. Dotaz i odpověď jsou zprávy cestující po service busu. Všimněte si *synchronizace* (sic!) pomocí signální události. Navenek se to tváří jako asynchronní, ale je to celkem pěkně drahá sranda. Jak to udělat opravdu asynchronně?

Lepší řešení
============

Klíčem k úspěchu je využití třídy `TaskCompletionSource`:


/--code csharp
class Client : ConsumerOf&lt;Message&gt; {
  readonly TaskCompletionSource tcs = new TaskCompletionSource();

  public Task&lt;Result&gt; QueryAsync(Request request) {
    SendQuery(request.ToQuery());
    return tcs.Task;
  }

  public void Consume(Message msg) {
    tcs.TrySetResult(msg.ToResult());
  }
}
\--code

Task nevytváříme pomocí `TaskScheduler`u, který ho alokuje někde na ThreadPoolu, ale pomocí `TaskCompletionSource`. Result se nastaví ve chvíli, kdy přijde odpověď. Nepotřebujeme žádné semafory, vše funguje pěkně asynchronně. Můžeme snadno přidat řešení chybových stavů, timeout nebo cancellation. Dle potřeb a celkem levně.

Závěr
=====

Asynchronní APIs má cenu vystavovat pouze u IO operací. Výpočetně náročné operace můžeme vnitřně paralelizovat, ale nikdy tento detail nezveřejňujeme v APIs. Pro asynchronní operace nepoužíváme `TaskFactory` ani synchronizační objekty, ale `TaskCompletionSource`. Já už si to budu pamatovat. Doufám, že i vy. :)</raw>
    <author>Aleš Roubíček</author>
    <published>2013-03-26T12:42:52.607</published>
    <url>asynchronni-vs-paralelni-zpracovani-uloh</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>async</tags>
    <is-published>1</is-published>
    <edited>2013-03-26T16:35:46.720</edited>
  </article>
  <article>
    <id>446</id>
    <title>Krátká pohádka o zlobivých bytech v DB</title>
    <description>Zmrdem snadno a rychle za pár měsíců.</description>
    <html xml:space="preserve">
&lt;p&gt;„Celý je to pomalý a taví nám to databázi. Vždyť tam máme pár
uživatelů a už to nezvládá. To jste se vyznamenali, borci.“ A to byl
začátek celkem slušného redesignu, dva měsíce po spuštění do produkce,
s celkem zajímavě naplněnou databází. Po létě proseděným ve stínu
kolbenky, značném vyčerpání z posunování vostrýho startu. Krásná vize
na barevný podzim a začátek zimy.&lt;/p&gt;

&lt;p&gt;A za celým tím byla úžasná myšlenka &lt;strong&gt;ukládat obrázky do
databáze&lt;/strong&gt;. Vždyť MS SQL to umí, dokonce má datový typ
&lt;code&gt;FileStream&lt;/code&gt;, který ukládá soubory „fyzicky“ na file systém!
Jistoty, prosperita. Samý profit. Vzpomínáte na Longhorn a jeho geniální
WinFS, která měla spasit správu souborů?&lt;/p&gt;

&lt;h3 id="toc-o-necely-rok-drive"&gt;O necelý rok dříve&lt;/h3&gt;

&lt;p&gt;Když jsem s novým rokem nastupoval do nového zaměstnání, projekt už
pár měsíců běžel. Při procházení datové vrstvy mě zarazila jedna věc
a to, že se obrázky ukládaly přímo do databáze. Entity, které měly
navázané obrázky prostě obsahovaly vlastnost typu &lt;code&gt;byte[]&lt;/code&gt;.
Puristický dogmatik ve mně zpozorněl. „Přijde vám ukládat nerelační
data do relační databáze ok? Mně teda ne.“ Říkám pánům architektům.
Neviděli na tom nic špatného a jelo se dál.&lt;/p&gt;

&lt;p&gt;Za pár měsíců se rozhodlo, že budeme hostovat v cloudu. SQL Azure sice
&lt;code&gt;FileStream&lt;/code&gt;y neumí, ale pořád můžeme mít
&lt;code&gt;varbinary&lt;/code&gt; sloupce. Mně se to furt nezdálo. Je to „good
enough,“ jak se s oblibou říkalo.&lt;/p&gt;

&lt;p&gt;Problem solved.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">"Celý je to pomalý a taví nám to databázi. Vždyť tam máme pár uživatelů a už to nezvládá. To jste se vyznamenali, borci." A to byl začátek celkem slušného redesignu, dva měsíce po spuštění do produkce, s celkem zajímavě naplněnou databází. Po létě proseděným ve stínu kolbenky, značném vyčerpání z posunování vostrýho startu. Krásná vize na barevný podzim a začátek zimy.

A za celým tím byla úžasná myšlenka **ukládat obrázky do databáze**. Vždyť MS SQL to umí, dokonce má datový typ `FileStream`, který ukládá soubory "fyzicky" na file systém! Jistoty, prosperita. Samý profit. Vzpomínáte na Longhorn a jeho geniální WinFS, která měla spasit správu souborů?

O necelý rok dříve
===========

Když jsem s novým rokem nastupoval do nového zaměstnání, projekt už pár měsíců běžel. Při procházení datové vrstvy mě zarazila jedna věc a to, že se obrázky ukládaly přímo do databáze. Entity, které měly navázané obrázky prostě obsahovaly vlastnost typu `byte[]`. Puristický dogmatik ve mně zpozorněl. "Přijde vám ukládat nerelační data do relační databáze ok? Mně teda ne." Říkám pánům architektům. Neviděli na tom nic špatného a jelo se dál.

Za pár měsíců se rozhodlo, že budeme hostovat v cloudu. SQL Azure sice `FileStream`y neumí, ale pořád můžeme mít `varbinary` sloupce. Mně se to furt nezdálo. Je to "good enough," jak se s oblibou říkalo.

Problem solved.
</raw>
    <author>Aleš Roubíček</author>
    <published>2013-04-03T20:19:58.777</published>
    <url>kratka-pohadka-o-zlobivych-bytech-v-db</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2013-04-04T07:54:11.693</edited>
  </article>
  <article>
    <id>447</id>
    <title>Zatočíme s null</title>
    <description>Malé zastavení nad "chytrými" způsoby řešení problematiky null pointerů.</description>
    <html xml:space="preserve">
&lt;p&gt;Chtěl bych se v takové kratké sérii blogů dostat k jednotlivým bodům
&lt;a href="/weblog/444-manifest-nejen-objektove-orientovaneho-vyvoje.aspx"&gt;NOOO
manifesta a jeho principům&lt;/a&gt;. V této sérii, bych chtěl vyjádřit, proč
se k tomuto manifestu hlásím, a i ukázat pár praktických důsledků
v hodnotách a principech obsažených.&lt;/p&gt;

&lt;p&gt;Dnes se zastavíme u toho, proč preferuji &lt;strong&gt;Option&lt;/strong&gt; před
&lt;em&gt;null&lt;/em&gt; a proč:&lt;/p&gt;

&lt;blockquote&gt;
	&lt;p&gt;Upřednostňujeme reprezentaci invariant na úrovni typů před reprezentací
	na úrovni hodnot.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id="toc-problematika-null"&gt;Problematika null&lt;/h3&gt;

&lt;p&gt;Snad každý, kdo se zabývá programováním narazil na problém s
&lt;code&gt;null&lt;/code&gt; hodnotami. Většinou se projevuje tak, že z ničeho nic
dostaneme někde &lt;code&gt;NullReferenceException&lt;/code&gt; (NRE) a máme po ptákách.
Tento problém je celkem častý a &lt;a
href="http://blogs.msdn.com/b/dsyme/archive/2013/03/25/quote-of-the-week-quot-what-can-c-do-that-f-cannot-quot.aspx"&gt;odhaduje
se, že každý rok má za následek ztrátu $1B&lt;/a&gt;. To je pro představu
1 000 000 000 USD. Ztráta je způsobena jak samotným projevem, tak
i náklady vynaloženými na obranu před &lt;code&gt;NRE&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id="toc-obrana"&gt;Obrana&lt;/h3&gt;

&lt;p&gt;Jistě znáte techniky defenzivního programování, jako jsou &lt;em&gt;Code
Contracts&lt;/em&gt; v jejich různých mutacích, které efektivně zvyšují
náklady na tvorbu a správu přebujelé code base, v který aby se čert
vyznal. Další se snaží o zavedení nového syntaktického prvku, který
vypadá následovně: &lt;code&gt;foo?bar()&lt;/code&gt; a dělá to samé co &lt;code&gt;if (foo
!= null) foo.bar();&lt;/code&gt;. Pořád jen to jen maskování symptomů. Ne
řešení problému.&lt;/p&gt;

&lt;h3 id="toc-prevence"&gt;Prevence&lt;/h3&gt;

&lt;p&gt;Další možností je používat jazyky, jako je třeba F#, které
&lt;code&gt;null&lt;/code&gt; nemají. (Ok, F# zná &lt;code&gt;null&lt;/code&gt;, ale musíte si
explicitně o něj říct a označit tak potenciálně nebezpečný kód, jinak
by asi moc nemohl pracovat s již existujícími .net knihovnami.) Většinou
se jedná o funkcionální jazyky se sofistikovanými typovými systémy.&lt;/p&gt;

&lt;p&gt;Nechme se inspirovat některými dobrými vzory:&lt;/p&gt;

&lt;h3 id="toc-null-object"&gt;Null Object&lt;/h3&gt;

&lt;p&gt;Pokud děláte TDD, nebo se zajímáte o návrhové vzory, jistě už jste
na tento vzor narazili. Jde o to, že ve vašem systému máte definované
„implementační“ třídy, které nemají žádnou implementaci, nebo
prostě jen nikdy nevyhazují výjimky. Slouží pouze k tomu, že pokud
systému nenabídneme nějakou jinou funkční implementaci, nemusíme se
obávat &lt;code&gt;NRE&lt;/code&gt;, protože tu máme bezpečný &lt;em&gt;Null Object&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Já ho třeba používám vždycky, když implementuji logování:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;ILogger logger = NullLogger.Instance;
public ILogger Log {
  get { return logger; }
  set { logger = value ?? NullLogger.Instance; }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Po inicializaci je logger nastaven na instanci &lt;code&gt;NullLogger&lt;/code&gt;u.
Logger je možné injektovat, ale pokud se někdo pokusí podstrčit
&lt;code&gt;null&lt;/code&gt;, tak si podržíme &lt;code&gt;NullLogger&lt;/code&gt;. Za předpokladu,
že se &lt;code&gt;logger&lt;/code&gt; nepoužívá nikde jinde, než v property, máme
bezpečno a nemusíme psát spoustu defenzivního kódu jako:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-csharp"&gt;if (Log != null) Log.Info("foo");&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Samozřejmě to není jediný případ užití. Další, z možných
implementací, je vyjádření speciálního stavu, jako třeba:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class AsyncResult {
  public AsyncResult(XElement response) {
    Response = response;
  }
  public XElement Response { get; set; }
}

public class QueryInProgress : AsyncResult {
  public QueryInProgress() : base(null) { }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Tohle je &lt;em&gt;Null Object&lt;/em&gt; implementovaný v SOA. Systém dostane ke
zpracování nějaký požadavek (dotaz) a když se následně zeptá na
výsledek, dostane buď Null Object &lt;code&gt;QueryInProgress&lt;/code&gt;, který
říká, že dotaz se ještě zpracovává, nebo už samostatnou odpověď.
&lt;strong&gt;Null Object může mít i sémantický význam.&lt;/strong&gt;&lt;/p&gt;

&lt;h3 id="toc-option"&gt;Option&lt;/h3&gt;

&lt;p&gt;Jazyky, které podporují pattern-matching, umožňuji práci s typem
Option:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-fsharp"&gt;let exists (x : int option) =
    match x with
    | Some(x) -&amp;gt; true
    | None -&amp;gt; false&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;None&lt;/code&gt; nám nahrazuje &lt;code&gt;null&lt;/code&gt;, ale nejedná se
o hodnotu, ale o typ. Typ &lt;code&gt;Option&lt;/code&gt; je totiž definován jako
generické disjunktivní sjednocení:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-fsharp"&gt;type Option&amp;lt;'T&amp;gt; =
  | None
  | Some of 'T&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Na rozdíl od vzoru &lt;code&gt;Null Object&lt;/code&gt; tu neztrácíme nutnost
rozhodování se, jak se v případě &lt;code&gt;None&lt;/code&gt; zachovat. Nadruhou
stranu, máme speciální případ explicitně sémanticky vyjádřen na
úrovni typu.&lt;/p&gt;

&lt;h3 id="toc-maybe"&gt;Maybe&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;Maybe&lt;/code&gt; je v případě užití celkem podobný
&lt;code&gt;Option&lt;/code&gt; s tím rozdílem, že jde o monad. Krom toho, že je opět
parametricky polymorfní (generický), splňuje i požadavky na monadičnost.
Monadičnost nám &lt;em&gt;umožňuje kompozici&lt;/em&gt; a můžeme i využít
vlastostí jazyka jako je LINQ, který je postavený nad sekvenčním monadem,
ale nic nám nebrání ho použít i nad jinými. Třeba právě
nad maybe.&lt;/p&gt;

&lt;p&gt;Nepotřebujeme však nutně Haskell, abychom mohli využívat všech výhod.
Tohle je třeba C#:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;return TryGetCachedData(message, metadata, request).Match(
  some: data =&amp;gt; CachedResult(message.RequestId, data, stats),
  none: () =&amp;gt; Result(message, context, metadata, request, stats));&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Implementaci &lt;code&gt;Maybe&lt;/code&gt; monadu z ukázky najdete &lt;a
href="https://gist.github.com/rarous/5355792"&gt;v tomto gistu&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id="toc-zaver"&gt;Závěr&lt;/h3&gt;

&lt;p&gt;Null je zlo. Je možné s ním bojovat silou nebo inteligencí. Já byl
vždycky slabý a líný, proto preferuji výše zmíněné &lt;em&gt;možnosti&lt;/em&gt;
prevence před samotnou obranou. Náš projekt sice není úplně imuní vůči
&lt;code&gt;null&lt;/code&gt;, ale díky &lt;em&gt;Null Objectu&lt;/em&gt; a &lt;em&gt;Maybe monadu&lt;/em&gt;,
které se dají krásně kombinovat, je kód čistší a méně náchylný
k chybám. Snad. :)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Chtěl bych se v takové kratké sérii blogů dostat k jednotlivým bodům "NOOO manifesta a jeho principům":[/weblog/444-manifest-nejen-objektove-orientovaneho-vyvoje.aspx]. V této sérii, bych chtěl vyjádřit, proč se k tomuto manifestu hlásím, a i ukázat pár praktických důsledků v hodnotách a principech obsažených.

Dnes se zastavíme u toho, proč preferuji **Option** před *null* a proč:

&gt; Upřednostňujeme reprezentaci invariant na úrovni typů před reprezentací na úrovni hodnot.

Problematika null
=================

Snad každý, kdo se zabývá programováním narazil na problém s `null` hodnotami. Většinou se projevuje tak, že z ničeho nic dostaneme někde `NullReferenceException` (NRE) a máme po ptákách. Tento problém je celkem častý a "odhaduje se, že každý rok má za následek ztrátu $1B":[http://blogs.msdn.com/b/dsyme/archive/2013/03/25/quote-of-the-week-quot-what-can-c-do-that-f-cannot-quot.aspx]. To je pro představu 1 000 000 000 USD. Ztráta je způsobena jak samotným projevem, tak i náklady vynaloženými na obranu před `NRE`.

Obrana
======

Jistě znáte techniky defenzivního programování, jako jsou *Code Contracts* v jejich různých mutacích, které efektivně zvyšují náklady na tvorbu a správu přebujelé code base, v který aby se čert vyznal. Další se snaží o zavedení nového syntaktického prvku, který vypadá následovně: `foo?bar()` a dělá to samé co `if (foo != null) foo.bar();`. Pořád jen to jen maskování symptomů. Ne řešení problému.

Prevence
========

Další možností je používat jazyky, jako je třeba F#, které `null` nemají. (Ok, F# zná `null`, ale musíte si explicitně o něj říct a označit tak potenciálně nebezpečný kód, jinak by asi moc nemohl pracovat s již existujícími .net knihovnami.) Většinou se jedná o funkcionální jazyky se sofistikovanými typovými systémy.

Nechme se inspirovat některými dobrými vzory:

Null Object
===========

Pokud děláte TDD, nebo se zajímáte o návrhové vzory, jistě už jste na tento vzor narazili. Jde o to, že ve vašem systému máte definované "implementační" třídy, které nemají žádnou implementaci, nebo prostě jen nikdy nevyhazují výjimky. Slouží pouze k tomu, že pokud systému nenabídneme nějakou jinou funkční implementaci, nemusíme se obávat `NRE`, protože tu máme bezpečný *Null Object*.

Já ho třeba používám vždycky, když implementuji logování:

/--code csharp
ILogger logger = NullLogger.Instance;
public ILogger Log {
  get { return logger; }
  set { logger = value ?? NullLogger.Instance; }
}
\--code

Po inicializaci je logger nastaven na instanci `NullLogger`u. Logger je možné injektovat, ale pokud se někdo pokusí podstrčit `null`, tak si podržíme `NullLogger`. Za předpokladu, že se `logger` nepoužívá nikde jinde, než v property, máme bezpečno a nemusíme psát spoustu defenzivního kódu jako:

/--code csharp
if (Log != null) Log.Info("foo");
\--code

Samozřejmě to není jediný případ užití. Další, z možných implementací, je vyjádření speciálního stavu, jako třeba:

/--code csharp
public class AsyncResult {
  public AsyncResult(XElement response) {
    Response = response;
  }
  public XElement Response { get; set; }
}

public class QueryInProgress : AsyncResult {
  public QueryInProgress() : base(null) { }
}
\--code

Tohle je *Null Object* implementovaný v SOA. Systém dostane ke zpracování nějaký požadavek (dotaz) a když se následně zeptá na výsledek, dostane buď Null Object `QueryInProgress`, který říká, že dotaz se ještě zpracovává, nebo už samostatnou odpověď. **Null Object může mít i sémantický význam.**

Option
======

Jazyky, které podporují pattern-matching, umožňuji práci s typem Option:

/--code fsharp
let exists (x : int option) =
    match x with
    | Some(x) -&gt; true
    | None -&gt; false
\--code

`None` nám nahrazuje `null`, ale nejedná se o hodnotu, ale o typ. Typ `Option` je totiž definován jako generické disjunktivní sjednocení:

/--code fsharp
type Option&lt;'T&gt; =
  | None
  | Some of 'T
\--code

Na rozdíl od vzoru `Null Object` tu neztrácíme nutnost rozhodování se, jak se v případě `None` zachovat. Nadruhou stranu, máme speciální případ explicitně sémanticky vyjádřen na úrovni typu.

Maybe
=====

`Maybe` je v případě užití celkem podobný `Option` s tím rozdílem, že jde o monad. Krom toho, že je opět parametricky polymorfní (generický), splňuje i požadavky na monadičnost. Monadičnost nám *umožňuje kompozici* a můžeme i využít vlastostí jazyka jako je LINQ, který je postavený nad sekvenčním monadem, ale nic nám nebrání ho použít i nad jinými. Třeba právě nad maybe.

Nepotřebujeme však nutně Haskell, abychom mohli využívat všech výhod. Tohle je třeba C#:

/--code csharp
return TryGetCachedData(message, metadata, request).Match(
  some: data =&gt; CachedResult(message.RequestId, data, stats),
  none: () =&gt; Result(message, context, metadata, request, stats));
\--code

Implementaci `Maybe` monadu z ukázky najdete "v tomto gistu":[https://gist.github.com/rarous/5355792].

Závěr
=====

Null je zlo. Je možné s ním bojovat silou nebo inteligencí. Já byl vždycky slabý a líný, proto preferuji výše zmíněné *možnosti* prevence před samotnou obranou. Náš projekt sice není úplně imuní vůči `null`, ale díky *Null Objectu* a *Maybe monadu*, které se dají krásně kombinovat, je kód čistší a méně náchylný k chybám. Snad. :)</raw>
    <author>Aleš Roubíček</author>
    <published>2013-04-11T13:29:00</published>
    <url>zatocime-s-null</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>nooo monad patterns</tags>
    <is-published>1</is-published>
    <edited>2013-04-13T06:31:19.263</edited>
  </article>
  <article>
    <id>448</id>
    <title>Deset důvodů proč nepoužívat funkcionální jazyky</title>
    <description>Máte už plný zuby toho šílenýho povyku okolo funkcionálních jazyků? Já teda jo. Myslím, že je načase sepsat pár rozumných důvodů, proč se od něho držet dál. </description>
    <html xml:space="preserve">
&lt;p&gt;Máte už plný zuby toho šílenýho povyku okolo funkcionálních jazyků?
Já teda jo. Myslím, že je načase sepsat pár rozumných důvodů, proč se
od něho držet dál. &lt;strong&gt;Funkcionální programování není pro
každého.&lt;/strong&gt; To je důležité zmínit hned na začátku.&lt;/p&gt;

&lt;p&gt;Pro jistotu, když píšu „staticky typovaný funkcionální jazyk,“ mám
na mysli jazyk, který i dokáže odvozovat typy, jeho datové struktury
nepodporují mutace, a podobné nesmysly. V praxi to znamená, že myslím
zcela nepraktické (akademické) jazyky jako je Haskell nebo jazyky z rodiny ML
(jako OCaml nebo F#).&lt;/p&gt;

&lt;h3 id="toc-duvod-prvni-nemam-zajem-sledovat-posledni-vystrelky"&gt;Důvod první:
Nemám zájem sledovat poslední výstřelky&lt;/h3&gt;

&lt;p&gt;Jako většina programátorů, jsem přirozeně konzervativní a nerad se
učím nové věci. To je také důvod proč jsem si vybral kariéru v IT.&lt;/p&gt;

&lt;p&gt;Rozhodně nejančím z každé žhavé novinky, jen proto, že všichni
frajeři se z ním můžou podělat. Já si radši počkám, až ten
výstřelek trochu dospěje a ukáže se trochu perspektivním. Pro mě tu není
funkcionální programování dostatečně dlouho, aby mě přesvědčilo, že
tu s námi ještě nějakou dobu bude.&lt;/p&gt;

&lt;p&gt;Ano, někteří se nás mohou snažit přesvědčovat, že ML nebo Haskell tu
byly asi tak stejně dlouho jako naše staré známé oblíbené jazyky, jako je
Java nebo PHP, ale já o Haskellu, slyšel poprvé celkem nedávno, takže
s tímhle argumentem na mě nechoďte.&lt;/p&gt;

&lt;p&gt;A podívejte na to batole, F#. Vždyť je teprve sedm let starý! Jistě, to
může být dost dlouhá doba pro geology, ale na internetu? Sedm let!? To je
skoro okamžik.&lt;/p&gt;

&lt;p&gt;Tak, jak říkám, radši budu opatrný a ještě si pár dekád počkám,
jestli tu ještě tohle to funkcionální programování bude, nebo jestli se to
nakonec neukáže jako výstřelek doby.&lt;/p&gt;

&lt;h3 id="toc-duvod-druhy-jsem-placen-od-radky-kodu"&gt;Důvod druhý: Jsem placen od
řádky kódu&lt;/h3&gt;

&lt;p&gt;Já teda nevím jak vy, ale čím víc řádek napíšu, tím víc se cítím
produktivní. Pokud můžu za den vychrlit 500 řádků kódu, mám ze sebe
dobrý pocit. To byla dobře odvedená práce. Moje commity jsou velké a můj
šéf může jasně vidět, že jsem byl opravdu vytíženej.&lt;/p&gt;

&lt;p&gt;Když porovnám kód napsaný ve funkcionálním jazyce s kódem ve starém
dobrém céčkovém jazyce, chybí tam tolik kódu, že mě to až děsí.&lt;/p&gt;

&lt;p&gt;No, podívejte se sami na kód napsaný v povědomém jazyce:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public static class SumOfSquaresHelper
{
   public static int Square(int i)
   {
      return i * i;
   }

   public static int SumOfSquares(int n)
   {
      int sum = 0;
      for (int i = 1; i &amp;lt;= n; i++)
      {
         sum += Square(i);
      }
      return sum;
   }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;a porovnejte to s tímhle:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-fsharp"&gt;let square x = x * x
let sumOfSquares n = [1..n] |&amp;gt; List.map square |&amp;gt; List.sum&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;To je 17 řádek ku 2. &lt;a
href="http://www.simontylercousins.net/journal/2013/2/22/does-the-language-you-choose-make-a-difference.html"&gt;Představte
si ten rozdíl, když to rozložíte na celý projekt!&lt;/a&gt; Kdybych takhle
přistupoval k psaní mých programů, moje produktivita by drasticky klesla.
Brrr, lepší si to ani nepředstavovat.&lt;/p&gt;

&lt;h3 id="toc-duvod-treti-miluju-slozene-zavorky"&gt;Důvod třetí: Miluju složené
závorky&lt;/h3&gt;

&lt;p&gt;A to taky dost nepobírám. Co je jako na těch jazycích, co se snaží
zbavit všech těch závorek? Jak je pak vůbec můžeme považovat za
opravdové programovací jazyky?&lt;/p&gt;

&lt;p&gt;Pojďme si ukázat, co mám na mysli. Tady je kus kódu se starejma dobrejma
složenejma závorkama:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public class Squarer
{
    public int Square(int input)
    {
        var result = input * input;
        return result;
    }

    public void PrintSquare(int input)
    {
        var result = this.Square(input);
        Console.WriteLine("Input={0}. Result={1}", input, result);
    }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;a tady obdobný kód bez složenejch závorek:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-fsharp"&gt;type Squarer() =

    let Square input =
         let result = input * input
         result

    let PrintSquare input =
         let result = Square input
         printf "Input=%i. Result=%i" input result&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Vidíte to? Já teda nevím jak vám, ale mně ta druhá ukázka přijde dost
znepokojující, jako by tam něco důležitého chybělo. Ruku na srdce, jsem
celkem ztracený, když se mé oko nemůže odpíchnout od povědomých
složených závorek.&lt;/p&gt;

&lt;h3 id="toc-duvod-ctvrty-chci-videt-explicitni-typy"&gt;Důvod čtvrtý: Chci
vidět explicitní typy&lt;/h3&gt;

&lt;p&gt;Zastánci funkcionálního programování tvrdí, že odvozování typů,
dělá kód čistším, protože ho nemusíte pořád zanášet typovými
deklaracemi.&lt;/p&gt;

&lt;p&gt;Abych byl upřímný, já typové deklarace vidět chci. Necítím se ve své
kůži, když nevidím jakého typu parametr přesně je. To je také důvod,
proč mám rád Javu.&lt;/p&gt;

&lt;p&gt;Tady je signatůra funkce z nějakýho ML dialektu. Nejsou tam vůbec
žádný deklarace typů. Všechny jsou odvozený automagicky:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-fsharp"&gt;let GroupBy source keySelector =
    ...&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;A tady je signatura té samé funkce v C#, s explicitně
vyjádřenými typy:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public IEnumerable&amp;lt;IGrouping&amp;lt;TKey, TSource&amp;gt;&amp;gt; GroupBy&amp;lt;TSource, TKey&amp;gt;(
    IEnumerable&amp;lt;TSource&amp;gt; source,
    Func&amp;lt;TSource, TKey&amp;gt; keySelector
    )
    ...&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Já teda nevím jak vám, ale mně se víc líbí druhá ukázka. Pro mě je
velice důležité, abych viděl, že ta funkce vrací
&lt;code&gt;IEnumerable&amp;lt;IGrouping&amp;lt;TKey, TSource&amp;gt;&amp;gt;&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Tak určitě. Kompilátor jako zjistí, co je to za typ a upozorní mě,
když to nesedí, ale proč by to, proboha, měl dělat kompilátor? Od čeho
mám svůj mozek?&lt;/p&gt;

&lt;p&gt;Přiznávám, že pokud pracujete s generiky, lambda výrazy a s funkcemi,
které vracejí funkce a s dalšíma cool novinkama, tak pak asi můžou být
typové declarace trochu fousaté a komplexní. Může to být trochu těžké,
napast správný typ. Ale na druhou stranu, existuje na to jednoduchý lék:
&lt;strong&gt;Nepoužívejte generika a nepředávejte si funkce.&lt;/strong&gt; Vaše
signatury budou o dost jednodušší!&lt;/p&gt;

&lt;h3 id="toc-duvod-paty-rad-opravuju-bugy"&gt;Důvod pátý: Rád opravuju bugy&lt;/h3&gt;

&lt;p&gt;Neznám nic napínavějšího než je lov – vystopovat a zlikvidovat
pořádnou bugu. A když najdu bugu v produkci, ještě líp, protože navíc
budu ještě za hrdinu.&lt;/p&gt;

&lt;p&gt;Četl jsem, že &lt;a
href="http://www.simontylercousins.net/journal/2013/3/7/why-bugs-dont-like-f.html"&gt;se
staticky typovnými funkcionálními jazyky, je mnohem těžší
zanést chybu.&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;No tě pic.&lt;/p&gt;

&lt;h3 id="toc-duvod-sesty-v-debuggeru-jsem-jako-doma"&gt;Důvod šestý: V debuggeru
jsem jako doma&lt;/h3&gt;

&lt;p&gt;A když už jsem u toho lovení bugů. Většinu dne trávím v debuggeru,
krokováním kódu. Já vím, měl bych psát unit testy. Jenže to se
snadnějš řekne, než dělá…&lt;/p&gt;

&lt;p&gt;Každopádně, podle všeho, &lt;a
href="http://www.haskell.org/haskellwiki/Why_Haskell_just_works"&gt;pokud se vám
ve staticky typovaném funkcionálním jazyce podaří program zkompilovat,
většinou i funguje&lt;/a&gt;. Prej musíte většinu času zabít tím, aby jste
správně poladili typy, aby to pěkně sedělo a pak máte hotovo. Co je na tom
zábavného?&lt;/p&gt;

&lt;p&gt;Což mě přivádí k…&lt;/p&gt;

&lt;h3 id="toc-duvod-sedmy-nechci-premyslet-nad-kazdym-detailem"&gt;Důvod sedmý:
Nechci přemýšlet nad každým detailem&lt;/h3&gt;

&lt;p&gt;Všechno to ladění typů a ujišťování se, že všechno perfektně
sedí, zní celkem nudně.&lt;/p&gt;

&lt;p&gt;Dokonce jsem někde slyšel, že jste nucený přemýšlet o každém
možném hraničním případu, všech možných chybových stavech a já
nevím, co se ještě může zvrtnout. A to všechno od samého začátku.
Prostě nemůžeš být línej a nechat to na pozdějc.&lt;/p&gt;

&lt;p&gt;Radši se zaměřuju na to, aby (většinou) všechno prošlo tak jak má a
bugy řeším, až když se ukážou.&lt;/p&gt;

&lt;h3 id="toc-duvod-osmy-rad-overuju-null"&gt;Důvod osmý: Rád ověřuju null&lt;/h3&gt;

&lt;p&gt;Jsem &lt;a
href="http://stackoverflow.com/questions/7585493/null-parameter-checking-in-c-sharp"&gt;velmi
svědomitý v případě ověřování &lt;code&gt;null&lt;/code&gt; a to v každé
metodě&lt;/a&gt;. Celkem mě uspokojuje pocit, že vím, že můj kód je ve
výsledku úplně neprůstřelný.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;void SomeMethod(SomeClass x)
{
    if (x == null) { throw new ArgumentNullException(); }

    x.DoSomething();
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Kecám. Samozřejmě to nedělám úplně všude, to bych vůbec nic jinýho
neudělal.&lt;/p&gt;

&lt;p&gt;Ale, nakonec se mi stalo jen jednou, že jsem musel řešit pád, kvůli
&lt;code&gt;NRE&lt;/code&gt;. Ani jsme nepřišli o moc peněz za těch pár tejdnů, kdy
jsem hledal, kde je vlastně problém. Fakt nechápu, proč se z toho &lt;a
href="http://www.infoq.com/presentations/Null-References-The-Billion-Dollar-Mistake-Tony-Hoare"&gt;dělá
taková věda&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id="toc-duvod-devaty-rad-aplikuju-navrhove-vzory-kde-je-to-mozne"&gt;Důvod
devátý: Rád aplikuju návrhové vzory, kde je to možné&lt;/h3&gt;

&lt;p&gt;Poprvý jsem o návrhových vzorech četl v knize &lt;a
href="http://knihy.cpress.cz/navrhove-vzory.html"&gt;Návrhové vzory&lt;/a&gt;
(z nějakýho důvodu se občas označuje jako GoF vzory, ale fakt netušim
proč) a od tý doby je fakt pilně aplikuju na všechny problémy. Můj kód
pak vypadá líp a má „enterprise“ nádech. A to se mému
šéfovi líbí.&lt;/p&gt;

&lt;p&gt;Ale ještě jsem ani náznakem neslyšel o nějakých vzorech ve
funkcionálním programování. Jak vůbec můžete udělat něco užitečnýho
bez &lt;a href="http://www.algoritmy.net/article/1639/Strategy"&gt;Strategie&lt;/a&gt;, &lt;a
href="http://www.algoritmy.net/article/1403/Abstract-factory"&gt;Abstraktní
továrny&lt;/a&gt;, &lt;a
href="http://www.algoritmy.net/article/1629/Decorator"&gt;Dekorátoru&lt;/a&gt;, &lt;a
href="http://objekty.vse.cz/Objekty/Vzory-Proxy"&gt;Proxy&lt;/a&gt; nebo dalších?&lt;/p&gt;

&lt;p&gt;Možná o nich funkcionální programátoři ani neslyšeli…&lt;/p&gt;

&lt;h3 id="toc-duvod-desaty-je-tam-prilis-matematiky"&gt;Důvod desátý: Je tam
příliš matematiky&lt;/h3&gt;

&lt;p&gt;Tady je další ukázka počítání mocnin. IMO je dost těžký pochopit,
o co vlastně jde, protože je tam sousta nesmyslných symbolů:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ss=: +/ @: *:&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Dobře, omlouvám se, moje chyba, tohle je &lt;a
href="http://en.wikipedia.org/wiki/J_(programming_language)"&gt;kód v J&lt;/a&gt;. Ale
stejně jsem viděl, jak je ten funkcionální kód plnej různých
&lt;code&gt;&amp;lt;*&amp;gt;&lt;/code&gt; a &lt;code&gt;&amp;gt;&amp;gt;=&lt;/code&gt; a vůbec takových divných
konceptů jako jsou „monády“ a „funktory“.&lt;/p&gt;

&lt;p&gt;Fakt nechápu, proč tihle funkcionalisti nemohli nechat věci, který už
dobře znám – jasné symboly jako &lt;code&gt;++&lt;/code&gt; nebo &lt;code&gt;!=&lt;/code&gt; a
jednoduché koncepty jako je „dědičnost“ a „polymorfismus“.&lt;/p&gt;

&lt;h3 id="toc-shrnuti-fakt-to-nechapu"&gt;Shrnutí: Fakt to nechápu&lt;/h3&gt;

&lt;p&gt;Víte co? Fakt to nechápu. Nechápu, co by mohlo být na funkcionálním
programování užitečný.&lt;/p&gt;

&lt;p&gt;Jediný oč žádám je, aby mi někdo &lt;a
href="http://fsharpforfunandprofit.com/why-use-fsharp/"&gt;ukázal skutečné
benefity na jedný stránce&lt;/a&gt;, místo chrlení příliš spousty nesourodých
informací.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Update:&lt;/strong&gt; Tak jsem si přečetl tu stránku „vše co
potřebujete vědět na jediné stránce.“ Ale je to &lt;a
href="http://www.devbook.cz/jak-zacit-programovat-tvorit-aplikace-programy"&gt;příliš
krátké a zjednodušující&lt;/a&gt;, aby mi to dávlo smysl. Fakt hledám něco, co
&lt;a
href="http://programujte.com/clanek/2006032503-co-je-to-funkcionalni-programovani/"&gt;má
trochu hloubku&lt;/a&gt;, něco, co by mě &lt;a
href="http://www.knesl.com/articles/view/jak-se-pustit-do-ukolu-ktery-se-vam-nechce-delat"&gt;fakt
chytlo&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;A ne, fakt nemám chuť &lt;a href="http://learnyouahaskell.com/"&gt;číst
tutoriály&lt;/a&gt;, &lt;a href="http://www.tryfsharp.org/Learn"&gt;hrát si
s ukázkama&lt;/a&gt; a psát vlastní kód. Chci tomu jen přijít na kloub, bez
toho, abych musel dělat všechny ty zbytečný věci.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Nechci měnit to, jak myslím, jen se chci naučit to nové
paradigma.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;článek je volným překladem &lt;a
href="http://fsharpforfunandprofit.com/posts/ten-reasons-not-to-use-a-functional-programming-language/"&gt;Ten
reasons not to use a statically typed functional programming language&lt;/a&gt; od
Scotta Wlaschina&lt;/em&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Máte už plný zuby toho šílenýho povyku okolo funkcionálních jazyků? Já teda jo. Myslím, že je načase sepsat pár rozumných důvodů, proč se od něho držet dál. **Funkcionální programování není pro každého.** To je důležité zmínit hned na začátku.

Pro jistotu, když píšu "staticky typovaný funkcionální jazyk," mám na mysli jazyk, který i dokáže odvozovat typy, jeho datové struktury nepodporují mutace, a podobné nesmysly. V praxi to znamená, že myslím zcela nepraktické (akademické) jazyky jako je Haskell nebo jazyky z rodiny ML (jako OCaml nebo F#).

Důvod první: Nemám zájem sledovat poslední výstřelky
==================================

Jako většina programátorů, jsem přirozeně konzervativní a nerad se učím nové věci. To je také důvod proč jsem si vybral kariéru v IT.

Rozhodně nejančím z každé žhavé novinky, jen proto, že všichni frajeři se z ním můžou podělat. Já si radši počkám, až ten výstřelek trochu dospěje a ukáže se trochu perspektivním. Pro mě tu není funkcionální programování dostatečně dlouho, aby mě přesvědčilo, že tu s námi ještě nějakou dobu bude.

Ano, někteří se nás mohou snažit přesvědčovat, že ML nebo Haskell tu byly asi tak stejně dlouho jako naše staré známé oblíbené jazyky, jako je Java nebo PHP, ale já o Haskellu, slyšel poprvé celkem nedávno, takže s tímhle argumentem na mě nechoďte.

A podívejte na to batole, F#. Vždyť je teprve sedm let starý! Jistě, to může být dost dlouhá doba pro geology, ale na internetu? Sedm let!? To je skoro okamžik.

Tak, jak říkám, radši budu opatrný a ještě si pár dekád počkám, jestli tu ještě tohle to funkcionální programování bude, nebo jestli se to nakonec neukáže jako výstřelek doby.

Důvod druhý: Jsem placen od řádky kódu
================================

Já teda nevím jak vy, ale čím víc řádek napíšu, tím víc se cítím produktivní. Pokud můžu za den vychrlit 500 řádků kódu, mám ze sebe dobrý pocit. To byla dobře odvedená práce. Moje commity jsou velké a můj šéf může jasně vidět, že jsem byl opravdu vytíženej.

Když porovnám kód napsaný ve funkcionálním jazyce s kódem ve starém dobrém céčkovém jazyce, chybí tam tolik kódu, že mě to až děsí.

No, podívejte se sami na kód napsaný v povědomém jazyce:

/--code csharp
public static class SumOfSquaresHelper
{
   public static int Square(int i)
   {
      return i * i;
   }

   public static int SumOfSquares(int n)
   {
      int sum = 0;
      for (int i = 1; i &lt;= n; i++)
      {
         sum += Square(i);
      }
      return sum;
   }
}
\--code

a porovnejte to s tímhle:

/--code fsharp
let square x = x * x
let sumOfSquares n = [1..n] |&gt; List.map square |&gt; List.sum
\--code

To je 17 řádek ku 2. "Představte si ten rozdíl, když to rozložíte na celý projekt!":[http://www.simontylercousins.net/journal/2013/2/22/does-the-language-you-choose-make-a-difference.html] Kdybych takhle přistupoval k psaní mých programů, moje produktivita by drasticky klesla. Brrr, lepší si to ani nepředstavovat.

Důvod třetí: Miluju složené závorky
==========================

A to taky dost nepobírám. Co je jako na těch jazycích, co se snaží zbavit všech těch závorek? Jak je pak vůbec můžeme považovat za opravdové programovací jazyky?

Pojďme si ukázat, co mám na mysli. Tady je kus kódu se starejma dobrejma složenejma závorkama:

/--code csharp
public class Squarer
{
    public int Square(int input)
    {
        var result = input * input;
        return result;
    }

    public void PrintSquare(int input)
    {
        var result = this.Square(input);
        Console.WriteLine("Input={0}. Result={1}", input, result);
    }
}
\--code

a tady obdobný kód bez složenejch závorek:

/--code fsharp
type Squarer() =

    let Square input =
         let result = input * input
         result

    let PrintSquare input =
         let result = Square input
         printf "Input=%i. Result=%i" input result
\--code

Vidíte to? Já teda nevím jak vám, ale mně ta druhá ukázka přijde dost znepokojující, jako by tam něco důležitého chybělo. Ruku na srdce, jsem celkem ztracený, když se mé oko nemůže odpíchnout od povědomých složených závorek.

Důvod čtvrtý: Chci vidět explicitní typy
============================

Zastánci funkcionálního programování tvrdí, že odvozování typů, dělá kód čistším, protože ho nemusíte pořád zanášet typovými deklaracemi.

Abych byl upřímný, já typové deklarace vidět chci. Necítím se ve své kůži, když nevidím jakého typu parametr přesně je. To je také důvod, proč mám rád Javu.

Tady je signatůra funkce z nějakýho ML dialektu. Nejsou tam vůbec žádný deklarace typů. Všechny jsou odvozený automagicky:

/--code fsharp
let GroupBy source keySelector =
    ...
\--code

A tady je signatura té samé funkce v C#, s explicitně vyjádřenými typy:

/--code csharp
public IEnumerable&lt;IGrouping&lt;TKey, TSource&gt;&gt; GroupBy&lt;TSource, TKey&gt;(
    IEnumerable&lt;TSource&gt; source,
    Func&lt;TSource, TKey&gt; keySelector
    )
    ...
\--code

Já teda nevím jak vám, ale mně se víc líbí druhá ukázka. Pro mě je velice důležité, abych viděl, že ta funkce vrací `IEnumerable&lt;IGrouping&lt;TKey, TSource&gt;&gt;`.

Tak určitě. Kompilátor jako zjistí, co je to za typ a upozorní mě, když to nesedí, ale proč by to, proboha, měl dělat kompilátor? Od čeho mám svůj mozek?

Přiznávám, že pokud pracujete s generiky, lambda výrazy a s funkcemi, které vracejí funkce a s dalšíma cool novinkama, tak pak asi můžou být typové declarace trochu fousaté a komplexní. Může to být trochu těžké, napast správný typ. Ale na druhou stranu, existuje na to jednoduchý lék: **Nepoužívejte generika a nepředávejte si funkce.** Vaše signatury budou o dost jednodušší!

Důvod pátý: Rád opravuju bugy
=======================

Neznám nic napínavějšího než je lov - vystopovat a zlikvidovat pořádnou bugu. A když najdu bugu v produkci, ještě líp, protože navíc budu ještě za hrdinu.

Četl jsem, že "se staticky typovnými funkcionálními jazyky, je mnohem těžší zanést chybu.":[http://www.simontylercousins.net/journal/2013/3/7/why-bugs-dont-like-f.html]

No tě pic.

Důvod šestý: V debuggeru jsem jako doma

================================

A když už jsem u toho lovení bugů. Většinu dne trávím v debuggeru, krokováním kódu. Já vím, měl bych psát unit testy. Jenže to se snadnějš řekne, než dělá…

Každopádně, podle všeho, "pokud se vám ve staticky typovaném funkcionálním jazyce podaří program zkompilovat, většinou i funguje":[http://www.haskell.org/haskellwiki/Why_Haskell_just_works]. Prej musíte většinu času zabít tím, aby jste správně poladili typy, aby to pěkně sedělo a pak máte hotovo. Co je na tom zábavného?

Což mě přivádí k…

Důvod sedmý: Nechci přemýšlet nad každým detailem
=========================================

Všechno to ladění typů a ujišťování se, že všechno perfektně sedí, zní celkem nudně.

Dokonce jsem někde slyšel, že jste nucený přemýšlet o každém možném hraničním případu, všech možných chybových stavech a já nevím, co se ještě může zvrtnout. A to všechno od samého začátku. Prostě nemůžeš být línej a nechat to na pozdějc.

Radši se zaměřuju na to, aby (většinou) všechno prošlo tak jak má a bugy řeším, až když se ukážou.

Důvod osmý: Rád ověřuju null
=======================

Jsem "velmi svědomitý v případě ověřování `null` a to v každé metodě":[http://stackoverflow.com/questions/7585493/null-parameter-checking-in-c-sharp]. Celkem mě uspokojuje pocit, že vím, že můj kód je ve výsledku úplně neprůstřelný.

/--code csharp
void SomeMethod(SomeClass x)
{
    if (x == null) { throw new ArgumentNullException(); }

    x.DoSomething();
}
\--code

Kecám. Samozřejmě to nedělám úplně všude, to bych vůbec nic jinýho neudělal.

Ale, nakonec se mi stalo jen jednou, že jsem musel řešit pád, kvůli `NRE`. Ani jsme nepřišli o moc peněz za těch pár tejdnů, kdy jsem hledal, kde je vlastně problém. Fakt nechápu, proč se z toho "dělá taková věda":[http://www.infoq.com/presentations/Null-References-The-Billion-Dollar-Mistake-Tony-Hoare].

Důvod devátý: Rád aplikuju návrhové vzory, kde je to možné
=============================================

Poprvý jsem o návrhových vzorech četl v knize "Návrhové vzory":[http://knihy.cpress.cz/navrhove-vzory.html] (z nějakýho důvodu se občas označuje jako GoF vzory, ale fakt netušim proč) a od tý doby je fakt pilně aplikuju na všechny problémy. Můj kód pak vypadá líp a má "enterprise" nádech. A to se mému šéfovi líbí.

Ale ještě jsem ani náznakem neslyšel o nějakých vzorech ve funkcionálním programování. Jak vůbec můžete udělat něco užitečnýho bez "Strategie":[http://www.algoritmy.net/article/1639/Strategy], "Abstraktní továrny":[http://www.algoritmy.net/article/1403/Abstract-factory], "Dekorátoru":[http://www.algoritmy.net/article/1629/Decorator], "Proxy":[http://objekty.vse.cz/Objekty/Vzory-Proxy] nebo dalších?

Možná o nich funkcionální programátoři ani neslyšeli…

Důvod desátý: Je tam příliš matematiky
=============================

Tady je další ukázka počítání mocnin. IMO je dost těžký pochopit, o co vlastně jde, protože je tam sousta nesmyslných symbolů:

/--code
ss=: +/ @: *:
\--code


Dobře, omlouvám se, moje chyba, tohle je "kód v J":[http://en.wikipedia.org/wiki/J_(programming_language)]. Ale stejně jsem viděl, jak je ten funkcionální kód plnej různých `&lt;*&gt;` a `&gt;&gt;=` a vůbec takových divných konceptů jako jsou "monády" a "funktory".

Fakt nechápu, proč tihle funkcionalisti nemohli nechat věci, který už dobře znám -- jasné symboly jako `++` nebo `!=` a jednoduché koncepty jako je "dědičnost" a "polymorfismus".

Shrnutí: Fakt to nechápu
===================

Víte co? Fakt to nechápu. Nechápu, co by mohlo být na funkcionálním programování užitečný.

Jediný oč žádám je, aby mi někdo "ukázal skutečné benefity na jedný stránce":[http://fsharpforfunandprofit.com/why-use-fsharp/], místo chrlení příliš spousty nesourodých informací.

**Update:** Tak jsem si přečetl tu stránku "vše co potřebujete vědět na jediné stránce." Ale je to "příliš krátké a zjednodušující":[http://www.devbook.cz/jak-zacit-programovat-tvorit-aplikace-programy], aby mi to dávlo smysl. Fakt hledám něco, co "má trochu hloubku":[http://programujte.com/clanek/2006032503-co-je-to-funkcionalni-programovani/], něco, co by mě "fakt chytlo":[http://www.knesl.com/articles/view/jak-se-pustit-do-ukolu-ktery-se-vam-nechce-delat].

A ne, fakt nemám chuť "číst tutoriály":[http://learnyouahaskell.com/], "hrát si s ukázkama":[http://www.tryfsharp.org/Learn] a psát vlastní kód. Chci tomu jen přijít na kloub, bez toho, abych musel dělat všechny ty zbytečný věci.

**Nechci měnit to, jak myslím, jen se chci naučit to nové paradigma.**

*článek je volným překladem "Ten reasons not to use a statically typed functional programming language":[http://fsharpforfunandprofit.com/posts/ten-reasons-not-to-use-a-functional-programming-language/] od Scotta Wlaschina*


</raw>
    <author>Aleš Roubíček</author>
    <published>2013-04-14T10:15:12.213</published>
    <url>deset-duvodu-proc-nepouzivat-funkcionalni-jazyky</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2013-04-14T15:26:18.637</edited>
  </article>
  <article>
    <id>449</id>
    <title>Parsování primitivních typů znova a lépe</title>
    <description>Praktické využití těch šílených monád.</description>
    <html xml:space="preserve">
&lt;p&gt;Způsobů, jak parsovat primitivní typy z texu, je celá řada. Každý typ
má svou statickou metodu &lt;code&gt;Parse&lt;/code&gt;, která vyhodí výjimku, když se
jí to nepovede. Pak tu máme modul &lt;code&gt;Convert&lt;/code&gt;, který dokáže
parsovat poměrně bezpečně, ale ne vždy chceme dostávat
&lt;code&gt;default&lt;/code&gt; hodnoty, když se mu podstrčí nic.&lt;/p&gt;

&lt;p&gt;Občas zkrátka potřebujeme mít absenci nějaké hodnoty vyjádřenou
v logice kódu. Proto často nezbývá než se vrhnout po hlavě do šíleného
vzoru, který je v &lt;acronym title="Base Class Library"&gt;BCL&lt;/acronym&gt;
rozšířen jak mor v době temna – &lt;code&gt;TryParse&lt;/code&gt;. Protože tyto
metody vznikly někdy v době, kdy si ještě mohlo &lt;acronym
title="Common Language Runtime"&gt;CLR&lt;/acronym&gt; o generikách nechat zdát, je
práce s ní celkem neohrabaná a plná nepěkných věcí, jako
&lt;code&gt;out&lt;/code&gt; parametry nebo porušení základního objektového principu
&lt;em&gt;tell don't ask&lt;/em&gt;.&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;int? TryParse(string input) {
  int result;
  if (Int32.TryParse(input, out result)) return result;
  return null;
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Tohle je jednoduchá ukázka, kterou jistě ve svém kódu najdete
nespočetněkrát. Proč už něco takovýho není v BCL od verze 2?
Každopádně má to své mouchy, třeba teď to pro změnu &lt;a
href="/weblog/447-zatocime-s-null.aspx"&gt;vrací null&lt;/a&gt;! A to jsme jeden
problém vyřešili zavedením jiného.&lt;/p&gt;

&lt;p&gt;Tak se necháme inspirovat u F#, které nemá podporu pro &lt;code&gt;out&lt;/code&gt;
parametry. Ten to řeší nějak tak:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;Tuple&amp;lt;bool, int&amp;gt; TryParse(string input) {
  int result;
  bool success = Int32.TryParse(input, out result);
  return Tuple.Create(success, result);
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Bohužel C# není jazyk, který by prvotřídně podporoval
&lt;code&gt;Tuple&lt;/code&gt;s. Můžeme se ptát proč, ale je to asi taky zbytečný.
Každopádně, nemáme problém s &lt;code&gt;null&lt;/code&gt;, ale typ samotný nám toho
taky moc neřekne. Co je ten &lt;code&gt;bool&lt;/code&gt;? Nevíme, dokud se nepodíváme
do dokumentace – kódu. Musí to jít i lépe! Maybe. ;)&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;Maybe&amp;lt;int&amp;gt; TryParse(string input) {
  int result;
  bool success = Int32.TryParse(input, out result);
  return success ? result.ToMaybe() : new Nothing&amp;lt;int&amp;gt;();
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Nyní máme existenci hodnoty vyjádřenou na úrovni typu a můžeme s ní
bezpečně pracovat. Můžeme využít funkcionální kompozice, a hodnotu,
pokud existuje, dále zpracovávat. Nikde (skoro), však nemusíme ověřovat,
jestli ji máme nebo ne. Kód se tak krásně vyčistí.&lt;/p&gt;

&lt;p&gt;Celé řešení můžeme nakonec pěkně generalizovat a vytvořit si
vlastní modul pro parsování:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;public static class ParseEx {
  public delegate bool ParserDelegate&amp;lt;T&amp;gt;(string input, out T result);

  public static Maybe&amp;lt;T&amp;gt; Parse&amp;lt;T&amp;gt;(string input, ParserDelegate&amp;lt;T&amp;gt; parser) {
    T result;
    bool isSuccess = parser(input, out result);
    return isSuccess ? result.ToMaybe() : new Nothing&amp;lt;T&amp;gt;();
  }

  public static Maybe&amp;lt;DateTime&amp;gt; ParseDateTime(string input) {
    return Parse&amp;lt;DateTime&amp;gt;(input, DateTime.TryParse);
  }

  public static Maybe&amp;lt;int&amp;gt; ParseInt32(string input) {
    return Parse&amp;lt;int&amp;gt;(input, Int32.TryParse);
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Máme jednu parametricky polymorfní metodu, která nám umožňuje parsovat
libovolná data, pomocí předaného delegáta. Tu pak používáme
k vytvoření specifických parsovacích metod, které nám umožní opět kód
pročistit.&lt;/p&gt;

&lt;p&gt;Kdybyste hledali implementaci &lt;code&gt;Maybe&lt;/code&gt;, &lt;a
href="https://gist.github.com/rarous/5355792"&gt;najdete ji v tomhle gistu&lt;/a&gt;
i se spoustou šikovných extenzí.&lt;/p&gt;

&lt;p&gt;Toto řešení může mít u některých performance hunterů některé
efekty, ze kterých by nemuseli klidně spát. Hlavně ty alokace na heapu,
když jsme mohli zůstat v klidu na zásobníku. No jo. V tohle případě je
však zisk z čitelnosti a korektnosti o tolik řádů větší než pár
ušetřených cyklů levného výpočetního výkonu, že to snad ani nemá cenu
zase v komentářích řešit, co? ;)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Způsobů, jak parsovat primitivní typy z texu, je celá řada. Každý typ má svou statickou metodu `Parse`, která vyhodí výjimku, když se jí to nepovede. Pak tu máme modul `Convert`, který dokáže parsovat poměrně bezpečně, ale ne vždy chceme dostávat `default` hodnoty, když se mu podstrčí nic.

Občas zkrátka potřebujeme mít absenci nějaké hodnoty vyjádřenou v logice kódu. Proto často nezbývá než se vrhnout po hlavě do šíleného vzoru, který je v BCL((Base Class Library)) rozšířen jak mor v době temna - `TryParse`. Protože tyto metody vznikly někdy v době, kdy si ještě mohlo CLR((Common Language Runtime)) o generikách nechat zdát, je práce s ní celkem neohrabaná a plná nepěkných věcí, jako `out` parametry nebo porušení základního objektového principu *tell don't ask*.

/--code csharp
int? TryParse(string input) {
  int result;
  if (Int32.TryParse(input, out result)) return result;
  return null;
}
\--code

Tohle je jednoduchá ukázka, kterou jistě ve svém kódu najdete nespočetněkrát. Proč už něco takovýho není v BCL od verze 2? Každopádně má to své mouchy, třeba teď to pro změnu "vrací null":[/weblog/447-zatocime-s-null.aspx]! A to jsme jeden problém vyřešili zavedením jiného.

Tak se necháme inspirovat u F#, které nemá podporu pro `out` parametry. Ten to řeší nějak tak:

/--code csharp
Tuple&lt;bool, int&gt; TryParse(string input) {
  int result;
  bool success = Int32.TryParse(input, out result);
  return Tuple.Create(success, result);
}
\--code

Bohužel C# není jazyk, který by prvotřídně podporoval `Tuple`s. Můžeme se ptát proč, ale je to asi taky zbytečný. Každopádně, nemáme problém s `null`, ale typ samotný nám toho taky moc neřekne. Co je ten `bool`? Nevíme, dokud se nepodíváme do dokumentace - kódu. Musí to jít i lépe! Maybe. ;)

/--code csharp
Maybe&lt;int&gt; TryParse(string input) {
  int result;
  bool success = Int32.TryParse(input, out result);
  return success ? result.ToMaybe() : new Nothing&lt;int&gt;();
}
\--code

Nyní máme existenci hodnoty vyjádřenou na úrovni typu a můžeme s ní bezpečně pracovat. Můžeme využít funkcionální kompozice, a hodnotu, pokud existuje, dále zpracovávat. Nikde (skoro), však nemusíme ověřovat, jestli ji máme nebo ne. Kód se tak krásně vyčistí.

Celé řešení můžeme nakonec pěkně generalizovat a vytvořit si vlastní modul pro parsování:

/--code csharp
public static class ParseEx {
  public delegate bool ParserDelegate&lt;T&gt;(string input, out T result);

  public static Maybe&lt;T&gt; Parse&lt;T&gt;(string input, ParserDelegate&lt;T&gt; parser) {
    T result;
    bool isSuccess = parser(input, out result);
    return isSuccess ? result.ToMaybe() : new Nothing&lt;T&gt;();
  }

  public static Maybe&lt;DateTime&gt; ParseDateTime(string input) {
    return Parse&lt;DateTime&gt;(input, DateTime.TryParse);
  }

  public static Maybe&lt;int&gt; ParseInt32(string input) {
    return Parse&lt;int&gt;(input, Int32.TryParse);
  }
}
\--code

Máme jednu parametricky polymorfní metodu, která nám umožňuje parsovat libovolná data, pomocí předaného delegáta. Tu pak používáme k vytvoření specifických parsovacích metod, které nám umožní opět kód pročistit.

Kdybyste hledali implementaci `Maybe`, "najdete ji v tomhle gistu":[https://gist.github.com/rarous/5355792] i se spoustou šikovných extenzí.

Toto řešení může mít u některých performance hunterů některé efekty, ze kterých by nemuseli klidně spát. Hlavně ty alokace na heapu, když jsme mohli zůstat v klidu na zásobníku. No jo. V tohle případě je však zisk z čitelnosti a korektnosti o tolik řádů větší než pár ušetřených cyklů levného výpočetního výkonu, že to snad ani nemá cenu zase v komentářích řešit, co? ;)</raw>
    <author>Aleš Roubíček</author>
    <published>2013-04-23T17:10:57.920</published>
    <url>parsovani-primitivnich-typu-znova-a-lepe</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2013-04-23T17:12:24.767</edited>
  </article>
  <article>
    <id>450</id>
    <title>Jak rozběhat Bower ve Visual Studiu</title>
    <description>Takový malý tutoriálek pro command line junkies, jak si rozběhat bower ve Visual Studiu. </description>
    <html xml:space="preserve">
&lt;p&gt;Takový malý tutoriálek pro command line junkies, jak si rozběhat &lt;a
href="https://github.com/bower/bower"&gt;bower&lt;/a&gt; ve Visual Studiu.&lt;/p&gt;

&lt;p&gt;Nainstalujte si Chockolatey:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;@powershell -NoProfile -ExecutionPolicy unrestricted -Command "iex ((new-object net.webclient).DownloadString('https://chocolatey.org/install.ps1'))" &amp;amp;&amp;amp; SET PATH=%PATH%;%systemdrive%\chocolatey\bin&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;em&gt;(&lt;code&gt;Win+R&lt;/code&gt;, &lt;code&gt;Ctrl+V&lt;/code&gt;, &lt;code&gt;Enter&lt;/code&gt;)&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Nainstalujte si Node:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;cinst nodejs.install&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Vytvořte si profil pro nuget konzoli
&lt;code&gt;%UserProfile%\Documents\WindowsPowerShell\NuGet_profile.ps1&lt;/code&gt; a do
něj přidejte:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Set-Alias npm "C:\Program Files\nodejs\npm.cmd"
Set-Alias bower "~\AppData\Roaming\npm\bower.cmd"&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Spusťte si Visual Studio, otevřete Package Management Consoli a
napište:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;npm install -g bower&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;A jedem. :)&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Takový malý tutoriálek pro command line junkies, jak si rozběhat bower:[https://github.com/bower/bower] ve Visual Studiu.

Nainstalujte si Chockolatey:

/--code
@powershell -NoProfile -ExecutionPolicy unrestricted -Command "iex ((new-object net.webclient).DownloadString('https://chocolatey.org/install.ps1'))" &amp;&amp; SET PATH=%PATH%;%systemdrive%\chocolatey\bin
\--code

*(`Win+R`, `Ctrl+V`, `Enter`)*

Nainstalujte si Node:

/--code
cinst nodejs.install
\--code

Vytvořte si profil pro nuget konzoli `%UserProfile%\Documents\WindowsPowerShell\NuGet_profile.ps1` a do něj přidejte:

/--code powershell
Set-Alias npm "C:\Program Files\nodejs\npm.cmd"
Set-Alias bower "~\AppData\Roaming\npm\bower.cmd"
\--code

Spusťte si Visual Studio, otevřete Package Management Consoli a napište:

/--code
npm install -g bower
\--code

A jedem. :)
</raw>
    <author>Aleš Roubíček</author>
    <published>2013-05-03T13:13:41.253</published>
    <url>jak-rozbehat-bower-ve-visual-studiu</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2013-05-03T13:14:34.940</edited>
  </article>
  <article>
    <id>451</id>
    <title>Jak teda s těma výjimkama v busines logice?</title>
    <description>Jak to vidím s výjimkama v business logice já.</description>
    <html xml:space="preserve">
&lt;p&gt;Na develu se rozvíjí debaty o tom, zda je zpátečnické odrazovat od
vyhazování výjimek. Já patřím mezi zpátečníky. :) Tady je moje
odpovědˇ, kterou je IMO škoda nemít veřejně dostupnou, takže ji publikuju
i tady na blogu.&lt;/p&gt;

&lt;p&gt;Na začátek je dobré se opřít o nějakou autoritu, proto tady pro
začátek ocituju &lt;a
href="http://blogs.msdn.com/b/kcwalina/archive/2005/03/16/396787.aspx"&gt;.net
Framework Design Guidelines doporučení k výjimkám&lt;/a&gt;:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Nevracejte chybové kódy. K tomuto účelu jsou určeny výjimky.&lt;/li&gt;

	&lt;li&gt;Vyhazujte výjimky pokud dojde k běhové chybě. Pokud člen nemůže
	úspěšně provést úkol za nějž nese zodpovědnost, mělo by to být
	považováno za běhovou chybu a měla by být vyhozena výjimka.&lt;/li&gt;

	&lt;li&gt;Pokud se dostanete do stavu, kterému nepomůže žádné ošetření
	výjimky, proveďtě ukončení procesu pomocí
	&lt;code&gt;Environment.Fa­ilFast()&lt;/code&gt;.&lt;/li&gt;

	&lt;li&gt;Nepoužívejte výjimky k formálnímu řízení toku programu.
	S výjimkou systémových selhání by vždy měl existovat způsob jak se
	vyhnout vyhazování výjimek.&lt;/li&gt;

	&lt;li&gt;Zvažte důsledky vyhozené výjimky na výkon.&lt;/li&gt;

	&lt;li&gt;Vždy zdokumentujte všechny výjimky vyhazované veřejnými členy
	z důvodu porušení jejich kontraktu.&lt;/li&gt;

	&lt;li&gt;Nemějte veřejné členy, které mají nebo nemají vyhazovat výjimky na
	základě nějakého parametru. &lt;code&gt;Type GetType(string name, bool
	throwOnError)&lt;/code&gt;&lt;/li&gt;

	&lt;li&gt;Nemějte veřejné členy které vracejí výjimku jako návratovou hodnotu
	nebo out parametr.&lt;/li&gt;

	&lt;li&gt;Nastavte všechny relevatní vlastnoti vyhazované výjimky.&lt;/li&gt;

	&lt;li&gt;Preferujte užití systémových výjimek před vlastními.&lt;/li&gt;

	&lt;li&gt;Vlastní výjimky vyhazujte v případě, že vyžadují odlišný způsob
	ošetření než existující typy výjimek.&lt;/li&gt;

	&lt;li&gt;Nikdy nevytvářejte vlastní typ výjimky, jen proto, aby váš team měl
	nějakou vlastní výjimku.&lt;/li&gt;

	&lt;li&gt;Vyhazujte co nejkonkrétnější výjimky.&lt;/li&gt;

	&lt;li&gt;Nevracejte chybové kódy z obav o výkonostní dopady při vyhazování
	výjimek.&lt;/li&gt;

	&lt;li&gt;Používejte vzory jako TryParse, které snižují negativní dopady na
	výkon způsobené vyhazováním výjimek.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Z texu je zřejmé, že vyhazování výjimek má své opodstatnění.
Důležité je však v jakých scénářích se výjimky vyhazovat mají a
v jakých ne.&lt;/p&gt;

&lt;p&gt;Často se tu objevují příklady s validací vstupních hodnot nebo třeba
autentikace uživatele. Začněme validátorem:&lt;/p&gt;

&lt;p&gt;Primární zodpovědností validátoru je validovat hodnoty. Je nevalidní
hodnota příčinou nemožnosti korektní práce validátoru (důvodem
k vyhození výjimky)? Není (viz bod &lt;code&gt;2&lt;/code&gt;). Můžeme to řešit
vracením primitivy jako je &lt;code&gt;bool&lt;/code&gt;. Já si však myslím, že taková
hodnota je nedostatečná. Potřebujeme výsledek validace zpropagovat někam,
kde se s ním bude dále pracovat. Vyhodíme tedy výjimku a tu pak odchytíme?
Tím se ale dostáváme k bodu &lt;code&gt;4&lt;/code&gt;. Lepším řešením je definovat
komplexní návratový typ:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-fsharp"&gt;type ValidationResult =
  | Valid
  | Invalid of ValidationError list&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Pokračujme s autentikací uživatele. Běžnou praxí je vyhazování
&lt;code&gt;SecurityException&lt;/code&gt; pokud se nepovede uživatele autentikovat.
Výjimka se pak nechá probublat do UI vrstvy, kde se ošetří a uživateli se
zobrazí hláška, že zadal špatné jméno nebo heslo. Opět však jde
o porušení 4. bodu. Autentikace tam může vracet opět &lt;code&gt;bool&lt;/code&gt;
nebo rovnou instanci &lt;code&gt;User&lt;/code&gt; a v případě nevydařené autentikace
&lt;code&gt;null&lt;/code&gt;. Tím se zbavíme bezpečnostních výjimek, ale zase si
zavedeme potenciální chybu v podobě &lt;code
title="NullReferenceException"&gt;NRE&lt;/code&gt;… Proto si opět myslím, že by se
měl vracet adekvátní typ:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-fsharp"&gt;type AuthenticationResult =
  | NotAuthenticated
  | Authenticated of User&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Autentikační modul samozřejmě může vyhazovat výjimky, ale většinou
budou spojené s nefungující infrastrukturou (LDAP, SQL nebo jinej auth
provider), to je totiž validní důvod, proč nemůže autentikace
doběhnout.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Na develu se rozvíjí debaty o tom, zda je zpátečnické odrazovat od vyhazování výjimek. Já patřím mezi zpátečníky. :) Tady je moje odpovědˇ, kterou je IMO škoda nemít veřejně dostupnou, takže ji publikuju i tady na blogu.

Na  začátek je dobré se opřít o nějakou autoritu, proto tady pro začátek ocituju &lt;a href="http://blogs.msdn.com/b/kcwalina/archive/2005/03/16/396787.aspx"&gt;.net Framework Design Guidelines doporučení k výjimkám&lt;/a&gt;:

&lt;ol&gt;
&lt;li&gt;Nevracejte chybové kódy. K tomuto účelu jsou určeny výjimky.
&lt;li&gt;Vyhazujte výjimky pokud dojde k běhové chybě. Pokud člen nemůže úspěšně provést úkol za nějž nese zodpovědnost, mělo by to být považováno za běhovou chybu a měla by být vyhozena výjimka.
&lt;li&gt;Pokud se dostanete do stavu, kterému nepomůže žádné ošetření výjimky, proveďtě ukončení procesu pomocí &lt;code&gt;Environment.FailFast()&lt;/code&gt;.
&lt;li&gt;Nepoužívejte výjimky k formálnímu řízení toku programu. S výjimkou systémových selhání by vždy měl existovat způsob jak se vyhnout vyhazování výjimek.
&lt;li&gt;Zvažte důsledky vyhozené výjimky na výkon.
&lt;li&gt;Vždy zdokumentujte všechny výjimky vyhazované veřejnými členy z důvodu porušení jejich kontraktu.
&lt;li&gt;Nemějte veřejné členy, které mají nebo nemají vyhazovat výjimky na základě nějakého parametru. &lt;code&gt;Type GetType(string name, bool throwOnError)&lt;/code&gt;
&lt;li&gt;Nemějte veřejné členy které vracejí výjimku jako návratovou hodnotu nebo out parametr.
&lt;li&gt;Nastavte všechny relevatní vlastnoti vyhazované výjimky.
&lt;li&gt;Preferujte užití systémových výjimek před vlastními.
&lt;li&gt;Vlastní výjimky vyhazujte v případě, že vyžadují odlišný způsob ošetření než existující typy výjimek.
&lt;li&gt;Nikdy nevytvářejte vlastní typ výjimky, jen proto, aby váš team měl nějakou vlastní výjimku.
&lt;li&gt;Vyhazujte co nejkonkrétnější výjimky.
&lt;li&gt;Nevracejte chybové kódy z obav o výkonostní dopady při vyhazování výjimek.
&lt;li&gt;Používejte vzory jako TryParse, které snižují negativní dopady na výkon způsobené vyhazováním výjimek.
&lt;/ol&gt;

Z texu je zřejmé, že vyhazování výjimek má své opodstatnění. Důležité je však v jakých scénářích se výjimky vyhazovat mají a v jakých ne.

Často se tu objevují příklady s validací vstupních hodnot nebo třeba autentikace uživatele. Začněme validátorem:

Primární zodpovědností validátoru je validovat hodnoty. Je nevalidní hodnota příčinou nemožnosti korektní práce validátoru (důvodem k vyhození výjimky)? Není (viz bod &lt;code&gt;2&lt;/code&gt;). Můžeme to řešit vracením primitivy jako je &lt;code&gt;bool&lt;/code&gt;. Já si však myslím, že taková hodnota je nedostatečná. Potřebujeme výsledek validace zpropagovat někam, kde se s ním bude dále pracovat. Vyhodíme tedy výjimku a tu pak odchytíme? Tím se ale dostáváme k bodu &lt;code&gt;4&lt;/code&gt;. Lepším řešením je definovat komplexní návratový typ:

/--code fsharp
type ValidationResult =
  | Valid
  | Invalid of ValidationError list
\--code

Pokračujme s autentikací uživatele. Běžnou praxí je vyhazování &lt;code&gt;SecurityException&lt;/code&gt; pokud se nepovede uživatele autentikovat. Výjimka se pak nechá probublat do UI vrstvy, kde se ošetří a uživateli se zobrazí hláška, že zadal špatné jméno nebo heslo. Opět však jde o porušení 4. bodu. Autentikace tam může vracet opět &lt;code&gt;bool&lt;/code&gt; nebo rovnou instanci &lt;code&gt;User&lt;/code&gt; a v případě nevydařené autentikace &lt;code&gt;null&lt;/code&gt;. Tím se zbavíme bezpečnostních výjimek, ale zase si zavedeme potenciální chybu v podobě &lt;code title="NullReferenceException"&gt;NRE&lt;/code&gt;...  Proto si opět myslím, že by se měl vracet adekvátní typ:

/--code fsharp
type AuthenticationResult =
  | NotAuthenticated
  | Authenticated of User
\--code

Autentikační modul samozřejmě může vyhazovat výjimky, ale většinou budou spojené s nefungující infrastrukturou (LDAP, SQL nebo jinej auth provider), to je totiž validní důvod, proč nemůže autentikace doběhnout.

</raw>
    <author>Aleš Roubíček</author>
    <published>2013-05-17T14:11:33.710</published>
    <url>jak-teda-s-tema-vyjimkama-v-busines-logice</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2013-05-17T14:14:05.207</edited>
  </article>
  <article>
    <id>452</id>
    <title>Funkce vyššího řádu</title>
    <description></description>
    <html xml:space="preserve">
&lt;p&gt;Dnes se podíváme na další bod z manifestu „nejen objektově
orientovaného programování“ – &lt;strong&gt;Funkce vyššího řádu&lt;/strong&gt;
před method dispatch. Pro začátek si nejprve definujeme, co to je method
dispatch a co funkce vyššího a řádu a potom proč preferovat funkce
vyššího řádu.&lt;/p&gt;

&lt;h3 id="toc-method-dispatch"&gt;Method dispatch&lt;/h3&gt;

&lt;p&gt;Method dispatch je v objektově orientovaném programování jedním
z nástrojů polymorfismu. Ať už jde o Ad-hoc polymorfismus, kdy vybíráme
správnou metodu na základě přetížení, nebo o Sub-type polymorfismus, kdy
volbu správné metody řešíme pomocí virtuálního nebo dynamického
dispatche. Teda, my to většinou neřešíme, to řeší běhové prostředí
daného jazyka.&lt;/p&gt;

&lt;p&gt;Je dobré vědět, že když voláme nějakou metodu v JavaScriptu, tak se
interpret nejprve snaží metodu najít ve slotu přímo na oběktu
(&lt;code&gt;this["method"]&lt;/code&gt;) a když nenajde, hledá v jeho prototypu. Jistě
si domyslíte, jak úžasné jsou hluboké hierarchie dědičnosti a
simulování &lt;code&gt;class&lt;/code&gt;, který to má všechno usnadňovat. ;)&lt;/p&gt;

&lt;p&gt;Také je dobré vědět, že třeba &lt;a
href="http://www.borber.com/blog/slaba-podpora-pozdni-vazby-v-c"&gt;problém
pozdní vazby uvedený ve velmi starém borkově blogspotu&lt;/a&gt; šel vyřešit
krásně elegantně, kdyby Borek v té době znal existenci rozhraní
&lt;code&gt;IAttributeAccessor&lt;/code&gt;. Proč? Protože vy mu pomohl virtual
dispatch.&lt;/p&gt;

&lt;p&gt;Původní nefukční kód:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;foreach (Control c in parent.Controls) {
  Control c1;
  if (c is HtmlControl) { c1 = c as HtmlControl; }
  else if (c is WebControl) { c1 = c as WebControl; }

  if (c1 != null &amp;amp;&amp;amp; c1.Attributes["MyKey"] != null)
  {
    doSomething(c1);
  }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;by mohl nahradit tímto:&lt;/p&gt;

&lt;pre
&gt;&lt;code class="language-csharp"&gt;foreach (var c in parent.Controls.OfType&amp;lt;IAttributeAccessor&amp;gt;())
  doSomething(c);&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Jde jen o to pracovat na správné úrovni abstrakce. :) Metoda
&lt;code&gt;doSomething&lt;/code&gt; pak může pracovat s &lt;code&gt;HtmlControl&lt;/code&gt; nebo
&lt;code&gt;WebControl&lt;/code&gt; a je jí to úplně fuk. A to díky polymorfismu.
Jednoduše jsme se zbavili spousty zbytečných podmínek, které porušují
několik zásad a principů dobrého návrhu. Pro teď budu jmenovat &lt;em&gt;Open
Closed Principle&lt;/em&gt; ze SOLID, protože se mi to bude hodit dál. :)&lt;/p&gt;

&lt;h3 id="toc-funkce-vyssiho-radu"&gt;Funkce vyššího řádu&lt;/h3&gt;

&lt;p&gt;Funkce vyššího řádu je takovou funkcí, která přijímá funkci jako
parametr a/nebo funkci vrací. Jediné, co potřebujeme, aby jazyk zacházel
s funkcemi jko s hodnotami. Tj. abych si mohl vytvořit proměnnou typu funkce
a tu mohl předat nebo ji třeba zavolat. No nemusí to nutně být promněnná,
bohatě stačí vazba. :) No a to je celý.&lt;/p&gt;

&lt;p&gt;Ale když už jsem nakousnul ten polymorfismus u method dispatch, má
nějakou spojitost i s funkcemi vyššíhořádu? Tak určitě. Většinou se
pojí s parametrickým polymorfismem.&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Dnes se podíváme na další bod z manifestu "nejen objektově orientovaného programování" - **Funkce vyššího řádu** před method dispatch. Pro začátek si nejprve definujeme, co to je method dispatch a co funkce vyššího a řádu a potom proč preferovat funkce vyššího řádu.

Method dispatch
==========

Method dispatch je v objektově orientovaném programování jedním z nástrojů polymorfismu. Ať už jde o Ad-hoc polymorfismus, kdy vybíráme správnou metodu na základě přetížení, nebo o Sub-type polymorfismus, kdy volbu správné metody řešíme pomocí virtuálního nebo dynamického dispatche. Teda, my to většinou neřešíme, to řeší běhové prostředí daného jazyka.

Je dobré vědět, že když voláme nějakou metodu v JavaScriptu, tak se interpret nejprve snaží metodu najít ve slotu přímo na oběktu (`this["method"]`) a když nenajde, hledá v jeho prototypu. Jistě si domyslíte, jak úžasné jsou hluboké hierarchie dědičnosti a simulování `class`, který to má všechno usnadňovat. ;)

Také je dobré vědět, že třeba "problém pozdní vazby uvedený ve velmi starém borkově blogspotu":[http://www.borber.com/blog/slaba-podpora-pozdni-vazby-v-c] šel vyřešit krásně elegantně, kdyby Borek v té době znal existenci rozhraní `IAttributeAccessor`. Proč? Protože vy mu pomohl virtual dispatch.

Původní nefukční kód:

/--code csharp
foreach (Control c in parent.Controls) {
  Control c1;
  if (c is HtmlControl) { c1 = c as HtmlControl; }
  else if (c is WebControl) { c1 = c as WebControl; }

  if (c1 != null &amp;&amp; c1.Attributes["MyKey"] != null)
  {
    doSomething(c1);
  }
}
\--code

by mohl nahradit tímto:

/--code csharp
foreach (var c in parent.Controls.OfType&lt;IAttributeAccessor&gt;())
  doSomething(c);
\--code

Jde jen o to pracovat na správné úrovni abstrakce. :) Metoda `doSomething` pak může pracovat s `HtmlControl` nebo `WebControl` a je jí to úplně fuk. A to díky polymorfismu. Jednoduše jsme se zbavili spousty zbytečných podmínek, které porušují několik zásad a principů dobrého návrhu. Pro teď budu jmenovat *Open Closed Principle* ze SOLID, protože se mi to bude hodit dál. :)

Funkce vyššího řádu
============

Funkce vyššího řádu je takovou funkcí, která přijímá funkci jako parametr a/nebo funkci vrací. Jediné, co potřebujeme, aby jazyk zacházel s funkcemi jko s hodnotami. Tj. abych si mohl vytvořit proměnnou typu funkce a tu mohl předat nebo ji třeba zavolat. No nemusí to nutně být promněnná, bohatě stačí vazba. :) No a to je celý.

Ale když už jsem nakousnul ten polymorfismus u method dispatch, má nějakou spojitost i s funkcemi vyššíhořádu? Tak určitě. Většinou se pojí s parametrickým polymorfismem.</raw>
    <author>Aleš Roubíček</author>
    <published>2013-05-20T07:42:00.427</published>
    <url>funkce-vyssiho-radu</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>0</is-published>
    <edited>2013-05-20T07:42:00.457</edited>
  </article>
  <article>
    <id>453</id>
    <title>Legacy code writer - part 1</title>
    <description>Malý exkuz do produkce legacy kódu.</description>
    <html xml:space="preserve">
&lt;p&gt;Dostal jsi nový úkol. Zadání zní jasně:&lt;/p&gt;

&lt;blockquote&gt;
	&lt;p&gt;Přidat jednoduchou featuru do korporátního projektu.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Sice o tom nic nevíš, ale požadavky zní rozumně a jednoduše. To přece
zvládneš.&lt;/p&gt;

&lt;p&gt;Nebo si to aspoň myslíš. Dokud neotevřeš ty zpropadený zdrojáky.&lt;/p&gt;

&lt;p&gt;Nehoráznej bordel. Který prase tohle mohlo napsat? Na monitoru vidíš jen
změť špaget a lasagní. Ach. Vypadá to, jako by někdo záměrně vytvořil
sbírku všech známých anti-patternů.&lt;/p&gt;

&lt;p&gt;Vztek roste, pomalu začínáš nenávidět toho, kdo tohle zvěrstvo
způsobil. Tahle hromada sraček ti nedovoluje pracovat tak, jak ti tvé
svědomí káže a jak bys opravdu chtěl. Chceš přece dělat dobrý řemeslo,
držet se oblíbených vzorů. Sám sobě jsi slíbil, že budeš psát kód
s vysokou kohezí, volnými vazbami a ty sám nejlíp víš s čim…
&lt;strong&gt;Ale zkrátka to není možný.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Jak taky? Ten neschopnej blbec všude používá &lt;strong&gt;globální
proměnné&lt;/strong&gt;, skoro všechno je &lt;strong&gt;statický&lt;/strong&gt;, &lt;strong&gt;kód
se na mnoha místech opakuje&lt;/strong&gt; a navíc &lt;strong&gt;nikde žádný
testy&lt;/strong&gt;!&lt;/p&gt;

&lt;p&gt;A hele, tady dokonce používá magický konstanty!&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-csharp"&gt;int HRW_UND = 12;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Co sakra může ta dvanáctka znamenat? A co je to &lt;code&gt;HRW_UND&lt;/code&gt;?
Uff. Ať schoří v pekle, ten bastard!&lt;/p&gt;

&lt;p&gt;Tak. Nemáš moc času, deadline se neúprosně blíží a tys měl přece
jen přidat jednoduchou featuru a ne refactorovat celé to boží dopuštění.
To přece není tvoje práce! Ne asi.&lt;/p&gt;

&lt;h3 id="toc-legacy-kod-vzdycky-vyhraje-nad-cistym-kodem"&gt;Legacy kód vždycky
vyhraje nad čistým kódem&lt;/h3&gt;

&lt;p&gt;Tak jo, ten dobrák, co udělal tuhle spoušť vyhrál. Přidáš tam tu
featuru bez striktního dodržování svých zásad. Proč ne? Vždyť ty za
tenhle bordel přece nemůžeš, tys ho neudělal, musíš akorát dokončit
svůj úkol. O to tu jde.&lt;/p&gt;

&lt;p&gt;Byl jsi donucenej dělat pod svoje možnosti. Ale není to tvoje chyba. Máš
dobré důvody, vždyť je to přece chyba autora legacy kódu.&lt;/p&gt;

&lt;p&gt;Tady bys chtěl předat závislost pomocí &lt;strong&gt;dependency
injection&lt;/strong&gt;, ale úsilí překopat celou tuhle šílenou věc by
několikrát překročilo rámec tvé featury. Všechno je statický, nikde
žádná rozhraní, brutální dědičnost a spousta výskytů operátoru
&lt;code&gt;new&lt;/code&gt;… Nemáš čas a ta šílená code base ti vůbec nepomáhá.
&lt;em&gt;Srát na Inversion of Control&lt;/em&gt;!&lt;/p&gt;

&lt;p&gt;Radši přidáš statickou metodu do service locatoru. Sice nenávidíš
service locator, ale je prolezlej úplně všude a nejde se ho lehce zbavit.&lt;/p&gt;

&lt;p&gt;A tady je zas metoda, která řeší dvě různý věci najednou. Ty bys
potřeboval jen jednu, ale celý je to tak propletený. Je to pěkně těžký
oddělit tyhle dvě různý věci od sebe, protože ta třída ani nejde
otestovat. Nakonec radši zkopíruješ tu část kódu, kterou potřebuješ a
vložíš ji tam, kde se ti bude hodit.&lt;/p&gt;

&lt;p&gt;Hej! A co tahle 50 řádková metoda s 18 &lt;code&gt;if&lt;/code&gt;ama? Proč ten
vůl nepoužil strategii? Refactorovat celý to zvěrstvo, nebo přidat 19.
&lt;code&gt;if&lt;/code&gt;? :) Tak určitě! Ať původní autor shoří v pekle!&lt;/p&gt;

&lt;p&gt;Konečně. Teď ještě potřebuješ konfigurační parametr. Normálně bys
to poslal přes property injection, ale původní autor použil &lt;code&gt;HRW_UND =
12&lt;/code&gt;, tak tam prdneš &lt;code&gt;HRW_UND = 98&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Je to jeho vina.&lt;/strong&gt;&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Dostal jsi nový úkol. Zadání zní jasně:

&gt; Přidat jednoduchou featuru do korporátního projektu.

 Sice o tom nic nevíš, ale požadavky zní rozumně a jednoduše. To přece zvládneš.

Nebo si to aspoň myslíš. Dokud neotevřeš ty zpropadený zdrojáky.

Nehoráznej bordel. Který prase tohle mohlo napsat? Na monitoru vidíš jen změť špaget a lasagní. Ach. Vypadá to, jako by někdo záměrně vytvořil sbírku všech známých anti-patternů.

Vztek roste, pomalu začínáš nenávidět toho, kdo tohle zvěrstvo způsobil. Tahle hromada sraček ti nedovoluje pracovat tak, jak ti tvé svědomí káže a jak bys opravdu chtěl. Chceš přece dělat dobrý řemeslo, držet se oblíbených vzorů. Sám sobě jsi slíbil, že budeš psát kód s vysokou kohezí, volnými vazbami a ty sám nejlíp víš s čim... **Ale zkrátka to není možný.**

Jak taky? Ten neschopnej blbec všude používá **globální proměnné**, skoro všechno je **statický**, **kód se na mnoha místech opakuje** a navíc **nikde žádný testy**!

A hele, tady dokonce používá magický konstanty!

/--code csharp
int HRW_UND = 12;
\--

Co sakra může ta dvanáctka znamenat? A co je to `HRW_UND`? Uff. Ať schoří v pekle, ten bastard!

Tak. Nemáš moc času, deadline se neúprosně blíží a tys měl přece jen přidat jednoduchou featuru a ne refactorovat celé to boží dopuštění. To přece není tvoje práce! Ne asi.

Legacy kód vždycky vyhraje nad čistým kódem
=============================

Tak jo, ten dobrák, co udělal tuhle spoušť vyhrál. Přidáš tam tu featuru bez striktního dodržování svých zásad. Proč ne? Vždyť ty za tenhle bordel přece nemůžeš, tys ho neudělal, musíš akorát dokončit svůj úkol. O to tu jde.

Byl jsi donucenej dělat pod svoje možnosti. Ale není to tvoje chyba. Máš dobré důvody, vždyť je to přece chyba autora legacy kódu.

Tady bys chtěl předat závislost pomocí **dependency injection**, ale úsilí překopat celou tuhle šílenou věc by několikrát překročilo rámec tvé featury. Všechno je statický, nikde žádná rozhraní, brutální dědičnost a spousta výskytů operátoru `new`... Nemáš čas a ta šílená code base ti vůbec nepomáhá. *Srát na Inversion of Control*!

Radši přidáš statickou metodu do service locatoru. Sice nenávidíš service locator, ale je prolezlej úplně všude a nejde se ho lehce zbavit.

A tady je zas metoda, která řeší dvě různý věci najednou. Ty bys potřeboval jen jednu, ale celý je to tak propletený. Je to pěkně těžký oddělit tyhle dvě různý věci od sebe, protože ta třída ani nejde otestovat. Nakonec radši zkopíruješ tu část kódu, kterou potřebuješ a vložíš ji tam, kde se ti bude hodit.

Hej! A co tahle 50 řádková metoda s 18 `if`ama? Proč ten vůl nepoužil strategii? Refactorovat celý to zvěrstvo, nebo přidat 19. `if`? :) Tak určitě! Ať původní autor shoří v pekle!

Konečně. Teď ještě potřebuješ konfigurační parametr. Normálně bys to poslal přes property injection, ale původní autor použil `HRW_UND = 12`, tak tam prdneš `HRW_UND = 98`.

**Je to jeho vina.**

</raw>
    <author>Aleš Roubíček</author>
    <published>2013-06-01T18:50:30.303</published>
    <url>legacy-code-writer-part-1</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2013-06-01T19:52:22.623</edited>
  </article>
  <article>
    <id>454</id>
    <title>Legacy code writer - part 2</title>
    <description>Druhá část povídánek o legacy kódu.</description>
    <html xml:space="preserve">
&lt;p&gt;Dostal jsi nový úkol, implementovat jednoduchou featuru do korporátního
projektu. Jenže ten kód byl past vedle pasti.&lt;/p&gt;

&lt;p&gt;Produkoval jsi legacy kód, kvůli &lt;em&gt;Legacy code writerovi&lt;/em&gt;.&lt;/p&gt;

&lt;h3 id="toc-nikdo-nepise-legacy-code-od-zakladu"&gt;Nikdo nepíše legacy code od
základu&lt;/h3&gt;

&lt;p&gt;Je dost možný, že vám &lt;a
href="http://rarous.net/weblog/453-legacy-code-writer-part-1.aspx"&gt;první
díl&lt;/a&gt; zněl trochu povědomně. Každý z nás se dost pravděpodobně
v podobné situaci ocitl.&lt;/p&gt;

&lt;p&gt;Nyní, prosím, zkuste přehodnotit svou víru ve zlého &lt;em&gt;Legacy code
writera&lt;/em&gt;. Myslíte si, že opravdu existuje? Jste si jistí, že pokaždé
když narazíte na legacy code, tak k němu existuje mystický můž, který to
celé napsal od základu?&lt;/p&gt;

&lt;p&gt;Víte čemu věřím já? Že tento muž vůbec neexistuje, že je to jen
velice příjemná a pohodlná zástěrka. Není tu žádná taková osoba,
která by byla zodpovědná za celej ten bordel. Špatný programátor, Legacy
code writer, je jen fiktivní postavou vytvořenou k tomu, aby nám pomohl
obhájit naše malé, přetrvávající, hříchy.&lt;/p&gt;

&lt;p&gt;Došel jsem k názoru, že &lt;strong&gt;psaní legacy code je distribuovanou
aktivitou&lt;/strong&gt;. Každý z nás do tohoto vleklého procesu, třeba
i nevědomky, přispívá.&lt;/p&gt;

&lt;p&gt;Zbytečně nezahazujte čas pátráním, kdo za to může, protože to
&lt;strong&gt;my všichni&lt;/strong&gt;. Každý z nás!&lt;/p&gt;

&lt;h3 id="toc-legacy-code-je-jako-prach"&gt;Legacy code je jako prach&lt;/h3&gt;

&lt;p&gt;Pokud neuklízíte, neustále se usazuje a je jedno jestli se díváte
nebo ne.&lt;/p&gt;

&lt;p&gt;Každý kus kódu, pokud je spravován více lidmi, tíhne k tomu stávat se
špagetami nebo lasagněmi. Entropie má potřebu růst. Je to absolutně
přirozený proces.&lt;/p&gt;

&lt;p&gt;Nevěříte?&lt;/p&gt;

&lt;p&gt;Zkuste se na to podívat z jiného úhlu pohledu: &lt;strong&gt;Kód přirozeně
netíhne k tomu být čím dál tím lepší pouhým přidáváním featur
hordou programátorů.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Mně to zní jako jednoduchý přírodní zákon: &lt;strong&gt;Živý kód tíhne
k tomu, stávat se horším, dokud nedojde k záměrnému aplikování síly
proti přirozené potřebě entropie růst.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Legacy code je to, co získáte, pokud nejste odhodlaný přísně aplikovat
dobré zásady při správě kódu.&lt;/p&gt;

&lt;h3 id="toc-dve-spatna-rozhodnuti-se-vzajemne-nekompenzuji-komuluji"&gt;Dvě
špatná rozhodnutí se vzájemně nekompenzují. Komulují!&lt;/h3&gt;

&lt;p&gt;První verze byla pravděpodobně navržená dobře. Šlo to celkem snadno,
před programátorem byl list nepopsaného papíru. :)&lt;/p&gt;

&lt;blockquote&gt;
	&lt;p&gt;Každý dokáže navrhout dobrý kód na zelený louce a udržovat ho po dobu
	tří měsíců. Pouze profesionální vývojář to zvládne i po dobu
	následujících let.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Nekritizujte prvního progrmátora, on možná odvedl velmi slušnou práci.
Jenže jak na chvilku polevíte, začnou se objevovat první nepatrné
částečky legacy kódu. Problém s částečkama legacy kódu je jako
s korálama: mají potřebu se na sebe lepit až z nich nakonec vznikne
nepropustná bariera pevná jako skála, se kterou už nepohnete.&lt;/p&gt;

&lt;p&gt;Zaveďte &lt;strong&gt;dočasnou proměnnou&lt;/strong&gt; a vězte, že další
programátor se bude cítit oprávněn na ní nalepit nějakou funkcionalitu.
Udělejte &lt;strong&gt;copy&amp;amp;paste&lt;/strong&gt; maličké pětiřádkové
funkcionality a čekejte že vaše budoucí já v jedné z těch kopií
změní dva řádky a připraví tak jeho nástupce, kteří se to pokusí
refactorvat, o několik vlasů. Nejspíš to vzdají.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Vynechte unit test&lt;/strong&gt; a vězte, že další team si
pomyslí:&lt;/p&gt;

&lt;blockquote&gt;
	&lt;p&gt;Předchozí programátor si myslel, že pokrýt tuhle funkcionalitu testy je
	příliš nákladné. No, teď to určitě nebude o nic snažší. Takže se na
	to taky vyprdneme.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;A tady to začne chátrat. Taky se tomu taky říká &lt;a
href="http://cs.wikipedia.org/wiki/Teorie_rozbit%C3%A9ho_okna"&gt;teorie rozbitého
okna&lt;/a&gt;…&lt;/p&gt;

&lt;!-- by Texy2! --&gt;</html>
    <raw xml:space="preserve">Dostal jsi nový úkol, implementovat jednoduchou featuru do korporátního projektu. Jenže ten kód byl past vedle pasti.

Produkoval jsi legacy kód, kvůli *Legacy code writerovi*.

Nikdo nepíše legacy code od základu
=======================

Je dost možný, že vám "první díl":[http://rarous.net/weblog/453-legacy-code-writer-part-1.aspx] zněl trochu povědomně. Každý z nás se dost pravděpodobně v podobné situaci ocitl.

Nyní, prosím, zkuste přehodnotit svou víru ve zlého *Legacy code writera*. Myslíte si, že opravdu existuje? Jste si jistí, že pokaždé když narazíte na legacy code, tak k němu existuje mystický můž, který to celé napsal od základu?

Víte čemu věřím já? Že tento muž vůbec neexistuje, že je to jen velice příjemná a pohodlná zástěrka. Není tu žádná taková osoba, která by byla zodpovědná za celej ten bordel. Špatný programátor, Legacy code writer, je jen fiktivní postavou vytvořenou k tomu, aby nám pomohl obhájit naše malé, přetrvávající, hříchy.

Došel jsem k názoru, že **psaní legacy code je distribuovanou aktivitou**. Každý z nás do tohoto vleklého procesu, třeba i nevědomky, přispívá.

Zbytečně nezahazujte čas pátráním, kdo za to může, protože to **my všichni**. Každý z nás!

Legacy code je jako prach
================

Pokud neuklízíte, neustále se usazuje a je jedno jestli se díváte nebo ne.

Každý kus kódu, pokud je spravován více lidmi, tíhne k tomu stávat se špagetami nebo lasagněmi. Entropie má potřebu růst. Je to absolutně přirozený proces.

Nevěříte?

Zkuste se na to podívat z jiného úhlu pohledu: **Kód přirozeně netíhne k tomu být čím dál tím lepší pouhým přidáváním featur hordou programátorů.**

Mně to zní jako jednoduchý přírodní zákon: **Živý kód tíhne k tomu, stávat se horším, dokud nedojde k záměrnému aplikování síly proti přirozené potřebě entropie růst.**

Legacy code je to, co získáte, pokud nejste odhodlaný přísně aplikovat dobré zásady při správě kódu.

Dvě špatná rozhodnutí se vzájemně nekompenzují. Komulují!
======================================

První verze byla pravděpodobně navržená dobře. Šlo to celkem snadno, před programátorem byl list nepopsaného papíru. :)

&gt; Každý dokáže navrhout dobrý kód na zelený louce a udržovat ho po dobu tří měsíců. Pouze profesionální vývojář to zvládne i po dobu následujících let.

Nekritizujte prvního progrmátora, on možná odvedl velmi slušnou práci. Jenže jak na chvilku polevíte, začnou se objevovat první nepatrné částečky legacy kódu. Problém s částečkama legacy kódu je jako s korálama: mají potřebu se na sebe lepit až z nich nakonec vznikne nepropustná bariera pevná jako skála, se kterou už nepohnete.

Zaveďte **dočasnou proměnnou** a vězte, že další programátor se bude cítit oprávněn na ní nalepit nějakou funkcionalitu. Udělejte **copy&amp;paste** maličké pětiřádkové funkcionality a čekejte že vaše budoucí já v jedné z těch kopií změní dva řádky a připraví tak jeho nástupce, kteří se to pokusí refactorvat, o několik vlasů. Nejspíš to vzdají.

**Vynechte unit test** a vězte, že další team si pomyslí:

&gt; Předchozí programátor si myslel, že pokrýt tuhle funkcionalitu testy je příliš nákladné. No, teď to určitě nebude o nic snažší. Takže se na to taky vyprdneme.

A tady to začne chátrat. Taky se tomu taky říká "teorie rozbitého okna":[http://cs.wikipedia.org/wiki/Teorie_rozbit%C3%A9ho_okna]...


</raw>
    <author>Aleš Roubíček</author>
    <published>2013-06-02T11:27:45.663</published>
    <url>legacy-code-writer-part-2</url>
    <category>Moje práce</category>
    <keywords></keywords>
    <tags>#x20;</tags>
    <is-published>1</is-published>
    <edited>2013-06-02T11:37:56.010</edited>
  </article>
</articles>
